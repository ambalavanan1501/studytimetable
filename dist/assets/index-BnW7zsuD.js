var s3=Object.defineProperty;var a3=(t,e,r)=>e in t?s3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Rt=(t,e,r)=>a3(t,typeof e!="symbol"?e+"":e,r);function o3(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var VC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function l3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function u3(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var S5={exports:{}},nf={},k5={exports:{}},wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kc=Symbol.for("react.element"),c3=Symbol.for("react.portal"),d3=Symbol.for("react.fragment"),h3=Symbol.for("react.strict_mode"),f3=Symbol.for("react.profiler"),p3=Symbol.for("react.provider"),m3=Symbol.for("react.context"),g3=Symbol.for("react.forward_ref"),v3=Symbol.for("react.suspense"),y3=Symbol.for("react.memo"),w3=Symbol.for("react.lazy"),r2=Symbol.iterator;function b3(t){return t===null||typeof t!="object"?null:(t=r2&&t[r2]||t["@@iterator"],typeof t=="function"?t:null)}var N5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A5=Object.assign,j5={};function Rl(t,e,r){this.props=t,this.context=e,this.refs=j5,this.updater=r||N5}Rl.prototype.isReactComponent={};Rl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Rl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function E5(){}E5.prototype=Rl.prototype;function t1(t,e,r){this.props=t,this.context=e,this.refs=j5,this.updater=r||N5}var r1=t1.prototype=new E5;r1.constructor=t1;A5(r1,Rl.prototype);r1.isPureReactComponent=!0;var n2=Array.isArray,L5=Object.prototype.hasOwnProperty,n1={current:null},C5={key:!0,ref:!0,__self:!0,__source:!0};function P5(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)L5.call(e,n)&&!C5.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:kc,type:t,key:s,ref:a,props:i,_owner:n1.current}}function x3(t,e){return{$$typeof:kc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function i1(t){return typeof t=="object"&&t!==null&&t.$$typeof===kc}function _3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var i2=/\/+/g;function hp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_3(""+t.key):e.toString(36)}function eh(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case kc:case c3:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+hp(a,0):n,n2(i)?(r="",t!=null&&(r=t.replace(i2,"$&/")+"/"),eh(i,e,r,"",function(u){return u})):i!=null&&(i1(i)&&(i=x3(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(i2,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",n2(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+hp(s,o);a+=eh(s,e,r,l,i)}else if(l=b3(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+hp(s,o++),a+=eh(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function vd(t,e,r){if(t==null)return t;var n=[],i=0;return eh(t,n,"","",function(s){return e.call(r,s,i++)}),n}function S3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pn={current:null},th={transition:null},k3={ReactCurrentDispatcher:pn,ReactCurrentBatchConfig:th,ReactCurrentOwner:n1};function T5(){throw Error("act(...) is not supported in production builds of React.")}wt.Children={map:vd,forEach:function(t,e,r){vd(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return vd(t,function(){e++}),e},toArray:function(t){return vd(t,function(e){return e})||[]},only:function(t){if(!i1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};wt.Component=Rl;wt.Fragment=d3;wt.Profiler=f3;wt.PureComponent=t1;wt.StrictMode=h3;wt.Suspense=v3;wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k3;wt.act=T5;wt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=A5({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=n1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)L5.call(e,l)&&!C5.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:kc,type:t.type,key:i,ref:s,props:n,_owner:a}};wt.createContext=function(t){return t={$$typeof:m3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:p3,_context:t},t.Consumer=t};wt.createElement=P5;wt.createFactory=function(t){var e=P5.bind(null,t);return e.type=t,e};wt.createRef=function(){return{current:null}};wt.forwardRef=function(t){return{$$typeof:g3,render:t}};wt.isValidElement=i1;wt.lazy=function(t){return{$$typeof:w3,_payload:{_status:-1,_result:t},_init:S3}};wt.memo=function(t,e){return{$$typeof:y3,type:t,compare:e===void 0?null:e}};wt.startTransition=function(t){var e=th.transition;th.transition={};try{t()}finally{th.transition=e}};wt.unstable_act=T5;wt.useCallback=function(t,e){return pn.current.useCallback(t,e)};wt.useContext=function(t){return pn.current.useContext(t)};wt.useDebugValue=function(){};wt.useDeferredValue=function(t){return pn.current.useDeferredValue(t)};wt.useEffect=function(t,e){return pn.current.useEffect(t,e)};wt.useId=function(){return pn.current.useId()};wt.useImperativeHandle=function(t,e,r){return pn.current.useImperativeHandle(t,e,r)};wt.useInsertionEffect=function(t,e){return pn.current.useInsertionEffect(t,e)};wt.useLayoutEffect=function(t,e){return pn.current.useLayoutEffect(t,e)};wt.useMemo=function(t,e){return pn.current.useMemo(t,e)};wt.useReducer=function(t,e,r){return pn.current.useReducer(t,e,r)};wt.useRef=function(t){return pn.current.useRef(t)};wt.useState=function(t){return pn.current.useState(t)};wt.useSyncExternalStore=function(t,e,r){return pn.current.useSyncExternalStore(t,e,r)};wt.useTransition=function(){return pn.current.useTransition()};wt.version="18.3.1";k5.exports=wt;var ee=k5.exports;const s1=l3(ee);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N3=ee,A3=Symbol.for("react.element"),j3=Symbol.for("react.fragment"),E3=Object.prototype.hasOwnProperty,L3=N3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,C3={key:!0,ref:!0,__self:!0,__source:!0};function O5(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)E3.call(e,n)&&!C3.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:A3,type:t,key:s,ref:a,props:i,_owner:L3.current}}nf.Fragment=j3;nf.jsx=O5;nf.jsxs=O5;S5.exports=nf;var m=S5.exports,A0={},R5={exports:{}},zn={},I5={exports:{}},D5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,ne){var me=V.length;V.push(ne);e:for(;0<me;){var he=me-1>>>1,C=V[he];if(0<i(C,ne))V[he]=ne,V[me]=C,me=he;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var ne=V[0],me=V.pop();if(me!==ne){V[0]=me;e:for(var he=0,C=V.length,q=C>>>1;he<q;){var W=2*(he+1)-1,X=V[W],te=W+1,ae=V[te];if(0>i(X,me))te<C&&0>i(ae,X)?(V[he]=ae,V[te]=me,he=te):(V[he]=X,V[W]=me,he=W);else if(te<C&&0>i(ae,me))V[he]=ae,V[te]=me,he=te;else break e}}return ne}function i(V,ne){var me=V.sortIndex-ne.sortIndex;return me!==0?me:V.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,p=null,g=3,f=!1,k=!1,S=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(V){for(var ne=r(u);ne!==null;){if(ne.callback===null)n(u);else if(ne.startTime<=V)n(u),ne.sortIndex=ne.expirationTime,e(l,ne);else break;ne=r(u)}}function A(V){if(S=!1,b(V),!k)if(r(l)!==null)k=!0,ce(M);else{var ne=r(u);ne!==null&&de(A,ne.startTime-V)}}function M(V,ne){k=!1,S&&(S=!1,y(F),F=-1),f=!0;var me=g;try{for(b(ne),p=r(l);p!==null&&(!(p.expirationTime>ne)||V&&!T());){var he=p.callback;if(typeof he=="function"){p.callback=null,g=p.priorityLevel;var C=he(p.expirationTime<=ne);ne=t.unstable_now(),typeof C=="function"?p.callback=C:p===r(l)&&n(l),b(ne)}else n(l);p=r(l)}if(p!==null)var q=!0;else{var W=r(u);W!==null&&de(A,W.startTime-ne),q=!1}return q}finally{p=null,g=me,f=!1}}var G=!1,H=null,F=-1,R=5,Y=-1;function T(){return!(t.unstable_now()-Y<R)}function I(){if(H!==null){var V=t.unstable_now();Y=V;var ne=!0;try{ne=H(!0,V)}finally{ne?J():(G=!1,H=null)}}else G=!1}var J;if(typeof _=="function")J=function(){_(I)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ue=K.port2;K.port1.onmessage=I,J=function(){ue.postMessage(null)}}else J=function(){x(I,0)};function ce(V){H=V,G||(G=!0,J())}function de(V,ne){F=x(function(){V(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){k||f||(k=!0,ce(M))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(V){switch(g){case 1:case 2:case 3:var ne=3;break;default:ne=g}var me=g;g=ne;try{return V()}finally{g=me}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,ne){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var me=g;g=V;try{return ne()}finally{g=me}},t.unstable_scheduleCallback=function(V,ne,me){var he=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?he+me:he):me=he,V){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=me+C,V={id:d++,callback:ne,priorityLevel:V,startTime:me,expirationTime:C,sortIndex:-1},me>he?(V.sortIndex=me,e(u,V),r(l)===null&&V===r(u)&&(S?(y(F),F=-1):S=!0,de(A,me-he))):(V.sortIndex=C,e(l,V),k||f||(k=!0,ce(M))),V},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(V){var ne=g;return function(){var me=g;g=ne;try{return V.apply(this,arguments)}finally{g=me}}}})(D5);I5.exports=D5;var P3=I5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T3=ee,Un=P3;function Ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var F5=new Set,Zu={};function So(t,e){Al(t,e),Al(t+"Capture",e)}function Al(t,e){for(Zu[t]=e,t=0;t<e.length;t++)F5.add(e[t])}var js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),j0=Object.prototype.hasOwnProperty,O3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s2={},a2={};function R3(t){return j0.call(a2,t)?!0:j0.call(s2,t)?!1:O3.test(t)?a2[t]=!0:(s2[t]=!0,!1)}function I3(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function D3(t,e,r,n){if(e===null||typeof e>"u"||I3(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mn(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Jr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Jr[t]=new mn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Jr[e]=new mn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Jr[t]=new mn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Jr[t]=new mn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Jr[t]=new mn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Jr[t]=new mn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Jr[t]=new mn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Jr[t]=new mn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Jr[t]=new mn(t,5,!1,t.toLowerCase(),null,!1,!1)});var a1=/[\-:]([a-z])/g;function o1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(a1,o1);Jr[e]=new mn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(a1,o1);Jr[e]=new mn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(a1,o1);Jr[e]=new mn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Jr[t]=new mn(t,1,!1,t.toLowerCase(),null,!1,!1)});Jr.xlinkHref=new mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Jr[t]=new mn(t,1,!1,t.toLowerCase(),null,!0,!0)});function l1(t,e,r,n){var i=Jr.hasOwnProperty(e)?Jr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(D3(e,r,i,n)&&(r=null),n||i===null?R3(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Os=T3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yd=Symbol.for("react.element"),el=Symbol.for("react.portal"),tl=Symbol.for("react.fragment"),u1=Symbol.for("react.strict_mode"),E0=Symbol.for("react.profiler"),M5=Symbol.for("react.provider"),B5=Symbol.for("react.context"),c1=Symbol.for("react.forward_ref"),L0=Symbol.for("react.suspense"),C0=Symbol.for("react.suspense_list"),d1=Symbol.for("react.memo"),aa=Symbol.for("react.lazy"),U5=Symbol.for("react.offscreen"),o2=Symbol.iterator;function bu(t){return t===null||typeof t!="object"?null:(t=o2&&t[o2]||t["@@iterator"],typeof t=="function"?t:null)}var ar=Object.assign,fp;function Ou(t){if(fp===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);fp=e&&e[1]||""}return`
`+fp+t}var pp=!1;function mp(t,e){if(!t||pp)return"";pp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{pp=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ou(t):""}function F3(t){switch(t.tag){case 5:return Ou(t.type);case 16:return Ou("Lazy");case 13:return Ou("Suspense");case 19:return Ou("SuspenseList");case 0:case 2:case 15:return t=mp(t.type,!1),t;case 11:return t=mp(t.type.render,!1),t;case 1:return t=mp(t.type,!0),t;default:return""}}function P0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tl:return"Fragment";case el:return"Portal";case E0:return"Profiler";case u1:return"StrictMode";case L0:return"Suspense";case C0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case B5:return(t.displayName||"Context")+".Consumer";case M5:return(t._context.displayName||"Context")+".Provider";case c1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case d1:return e=t.displayName||null,e!==null?e:P0(t.type)||"Memo";case aa:e=t._payload,t=t._init;try{return P0(t(e))}catch{}}return null}function M3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P0(e);case 8:return e===u1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function z5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function B3(t){var e=z5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wd(t){t._valueTracker||(t._valueTracker=B3(t))}function $5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=z5(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function bh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function T0(t,e){var r=e.checked;return ar({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function l2(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Sa(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function q5(t,e){e=e.checked,e!=null&&l1(t,"checked",e,!1)}function O0(t,e){q5(t,e);var r=Sa(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?R0(t,e.type,r):e.hasOwnProperty("defaultValue")&&R0(t,e.type,Sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function u2(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function R0(t,e,r){(e!=="number"||bh(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ru=Array.isArray;function fl(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Sa(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function I0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ne(91));return ar({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function c2(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Ne(92));if(Ru(r)){if(1<r.length)throw Error(Ne(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Sa(r)}}function W5(t,e){var r=Sa(e.value),n=Sa(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function d2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function H5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function D0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?H5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bd,V5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bd=bd||document.createElement("div"),bd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ec(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Bu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},U3=["Webkit","ms","Moz","O"];Object.keys(Bu).forEach(function(t){U3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bu[e]=Bu[t]})});function G5(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Bu.hasOwnProperty(t)&&Bu[t]?(""+e).trim():e+"px"}function K5(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=G5(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var z3=ar({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function F0(t,e){if(e){if(z3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ne(62))}}function M0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var B0=null;function h1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var U0=null,pl=null,ml=null;function h2(t){if(t=jc(t)){if(typeof U0!="function")throw Error(Ne(280));var e=t.stateNode;e&&(e=uf(e),U0(t.stateNode,t.type,e))}}function J5(t){pl?ml?ml.push(t):ml=[t]:pl=t}function Y5(){if(pl){var t=pl,e=ml;if(ml=pl=null,h2(t),e)for(t=0;t<e.length;t++)h2(e[t])}}function Q5(t,e){return t(e)}function X5(){}var gp=!1;function Z5(t,e,r){if(gp)return t(e,r);gp=!0;try{return Q5(t,e,r)}finally{gp=!1,(pl!==null||ml!==null)&&(X5(),Y5())}}function tc(t,e){var r=t.stateNode;if(r===null)return null;var n=uf(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Ne(231,e,typeof r));return r}var z0=!1;if(js)try{var xu={};Object.defineProperty(xu,"passive",{get:function(){z0=!0}}),window.addEventListener("test",xu,xu),window.removeEventListener("test",xu,xu)}catch{z0=!1}function $3(t,e,r,n,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Uu=!1,xh=null,_h=!1,$0=null,q3={onError:function(t){Uu=!0,xh=t}};function W3(t,e,r,n,i,s,a,o,l){Uu=!1,xh=null,$3.apply(q3,arguments)}function H3(t,e,r,n,i,s,a,o,l){if(W3.apply(this,arguments),Uu){if(Uu){var u=xh;Uu=!1,xh=null}else throw Error(Ne(198));_h||(_h=!0,$0=u)}}function ko(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function ew(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function f2(t){if(ko(t)!==t)throw Error(Ne(188))}function V3(t){var e=t.alternate;if(!e){if(e=ko(t),e===null)throw Error(Ne(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return f2(i),t;if(s===n)return f2(i),e;s=s.sibling}throw Error(Ne(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(Ne(189))}}if(r.alternate!==n)throw Error(Ne(190))}if(r.tag!==3)throw Error(Ne(188));return r.stateNode.current===r?t:e}function tw(t){return t=V3(t),t!==null?rw(t):null}function rw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rw(t);if(e!==null)return e;t=t.sibling}return null}var nw=Un.unstable_scheduleCallback,p2=Un.unstable_cancelCallback,G3=Un.unstable_shouldYield,K3=Un.unstable_requestPaint,vr=Un.unstable_now,J3=Un.unstable_getCurrentPriorityLevel,f1=Un.unstable_ImmediatePriority,iw=Un.unstable_UserBlockingPriority,Sh=Un.unstable_NormalPriority,Y3=Un.unstable_LowPriority,sw=Un.unstable_IdlePriority,sf=null,Gi=null;function Q3(t){if(Gi&&typeof Gi.onCommitFiberRoot=="function")try{Gi.onCommitFiberRoot(sf,t,void 0,(t.current.flags&128)===128)}catch{}}var _i=Math.clz32?Math.clz32:eS,X3=Math.log,Z3=Math.LN2;function eS(t){return t>>>=0,t===0?32:31-(X3(t)/Z3|0)|0}var xd=64,_d=4194304;function Iu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function kh(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=Iu(o):(s&=a,s!==0&&(n=Iu(s)))}else a=r&~i,a!==0?n=Iu(a):s!==0&&(n=Iu(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-_i(e),i=1<<r,n|=t[r],e&=~i;return n}function tS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rS(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-_i(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=tS(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function q0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function aw(){var t=xd;return xd<<=1,!(xd&4194240)&&(xd=64),t}function vp(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Nc(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_i(e),t[e]=r}function nS(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-_i(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function p1(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-_i(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Dt=0;function ow(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var lw,m1,uw,cw,dw,W0=!1,Sd=[],ma=null,ga=null,va=null,rc=new Map,nc=new Map,la=[],iS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function m2(t,e){switch(t){case"focusin":case"focusout":ma=null;break;case"dragenter":case"dragleave":ga=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":rc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":nc.delete(e.pointerId)}}function _u(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=jc(e),e!==null&&m1(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function sS(t,e,r,n,i){switch(e){case"focusin":return ma=_u(ma,t,e,r,n,i),!0;case"dragenter":return ga=_u(ga,t,e,r,n,i),!0;case"mouseover":return va=_u(va,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return rc.set(s,_u(rc.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,nc.set(s,_u(nc.get(s)||null,t,e,r,n,i)),!0}return!1}function hw(t){var e=ao(t.target);if(e!==null){var r=ko(e);if(r!==null){if(e=r.tag,e===13){if(e=ew(r),e!==null){t.blockedOn=e,dw(t.priority,function(){uw(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=H0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);B0=n,r.target.dispatchEvent(n),B0=null}else return e=jc(r),e!==null&&m1(e),t.blockedOn=r,!1;e.shift()}return!0}function g2(t,e,r){rh(t)&&r.delete(e)}function aS(){W0=!1,ma!==null&&rh(ma)&&(ma=null),ga!==null&&rh(ga)&&(ga=null),va!==null&&rh(va)&&(va=null),rc.forEach(g2),nc.forEach(g2)}function Su(t,e){t.blockedOn===e&&(t.blockedOn=null,W0||(W0=!0,Un.unstable_scheduleCallback(Un.unstable_NormalPriority,aS)))}function ic(t){function e(i){return Su(i,t)}if(0<Sd.length){Su(Sd[0],t);for(var r=1;r<Sd.length;r++){var n=Sd[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ma!==null&&Su(ma,t),ga!==null&&Su(ga,t),va!==null&&Su(va,t),rc.forEach(e),nc.forEach(e),r=0;r<la.length;r++)n=la[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<la.length&&(r=la[0],r.blockedOn===null);)hw(r),r.blockedOn===null&&la.shift()}var gl=Os.ReactCurrentBatchConfig,Nh=!0;function oS(t,e,r,n){var i=Dt,s=gl.transition;gl.transition=null;try{Dt=1,g1(t,e,r,n)}finally{Dt=i,gl.transition=s}}function lS(t,e,r,n){var i=Dt,s=gl.transition;gl.transition=null;try{Dt=4,g1(t,e,r,n)}finally{Dt=i,gl.transition=s}}function g1(t,e,r,n){if(Nh){var i=H0(t,e,r,n);if(i===null)jp(t,e,n,Ah,r),m2(t,n);else if(sS(i,t,e,r,n))n.stopPropagation();else if(m2(t,n),e&4&&-1<iS.indexOf(t)){for(;i!==null;){var s=jc(i);if(s!==null&&lw(s),s=H0(t,e,r,n),s===null&&jp(t,e,n,Ah,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else jp(t,e,n,null,r)}}var Ah=null;function H0(t,e,r,n){if(Ah=null,t=h1(n),t=ao(t),t!==null)if(e=ko(t),e===null)t=null;else if(r=e.tag,r===13){if(t=ew(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ah=t,null}function fw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(J3()){case f1:return 1;case iw:return 4;case Sh:case Y3:return 16;case sw:return 536870912;default:return 16}default:return 16}}var da=null,v1=null,nh=null;function pw(){if(nh)return nh;var t,e=v1,r=e.length,n,i="value"in da?da.value:da.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return nh=i.slice(t,1<n?1-n:void 0)}function ih(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kd(){return!0}function v2(){return!1}function $n(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?kd:v2,this.isPropagationStopped=v2,this}return ar(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kd)},persist:function(){},isPersistent:kd}),e}var Il={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},y1=$n(Il),Ac=ar({},Il,{view:0,detail:0}),uS=$n(Ac),yp,wp,ku,af=ar({},Ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:w1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ku&&(ku&&t.type==="mousemove"?(yp=t.screenX-ku.screenX,wp=t.screenY-ku.screenY):wp=yp=0,ku=t),yp)},movementY:function(t){return"movementY"in t?t.movementY:wp}}),y2=$n(af),cS=ar({},af,{dataTransfer:0}),dS=$n(cS),hS=ar({},Ac,{relatedTarget:0}),bp=$n(hS),fS=ar({},Il,{animationName:0,elapsedTime:0,pseudoElement:0}),pS=$n(fS),mS=ar({},Il,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gS=$n(mS),vS=ar({},Il,{data:0}),w2=$n(vS),yS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=bS[t])?!!e[t]:!1}function w1(){return xS}var _S=ar({},Ac,{key:function(t){if(t.key){var e=yS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ih(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:w1,charCode:function(t){return t.type==="keypress"?ih(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ih(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),SS=$n(_S),kS=ar({},af,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b2=$n(kS),NS=ar({},Ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:w1}),AS=$n(NS),jS=ar({},Il,{propertyName:0,elapsedTime:0,pseudoElement:0}),ES=$n(jS),LS=ar({},af,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),CS=$n(LS),PS=[9,13,27,32],b1=js&&"CompositionEvent"in window,zu=null;js&&"documentMode"in document&&(zu=document.documentMode);var TS=js&&"TextEvent"in window&&!zu,mw=js&&(!b1||zu&&8<zu&&11>=zu),x2=" ",_2=!1;function gw(t,e){switch(t){case"keyup":return PS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rl=!1;function OS(t,e){switch(t){case"compositionend":return vw(e);case"keypress":return e.which!==32?null:(_2=!0,x2);case"textInput":return t=e.data,t===x2&&_2?null:t;default:return null}}function RS(t,e){if(rl)return t==="compositionend"||!b1&&gw(t,e)?(t=pw(),nh=v1=da=null,rl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mw&&e.locale!=="ko"?null:e.data;default:return null}}var IS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!IS[t.type]:e==="textarea"}function yw(t,e,r,n){J5(n),e=jh(e,"onChange"),0<e.length&&(r=new y1("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var $u=null,sc=null;function DS(t){Lw(t,0)}function of(t){var e=sl(t);if($5(e))return t}function FS(t,e){if(t==="change")return e}var ww=!1;if(js){var xp;if(js){var _p="oninput"in document;if(!_p){var k2=document.createElement("div");k2.setAttribute("oninput","return;"),_p=typeof k2.oninput=="function"}xp=_p}else xp=!1;ww=xp&&(!document.documentMode||9<document.documentMode)}function N2(){$u&&($u.detachEvent("onpropertychange",bw),sc=$u=null)}function bw(t){if(t.propertyName==="value"&&of(sc)){var e=[];yw(e,sc,t,h1(t)),Z5(DS,e)}}function MS(t,e,r){t==="focusin"?(N2(),$u=e,sc=r,$u.attachEvent("onpropertychange",bw)):t==="focusout"&&N2()}function BS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return of(sc)}function US(t,e){if(t==="click")return of(e)}function zS(t,e){if(t==="input"||t==="change")return of(e)}function $S(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ki=typeof Object.is=="function"?Object.is:$S;function ac(t,e){if(ki(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!j0.call(e,i)||!ki(t[i],e[i]))return!1}return!0}function A2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function j2(t,e){var r=A2(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=A2(r)}}function xw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _w(){for(var t=window,e=bh();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=bh(t.document)}return e}function x1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qS(t){var e=_w(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&xw(r.ownerDocument.documentElement,r)){if(n!==null&&x1(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=j2(r,s);var a=j2(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var WS=js&&"documentMode"in document&&11>=document.documentMode,nl=null,V0=null,qu=null,G0=!1;function E2(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;G0||nl==null||nl!==bh(n)||(n=nl,"selectionStart"in n&&x1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),qu&&ac(qu,n)||(qu=n,n=jh(V0,"onSelect"),0<n.length&&(e=new y1("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=nl)))}function Nd(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var il={animationend:Nd("Animation","AnimationEnd"),animationiteration:Nd("Animation","AnimationIteration"),animationstart:Nd("Animation","AnimationStart"),transitionend:Nd("Transition","TransitionEnd")},Sp={},Sw={};js&&(Sw=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function lf(t){if(Sp[t])return Sp[t];if(!il[t])return t;var e=il[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Sw)return Sp[t]=e[r];return t}var kw=lf("animationend"),Nw=lf("animationiteration"),Aw=lf("animationstart"),jw=lf("transitionend"),Ew=new Map,L2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Aa(t,e){Ew.set(t,e),So(e,[t])}for(var kp=0;kp<L2.length;kp++){var Np=L2[kp],HS=Np.toLowerCase(),VS=Np[0].toUpperCase()+Np.slice(1);Aa(HS,"on"+VS)}Aa(kw,"onAnimationEnd");Aa(Nw,"onAnimationIteration");Aa(Aw,"onAnimationStart");Aa("dblclick","onDoubleClick");Aa("focusin","onFocus");Aa("focusout","onBlur");Aa(jw,"onTransitionEnd");Al("onMouseEnter",["mouseout","mouseover"]);Al("onMouseLeave",["mouseout","mouseover"]);Al("onPointerEnter",["pointerout","pointerover"]);Al("onPointerLeave",["pointerout","pointerover"]);So("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));So("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));So("onBeforeInput",["compositionend","keypress","textInput","paste"]);So("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));So("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));So("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Du));function C2(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,H3(n,e,void 0,t),t.currentTarget=null}function Lw(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;C2(i,o,u),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;C2(i,o,u),s=l}}}if(_h)throw t=$0,_h=!1,$0=null,t}function Kt(t,e){var r=e[X0];r===void 0&&(r=e[X0]=new Set);var n=t+"__bubble";r.has(n)||(Cw(e,t,2,!1),r.add(n))}function Ap(t,e,r){var n=0;e&&(n|=4),Cw(r,t,n,e)}var Ad="_reactListening"+Math.random().toString(36).slice(2);function oc(t){if(!t[Ad]){t[Ad]=!0,F5.forEach(function(r){r!=="selectionchange"&&(GS.has(r)||Ap(r,!1,t),Ap(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ad]||(e[Ad]=!0,Ap("selectionchange",!1,e))}}function Cw(t,e,r,n){switch(fw(e)){case 1:var i=oS;break;case 4:i=lS;break;default:i=g1}r=i.bind(null,e,r,t),i=void 0,!z0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function jp(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=ao(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}Z5(function(){var u=s,d=h1(r),p=[];e:{var g=Ew.get(t);if(g!==void 0){var f=y1,k=t;switch(t){case"keypress":if(ih(r)===0)break e;case"keydown":case"keyup":f=SS;break;case"focusin":k="focus",f=bp;break;case"focusout":k="blur",f=bp;break;case"beforeblur":case"afterblur":f=bp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=y2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=dS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=AS;break;case kw:case Nw:case Aw:f=pS;break;case jw:f=ES;break;case"scroll":f=uS;break;case"wheel":f=CS;break;case"copy":case"cut":case"paste":f=gS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=b2}var S=(e&4)!==0,x=!S&&t==="scroll",y=S?g!==null?g+"Capture":null:g;S=[];for(var _=u,b;_!==null;){b=_;var A=b.stateNode;if(b.tag===5&&A!==null&&(b=A,y!==null&&(A=tc(_,y),A!=null&&S.push(lc(_,A,b)))),x)break;_=_.return}0<S.length&&(g=new f(g,k,null,r,d),p.push({event:g,listeners:S}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",g&&r!==B0&&(k=r.relatedTarget||r.fromElement)&&(ao(k)||k[Es]))break e;if((f||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,f?(k=r.relatedTarget||r.toElement,f=u,k=k?ao(k):null,k!==null&&(x=ko(k),k!==x||k.tag!==5&&k.tag!==6)&&(k=null)):(f=null,k=u),f!==k)){if(S=y2,A="onMouseLeave",y="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(S=b2,A="onPointerLeave",y="onPointerEnter",_="pointer"),x=f==null?g:sl(f),b=k==null?g:sl(k),g=new S(A,_+"leave",f,r,d),g.target=x,g.relatedTarget=b,A=null,ao(d)===u&&(S=new S(y,_+"enter",k,r,d),S.target=b,S.relatedTarget=x,A=S),x=A,f&&k)t:{for(S=f,y=k,_=0,b=S;b;b=Uo(b))_++;for(b=0,A=y;A;A=Uo(A))b++;for(;0<_-b;)S=Uo(S),_--;for(;0<b-_;)y=Uo(y),b--;for(;_--;){if(S===y||y!==null&&S===y.alternate)break t;S=Uo(S),y=Uo(y)}S=null}else S=null;f!==null&&P2(p,g,f,S,!1),k!==null&&x!==null&&P2(p,x,k,S,!0)}}e:{if(g=u?sl(u):window,f=g.nodeName&&g.nodeName.toLowerCase(),f==="select"||f==="input"&&g.type==="file")var M=FS;else if(S2(g))if(ww)M=zS;else{M=BS;var G=MS}else(f=g.nodeName)&&f.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(M=US);if(M&&(M=M(t,u))){yw(p,M,r,d);break e}G&&G(t,g,u),t==="focusout"&&(G=g._wrapperState)&&G.controlled&&g.type==="number"&&R0(g,"number",g.value)}switch(G=u?sl(u):window,t){case"focusin":(S2(G)||G.contentEditable==="true")&&(nl=G,V0=u,qu=null);break;case"focusout":qu=V0=nl=null;break;case"mousedown":G0=!0;break;case"contextmenu":case"mouseup":case"dragend":G0=!1,E2(p,r,d);break;case"selectionchange":if(WS)break;case"keydown":case"keyup":E2(p,r,d)}var H;if(b1)e:{switch(t){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else rl?gw(t,r)&&(F="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(F="onCompositionStart");F&&(mw&&r.locale!=="ko"&&(rl||F!=="onCompositionStart"?F==="onCompositionEnd"&&rl&&(H=pw()):(da=d,v1="value"in da?da.value:da.textContent,rl=!0)),G=jh(u,F),0<G.length&&(F=new w2(F,t,null,r,d),p.push({event:F,listeners:G}),H?F.data=H:(H=vw(r),H!==null&&(F.data=H)))),(H=TS?OS(t,r):RS(t,r))&&(u=jh(u,"onBeforeInput"),0<u.length&&(d=new w2("onBeforeInput","beforeinput",null,r,d),p.push({event:d,listeners:u}),d.data=H))}Lw(p,e)})}function lc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function jh(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=tc(t,r),s!=null&&n.unshift(lc(t,s,i)),s=tc(t,e),s!=null&&n.push(lc(t,s,i))),t=t.return}return n}function Uo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function P2(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=tc(r,s),l!=null&&a.unshift(lc(r,l,o))):i||(l=tc(r,s),l!=null&&a.push(lc(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var KS=/\r\n?/g,JS=/\u0000|\uFFFD/g;function T2(t){return(typeof t=="string"?t:""+t).replace(KS,`
`).replace(JS,"")}function jd(t,e,r){if(e=T2(e),T2(t)!==e&&r)throw Error(Ne(425))}function Eh(){}var K0=null,J0=null;function Y0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Q0=typeof setTimeout=="function"?setTimeout:void 0,YS=typeof clearTimeout=="function"?clearTimeout:void 0,O2=typeof Promise=="function"?Promise:void 0,QS=typeof queueMicrotask=="function"?queueMicrotask:typeof O2<"u"?function(t){return O2.resolve(null).then(t).catch(XS)}:Q0;function XS(t){setTimeout(function(){throw t})}function Ep(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),ic(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ic(e)}function ya(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function R2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Dl=Math.random().toString(36).slice(2),Hi="__reactFiber$"+Dl,uc="__reactProps$"+Dl,Es="__reactContainer$"+Dl,X0="__reactEvents$"+Dl,ZS="__reactListeners$"+Dl,e6="__reactHandles$"+Dl;function ao(t){var e=t[Hi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Es]||r[Hi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=R2(t);t!==null;){if(r=t[Hi])return r;t=R2(t)}return e}t=r,r=t.parentNode}return null}function jc(t){return t=t[Hi]||t[Es],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function sl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ne(33))}function uf(t){return t[uc]||null}var Z0=[],al=-1;function ja(t){return{current:t}}function Yt(t){0>al||(t.current=Z0[al],Z0[al]=null,al--)}function Ht(t,e){al++,Z0[al]=t.current,t.current=e}var ka={},an=ja(ka),bn=ja(!1),mo=ka;function jl(t,e){var r=t.type.contextTypes;if(!r)return ka;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xn(t){return t=t.childContextTypes,t!=null}function Lh(){Yt(bn),Yt(an)}function I2(t,e,r){if(an.current!==ka)throw Error(Ne(168));Ht(an,e),Ht(bn,r)}function Pw(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Ne(108,M3(t)||"Unknown",i));return ar({},r,n)}function Ch(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ka,mo=an.current,Ht(an,t),Ht(bn,bn.current),!0}function D2(t,e,r){var n=t.stateNode;if(!n)throw Error(Ne(169));r?(t=Pw(t,e,mo),n.__reactInternalMemoizedMergedChildContext=t,Yt(bn),Yt(an),Ht(an,t)):Yt(bn),Ht(bn,r)}var bs=null,cf=!1,Lp=!1;function Tw(t){bs===null?bs=[t]:bs.push(t)}function t6(t){cf=!0,Tw(t)}function Ea(){if(!Lp&&bs!==null){Lp=!0;var t=0,e=Dt;try{var r=bs;for(Dt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}bs=null,cf=!1}catch(i){throw bs!==null&&(bs=bs.slice(t+1)),nw(f1,Ea),i}finally{Dt=e,Lp=!1}}return null}var ol=[],ll=0,Ph=null,Th=0,Xn=[],Zn=0,go=null,_s=1,Ss="";function Ya(t,e){ol[ll++]=Th,ol[ll++]=Ph,Ph=t,Th=e}function Ow(t,e,r){Xn[Zn++]=_s,Xn[Zn++]=Ss,Xn[Zn++]=go,go=t;var n=_s;t=Ss;var i=32-_i(n)-1;n&=~(1<<i),r+=1;var s=32-_i(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,_s=1<<32-_i(e)+i|r<<i|n,Ss=s+t}else _s=1<<s|r<<i|n,Ss=t}function _1(t){t.return!==null&&(Ya(t,1),Ow(t,1,0))}function S1(t){for(;t===Ph;)Ph=ol[--ll],ol[ll]=null,Th=ol[--ll],ol[ll]=null;for(;t===go;)go=Xn[--Zn],Xn[Zn]=null,Ss=Xn[--Zn],Xn[Zn]=null,_s=Xn[--Zn],Xn[Zn]=null}var Bn=null,Fn=null,er=!1,xi=null;function Rw(t,e){var r=ei(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function F2(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bn=t,Fn=ya(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bn=t,Fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=go!==null?{id:_s,overflow:Ss}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ei(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Bn=t,Fn=null,!0):!1;default:return!1}}function em(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tm(t){if(er){var e=Fn;if(e){var r=e;if(!F2(t,e)){if(em(t))throw Error(Ne(418));e=ya(r.nextSibling);var n=Bn;e&&F2(t,e)?Rw(n,r):(t.flags=t.flags&-4097|2,er=!1,Bn=t)}}else{if(em(t))throw Error(Ne(418));t.flags=t.flags&-4097|2,er=!1,Bn=t}}}function M2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bn=t}function Ed(t){if(t!==Bn)return!1;if(!er)return M2(t),er=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Y0(t.type,t.memoizedProps)),e&&(e=Fn)){if(em(t))throw Iw(),Error(Ne(418));for(;e;)Rw(t,e),e=ya(e.nextSibling)}if(M2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Fn=ya(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Fn=null}}else Fn=Bn?ya(t.stateNode.nextSibling):null;return!0}function Iw(){for(var t=Fn;t;)t=ya(t.nextSibling)}function El(){Fn=Bn=null,er=!1}function k1(t){xi===null?xi=[t]:xi.push(t)}var r6=Os.ReactCurrentBatchConfig;function Nu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ne(309));var n=r.stateNode}if(!n)throw Error(Ne(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ne(284));if(!r._owner)throw Error(Ne(290,t))}return t}function Ld(t,e){throw t=Object.prototype.toString.call(e),Error(Ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function B2(t){var e=t._init;return e(t._payload)}function Dw(t){function e(y,_){if(t){var b=y.deletions;b===null?(y.deletions=[_],y.flags|=16):b.push(_)}}function r(y,_){if(!t)return null;for(;_!==null;)e(y,_),_=_.sibling;return null}function n(y,_){for(y=new Map;_!==null;)_.key!==null?y.set(_.key,_):y.set(_.index,_),_=_.sibling;return y}function i(y,_){return y=_a(y,_),y.index=0,y.sibling=null,y}function s(y,_,b){return y.index=b,t?(b=y.alternate,b!==null?(b=b.index,b<_?(y.flags|=2,_):b):(y.flags|=2,_)):(y.flags|=1048576,_)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,_,b,A){return _===null||_.tag!==6?(_=Dp(b,y.mode,A),_.return=y,_):(_=i(_,b),_.return=y,_)}function l(y,_,b,A){var M=b.type;return M===tl?d(y,_,b.props.children,A,b.key):_!==null&&(_.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===aa&&B2(M)===_.type)?(A=i(_,b.props),A.ref=Nu(y,_,b),A.return=y,A):(A=dh(b.type,b.key,b.props,null,y.mode,A),A.ref=Nu(y,_,b),A.return=y,A)}function u(y,_,b,A){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=Fp(b,y.mode,A),_.return=y,_):(_=i(_,b.children||[]),_.return=y,_)}function d(y,_,b,A,M){return _===null||_.tag!==7?(_=ho(b,y.mode,A,M),_.return=y,_):(_=i(_,b),_.return=y,_)}function p(y,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Dp(""+_,y.mode,b),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case yd:return b=dh(_.type,_.key,_.props,null,y.mode,b),b.ref=Nu(y,null,_),b.return=y,b;case el:return _=Fp(_,y.mode,b),_.return=y,_;case aa:var A=_._init;return p(y,A(_._payload),b)}if(Ru(_)||bu(_))return _=ho(_,y.mode,b,null),_.return=y,_;Ld(y,_)}return null}function g(y,_,b,A){var M=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return M!==null?null:o(y,_,""+b,A);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case yd:return b.key===M?l(y,_,b,A):null;case el:return b.key===M?u(y,_,b,A):null;case aa:return M=b._init,g(y,_,M(b._payload),A)}if(Ru(b)||bu(b))return M!==null?null:d(y,_,b,A,null);Ld(y,b)}return null}function f(y,_,b,A,M){if(typeof A=="string"&&A!==""||typeof A=="number")return y=y.get(b)||null,o(_,y,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case yd:return y=y.get(A.key===null?b:A.key)||null,l(_,y,A,M);case el:return y=y.get(A.key===null?b:A.key)||null,u(_,y,A,M);case aa:var G=A._init;return f(y,_,b,G(A._payload),M)}if(Ru(A)||bu(A))return y=y.get(b)||null,d(_,y,A,M,null);Ld(_,A)}return null}function k(y,_,b,A){for(var M=null,G=null,H=_,F=_=0,R=null;H!==null&&F<b.length;F++){H.index>F?(R=H,H=null):R=H.sibling;var Y=g(y,H,b[F],A);if(Y===null){H===null&&(H=R);break}t&&H&&Y.alternate===null&&e(y,H),_=s(Y,_,F),G===null?M=Y:G.sibling=Y,G=Y,H=R}if(F===b.length)return r(y,H),er&&Ya(y,F),M;if(H===null){for(;F<b.length;F++)H=p(y,b[F],A),H!==null&&(_=s(H,_,F),G===null?M=H:G.sibling=H,G=H);return er&&Ya(y,F),M}for(H=n(y,H);F<b.length;F++)R=f(H,y,F,b[F],A),R!==null&&(t&&R.alternate!==null&&H.delete(R.key===null?F:R.key),_=s(R,_,F),G===null?M=R:G.sibling=R,G=R);return t&&H.forEach(function(T){return e(y,T)}),er&&Ya(y,F),M}function S(y,_,b,A){var M=bu(b);if(typeof M!="function")throw Error(Ne(150));if(b=M.call(b),b==null)throw Error(Ne(151));for(var G=M=null,H=_,F=_=0,R=null,Y=b.next();H!==null&&!Y.done;F++,Y=b.next()){H.index>F?(R=H,H=null):R=H.sibling;var T=g(y,H,Y.value,A);if(T===null){H===null&&(H=R);break}t&&H&&T.alternate===null&&e(y,H),_=s(T,_,F),G===null?M=T:G.sibling=T,G=T,H=R}if(Y.done)return r(y,H),er&&Ya(y,F),M;if(H===null){for(;!Y.done;F++,Y=b.next())Y=p(y,Y.value,A),Y!==null&&(_=s(Y,_,F),G===null?M=Y:G.sibling=Y,G=Y);return er&&Ya(y,F),M}for(H=n(y,H);!Y.done;F++,Y=b.next())Y=f(H,y,F,Y.value,A),Y!==null&&(t&&Y.alternate!==null&&H.delete(Y.key===null?F:Y.key),_=s(Y,_,F),G===null?M=Y:G.sibling=Y,G=Y);return t&&H.forEach(function(I){return e(y,I)}),er&&Ya(y,F),M}function x(y,_,b,A){if(typeof b=="object"&&b!==null&&b.type===tl&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case yd:e:{for(var M=b.key,G=_;G!==null;){if(G.key===M){if(M=b.type,M===tl){if(G.tag===7){r(y,G.sibling),_=i(G,b.props.children),_.return=y,y=_;break e}}else if(G.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===aa&&B2(M)===G.type){r(y,G.sibling),_=i(G,b.props),_.ref=Nu(y,G,b),_.return=y,y=_;break e}r(y,G);break}else e(y,G);G=G.sibling}b.type===tl?(_=ho(b.props.children,y.mode,A,b.key),_.return=y,y=_):(A=dh(b.type,b.key,b.props,null,y.mode,A),A.ref=Nu(y,_,b),A.return=y,y=A)}return a(y);case el:e:{for(G=b.key;_!==null;){if(_.key===G)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){r(y,_.sibling),_=i(_,b.children||[]),_.return=y,y=_;break e}else{r(y,_);break}else e(y,_);_=_.sibling}_=Fp(b,y.mode,A),_.return=y,y=_}return a(y);case aa:return G=b._init,x(y,_,G(b._payload),A)}if(Ru(b))return k(y,_,b,A);if(bu(b))return S(y,_,b,A);Ld(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(r(y,_.sibling),_=i(_,b),_.return=y,y=_):(r(y,_),_=Dp(b,y.mode,A),_.return=y,y=_),a(y)):r(y,_)}return x}var Ll=Dw(!0),Fw=Dw(!1),Oh=ja(null),Rh=null,ul=null,N1=null;function A1(){N1=ul=Rh=null}function j1(t){var e=Oh.current;Yt(Oh),t._currentValue=e}function rm(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function vl(t,e){Rh=t,N1=ul=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wn=!0),t.firstContext=null)}function ri(t){var e=t._currentValue;if(N1!==t)if(t={context:t,memoizedValue:e,next:null},ul===null){if(Rh===null)throw Error(Ne(308));ul=t,Rh.dependencies={lanes:0,firstContext:t}}else ul=ul.next=t;return e}var oo=null;function E1(t){oo===null?oo=[t]:oo.push(t)}function Mw(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,E1(e)):(r.next=i.next,i.next=r),e.interleaved=r,Ls(t,n)}function Ls(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var oa=!1;function L1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ns(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wa(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Et&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ls(t,r)}return i=n.interleaved,i===null?(e.next=e,E1(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ls(t,r)}function sh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,p1(t,r)}}function U2(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Ih(t,e,r,n){var i=t.updateQueue;oa=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;a=0,d=u=l=null,o=s;do{var g=o.lane,f=o.eventTime;if((n&g)===g){d!==null&&(d=d.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var k=t,S=o;switch(g=e,f=r,S.tag){case 1:if(k=S.payload,typeof k=="function"){p=k.call(f,p,g);break e}p=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=S.payload,g=typeof k=="function"?k.call(f,p,g):k,g==null)break e;p=ar({},p,g);break e;case 2:oa=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[o]:g.push(o))}else f={eventTime:f,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=f,l=p):d=d.next=f,a|=g;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;g=o,o=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(d===null&&(l=p),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);yo|=a,t.lanes=a,t.memoizedState=p}}function z2(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Ne(191,i));i.call(n)}}}var Ec={},Ki=ja(Ec),cc=ja(Ec),dc=ja(Ec);function lo(t){if(t===Ec)throw Error(Ne(174));return t}function C1(t,e){switch(Ht(dc,e),Ht(cc,t),Ht(Ki,Ec),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:D0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=D0(e,t)}Yt(Ki),Ht(Ki,e)}function Cl(){Yt(Ki),Yt(cc),Yt(dc)}function Uw(t){lo(dc.current);var e=lo(Ki.current),r=D0(e,t.type);e!==r&&(Ht(cc,t),Ht(Ki,r))}function P1(t){cc.current===t&&(Yt(Ki),Yt(cc))}var ir=ja(0);function Dh(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Cp=[];function T1(){for(var t=0;t<Cp.length;t++)Cp[t]._workInProgressVersionPrimary=null;Cp.length=0}var ah=Os.ReactCurrentDispatcher,Pp=Os.ReactCurrentBatchConfig,vo=0,sr=null,Rr=null,Fr=null,Fh=!1,Wu=!1,hc=0,n6=0;function Xr(){throw Error(Ne(321))}function O1(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ki(t[r],e[r]))return!1;return!0}function R1(t,e,r,n,i,s){if(vo=s,sr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ah.current=t===null||t.memoizedState===null?o6:l6,t=r(n,i),Wu){s=0;do{if(Wu=!1,hc=0,25<=s)throw Error(Ne(301));s+=1,Fr=Rr=null,e.updateQueue=null,ah.current=u6,t=r(n,i)}while(Wu)}if(ah.current=Mh,e=Rr!==null&&Rr.next!==null,vo=0,Fr=Rr=sr=null,Fh=!1,e)throw Error(Ne(300));return t}function I1(){var t=hc!==0;return hc=0,t}function Wi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fr===null?sr.memoizedState=Fr=t:Fr=Fr.next=t,Fr}function ni(){if(Rr===null){var t=sr.alternate;t=t!==null?t.memoizedState:null}else t=Rr.next;var e=Fr===null?sr.memoizedState:Fr.next;if(e!==null)Fr=e,Rr=t;else{if(t===null)throw Error(Ne(310));Rr=t,t={memoizedState:Rr.memoizedState,baseState:Rr.baseState,baseQueue:Rr.baseQueue,queue:Rr.queue,next:null},Fr===null?sr.memoizedState=Fr=t:Fr=Fr.next=t}return Fr}function fc(t,e){return typeof e=="function"?e(t):e}function Tp(t){var e=ni(),r=e.queue;if(r===null)throw Error(Ne(311));r.lastRenderedReducer=t;var n=Rr,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,u=s;do{var d=u.lane;if((vo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=p,a=n):l=l.next=p,sr.lanes|=d,yo|=d}u=u.next}while(u!==null&&u!==s);l===null?a=n:l.next=o,ki(n,e.memoizedState)||(wn=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,sr.lanes|=s,yo|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Op(t){var e=ni(),r=e.queue;if(r===null)throw Error(Ne(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);ki(s,e.memoizedState)||(wn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function zw(){}function $w(t,e){var r=sr,n=ni(),i=e(),s=!ki(n.memoizedState,i);if(s&&(n.memoizedState=i,wn=!0),n=n.queue,D1(Hw.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Fr!==null&&Fr.memoizedState.tag&1){if(r.flags|=2048,pc(9,Ww.bind(null,r,n,i,e),void 0,null),Br===null)throw Error(Ne(349));vo&30||qw(r,e,i)}return i}function qw(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=sr.updateQueue,e===null?(e={lastEffect:null,stores:null},sr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Ww(t,e,r,n){e.value=r,e.getSnapshot=n,Vw(e)&&Gw(t)}function Hw(t,e,r){return r(function(){Vw(e)&&Gw(t)})}function Vw(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ki(t,r)}catch{return!0}}function Gw(t){var e=Ls(t,1);e!==null&&Si(e,t,1,-1)}function $2(t){var e=Wi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fc,lastRenderedState:t},e.queue=t,t=t.dispatch=a6.bind(null,sr,t),[e.memoizedState,t]}function pc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=sr.updateQueue,e===null?(e={lastEffect:null,stores:null},sr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Kw(){return ni().memoizedState}function oh(t,e,r,n){var i=Wi();sr.flags|=t,i.memoizedState=pc(1|e,r,void 0,n===void 0?null:n)}function df(t,e,r,n){var i=ni();n=n===void 0?null:n;var s=void 0;if(Rr!==null){var a=Rr.memoizedState;if(s=a.destroy,n!==null&&O1(n,a.deps)){i.memoizedState=pc(e,r,s,n);return}}sr.flags|=t,i.memoizedState=pc(1|e,r,s,n)}function q2(t,e){return oh(8390656,8,t,e)}function D1(t,e){return df(2048,8,t,e)}function Jw(t,e){return df(4,2,t,e)}function Yw(t,e){return df(4,4,t,e)}function Qw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Xw(t,e,r){return r=r!=null?r.concat([t]):null,df(4,4,Qw.bind(null,e,t),r)}function F1(){}function Zw(t,e){var r=ni();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&O1(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function eb(t,e){var r=ni();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&O1(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function tb(t,e,r){return vo&21?(ki(r,e)||(r=aw(),sr.lanes|=r,yo|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wn=!0),t.memoizedState=r)}function i6(t,e){var r=Dt;Dt=r!==0&&4>r?r:4,t(!0);var n=Pp.transition;Pp.transition={};try{t(!1),e()}finally{Dt=r,Pp.transition=n}}function rb(){return ni().memoizedState}function s6(t,e,r){var n=xa(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},nb(t))ib(e,r);else if(r=Mw(t,e,r,n),r!==null){var i=fn();Si(r,t,n,i),sb(r,e,n)}}function a6(t,e,r){var n=xa(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(nb(t))ib(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,ki(o,a)){var l=e.interleaved;l===null?(i.next=i,E1(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=Mw(t,e,i,n),r!==null&&(i=fn(),Si(r,t,n,i),sb(r,e,n))}}function nb(t){var e=t.alternate;return t===sr||e!==null&&e===sr}function ib(t,e){Wu=Fh=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function sb(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,p1(t,r)}}var Mh={readContext:ri,useCallback:Xr,useContext:Xr,useEffect:Xr,useImperativeHandle:Xr,useInsertionEffect:Xr,useLayoutEffect:Xr,useMemo:Xr,useReducer:Xr,useRef:Xr,useState:Xr,useDebugValue:Xr,useDeferredValue:Xr,useTransition:Xr,useMutableSource:Xr,useSyncExternalStore:Xr,useId:Xr,unstable_isNewReconciler:!1},o6={readContext:ri,useCallback:function(t,e){return Wi().memoizedState=[t,e===void 0?null:e],t},useContext:ri,useEffect:q2,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,oh(4194308,4,Qw.bind(null,e,t),r)},useLayoutEffect:function(t,e){return oh(4194308,4,t,e)},useInsertionEffect:function(t,e){return oh(4,2,t,e)},useMemo:function(t,e){var r=Wi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Wi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=s6.bind(null,sr,t),[n.memoizedState,t]},useRef:function(t){var e=Wi();return t={current:t},e.memoizedState=t},useState:$2,useDebugValue:F1,useDeferredValue:function(t){return Wi().memoizedState=t},useTransition:function(){var t=$2(!1),e=t[0];return t=i6.bind(null,t[1]),Wi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=sr,i=Wi();if(er){if(r===void 0)throw Error(Ne(407));r=r()}else{if(r=e(),Br===null)throw Error(Ne(349));vo&30||qw(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,q2(Hw.bind(null,n,s,t),[t]),n.flags|=2048,pc(9,Ww.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Wi(),e=Br.identifierPrefix;if(er){var r=Ss,n=_s;r=(n&~(1<<32-_i(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=hc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=n6++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},l6={readContext:ri,useCallback:Zw,useContext:ri,useEffect:D1,useImperativeHandle:Xw,useInsertionEffect:Jw,useLayoutEffect:Yw,useMemo:eb,useReducer:Tp,useRef:Kw,useState:function(){return Tp(fc)},useDebugValue:F1,useDeferredValue:function(t){var e=ni();return tb(e,Rr.memoizedState,t)},useTransition:function(){var t=Tp(fc)[0],e=ni().memoizedState;return[t,e]},useMutableSource:zw,useSyncExternalStore:$w,useId:rb,unstable_isNewReconciler:!1},u6={readContext:ri,useCallback:Zw,useContext:ri,useEffect:D1,useImperativeHandle:Xw,useInsertionEffect:Jw,useLayoutEffect:Yw,useMemo:eb,useReducer:Op,useRef:Kw,useState:function(){return Op(fc)},useDebugValue:F1,useDeferredValue:function(t){var e=ni();return Rr===null?e.memoizedState=t:tb(e,Rr.memoizedState,t)},useTransition:function(){var t=Op(fc)[0],e=ni().memoizedState;return[t,e]},useMutableSource:zw,useSyncExternalStore:$w,useId:rb,unstable_isNewReconciler:!1};function vi(t,e){if(t&&t.defaultProps){e=ar({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function nm(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ar({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var hf={isMounted:function(t){return(t=t._reactInternals)?ko(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=fn(),i=xa(t),s=Ns(n,i);s.payload=e,r!=null&&(s.callback=r),e=wa(t,s,i),e!==null&&(Si(e,t,i,n),sh(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=fn(),i=xa(t),s=Ns(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=wa(t,s,i),e!==null&&(Si(e,t,i,n),sh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=fn(),n=xa(t),i=Ns(r,n);i.tag=2,e!=null&&(i.callback=e),e=wa(t,i,n),e!==null&&(Si(e,t,n,r),sh(e,t,n))}};function W2(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!ac(r,n)||!ac(i,s):!0}function ab(t,e,r){var n=!1,i=ka,s=e.contextType;return typeof s=="object"&&s!==null?s=ri(s):(i=xn(e)?mo:an.current,n=e.contextTypes,s=(n=n!=null)?jl(t,i):ka),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hf,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function H2(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&hf.enqueueReplaceState(e,e.state,null)}function im(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},L1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ri(s):(s=xn(e)?mo:an.current,i.context=jl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(nm(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&hf.enqueueReplaceState(i,i.state,null),Ih(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Pl(t,e){try{var r="",n=e;do r+=F3(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Rp(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function sm(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var c6=typeof WeakMap=="function"?WeakMap:Map;function ob(t,e,r){r=Ns(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Uh||(Uh=!0,mm=n),sm(t,e)},r}function lb(t,e,r){r=Ns(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){sm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){sm(t,e),typeof n!="function"&&(ba===null?ba=new Set([this]):ba.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function V2(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new c6;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=k6.bind(null,t,e,r),e.then(t,t))}function G2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function K2(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ns(-1,1),e.tag=2,wa(r,e,1))),r.lanes|=1),t)}var d6=Os.ReactCurrentOwner,wn=!1;function dn(t,e,r,n){e.child=t===null?Fw(e,null,r,n):Ll(e,t.child,r,n)}function J2(t,e,r,n,i){r=r.render;var s=e.ref;return vl(e,i),n=R1(t,e,r,n,s,i),r=I1(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Cs(t,e,i)):(er&&r&&_1(e),e.flags|=1,dn(t,e,n,i),e.child)}function Y2(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!H1(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,ub(t,e,s,n,i)):(t=dh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:ac,r(a,n)&&t.ref===e.ref)return Cs(t,e,i)}return e.flags|=1,t=_a(s,n),t.ref=e.ref,t.return=e,e.child=t}function ub(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(ac(s,n)&&t.ref===e.ref)if(wn=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(wn=!0);else return e.lanes=t.lanes,Cs(t,e,i)}return am(t,e,r,n,i)}function cb(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ht(dl,Rn),Rn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ht(dl,Rn),Rn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Ht(dl,Rn),Rn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Ht(dl,Rn),Rn|=n;return dn(t,e,i,r),e.child}function db(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function am(t,e,r,n,i){var s=xn(r)?mo:an.current;return s=jl(e,s),vl(e,i),r=R1(t,e,r,n,s,i),n=I1(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Cs(t,e,i)):(er&&n&&_1(e),e.flags|=1,dn(t,e,r,i),e.child)}function Q2(t,e,r,n,i){if(xn(r)){var s=!0;Ch(e)}else s=!1;if(vl(e,i),e.stateNode===null)lh(t,e),ab(e,r,n),im(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=ri(u):(u=xn(r)?mo:an.current,u=jl(e,u));var d=r.getDerivedStateFromProps,p=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&H2(e,a,n,u),oa=!1;var g=e.memoizedState;a.state=g,Ih(e,n,a,i),l=e.memoizedState,o!==n||g!==l||bn.current||oa?(typeof d=="function"&&(nm(e,r,d,n),l=e.memoizedState),(o=oa||W2(e,r,o,n,g,l,u))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Bw(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:vi(e.type,o),a.props=u,p=e.pendingProps,g=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=ri(l):(l=xn(r)?mo:an.current,l=jl(e,l));var f=r.getDerivedStateFromProps;(d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==p||g!==l)&&H2(e,a,n,l),oa=!1,g=e.memoizedState,a.state=g,Ih(e,n,a,i);var k=e.memoizedState;o!==p||g!==k||bn.current||oa?(typeof f=="function"&&(nm(e,r,f,n),k=e.memoizedState),(u=oa||W2(e,r,u,n,g,k,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,k,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,k,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=k),a.props=n,a.state=k,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),n=!1)}return om(t,e,r,n,s,i)}function om(t,e,r,n,i,s){db(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&D2(e,r,!1),Cs(t,e,s);n=e.stateNode,d6.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Ll(e,t.child,null,s),e.child=Ll(e,null,o,s)):dn(t,e,o,s),e.memoizedState=n.state,i&&D2(e,r,!0),e.child}function hb(t){var e=t.stateNode;e.pendingContext?I2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&I2(t,e.context,!1),C1(t,e.containerInfo)}function X2(t,e,r,n,i){return El(),k1(i),e.flags|=256,dn(t,e,r,n),e.child}var lm={dehydrated:null,treeContext:null,retryLane:0};function um(t){return{baseLanes:t,cachePool:null,transitions:null}}function fb(t,e,r){var n=e.pendingProps,i=ir.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ht(ir,i&1),t===null)return tm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=mf(a,n,0,null),t=ho(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=um(r),e.memoizedState=lm,t):M1(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return h6(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=_a(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=_a(o,s):(s=ho(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?um(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=lm,n}return s=t.child,t=s.sibling,n=_a(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function M1(t,e){return e=mf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Cd(t,e,r,n){return n!==null&&k1(n),Ll(e,t.child,null,r),t=M1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function h6(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=Rp(Error(Ne(422))),Cd(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=mf({mode:"visible",children:n.children},i,0,null),s=ho(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Ll(e,t.child,null,a),e.child.memoizedState=um(a),e.memoizedState=lm,s);if(!(e.mode&1))return Cd(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(Ne(419)),n=Rp(s,n,void 0),Cd(t,e,a,n)}if(o=(a&t.childLanes)!==0,wn||o){if(n=Br,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ls(t,i),Si(n,t,i,-1))}return W1(),n=Rp(Error(Ne(421))),Cd(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=N6.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Fn=ya(i.nextSibling),Bn=e,er=!0,xi=null,t!==null&&(Xn[Zn++]=_s,Xn[Zn++]=Ss,Xn[Zn++]=go,_s=t.id,Ss=t.overflow,go=e),e=M1(e,n.children),e.flags|=4096,e)}function Z2(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),rm(t.return,e,r)}function Ip(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function pb(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(dn(t,e,n.children,r),n=ir.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Z2(t,r,e);else if(t.tag===19)Z2(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ht(ir,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Dh(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Ip(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Dh(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Ip(e,!0,r,null,s);break;case"together":Ip(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function lh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Cs(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),yo|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ne(153));if(e.child!==null){for(t=e.child,r=_a(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=_a(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function f6(t,e,r){switch(e.tag){case 3:hb(e),El();break;case 5:Uw(e);break;case 1:xn(e.type)&&Ch(e);break;case 4:C1(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ht(Oh,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ht(ir,ir.current&1),e.flags|=128,null):r&e.child.childLanes?fb(t,e,r):(Ht(ir,ir.current&1),t=Cs(t,e,r),t!==null?t.sibling:null);Ht(ir,ir.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return pb(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ht(ir,ir.current),n)break;return null;case 22:case 23:return e.lanes=0,cb(t,e,r)}return Cs(t,e,r)}var mb,cm,gb,vb;mb=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};cm=function(){};gb=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,lo(Ki.current);var s=null;switch(r){case"input":i=T0(t,i),n=T0(t,n),s=[];break;case"select":i=ar({},i,{value:void 0}),n=ar({},n,{value:void 0}),s=[];break;case"textarea":i=I0(t,i),n=I0(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Eh)}F0(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Zu.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Zu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Kt("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};vb=function(t,e,r,n){r!==n&&(e.flags|=4)};function Au(t,e){if(!er)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Zr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function p6(t,e,r){var n=e.pendingProps;switch(S1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zr(e),null;case 1:return xn(e.type)&&Lh(),Zr(e),null;case 3:return n=e.stateNode,Cl(),Yt(bn),Yt(an),T1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ed(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xi!==null&&(ym(xi),xi=null))),cm(t,e),Zr(e),null;case 5:P1(e);var i=lo(dc.current);if(r=e.type,t!==null&&e.stateNode!=null)gb(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Ne(166));return Zr(e),null}if(t=lo(Ki.current),Ed(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Hi]=e,n[uc]=s,t=(e.mode&1)!==0,r){case"dialog":Kt("cancel",n),Kt("close",n);break;case"iframe":case"object":case"embed":Kt("load",n);break;case"video":case"audio":for(i=0;i<Du.length;i++)Kt(Du[i],n);break;case"source":Kt("error",n);break;case"img":case"image":case"link":Kt("error",n),Kt("load",n);break;case"details":Kt("toggle",n);break;case"input":l2(n,s),Kt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Kt("invalid",n);break;case"textarea":c2(n,s),Kt("invalid",n)}F0(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&jd(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&jd(n.textContent,o,t),i=["children",""+o]):Zu.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Kt("scroll",n)}switch(r){case"input":wd(n),u2(n,s,!0);break;case"textarea":wd(n),d2(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Eh)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=H5(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Hi]=e,t[uc]=n,mb(t,e,!1,!1),e.stateNode=t;e:{switch(a=M0(r,n),r){case"dialog":Kt("cancel",t),Kt("close",t),i=n;break;case"iframe":case"object":case"embed":Kt("load",t),i=n;break;case"video":case"audio":for(i=0;i<Du.length;i++)Kt(Du[i],t);i=n;break;case"source":Kt("error",t),i=n;break;case"img":case"image":case"link":Kt("error",t),Kt("load",t),i=n;break;case"details":Kt("toggle",t),i=n;break;case"input":l2(t,n),i=T0(t,n),Kt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=ar({},n,{value:void 0}),Kt("invalid",t);break;case"textarea":c2(t,n),i=I0(t,n),Kt("invalid",t);break;default:i=n}F0(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?K5(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&V5(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ec(t,l):typeof l=="number"&&ec(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Zu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Kt("scroll",t):l!=null&&l1(t,s,l,a))}switch(r){case"input":wd(t),u2(t,n,!1);break;case"textarea":wd(t),d2(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Sa(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?fl(t,!!n.multiple,s,!1):n.defaultValue!=null&&fl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Eh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zr(e),null;case 6:if(t&&e.stateNode!=null)vb(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Ne(166));if(r=lo(dc.current),lo(Ki.current),Ed(e)){if(n=e.stateNode,r=e.memoizedProps,n[Hi]=e,(s=n.nodeValue!==r)&&(t=Bn,t!==null))switch(t.tag){case 3:jd(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jd(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Hi]=e,e.stateNode=n}return Zr(e),null;case 13:if(Yt(ir),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(er&&Fn!==null&&e.mode&1&&!(e.flags&128))Iw(),El(),e.flags|=98560,s=!1;else if(s=Ed(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(Ne(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ne(317));s[Hi]=e}else El(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zr(e),s=!1}else xi!==null&&(ym(xi),xi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ir.current&1?Ir===0&&(Ir=3):W1())),e.updateQueue!==null&&(e.flags|=4),Zr(e),null);case 4:return Cl(),cm(t,e),t===null&&oc(e.stateNode.containerInfo),Zr(e),null;case 10:return j1(e.type._context),Zr(e),null;case 17:return xn(e.type)&&Lh(),Zr(e),null;case 19:if(Yt(ir),s=e.memoizedState,s===null)return Zr(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)Au(s,!1);else{if(Ir!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Dh(t),a!==null){for(e.flags|=128,Au(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ht(ir,ir.current&1|2),e.child}t=t.sibling}s.tail!==null&&vr()>Tl&&(e.flags|=128,n=!0,Au(s,!1),e.lanes=4194304)}else{if(!n)if(t=Dh(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Au(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!er)return Zr(e),null}else 2*vr()-s.renderingStartTime>Tl&&r!==1073741824&&(e.flags|=128,n=!0,Au(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=vr(),e.sibling=null,r=ir.current,Ht(ir,n?r&1|2:r&1),e):(Zr(e),null);case 22:case 23:return q1(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Rn&1073741824&&(Zr(e),e.subtreeFlags&6&&(e.flags|=8192)):Zr(e),null;case 24:return null;case 25:return null}throw Error(Ne(156,e.tag))}function m6(t,e){switch(S1(e),e.tag){case 1:return xn(e.type)&&Lh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Cl(),Yt(bn),Yt(an),T1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return P1(e),null;case 13:if(Yt(ir),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ne(340));El()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Yt(ir),null;case 4:return Cl(),null;case 10:return j1(e.type._context),null;case 22:case 23:return q1(),null;case 24:return null;default:return null}}var Pd=!1,sn=!1,g6=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function cl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){dr(t,e,n)}else r.current=null}function dm(t,e,r){try{r()}catch(n){dr(t,e,n)}}var ev=!1;function v6(t,e){if(K0=Nh,t=_w(),x1(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,d=0,p=t,g=null;t:for(;;){for(var f;p!==r||i!==0&&p.nodeType!==3||(o=a+i),p!==s||n!==0&&p.nodeType!==3||(l=a+n),p.nodeType===3&&(a+=p.nodeValue.length),(f=p.firstChild)!==null;)g=p,p=f;for(;;){if(p===t)break t;if(g===r&&++u===i&&(o=a),g===s&&++d===n&&(l=a),(f=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=f}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(J0={focusedElem:t,selectionRange:r},Nh=!1,Pe=e;Pe!==null;)if(e=Pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Pe=t;else for(;Pe!==null;){e=Pe;try{var k=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var S=k.memoizedProps,x=k.memoizedState,y=e.stateNode,_=y.getSnapshotBeforeUpdate(e.elementType===e.type?S:vi(e.type,S),x);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ne(163))}}catch(A){dr(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,Pe=t;break}Pe=e.return}return k=ev,ev=!1,k}function Hu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&dm(e,r,s)}i=i.next}while(i!==n)}}function ff(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function hm(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function yb(t){var e=t.alternate;e!==null&&(t.alternate=null,yb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Hi],delete e[uc],delete e[X0],delete e[ZS],delete e[e6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wb(t){return t.tag===5||t.tag===3||t.tag===4}function tv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Eh));else if(n!==4&&(t=t.child,t!==null))for(fm(t,e,r),t=t.sibling;t!==null;)fm(t,e,r),t=t.sibling}function pm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(pm(t,e,r),t=t.sibling;t!==null;)pm(t,e,r),t=t.sibling}var Gr=null,wi=!1;function Xs(t,e,r){for(r=r.child;r!==null;)bb(t,e,r),r=r.sibling}function bb(t,e,r){if(Gi&&typeof Gi.onCommitFiberUnmount=="function")try{Gi.onCommitFiberUnmount(sf,r)}catch{}switch(r.tag){case 5:sn||cl(r,e);case 6:var n=Gr,i=wi;Gr=null,Xs(t,e,r),Gr=n,wi=i,Gr!==null&&(wi?(t=Gr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Gr.removeChild(r.stateNode));break;case 18:Gr!==null&&(wi?(t=Gr,r=r.stateNode,t.nodeType===8?Ep(t.parentNode,r):t.nodeType===1&&Ep(t,r),ic(t)):Ep(Gr,r.stateNode));break;case 4:n=Gr,i=wi,Gr=r.stateNode.containerInfo,wi=!0,Xs(t,e,r),Gr=n,wi=i;break;case 0:case 11:case 14:case 15:if(!sn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&dm(r,e,a),i=i.next}while(i!==n)}Xs(t,e,r);break;case 1:if(!sn&&(cl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){dr(r,e,o)}Xs(t,e,r);break;case 21:Xs(t,e,r);break;case 22:r.mode&1?(sn=(n=sn)||r.memoizedState!==null,Xs(t,e,r),sn=n):Xs(t,e,r);break;default:Xs(t,e,r)}}function rv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new g6),e.forEach(function(n){var i=A6.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function pi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Gr=o.stateNode,wi=!1;break e;case 3:Gr=o.stateNode.containerInfo,wi=!0;break e;case 4:Gr=o.stateNode.containerInfo,wi=!0;break e}o=o.return}if(Gr===null)throw Error(Ne(160));bb(s,a,i),Gr=null,wi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){dr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)xb(e,t),e=e.sibling}function xb(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pi(e,t),Bi(t),n&4){try{Hu(3,t,t.return),ff(3,t)}catch(S){dr(t,t.return,S)}try{Hu(5,t,t.return)}catch(S){dr(t,t.return,S)}}break;case 1:pi(e,t),Bi(t),n&512&&r!==null&&cl(r,r.return);break;case 5:if(pi(e,t),Bi(t),n&512&&r!==null&&cl(r,r.return),t.flags&32){var i=t.stateNode;try{ec(i,"")}catch(S){dr(t,t.return,S)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&q5(i,s),M0(o,a);var u=M0(o,s);for(a=0;a<l.length;a+=2){var d=l[a],p=l[a+1];d==="style"?K5(i,p):d==="dangerouslySetInnerHTML"?V5(i,p):d==="children"?ec(i,p):l1(i,d,p,u)}switch(o){case"input":O0(i,s);break;case"textarea":W5(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?fl(i,!!s.multiple,f,!1):g!==!!s.multiple&&(s.defaultValue!=null?fl(i,!!s.multiple,s.defaultValue,!0):fl(i,!!s.multiple,s.multiple?[]:"",!1))}i[uc]=s}catch(S){dr(t,t.return,S)}}break;case 6:if(pi(e,t),Bi(t),n&4){if(t.stateNode===null)throw Error(Ne(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){dr(t,t.return,S)}}break;case 3:if(pi(e,t),Bi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ic(e.containerInfo)}catch(S){dr(t,t.return,S)}break;case 4:pi(e,t),Bi(t);break;case 13:pi(e,t),Bi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(z1=vr())),n&4&&rv(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(sn=(u=sn)||d,pi(e,t),sn=u):pi(e,t),Bi(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Pe=t,d=t.child;d!==null;){for(p=Pe=d;Pe!==null;){switch(g=Pe,f=g.child,g.tag){case 0:case 11:case 14:case 15:Hu(4,g,g.return);break;case 1:cl(g,g.return);var k=g.stateNode;if(typeof k.componentWillUnmount=="function"){n=g,r=g.return;try{e=n,k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(S){dr(n,r,S)}}break;case 5:cl(g,g.return);break;case 22:if(g.memoizedState!==null){iv(p);continue}}f!==null?(f.return=g,Pe=f):iv(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=p.stateNode,l=p.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=G5("display",a))}catch(S){dr(t,t.return,S)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(S){dr(t,t.return,S)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:pi(e,t),Bi(t),n&4&&rv(t);break;case 21:break;default:pi(e,t),Bi(t)}}function Bi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(wb(r)){var n=r;break e}r=r.return}throw Error(Ne(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ec(i,""),n.flags&=-33);var s=tv(t);pm(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=tv(t);fm(t,o,a);break;default:throw Error(Ne(161))}}catch(l){dr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function y6(t,e,r){Pe=t,_b(t)}function _b(t,e,r){for(var n=(t.mode&1)!==0;Pe!==null;){var i=Pe,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Pd;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||sn;o=Pd;var u=sn;if(Pd=a,(sn=l)&&!u)for(Pe=i;Pe!==null;)a=Pe,l=a.child,a.tag===22&&a.memoizedState!==null?sv(i):l!==null?(l.return=a,Pe=l):sv(i);for(;s!==null;)Pe=s,_b(s),s=s.sibling;Pe=i,Pd=o,sn=u}nv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Pe=s):nv(t)}}function nv(t){for(;Pe!==null;){var e=Pe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:sn||ff(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!sn)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:vi(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&z2(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}z2(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&ic(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ne(163))}sn||e.flags&512&&hm(e)}catch(g){dr(e,e.return,g)}}if(e===t){Pe=null;break}if(r=e.sibling,r!==null){r.return=e.return,Pe=r;break}Pe=e.return}}function iv(t){for(;Pe!==null;){var e=Pe;if(e===t){Pe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Pe=r;break}Pe=e.return}}function sv(t){for(;Pe!==null;){var e=Pe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{ff(4,e)}catch(l){dr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){dr(e,i,l)}}var s=e.return;try{hm(e)}catch(l){dr(e,s,l)}break;case 5:var a=e.return;try{hm(e)}catch(l){dr(e,a,l)}}}catch(l){dr(e,e.return,l)}if(e===t){Pe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Pe=o;break}Pe=e.return}}var w6=Math.ceil,Bh=Os.ReactCurrentDispatcher,B1=Os.ReactCurrentOwner,ti=Os.ReactCurrentBatchConfig,Et=0,Br=null,Ar=null,Kr=0,Rn=0,dl=ja(0),Ir=0,mc=null,yo=0,pf=0,U1=0,Vu=null,yn=null,z1=0,Tl=1/0,ys=null,Uh=!1,mm=null,ba=null,Td=!1,ha=null,zh=0,Gu=0,gm=null,uh=-1,ch=0;function fn(){return Et&6?vr():uh!==-1?uh:uh=vr()}function xa(t){return t.mode&1?Et&2&&Kr!==0?Kr&-Kr:r6.transition!==null?(ch===0&&(ch=aw()),ch):(t=Dt,t!==0||(t=window.event,t=t===void 0?16:fw(t.type)),t):1}function Si(t,e,r,n){if(50<Gu)throw Gu=0,gm=null,Error(Ne(185));Nc(t,r,n),(!(Et&2)||t!==Br)&&(t===Br&&(!(Et&2)&&(pf|=r),Ir===4&&ua(t,Kr)),_n(t,n),r===1&&Et===0&&!(e.mode&1)&&(Tl=vr()+500,cf&&Ea()))}function _n(t,e){var r=t.callbackNode;rS(t,e);var n=kh(t,t===Br?Kr:0);if(n===0)r!==null&&p2(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&p2(r),e===1)t.tag===0?t6(av.bind(null,t)):Tw(av.bind(null,t)),QS(function(){!(Et&6)&&Ea()}),r=null;else{switch(ow(n)){case 1:r=f1;break;case 4:r=iw;break;case 16:r=Sh;break;case 536870912:r=sw;break;default:r=Sh}r=Cb(r,Sb.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Sb(t,e){if(uh=-1,ch=0,Et&6)throw Error(Ne(327));var r=t.callbackNode;if(yl()&&t.callbackNode!==r)return null;var n=kh(t,t===Br?Kr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=$h(t,n);else{e=n;var i=Et;Et|=2;var s=Nb();(Br!==t||Kr!==e)&&(ys=null,Tl=vr()+500,co(t,e));do try{_6();break}catch(o){kb(t,o)}while(!0);A1(),Bh.current=s,Et=i,Ar!==null?e=0:(Br=null,Kr=0,e=Ir)}if(e!==0){if(e===2&&(i=q0(t),i!==0&&(n=i,e=vm(t,i))),e===1)throw r=mc,co(t,0),ua(t,n),_n(t,vr()),r;if(e===6)ua(t,n);else{if(i=t.current.alternate,!(n&30)&&!b6(i)&&(e=$h(t,n),e===2&&(s=q0(t),s!==0&&(n=s,e=vm(t,s))),e===1))throw r=mc,co(t,0),ua(t,n),_n(t,vr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Ne(345));case 2:Qa(t,yn,ys);break;case 3:if(ua(t,n),(n&130023424)===n&&(e=z1+500-vr(),10<e)){if(kh(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){fn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Q0(Qa.bind(null,t,yn,ys),e);break}Qa(t,yn,ys);break;case 4:if(ua(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-_i(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=vr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*w6(n/1960))-n,10<n){t.timeoutHandle=Q0(Qa.bind(null,t,yn,ys),n);break}Qa(t,yn,ys);break;case 5:Qa(t,yn,ys);break;default:throw Error(Ne(329))}}}return _n(t,vr()),t.callbackNode===r?Sb.bind(null,t):null}function vm(t,e){var r=Vu;return t.current.memoizedState.isDehydrated&&(co(t,e).flags|=256),t=$h(t,e),t!==2&&(e=yn,yn=r,e!==null&&ym(e)),t}function ym(t){yn===null?yn=t:yn.push.apply(yn,t)}function b6(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!ki(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ua(t,e){for(e&=~U1,e&=~pf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-_i(e),n=1<<r;t[r]=-1,e&=~n}}function av(t){if(Et&6)throw Error(Ne(327));yl();var e=kh(t,0);if(!(e&1))return _n(t,vr()),null;var r=$h(t,e);if(t.tag!==0&&r===2){var n=q0(t);n!==0&&(e=n,r=vm(t,n))}if(r===1)throw r=mc,co(t,0),ua(t,e),_n(t,vr()),r;if(r===6)throw Error(Ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qa(t,yn,ys),_n(t,vr()),null}function $1(t,e){var r=Et;Et|=1;try{return t(e)}finally{Et=r,Et===0&&(Tl=vr()+500,cf&&Ea())}}function wo(t){ha!==null&&ha.tag===0&&!(Et&6)&&yl();var e=Et;Et|=1;var r=ti.transition,n=Dt;try{if(ti.transition=null,Dt=1,t)return t()}finally{Dt=n,ti.transition=r,Et=e,!(Et&6)&&Ea()}}function q1(){Rn=dl.current,Yt(dl)}function co(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,YS(r)),Ar!==null)for(r=Ar.return;r!==null;){var n=r;switch(S1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Lh();break;case 3:Cl(),Yt(bn),Yt(an),T1();break;case 5:P1(n);break;case 4:Cl();break;case 13:Yt(ir);break;case 19:Yt(ir);break;case 10:j1(n.type._context);break;case 22:case 23:q1()}r=r.return}if(Br=t,Ar=t=_a(t.current,null),Kr=Rn=e,Ir=0,mc=null,U1=pf=yo=0,yn=Vu=null,oo!==null){for(e=0;e<oo.length;e++)if(r=oo[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}oo=null}return t}function kb(t,e){do{var r=Ar;try{if(A1(),ah.current=Mh,Fh){for(var n=sr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Fh=!1}if(vo=0,Fr=Rr=sr=null,Wu=!1,hc=0,B1.current=null,r===null||r.return===null){Ir=1,mc=e,Ar=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=Kr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=G2(a);if(f!==null){f.flags&=-257,K2(f,a,o,s,e),f.mode&1&&V2(s,u,e),e=f,l=u;var k=e.updateQueue;if(k===null){var S=new Set;S.add(l),e.updateQueue=S}else k.add(l);break e}else{if(!(e&1)){V2(s,u,e),W1();break e}l=Error(Ne(426))}}else if(er&&o.mode&1){var x=G2(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),K2(x,a,o,s,e),k1(Pl(l,o));break e}}s=l=Pl(l,o),Ir!==4&&(Ir=2),Vu===null?Vu=[s]:Vu.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=ob(s,l,e);U2(s,y);break e;case 1:o=l;var _=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ba===null||!ba.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=lb(s,o,e);U2(s,A);break e}}s=s.return}while(s!==null)}jb(r)}catch(M){e=M,Ar===r&&r!==null&&(Ar=r=r.return);continue}break}while(!0)}function Nb(){var t=Bh.current;return Bh.current=Mh,t===null?Mh:t}function W1(){(Ir===0||Ir===3||Ir===2)&&(Ir=4),Br===null||!(yo&268435455)&&!(pf&268435455)||ua(Br,Kr)}function $h(t,e){var r=Et;Et|=2;var n=Nb();(Br!==t||Kr!==e)&&(ys=null,co(t,e));do try{x6();break}catch(i){kb(t,i)}while(!0);if(A1(),Et=r,Bh.current=n,Ar!==null)throw Error(Ne(261));return Br=null,Kr=0,Ir}function x6(){for(;Ar!==null;)Ab(Ar)}function _6(){for(;Ar!==null&&!G3();)Ab(Ar)}function Ab(t){var e=Lb(t.alternate,t,Rn);t.memoizedProps=t.pendingProps,e===null?jb(t):Ar=e,B1.current=null}function jb(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=m6(r,e),r!==null){r.flags&=32767,Ar=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ir=6,Ar=null;return}}else if(r=p6(r,e,Rn),r!==null){Ar=r;return}if(e=e.sibling,e!==null){Ar=e;return}Ar=e=t}while(e!==null);Ir===0&&(Ir=5)}function Qa(t,e,r){var n=Dt,i=ti.transition;try{ti.transition=null,Dt=1,S6(t,e,r,n)}finally{ti.transition=i,Dt=n}return null}function S6(t,e,r,n){do yl();while(ha!==null);if(Et&6)throw Error(Ne(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Ne(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(nS(t,s),t===Br&&(Ar=Br=null,Kr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Td||(Td=!0,Cb(Sh,function(){return yl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ti.transition,ti.transition=null;var a=Dt;Dt=1;var o=Et;Et|=4,B1.current=null,v6(t,r),xb(r,t),qS(J0),Nh=!!K0,J0=K0=null,t.current=r,y6(r),K3(),Et=o,Dt=a,ti.transition=s}else t.current=r;if(Td&&(Td=!1,ha=t,zh=i),s=t.pendingLanes,s===0&&(ba=null),Q3(r.stateNode),_n(t,vr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Uh)throw Uh=!1,t=mm,mm=null,t;return zh&1&&t.tag!==0&&yl(),s=t.pendingLanes,s&1?t===gm?Gu++:(Gu=0,gm=t):Gu=0,Ea(),null}function yl(){if(ha!==null){var t=ow(zh),e=ti.transition,r=Dt;try{if(ti.transition=null,Dt=16>t?16:t,ha===null)var n=!1;else{if(t=ha,ha=null,zh=0,Et&6)throw Error(Ne(331));var i=Et;for(Et|=4,Pe=t.current;Pe!==null;){var s=Pe,a=s.child;if(Pe.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Pe=u;Pe!==null;){var d=Pe;switch(d.tag){case 0:case 11:case 15:Hu(8,d,s)}var p=d.child;if(p!==null)p.return=d,Pe=p;else for(;Pe!==null;){d=Pe;var g=d.sibling,f=d.return;if(yb(d),d===u){Pe=null;break}if(g!==null){g.return=f,Pe=g;break}Pe=f}}}var k=s.alternate;if(k!==null){var S=k.child;if(S!==null){k.child=null;do{var x=S.sibling;S.sibling=null,S=x}while(S!==null)}}Pe=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Pe=a;else e:for(;Pe!==null;){if(s=Pe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Hu(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Pe=y;break e}Pe=s.return}}var _=t.current;for(Pe=_;Pe!==null;){a=Pe;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,Pe=b;else e:for(a=_;Pe!==null;){if(o=Pe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ff(9,o)}}catch(M){dr(o,o.return,M)}if(o===a){Pe=null;break e}var A=o.sibling;if(A!==null){A.return=o.return,Pe=A;break e}Pe=o.return}}if(Et=i,Ea(),Gi&&typeof Gi.onPostCommitFiberRoot=="function")try{Gi.onPostCommitFiberRoot(sf,t)}catch{}n=!0}return n}finally{Dt=r,ti.transition=e}}return!1}function ov(t,e,r){e=Pl(r,e),e=ob(t,e,1),t=wa(t,e,1),e=fn(),t!==null&&(Nc(t,1,e),_n(t,e))}function dr(t,e,r){if(t.tag===3)ov(t,t,r);else for(;e!==null;){if(e.tag===3){ov(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ba===null||!ba.has(n))){t=Pl(r,t),t=lb(e,t,1),e=wa(e,t,1),t=fn(),e!==null&&(Nc(e,1,t),_n(e,t));break}}e=e.return}}function k6(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=fn(),t.pingedLanes|=t.suspendedLanes&r,Br===t&&(Kr&r)===r&&(Ir===4||Ir===3&&(Kr&130023424)===Kr&&500>vr()-z1?co(t,0):U1|=r),_n(t,e)}function Eb(t,e){e===0&&(t.mode&1?(e=_d,_d<<=1,!(_d&130023424)&&(_d=4194304)):e=1);var r=fn();t=Ls(t,e),t!==null&&(Nc(t,e,r),_n(t,r))}function N6(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Eb(t,r)}function A6(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Ne(314))}n!==null&&n.delete(e),Eb(t,r)}var Lb;Lb=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||bn.current)wn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return wn=!1,f6(t,e,r);wn=!!(t.flags&131072)}else wn=!1,er&&e.flags&1048576&&Ow(e,Th,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;lh(t,e),t=e.pendingProps;var i=jl(e,an.current);vl(e,r),i=R1(null,e,n,t,i,r);var s=I1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xn(n)?(s=!0,Ch(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,L1(e),i.updater=hf,e.stateNode=i,i._reactInternals=e,im(e,n,t,r),e=om(null,e,n,!0,s,r)):(e.tag=0,er&&s&&_1(e),dn(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(lh(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=E6(n),t=vi(n,t),i){case 0:e=am(null,e,n,t,r);break e;case 1:e=Q2(null,e,n,t,r);break e;case 11:e=J2(null,e,n,t,r);break e;case 14:e=Y2(null,e,n,vi(n.type,t),r);break e}throw Error(Ne(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:vi(n,i),am(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:vi(n,i),Q2(t,e,n,i,r);case 3:e:{if(hb(e),t===null)throw Error(Ne(387));n=e.pendingProps,s=e.memoizedState,i=s.element,Bw(t,e),Ih(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Pl(Error(Ne(423)),e),e=X2(t,e,n,r,i);break e}else if(n!==i){i=Pl(Error(Ne(424)),e),e=X2(t,e,n,r,i);break e}else for(Fn=ya(e.stateNode.containerInfo.firstChild),Bn=e,er=!0,xi=null,r=Fw(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(El(),n===i){e=Cs(t,e,r);break e}dn(t,e,n,r)}e=e.child}return e;case 5:return Uw(e),t===null&&tm(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Y0(n,i)?a=null:s!==null&&Y0(n,s)&&(e.flags|=32),db(t,e),dn(t,e,a,r),e.child;case 6:return t===null&&tm(e),null;case 13:return fb(t,e,r);case 4:return C1(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ll(e,null,n,r):dn(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:vi(n,i),J2(t,e,n,i,r);case 7:return dn(t,e,e.pendingProps,r),e.child;case 8:return dn(t,e,e.pendingProps.children,r),e.child;case 12:return dn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Ht(Oh,n._currentValue),n._currentValue=a,s!==null)if(ki(s.value,a)){if(s.children===i.children&&!bn.current){e=Cs(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Ns(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),rm(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Ne(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),rm(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}dn(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,vl(e,r),i=ri(i),n=n(i),e.flags|=1,dn(t,e,n,r),e.child;case 14:return n=e.type,i=vi(n,e.pendingProps),i=vi(n.type,i),Y2(t,e,n,i,r);case 15:return ub(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:vi(n,i),lh(t,e),e.tag=1,xn(n)?(t=!0,Ch(e)):t=!1,vl(e,r),ab(e,n,i),im(e,n,i,r),om(null,e,n,!0,t,r);case 19:return pb(t,e,r);case 22:return cb(t,e,r)}throw Error(Ne(156,e.tag))};function Cb(t,e){return nw(t,e)}function j6(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ei(t,e,r,n){return new j6(t,e,r,n)}function H1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function E6(t){if(typeof t=="function")return H1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===c1)return 11;if(t===d1)return 14}return 2}function _a(t,e){var r=t.alternate;return r===null?(r=ei(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function dh(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")H1(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case tl:return ho(r.children,i,s,e);case u1:a=8,i|=8;break;case E0:return t=ei(12,r,e,i|2),t.elementType=E0,t.lanes=s,t;case L0:return t=ei(13,r,e,i),t.elementType=L0,t.lanes=s,t;case C0:return t=ei(19,r,e,i),t.elementType=C0,t.lanes=s,t;case U5:return mf(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case M5:a=10;break e;case B5:a=9;break e;case c1:a=11;break e;case d1:a=14;break e;case aa:a=16,n=null;break e}throw Error(Ne(130,t==null?t:typeof t,""))}return e=ei(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function ho(t,e,r,n){return t=ei(7,t,n,e),t.lanes=r,t}function mf(t,e,r,n){return t=ei(22,t,n,e),t.elementType=U5,t.lanes=r,t.stateNode={isHidden:!1},t}function Dp(t,e,r){return t=ei(6,t,null,e),t.lanes=r,t}function Fp(t,e,r){return e=ei(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function L6(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vp(0),this.expirationTimes=vp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vp(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function V1(t,e,r,n,i,s,a,o,l){return t=new L6(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ei(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},L1(s),t}function C6(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:el,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Pb(t){if(!t)return ka;t=t._reactInternals;e:{if(ko(t)!==t||t.tag!==1)throw Error(Ne(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ne(171))}if(t.tag===1){var r=t.type;if(xn(r))return Pw(t,r,e)}return e}function Tb(t,e,r,n,i,s,a,o,l){return t=V1(r,n,!0,t,i,s,a,o,l),t.context=Pb(null),r=t.current,n=fn(),i=xa(r),s=Ns(n,i),s.callback=e??null,wa(r,s,i),t.current.lanes=i,Nc(t,i,n),_n(t,n),t}function gf(t,e,r,n){var i=e.current,s=fn(),a=xa(i);return r=Pb(r),e.context===null?e.context=r:e.pendingContext=r,e=Ns(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=wa(i,e,a),t!==null&&(Si(t,i,a,s),sh(t,i,a)),a}function qh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function G1(t,e){lv(t,e),(t=t.alternate)&&lv(t,e)}function P6(){return null}var Ob=typeof reportError=="function"?reportError:function(t){console.error(t)};function K1(t){this._internalRoot=t}vf.prototype.render=K1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ne(409));gf(t,e,null,null)};vf.prototype.unmount=K1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wo(function(){gf(null,t,null,null)}),e[Es]=null}};function vf(t){this._internalRoot=t}vf.prototype.unstable_scheduleHydration=function(t){if(t){var e=cw();t={blockedOn:null,target:t,priority:e};for(var r=0;r<la.length&&e!==0&&e<la[r].priority;r++);la.splice(r,0,t),r===0&&hw(t)}};function J1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function uv(){}function T6(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=qh(a);s.call(u)}}var a=Tb(e,n,t,0,null,!1,!1,"",uv);return t._reactRootContainer=a,t[Es]=a.current,oc(t.nodeType===8?t.parentNode:t),wo(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=qh(l);o.call(u)}}var l=V1(t,0,!1,null,null,!1,!1,"",uv);return t._reactRootContainer=l,t[Es]=l.current,oc(t.nodeType===8?t.parentNode:t),wo(function(){gf(e,l,r,n)}),l}function wf(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=qh(a);o.call(l)}}gf(e,a,t,i)}else a=T6(r,e,t,i,n);return qh(a)}lw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Iu(e.pendingLanes);r!==0&&(p1(e,r|1),_n(e,vr()),!(Et&6)&&(Tl=vr()+500,Ea()))}break;case 13:wo(function(){var n=Ls(t,1);if(n!==null){var i=fn();Si(n,t,1,i)}}),G1(t,1)}};m1=function(t){if(t.tag===13){var e=Ls(t,134217728);if(e!==null){var r=fn();Si(e,t,134217728,r)}G1(t,134217728)}};uw=function(t){if(t.tag===13){var e=xa(t),r=Ls(t,e);if(r!==null){var n=fn();Si(r,t,e,n)}G1(t,e)}};cw=function(){return Dt};dw=function(t,e){var r=Dt;try{return Dt=t,e()}finally{Dt=r}};U0=function(t,e,r){switch(e){case"input":if(O0(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=uf(n);if(!i)throw Error(Ne(90));$5(n),O0(n,i)}}}break;case"textarea":W5(t,r);break;case"select":e=r.value,e!=null&&fl(t,!!r.multiple,e,!1)}};Q5=$1;X5=wo;var O6={usingClientEntryPoint:!1,Events:[jc,sl,uf,J5,Y5,$1]},ju={findFiberByHostInstance:ao,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},R6={bundleType:ju.bundleType,version:ju.version,rendererPackageName:ju.rendererPackageName,rendererConfig:ju.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Os.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tw(t),t===null?null:t.stateNode},findFiberByHostInstance:ju.findFiberByHostInstance||P6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Od.isDisabled&&Od.supportsFiber)try{sf=Od.inject(R6),Gi=Od}catch{}}zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O6;zn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!J1(e))throw Error(Ne(200));return C6(t,e,null,r)};zn.createRoot=function(t,e){if(!J1(t))throw Error(Ne(299));var r=!1,n="",i=Ob;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=V1(t,1,!1,null,null,r,!1,n,i),t[Es]=e.current,oc(t.nodeType===8?t.parentNode:t),new K1(e)};zn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ne(188)):(t=Object.keys(t).join(","),Error(Ne(268,t)));return t=tw(e),t=t===null?null:t.stateNode,t};zn.flushSync=function(t){return wo(t)};zn.hydrate=function(t,e,r){if(!yf(e))throw Error(Ne(200));return wf(null,t,e,!0,r)};zn.hydrateRoot=function(t,e,r){if(!J1(t))throw Error(Ne(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=Ob;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=Tb(e,null,t,1,r??null,i,!1,s,a),t[Es]=e.current,oc(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new vf(e)};zn.render=function(t,e,r){if(!yf(e))throw Error(Ne(200));return wf(null,t,e,!1,r)};zn.unmountComponentAtNode=function(t){if(!yf(t))throw Error(Ne(40));return t._reactRootContainer?(wo(function(){wf(null,null,t,!1,function(){t._reactRootContainer=null,t[Es]=null})}),!0):!1};zn.unstable_batchedUpdates=$1;zn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!yf(r))throw Error(Ne(200));if(t==null||t._reactInternals===void 0)throw Error(Ne(38));return wf(t,e,r,!1,n)};zn.version="18.3.1-next-f1338f8080-20240426";function Rb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rb)}catch(t){console.error(t)}}Rb(),R5.exports=zn;var I6=R5.exports,cv=I6;A0.createRoot=cv.createRoot,A0.hydrateRoot=cv.hydrateRoot;var wm=function(t,e){return wm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},wm(t,e)};function Ib(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");wm(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Wh=function(){return Wh=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Wh.apply(this,arguments)};function Fl(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Db(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(e,r,s):a(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function Fb(t,e){return function(r,n){e(r,n,t)}}function Mb(t,e,r,n,i,s){function a(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var o=n.kind,l=o==="getter"?"get":o==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),p,g=!1,f=r.length-1;f>=0;f--){var k={};for(var S in n)k[S]=S==="access"?{}:n[S];for(var S in n.access)k.access[S]=n.access[S];k.addInitializer=function(y){if(g)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(y||null))};var x=(0,r[f])(o==="accessor"?{get:d.get,set:d.set}:d[l],k);if(o==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(p=a(x.get))&&(d.get=p),(p=a(x.set))&&(d.set=p),(p=a(x.init))&&i.unshift(p)}else(p=a(x))&&(o==="field"?i.unshift(p):d[l]=p)}u&&Object.defineProperty(u,n.name,d),g=!0}function Bb(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function Ub(t){return typeof t=="symbol"?t:"".concat(t)}function zb(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function $b(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Oe(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{u(n.next(d))}catch(p){a(p)}}function l(d){try{u(n.throw(d))}catch(p){a(p)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})}function qb(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var bf=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function Wb(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&bf(e,t,r)}function Hh(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Y1(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return s}function Hb(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Y1(arguments[e]));return t}function Vb(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n}function Gb(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function Ol(t){return this instanceof Ol?(this.v=t,this):new Ol(t)}function Kb(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(f){return function(k){return Promise.resolve(k).then(f,p)}}function o(f,k){n[f]&&(i[f]=function(S){return new Promise(function(x,y){s.push([f,S,x,y])>1||l(f,S)})},k&&(i[f]=k(i[f])))}function l(f,k){try{u(n[f](k))}catch(S){g(s[0][3],S)}}function u(f){f.value instanceof Ol?Promise.resolve(f.value.v).then(d,p):g(s[0][2],f)}function d(f){l("next",f)}function p(f){l("throw",f)}function g(f,k){f(k),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Jb(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(a){return(r=!r)?{value:Ol(t[i](a)),done:!1}:s?s(a):a}:s}}function Yb(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Hh=="function"?Hh(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(a){return new Promise(function(o,l){a=t[s](a),i(o,l,a.done,a.value)})}}function i(s,a,o,l){Promise.resolve(l).then(function(u){s({value:u,done:o})},a)}}function Qb(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var D6=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},bm=function(t){return bm=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},bm(t)};function Xb(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=bm(t),n=0;n<r.length;n++)r[n]!=="default"&&bf(e,t,r[n]);return D6(e,t),e}function Zb(t){return t&&t.__esModule?t:{default:t}}function ex(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function tx(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function rx(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function nx(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var F6=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function ix(t){function e(s){t.error=t.hasError?new F6(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,function(a){return e(a),i()})}else n|=1}catch(a){e(a)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function sx(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,s,a){return n?e?".jsx":".js":i&&(!s||!a)?r:i+s+"."+a.toLowerCase()+"js"}):t}const M6={__extends:Ib,__assign:Wh,__rest:Fl,__decorate:Db,__param:Fb,__esDecorate:Mb,__runInitializers:Bb,__propKey:Ub,__setFunctionName:zb,__metadata:$b,__awaiter:Oe,__generator:qb,__createBinding:bf,__exportStar:Wb,__values:Hh,__read:Y1,__spread:Hb,__spreadArrays:Vb,__spreadArray:Gb,__await:Ol,__asyncGenerator:Kb,__asyncDelegator:Jb,__asyncValues:Yb,__makeTemplateObject:Qb,__importStar:Xb,__importDefault:Zb,__classPrivateFieldGet:ex,__classPrivateFieldSet:tx,__classPrivateFieldIn:rx,__addDisposableResource:nx,__disposeResources:ix,__rewriteRelativeImportExtension:sx},B6=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:nx,get __assign(){return Wh},__asyncDelegator:Jb,__asyncGenerator:Kb,__asyncValues:Yb,__await:Ol,__awaiter:Oe,__classPrivateFieldGet:ex,__classPrivateFieldIn:rx,__classPrivateFieldSet:tx,__createBinding:bf,__decorate:Db,__disposeResources:ix,__esDecorate:Mb,__exportStar:Wb,__extends:Ib,__generator:qb,__importDefault:Zb,__importStar:Xb,__makeTemplateObject:Qb,__metadata:$b,__param:Fb,__propKey:Ub,__read:Y1,__rest:Fl,__rewriteRelativeImportExtension:sx,__runInitializers:Bb,__setFunctionName:zb,__spread:Hb,__spreadArray:Gb,__spreadArrays:Vb,__values:Hh,default:M6},Symbol.toStringTag,{value:"Module"})),U6=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Q1 extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class z6 extends Q1{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class dv extends Q1{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class hv extends Q1{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var xm;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(xm||(xm={}));class $6{constructor(e,{headers:r={},customFetch:n,region:i=xm.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=U6(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Oe(this,arguments,void 0,function*(r,n={}){var i;let s,a;try{const{headers:o,method:l,body:u,signal:d,timeout:p}=n;let g={},{region:f}=n;f||(f=this.region);const k=new URL(`${this.url}/${r}`);f&&f!=="any"&&(g["x-region"]=f,k.searchParams.set("forceFunctionRegion",f));let S;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",S=u):typeof u=="string"?(g["Content-Type"]="text/plain",S=u):typeof FormData<"u"&&u instanceof FormData?S=u:(g["Content-Type"]="application/json",S=JSON.stringify(u)):S=u;let x=d;p&&(a=new AbortController,s=setTimeout(()=>a.abort(),p),d?(x=a.signal,d.addEventListener("abort",()=>a.abort())):x=a.signal);const y=yield this.fetch(k.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),o),body:S,signal:x}).catch(M=>{throw new z6(M)}),_=y.headers.get("x-relay-error");if(_&&_==="true")throw new dv(y);if(!y.ok)throw new hv(y);let b=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),A;return b==="application/json"?A=yield y.json():b==="application/octet-stream"||b==="application/pdf"?A=yield y.blob():b==="text/event-stream"?A=y:b==="multipart/form-data"?A=yield y.formData():A=yield y.text(),{data:A,error:null,response:y}}catch(o){return{data:null,error:o,response:o instanceof hv||o instanceof dv?o.context:void 0}}finally{s&&clearTimeout(s)}})}}var hn={};const Ml=u3(B6);var Rd={},Id={},Dd={},Fd={},Md={},Bd={},fv;function ax(){if(fv)return Bd;fv=1,Object.defineProperty(Bd,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Bd.default=t,Bd}var pv;function ox(){if(pv)return Md;pv=1,Object.defineProperty(Md,"__esModule",{value:!0});const e=Ml.__importDefault(ax());class r{constructor(i){var s,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,d,p,g;let f=null,k=null,S=null,x=l.status,y=l.statusText;if(l.ok){if(this.method!=="HEAD"){const M=await l.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?k=M:k=JSON.parse(M))}const b=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),A=(p=l.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");b&&A&&A.length>1&&(S=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(f={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,S=null,x=406,y="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const b=await l.text();try{f=JSON.parse(b),Array.isArray(f)&&l.status===404&&(k=[],f=null,x=200,y="OK")}catch{l.status===404&&b===""?(x=204,y="No Content"):f={message:b}}if(f&&this.isMaybeSingle&&(!((g=f==null?void 0:f.details)===null||g===void 0)&&g.includes("0 rows"))&&(f=null,x=200,y="OK"),f&&this.shouldThrowOnError)throw new e.default(f)}return{error:f,data:k,count:S,status:x,statusText:y}});return this.shouldThrowOnError||(o=o.catch(l=>{var u,d,p,g,f,k;let S="";const x=l==null?void 0:l.cause;if(x){const y=(u=x==null?void 0:x.message)!==null&&u!==void 0?u:"",_=(d=x==null?void 0:x.code)!==null&&d!==void 0?d:"";S=`${(p=l==null?void 0:l.name)!==null&&p!==void 0?p:"FetchError"}: ${l==null?void 0:l.message}`,S+=`

Caused by: ${(g=x==null?void 0:x.name)!==null&&g!==void 0?g:"Error"}: ${y}`,_&&(S+=` (${_})`),x!=null&&x.stack&&(S+=`
${x.stack}`)}else S=(f=l==null?void 0:l.stack)!==null&&f!==void 0?f:"";return{error:{message:`${(k=l==null?void 0:l.name)!==null&&k!==void 0?k:"FetchError"}: ${l==null?void 0:l.message}`,details:S,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(i,s)}returns(){return this}overrideTypes(){return this}}return Md.default=r,Md}var mv;function lx(){if(mv)return Fd;mv=1,Object.defineProperty(Fd,"__esModule",{value:!0});const e=Ml.__importDefault(ox());class r extends e.default{select(i){let s=!1;const a=(i??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:a,foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${i}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:a=s}={}){const o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,s,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:a=!1,buffers:o=!1,wal:l=!1,format:u="text"}={}){var d;const p=[i?"analyze":null,s?"verbose":null,a?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),g=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${g}"; options=${p};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Fd.default=r,Fd}var gv;function X1(){if(gv)return Dd;gv=1,Object.defineProperty(Dd,"__esModule",{value:!0});const e=Ml.__importDefault(lx()),r=new RegExp("[,()]");class n extends e.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}regexMatch(s,a){return this.url.searchParams.append(s,`match.${a}`),this}regexIMatch(s,a){return this.url.searchParams.append(s,`imatch.${a}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}isDistinct(s,a){return this.url.searchParams.append(s,`isdistinct.${a}`),this}in(s,a){const o=Array.from(new Set(a)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:o,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${u}fts${d}.${a}`),this}match(s){return Object.entries(s).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(s,a,o){return this.url.searchParams.append(s,`not.${a}.${o}`),this}or(s,{foreignTable:a,referencedTable:o=a}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,a,o){return this.url.searchParams.append(s,`${a}.${o}`),this}}return Dd.default=n,Dd}var vv;function ux(){if(vv)return Id;vv=1,Object.defineProperty(Id,"__esModule",{value:!0});const e=Ml.__importDefault(X1());class r{constructor(i,{headers:s={},schema:a,fetch:o}){this.url=i,this.headers=new Headers(s),this.schema=a,this.fetch=o}select(i,s){const{head:a=!1,count:o}=s??{},l=a?"HEAD":"GET";let u=!1;const d=(i??"*").split("").map(p=>/\s/.test(p)&&!u?"":(p==='"'&&(u=!u),p)).join("");return this.url.searchParams.set("select",d),o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:a=!0}={}){var o;const l="POST";if(s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((d,p)=>d.concat(Object.keys(p)),[]);if(u.length>0){const d=[...new Set(u)].map(p=>`"${p}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:a=!1,count:o,defaultToNull:l=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((g,f)=>g.concat(Object.keys(f)),[]);if(p.length>0){const g=[...new Set(p)].map(f=>`"${f}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:s}={}){var a;const o="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var s;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return Id.default=r,Id}var yv;function q6(){if(yv)return Rd;yv=1,Object.defineProperty(Rd,"__esModule",{value:!0});const t=Ml,e=t.__importDefault(ux()),r=t.__importDefault(X1());class n{constructor(s,{headers:a={},schema:o,fetch:l}={}){this.url=s,this.headers=new Headers(a),this.schemaName=o,this.fetch=l}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const a=new URL(`${this.url}/${s}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:o=!1,get:l=!1,count:u}={}){var d;let p;const g=new URL(`${this.url}/rpc/${s}`);let f;o||l?(p=o?"HEAD":"GET",Object.entries(a).filter(([S,x])=>x!==void 0).map(([S,x])=>[S,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([S,x])=>{g.searchParams.append(S,x)})):(p="POST",f=a);const k=new Headers(this.headers);return u&&k.set("Prefer",`count=${u}`),new r.default({method:p,url:g,headers:k,schema:this.schemaName,body:f,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Rd.default=n,Rd}Object.defineProperty(hn,"__esModule",{value:!0});var cx=hn.PostgrestError=bx=hn.PostgrestBuilder=yx=hn.PostgrestTransformBuilder=gx=hn.PostgrestFilterBuilder=px=hn.PostgrestQueryBuilder=hx=hn.PostgrestClient=void 0;const Bl=Ml,dx=Bl.__importDefault(q6());var hx=hn.PostgrestClient=dx.default;const fx=Bl.__importDefault(ux());var px=hn.PostgrestQueryBuilder=fx.default;const mx=Bl.__importDefault(X1());var gx=hn.PostgrestFilterBuilder=mx.default;const vx=Bl.__importDefault(lx());var yx=hn.PostgrestTransformBuilder=vx.default;const wx=Bl.__importDefault(ox());var bx=hn.PostgrestBuilder=wx.default;const xx=Bl.__importDefault(ax());cx=hn.PostgrestError=xx.default;var _x=hn.default={PostgrestClient:dx.default,PostgrestQueryBuilder:fx.default,PostgrestFilterBuilder:mx.default,PostgrestTransformBuilder:vx.default,PostgrestBuilder:wx.default,PostgrestError:xx.default};const W6=o3({__proto__:null,get PostgrestBuilder(){return bx},get PostgrestClient(){return hx},get PostgrestError(){return cx},get PostgrestFilterBuilder(){return gx},get PostgrestQueryBuilder(){return px},get PostgrestTransformBuilder(){return yx},default:_x},[hn]),{PostgrestClient:H6,PostgrestQueryBuilder:GC,PostgrestFilterBuilder:KC,PostgrestTransformBuilder:JC,PostgrestBuilder:YC,PostgrestError:QC}=_x||W6;class V6{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const G6="2.86.0",K6=`realtime-js/${G6}`,Sx="1.0.0",J6="2.0.0",wv=Sx,_m=1e4,Y6=1e3,Q6=100;var eo;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(eo||(eo={}));var Or;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Or||(Or={}));var bi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(bi||(bi={}));var Sm;(function(t){t.websocket="websocket"})(Sm||(Sm={}));var to;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(to||(to={}));class X6{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,r,n){var i,s;const a=e.topic,o=(i=e.ref)!==null&&i!==void 0?i:"",l=(s=e.join_ref)!==null&&s!==void 0?s:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},p=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+u.length+p.length,f=new ArrayBuffer(this.HEADER_LENGTH+g);let k=new DataView(f),S=0;k.setUint8(S++,this.KINDS.userBroadcastPush),k.setUint8(S++,l.length),k.setUint8(S++,o.length),k.setUint8(S++,a.length),k.setUint8(S++,u.length),k.setUint8(S++,p.length),k.setUint8(S++,r),Array.from(l,y=>k.setUint8(S++,y.charCodeAt(0))),Array.from(o,y=>k.setUint8(S++,y.charCodeAt(0))),Array.from(a,y=>k.setUint8(S++,y.charCodeAt(0))),Array.from(u,y=>k.setUint8(S++,y.charCodeAt(0))),Array.from(p,y=>k.setUint8(S++,y.charCodeAt(0)));var x=new Uint8Array(f.byteLength+n.byteLength);return x.set(new Uint8Array(f),0),x.set(new Uint8Array(n),f.byteLength),x.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,s,a,o,l]=n;return r({join_ref:i,ref:s,topic:a,event:o,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),a=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+i));l=l+i;const d=n.decode(e.slice(l,l+s));l=l+s;const p=n.decode(e.slice(l,l+a));l=l+a;const g=e.slice(l,e.byteLength),f=o===this.JSON_ENCODING?JSON.parse(n.decode(g)):g,k={type:this.BROADCAST_EVENT,event:d,payload:f};return a>0&&(k.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class kx{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(qt||(qt={}));const bv=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=Z6(a,t,e,i),s),{}):{}},Z6=(t,e,r,n)=>{const i=e.find(o=>o.name===t),s=i==null?void 0:i.type,a=r[t];return s&&!n.includes(s)?Nx(s,a):km(a)},Nx=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return nk(e,r)}switch(t){case qt.bool:return ek(e);case qt.float4:case qt.float8:case qt.int2:case qt.int4:case qt.int8:case qt.numeric:case qt.oid:return tk(e);case qt.json:case qt.jsonb:return rk(e);case qt.timestamp:return ik(e);case qt.abstime:case qt.date:case qt.daterange:case qt.int4range:case qt.int8range:case qt.money:case qt.reltime:case qt.text:case qt.time:case qt.timestamptz:case qt.timetz:case qt.tsrange:case qt.tstzrange:return km(e);default:return km(e)}},km=t=>t,ek=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},tk=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},rk=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},nk=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const a=t.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>Nx(e,o))}return t},ik=t=>typeof t=="string"?t.replace(" ","T"):t,Ax=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Mp{constructor(e,r,n={},i=_m){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var xv;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(xv||(xv={}));class Ku{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ku.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=Ku.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ku.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),a=this.transformState(r),o={},l={};return this.map(s,(u,d)=>{a[u]||(l[u]=d)}),this.map(a,(u,d)=>{const p=s[u];if(p){const g=d.map(x=>x.presence_ref),f=p.map(x=>x.presence_ref),k=d.filter(x=>f.indexOf(x.presence_ref)<0),S=p.filter(x=>g.indexOf(x.presence_ref)<0);k.length>0&&(o[u]=k),S.length>0&&(l[u]=S)}else o[u]=d}),this.syncDiff(s,{joins:o,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var u;const d=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),d.length>0){const p=e[o].map(f=>f.presence_ref),g=d.filter(f=>p.indexOf(f.presence_ref)<0);e[o].unshift(...g)}n(o,d,l)}),this.map(a,(o,l)=>{let u=e[o];if(!u)return;const d=l.map(p=>p.presence_ref);u=u.filter(p=>d.indexOf(p.presence_ref)<0),e[o]=u,i(o,u,l),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _v;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(_v||(_v={}));var Ju;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ju||(Ju={}));var ws;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ws||(ws={}));class Z1{constructor(e,r={config:{}},n){var i,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Or.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Mp(this,bi.join,this.params,this.timeout),this.rejoinTimer=new kx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Or.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Or.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Or.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Or.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Or.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bi.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Ku(this),this.broadcastEndpointURL=Ax(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Or.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Ju.PRESENCE]&&this.bindings[Ju.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,p={},g={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(ws.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(ws.CLOSED)),this.updateJoinPayload(Object.assign({config:g},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var k;if(this.socket.setAuth(),f===void 0){e==null||e(ws.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,x=(k=S==null?void 0:S.length)!==null&&k!==void 0?k:0,y=[];for(let _=0;_<x;_++){const b=S[_],{filter:{event:A,schema:M,table:G,filter:H}}=b,F=f&&f[_];if(F&&F.event===A&&F.schema===M&&F.table===G&&F.filter===H)y.push(Object.assign(Object.assign({},b),{id:F.id}));else{this.unsubscribe(),this.state=Or.errored,e==null||e(ws.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(ws.SUBSCRIBED);return}}).receive("error",f=>{this.state=Or.errored,e==null||e(ws.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ws.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Or.joined&&e===Ju.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Or.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bi.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Mp(this,bi.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Or.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Mp(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Q6){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:d}=bi;if(n&&[o,l,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let g=this._onMessage(a,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var k,S,x;return((k=f.filter)===null||k===void 0?void 0:k.event)==="*"||((x=(S=f.filter)===null||S===void 0?void 0:S.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(f=>f.callback(g,n)):(s=this.bindings[a])===null||s===void 0||s.filter(f=>{var k,S,x,y,_,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const A=f.id,M=(k=f.filter)===null||k===void 0?void 0:k.event;return A&&((S=r.ids)===null||S===void 0?void 0:S.includes(A))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const A=(_=(y=f==null?void 0:f.filter)===null||y===void 0?void 0:y.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return A==="*"||A===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof g=="object"&&"ids"in g){const k=g.data,{schema:S,table:x,commit_timestamp:y,type:_,errors:b}=k;g=Object.assign(Object.assign({},{schema:S,table:x,commit_timestamp:y,eventType:_,new:{},old:{},errors:b}),this._getPayloadRecords(k))}f.callback(g,n)})}_isClosed(){return this.state===Or.closed}_isJoined(){return this.state===Or.joined}_isJoining(){return this.state===Or.joining}_isLeaving(){return this.state===Or.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Z1.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(bi.close,{},e)}_onError(e){this._on(bi.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Or.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=bv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=bv(e.columns,e.old_record)),r}}const Bp=()=>{},Ud={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},sk=[1e3,2e3,5e3,1e4],ak=1e4,ok=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lk{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=_m,this.transport=null,this.heartbeatIntervalMs=Ud.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bp,this.ref=0,this.reconnectTimer=null,this.vsn=wv,this.logger=Bp,this.conn=null,this.sendBuffer=[],this.serializer=new X6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Sm.websocket}`,this.httpEndpoint=Ax(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=V6.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case eo.connecting:return to.Connecting;case eo.open:return to.Open;case eo.closing:return to.Closing;default:return to.Closed}}isConnected(){return this.connectionState()===to.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new Z1(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Y6,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ud.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:a}=r,o=a?`(${a})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,s,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===eo.open||this.conn.readyState===eo.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(bi.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([ok],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:K6};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(bi.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new kx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ud.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,a,o,l,u,d,p,g,f;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:_m,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Ud.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:Bp,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:wv,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:k=>sk[k-1]||ak,this.vsn){case Sx:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(k,S)=>S(JSON.stringify(k)),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:(k,S)=>S(JSON.parse(k));break;case J6:this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class xf extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function nr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class uk extends xf{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Nm extends xf{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const eg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),ck=()=>Response,Am=t=>{if(Array.isArray(t))return t.map(r=>Am(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Am(n)}),e},dk=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},hk=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),Up=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},fk=(t,e,r)=>Oe(void 0,void 0,void 0,function*(){const n=yield ck();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const s=t.status||500,a=(i==null?void 0:i.statusCode)||s+"";e(new uk(Up(i),s,a))}).catch(i=>{e(new Nm(Up(i),i))}):e(new Nm(Up(t),t))}),pk=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(dk(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function Lc(t,e,r,n,i,s){return Oe(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,pk(e,n,i,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>fk(l,o,n))})})}function gc(t,e,r,n){return Oe(this,void 0,void 0,function*(){return Lc(t,"GET",e,r,n)})}function yi(t,e,r,n,i){return Oe(this,void 0,void 0,function*(){return Lc(t,"POST",e,n,i,r)})}function jm(t,e,r,n,i){return Oe(this,void 0,void 0,function*(){return Lc(t,"PUT",e,n,i,r)})}function mk(t,e,r,n){return Oe(this,void 0,void 0,function*(){return Lc(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function tg(t,e,r,n,i){return Oe(this,void 0,void 0,function*(){return Lc(t,"DELETE",e,n,i,r)})}class gk{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Oe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(nr(e))return{data:null,error:e};throw e}})}}var jx;class vk{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[jx]="BlobDownloadBuilder",this.promise=null}asStream(){return new gk(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Oe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(nr(e))return{data:null,error:e};throw e}})}}jx=Symbol.toStringTag;const yk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class wk{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=eg(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return Oe(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},Sv),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),l&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(l))):(s=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),p=yield(e=="PUT"?jm:yi)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:p.Id,fullPath:p.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(nr(s))return{data:null,error:s};throw s}})}upload(e,r,n){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return Oe(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:Sv.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const p=yield jm(this.fetch,o.toString(),l,{headers:d});return{data:{path:s,fullPath:p.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(nr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return Oe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield yi(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new xf("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nr(n))return{data:null,error:n};throw n}})}update(e,r,n){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Oe(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nr(i))return{data:null,error:i};throw i}})}copy(e,r,n){return Oe(this,void 0,void 0,function*(){try{return{data:{path:(yield yi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nr(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return Oe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield yi(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nr(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return Oe(this,void 0,void 0,function*(){try{const i=yield yi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nr(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"",o=this._getFinalPath(e),l=()=>gc(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0});return new vk(l,this.shouldThrowOnError)}info(e){return Oe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield gc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Am(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nr(n))return{data:null,error:n};throw n}})}exists(e){return Oe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield mk(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nr(n)&&n instanceof Nm){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield tg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}})}list(e,r,n){return Oe(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},yk),r),{prefix:e||""});return{data:yield yi(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nr(i))return{data:null,error:i};throw i}})}listV2(e,r){return Oe(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield yi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nr(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Ex="2.86.0",Lx={"X-Client-Info":`storage-js/${Ex}`};class bk{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lx),r),this.fetch=eg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Oe(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield gc(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}})}getBucket(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield gc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}})}createBucket(e){return Oe(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield yi(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nr(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return Oe(this,void 0,void 0,function*(){try{return{data:yield jm(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nr(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield tg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var vc=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function xk(t,e,r){const n=new URL(e,t);if(r)for(const[i,s]of Object.entries(r))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function _k(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function Sk(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:s,headers:a}){const o=xk(t.baseUrl,n,i),l=await _k(t.auth),u=await e(o,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...l,...a},body:s?JSON.stringify(s):void 0}),d=await u.text(),p=(u.headers.get("content-type")||"").includes("application/json"),g=p&&d?JSON.parse(d):d;if(!u.ok){const f=p?g:void 0,k=f==null?void 0:f.error;throw new vc((k==null?void 0:k.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:k==null?void 0:k.type,icebergCode:k==null?void 0:k.code,details:f})}return{status:u.status,headers:u.headers,data:g}}}}function zd(t){return t.join("")}var kk=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:zd(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zd(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zd(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zd(t.namespace)}`}),!0}catch(e){if(e instanceof vc&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof vc&&r.status===409)return;throw r}}};function zo(t){return t.join("")}var Nk=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zo(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${zo(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${zo(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zo(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zo(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zo(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof vc&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof vc&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},Ak=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Sk({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new kk(this.client,e),this.tableOps=new Nk(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class jk{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lx),r),this.fetch=eg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}})}listBuckets(e){return Oe(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield gc(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield tg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}})}from(e){if(!hk(e))throw new xf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new Ak({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>Oe(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const rg={"X-Client-Info":`storage-js/${Ex}`,"Content-Type":"application/json"};class Cx extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function In(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class zp extends Cx{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ek extends Cx{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var kv;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(kv||(kv={}));const ng=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Lk=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Nv=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ck=(t,e,r)=>Oe(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t.status||500,s=t;if(typeof s.json=="function")s.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";e(new zp(Nv(a),i,o))}).catch(()=>{const a=i+"",o=s.statusText||`HTTP ${i} error`;e(new zp(o,i,a))});else{const a=i+"",o=s.statusText||`HTTP ${i} error`;e(new zp(o,i,a))}}else e(new Ek(Nv(t),t))}),Pk=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(Lk(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function Tk(t,e,r,n,i,s){return Oe(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,Pk(e,n,i,s)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>Ck(l,o,n))})})}function Dn(t,e,r,n,i){return Oe(this,void 0,void 0,function*(){return Tk(t,"POST",e,n,i,r)})}class Ok{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rg),r),this.fetch=ng(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Oe(this,void 0,void 0,function*(){try{return{data:(yield Dn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(In(r))return{data:null,error:r};throw r}})}getIndex(e,r){return Oe(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(In(n))return{data:null,error:n};throw n}})}listIndexes(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(In(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return Oe(this,void 0,void 0,function*(){try{return{data:(yield Dn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(In(n))return{data:null,error:n};throw n}})}}class Rk{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rg),r),this.fetch=ng(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Oe(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Dn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(In(r))return{data:null,error:r};throw r}})}getVectors(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(In(r))return{data:null,error:r};throw r}})}listVectors(e){return Oe(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Dn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(In(r))return{data:null,error:r};throw r}})}queryVectors(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(In(r))return{data:null,error:r};throw r}})}deleteVectors(e){return Oe(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Dn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(In(r))return{data:null,error:r};throw r}})}}class Ik{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rg),r),this.fetch=ng(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Oe(this,void 0,void 0,function*(){try{return{data:(yield Dn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(In(r))return{data:null,error:r};throw r}})}getBucket(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(In(r))return{data:null,error:r};throw r}})}listBuckets(){return Oe(this,arguments,void 0,function*(e={}){try{return{data:yield Dn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(In(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Oe(this,void 0,void 0,function*(){try{return{data:(yield Dn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(In(r))return{data:null,error:r};throw r}})}}class Dk extends Ik{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Fk(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Oe(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Oe(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Oe(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Oe(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class Fk extends Ok{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Oe(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Oe(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Oe(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Oe(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Mk(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Mk extends Rk{constructor(e,r,n,i,s){super(e,r,s),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Oe(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Oe(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Oe(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Oe(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Oe(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Bk extends bk{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new wk(this.url,this.headers,e,this.fetch)}get vectors(){return new Dk(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new jk(this.url+"/iceberg",this.headers,this.fetch)}}const Uk="2.86.0";let Fu="";typeof Deno<"u"?Fu="deno":typeof document<"u"?Fu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fu="react-native":Fu="node";const zk={"X-Client-Info":`supabase-js-${Fu}/${Uk}`},$k={headers:zk},qk={schema:"public"},Wk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Hk={},Vk=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Gk=()=>Headers,Kk=(t,e,r)=>{const n=Vk(r),i=Gk();return async(s,a)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},a),{headers:u}))}};function Jk(t){return t.endsWith("/")?t:t+"/"}function Yk(t,e){var r,n;const{db:i,auth:s,realtime:a,global:o}=t,{db:l,auth:u,realtime:d,global:p}=e,g={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},p),o),{headers:Object.assign(Object.assign({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function Qk(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Jk(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Px="2.86.0",Yo=30*1e3,Em=3,$p=Em*Yo,Xk="http://localhost:9999",Zk="supabase.auth.token",eN={"X-Client-Info":`gotrue-js/${Px}`},Lm="X-Supabase-Api-Version",Tx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rN=10*60*1e3;class yc extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function qe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class nN extends yc{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function iN(t){return qe(t)&&t.name==="AuthApiError"}class ro extends yc{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class La extends yc{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class On extends La{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sN(t){return qe(t)&&t.name==="AuthSessionMissingError"}class $o extends La{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $d extends La{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class qd extends La{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function aN(t){return qe(t)&&t.name==="AuthImplicitGrantRedirectError"}class Av extends La{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Cm extends La{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function qp(t){return qe(t)&&t.name==="AuthRetryableFetchError"}class jv extends La{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Pm extends La{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Vh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ev=` 	
\r=`.split(""),oN=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ev.length;e+=1)t[Ev[e].charCodeAt(0)]=-2;for(let e=0;e<Vh.length;e+=1)t[Vh[e].charCodeAt(0)]=e;return t})();function Lv(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Vh[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Vh[n]),e.queuedBits-=6}}function Ox(t,e,r){const n=oN[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Cv(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{cN(a,n,r)};for(let a=0;a<t.length;a+=1)Ox(t.charCodeAt(a),i,s);return e.join("")}function lN(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function uN(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}lN(n,e)}}function cN(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function wl(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Ox(t.charCodeAt(i),r,n);return new Uint8Array(e)}function dN(t){const e=[];return uN(t,r=>e.push(r)),new Uint8Array(e)}function uo(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>Lv(i,r,n)),Lv(null,r,n),e.join("")}function hN(t){return Math.round(Date.now()/1e3)+t}function fN(){return Symbol("auth-callback")}const Vr=()=>typeof window<"u"&&typeof document<"u",Ka={tested:!1,writable:!1},Rx=()=>{if(!Vr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ka.tested)return Ka.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ka.tested=!0,Ka.writable=!0}catch{Ka.tested=!0,Ka.writable=!1}return Ka.writable};function pN(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const Ix=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),mN=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Qo=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ja=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Zs=async(t,e)=>{await t.removeItem(e)};class _f{constructor(){this.promise=new _f.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}_f.promiseConstructor=Promise;function Wp(t){const e=t.split(".");if(e.length!==3)throw new Pm("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!tN.test(e[n]))throw new Pm("JWT not in base64url format");return{header:JSON.parse(Cv(e[0])),payload:JSON.parse(Cv(e[1])),signature:wl(e[2]),raw:{header:e[0],payload:e[1]}}}async function gN(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function vN(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){n(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function yN(t){return("0"+t.toString(16)).substr(-2)}function wN(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,yN).join("")}async function bN(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function xN(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await bN(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qo(t,e,r=!1){const n=wN();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Qo(t,`${e}-code-verifier`,i);const s=await xN(n);return[s,n===s?"plain":"s256"]}const _N=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function SN(t){const e=t.headers.get(Lm);if(!e||!e.match(_N))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function kN(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function NN(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const AN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Wo(t){if(!AN.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Hp(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function jN(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function Pv(t){return JSON.parse(JSON.stringify(t))}const Xa=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),EN=[502,503,504];async function Tv(t){var e;if(!mN(t))throw new Cm(Xa(t),0);if(EN.includes(t.status))throw new Cm(Xa(t),t.status);let r;try{r=await t.json()}catch(s){throw new ro(Xa(s),s)}let n;const i=SN(t);if(i&&i.getTime()>=Tx["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new jv(Xa(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new On}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new jv(Xa(r),t.status,r.weak_password.reasons);throw new nN(Xa(r),t.status||500,n)}const LN=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Ze(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[Lm]||(s[Lm]=Tx["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await CN(t,e,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function CN(t,e,r,n,i,s){const a=LN(e,n,i,s);let o;try{o=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new Cm(Xa(l),0)}if(o.ok||await Tv(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await Tv(l)}}function gi(t){var e;let r=null;ON(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=hN(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Ov(t){const e=gi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ca(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function PN(t){return{data:t,error:null}}function TN(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,a=Fl(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function Rv(t){return t}function ON(t){return t.access_token&&t.refresh_token&&t.expires_in}const Vp=["global","local","others"];class RN{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Ix(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Vp[0]){if(Vp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Vp.join(", ")}`);try{return await Ze(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(qe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ca})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Fl(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:TN,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(qe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Ze(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ca})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await Ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Rv});if(d.error)throw d.error;const p=await d.json(),g=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(k=>{const S=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(k.split(";")[1].split("=")[1]);u[`${x}Page`]=S}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(qe(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Wo(e);try{return await Ze(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ca})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Wo(e);try{return await Ze(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:ca})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Wo(e);try{return await Ze(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:ca})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Wo(e.userId);try{const{data:r,error:n}=await Ze(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Wo(e.userId),Wo(e.id);try{return{data:await Ze(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,s,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await Ze(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Rv});if(d.error)throw d.error;const p=await d.json(),g=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(k=>{const S=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(k.split(";")[1].split("=")[1]);u[`${x}Page`]=S}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(qe(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await Ze(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Ze(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Ze(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(qe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Ze(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Ze(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(qe(r))return{data:null,error:r};throw r}}}function Iv(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Ho={debug:!!(globalThis&&Rx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Dx extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class IN extends Dx{}async function DN(t,e,r){Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new IN(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ho.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function FN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Fx(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function MN(t){return parseInt(t,16)}function BN(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function UN(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:l,resources:u,scheme:d,uri:p,version:g}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=Fx(t.address),k=d?`${d}://${n}`:n,S=t.statement?`${t.statement}
`:"",x=`${k} wants you to sign in with your Ethereum account:
${f}

${S}`;let y=`URI: ${p}
Version: ${g}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),o&&(y+=`
Not Before: ${o.toISOString()}`),l&&(y+=`
Request ID: ${l}`),u){let _=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);_+=`
- ${b}`}y+=_}return`${x}
${y}`}class Nr extends Error{constructor({message:e,code:r,cause:n,name:i}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class Gh extends Nr{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function zN({error:t,options:e}){var r,n,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Nr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Nr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Nr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Nr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Nr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Nr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Nr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Nr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Mx(a)){if(s.rp.id!==a)return new Nr({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Nr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Nr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Nr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Nr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function $N({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Nr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Nr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Mx(n)){if(r.rpId!==n)return new Nr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Nr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Nr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Nr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class qN{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const WN=new qN;function HN(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=Fl(t,["challenge","user","excludeCredentials"]),s=wl(e).buffer,a=Object.assign(Object.assign({},r),{id:wl(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:s,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:wl(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function VN(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Fl(t,["challenge","allowCredentials"]),i=wl(e).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:wl(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function GN(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:uo(new Uint8Array(t.response.attestationObject)),clientDataJSON:uo(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function KN(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:uo(new Uint8Array(i.authenticatorData)),clientDataJSON:uo(new Uint8Array(i.clientDataJSON)),signature:uo(new Uint8Array(i.signature)),userHandle:i.userHandle?uo(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Mx(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Dv(){var t,e;return!!(Vr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function JN(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Gh("Browser returned unexpected credential type",e)}:{data:null,error:new Gh("Empty credential response",e)}}catch(e){return{data:null,error:zN({error:e,options:t})}}}async function YN(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Gh("Browser returned unexpected credential type",e)}:{data:null,error:new Gh("Empty credential response",e)}}catch(e){return{data:null,error:$N({error:e,options:t})}}}const QN={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},XN={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Kh(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))n[s]=a;else if(r(a))n[s]=a;else if(e(a)){const o=n[s];e(o)?n[s]=Kh(o,a):n[s]=Kh(a)}else n[s]=a}return n}function ZN(t,e){return Kh(QN,t,e||{})}function e8(t,e){return Kh(XN,t,e||{})}class t8{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},s){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:o};const l=i??WN.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=ZN(a.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:d,error:p}=await JN({publicKey:u,signal:l});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:p}}case"request":{const u=e8(a.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:d,error:p}=await YN(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:p}}}}catch(a){return qe(a)?{data:null,error:a}:{data:null,error:new ro("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new yc("rpId is required for WebAuthn authentication")};try{if(!Dv())return{data:null,error:new ro("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return qe(a)?{data:null,error:a}:{data:null,error:new ro("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new yc("rpId is required for WebAuthn registration")};try{if(!Dv())return{data:null,error:new ro("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var p;return(p=d.data)===null||p===void 0?void 0:p.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return qe(a)?{data:null,error:a}:{data:null,error:new ro("Unexpected error in register",a)}}}}FN();const r8={url:Xk,storageKey:Zk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:eN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Fv(t,e,r){return await r()}const Vo={};class wc{get jwks(){var e,r;return(r=(e=Vo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Vo[this.storageKey]=Object.assign(Object.assign({},Vo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Vo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Vo[this.storageKey]=Object.assign(Object.assign({},Vo[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},r8),e);if(this.storageKey=s.storageKey,this.instanceID=(r=wc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,wc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Vr()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new RN({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ix(s.fetch),this.lock=s.lock||Fv,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:Vr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=DN:this.lock=Fv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new t8(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Rx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Iv(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Iv(this.memoryStorage)),Vr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Px}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Vr()&&(r=pN(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Vr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),aN(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return qe(r)?this._returnResult({error:r}):this._returnResult({error:new ro("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:gi}),{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(qe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:d,password:p,options:g}=e;let f=null,k=null;this.flowType==="pkce"&&([f,k]=await qo(this.storage,this.storageKey)),s=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:p,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:f,code_challenge_method:k},xform:gi})}else if("phone"in e){const{phone:d,password:p,options:g}=e;s=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:gi})}else throw new $d("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(qe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:a,options:o}=e;r=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ov})}else if("phone"in e){const{phone:s,password:a,options:o}=e;r=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ov})}else throw new $d("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new $o;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,s,a,o,l,u,d,p,g;let f,k;if("message"in e)f=e.message,k=e.signature;else{const{chain:S,wallet:x,statement:y,options:_}=e;let b;if(Vr())if(typeof x=="object")b=x;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")b=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=x}const A=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href),M=await b.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const G=Fx(M[0]);let H=(n=_==null?void 0:_.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!H){const R=await b.request({method:"eth_chainId"});H=MN(R)}const F={domain:A.host,address:G,statement:y,uri:A.href,version:"1",chainId:H,nonce:(i=_==null?void 0:_.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=_==null?void 0:_.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=_==null?void 0:_.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=_==null?void 0:_.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=_==null?void 0:_.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=_==null?void 0:_.signInWithEthereum)===null||d===void 0?void 0:d.resources};f=UN(F),k=await b.request({method:"personal_sign",params:[BN(f),G]})}try{const{data:S,error:x}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:k},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:gi});if(x)throw x;if(!S||!S.session||!S.user){const y=new $o;return this._returnResult({data:{user:null,session:null},error:y})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:x})}catch(S){if(qe(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(e){var r,n,i,s,a,o,l,u,d,p,g,f;let k,S;if("message"in e)k=e.message,S=e.signature;else{const{chain:x,wallet:y,statement:_,options:b}=e;let A;if(Vr())if(typeof y=="object")A=y;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))A=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=y}const M=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in A&&A.signIn){const G=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),_?{statement:_}:null));let H;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")H=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)H=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)k=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),S=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${M.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(i=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((p=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",...b.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const G=await A.signMessage(new TextEncoder().encode(k),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=G}}try{const{data:x,error:y}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:uo(S)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:gi});if(y)throw y;if(!x||!x.session||!x.user){const _=new $o;return this._returnResult({data:{user:null,session:null},error:_})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:y})}catch(x){if(qe(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const r=await Ja(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:gi});if(await Zs(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const o=new $o;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(qe(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=e,o=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:gi}),{data:l,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new $o;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,s,a;try{if("email"in e){const{email:o,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await qo(this.storage,this.storageKey));const{error:p}=await Ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:d}=await Ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new $d("You must provide either an email or phone number.")}catch(o){if(qe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await Ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:gi});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(qe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,s,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await qo(this.storage,this.storageKey));const u=await Ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:PN});return!((s=u.data)===null||s===void 0)&&s.url&&Vr()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(qe(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new On;const{error:i}=await Ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(qe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:a}=await Ze(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:a,error:o}=await Ze(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new $d("You must provide either an email or phone number and a type")}catch(r){if(qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ja(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<$p:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await Ja(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Hp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=jN(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ca}):await this._useSession(async r=>{var n,i,s;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new On}:await Ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:ca})})}catch(r){if(qe(r))return sN(r)&&(await this._removeSession(),await Zs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new On;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await qo(this.storage,this.storageKey));const{data:u,error:d}=await Ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:ca});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(qe(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new On;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=Wp(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(qe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new On;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Vr())throw new qd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new qd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Av("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Av("No code detected.");const{data:_,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=e;if(!s||!o||!a||!u)throw new qd("No session defined in URL");const d=Math.round(Date.now()/1e3),p=parseInt(o);let g=d+p;l&&(g=parseInt(l));const f=g-d;f*1e3<=Yo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${p}s`);const k=g-p;d-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,g,d):d-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,g,d);const{data:S,error:x}=await this._getUser(s);if(x)throw x;const y={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:g,refresh_token:a,token_type:u,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:e.type},error:null})}catch(n){if(qe(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ja(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({error:s});const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(iN(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await Zs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=fN(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await qo(this.storage,this.storageKey,!0));try{return await Ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(qe(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,o,l,u,d;const{data:p,error:g}=s;if(g)throw g;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ze(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Vr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(qe(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:a,provider:o,token:l,access_token:u,nonce:d}=e,p=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:gi}),{data:g,error:f}=p;return f?this._returnResult({data:{user:null,session:null},error:f}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new $o}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:f}))}catch(i){if(qe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await Ze(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await vN(async i=>(i>0&&await gN(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:gi})),(i,s)=>{const a=200*Math.pow(2,i);return s&&qp(s)&&Date.now()+a-n<Yo})}catch(n){if(this._debug(r,"error",n),qe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Vr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Ja(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Ja(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Qo(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Hp()}else if(i&&!i.user&&!i.user){const a=await Ja(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Zs(this.storage,this.storageKey+"-user"),await Qo(this.storage,this.storageKey,i)):i.user=Hp()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<$p;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${$p}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),qp(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new On;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new _f;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new On;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),qe(s)){const a={data:null,error:s};return qp(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Qo(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=Pv(i);await Qo(this.storage,this.storageKey,s)}else{const i=Pv(r);await Qo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Zs(this.storage,this.storageKey),await Zs(this.storage,this.storageKey+"-code-verifier"),await Zs(this.storage,this.storageKey+"-user"),this.userStorage&&await Zs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Vr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Yo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Yo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Yo}ms, refresh threshold is ${Em} ticks`),i<=Em&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Dx)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await qo(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await Ze(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await Ze(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?GN(e.webauthn.credential_response):KN(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await Ze(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=await Ze(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:HN(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:VN(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Wp(n.access_token);let a=null;s.aal&&(a=s.aal);let o=a;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const u=s.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Ze(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new On})})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new On});const a=await Ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Vr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(qe(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new On});const a=await Ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Vr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(qe(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Ze(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new On})})}catch(e){if(qe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Ze(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new On})})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+rN>i)return n;const{data:s,error:a}=await Ze(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:f,error:k}=await this.getSession();if(k||!f.session)return this._returnResult({data:null,error:k});n=f.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=Wp(n);r!=null&&r.allowExpired||kN(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:s,header:i,signature:a},error:null}}const d=NN(i.alg),p=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,p,a,dN(`${o}.${l}`)))throw new Pm("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(qe(n))return this._returnResult({data:null,error:n});throw n}}}wc.nextInstanceID={};const n8=wc;class i8 extends n8{constructor(e){super(e)}}class s8{constructor(e,r,n){var i,s,a;this.supabaseUrl=e,this.supabaseKey=r;const o=Qk(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:qk,realtime:Hk,auth:Object.assign(Object.assign({},Wk),{storageKey:l}),global:$k},d=Yk(n??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=Kk(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new H6(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Bk(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new $6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:a,flowType:o,lock:l,debug:u,throwOnError:d},p,g){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new i8({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),p),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:o,lock:l,debug:u,throwOnError:d,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(k=>k.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new lk(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const a8=(t,e,r)=>new s8(t,e,r);function o8(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}o8()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const l8="https://jpcyqojysjgpybikfgcd.supabase.co",u8="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpwY3lxb2p5c2pncHliaWtmZ2NkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQzNjc4OTQsImV4cCI6MjA3OTk0Mzg5NH0.3y70J292fK8tchUZcp-lm2yKhrjp9bWtdzH8uCnW8Ls",pt=a8(l8,u8),Bx=ee.createContext({user:null,loading:!0,signOut:async()=>{}}),Rs=()=>ee.useContext(Bx);function c8({children:t}){const[e,r]=ee.useState(null),[n,i]=ee.useState(!0);ee.useEffect(()=>{pt.auth.getSession().then(({data:{session:o}})=>{r((o==null?void 0:o.user)??null)}).catch(o=>{console.error("Auth initialization error:",o)}).finally(()=>{i(!1)});const{data:{subscription:a}}=pt.auth.onAuthStateChange((o,l)=>{r((l==null?void 0:l.user)??null),i(!1)});return()=>a.unsubscribe()},[]),ee.useEffect(()=>{if(!e)return;const a=new Date,l=new Date(a.getFullYear(),a.getMonth(),a.getDate()+1,0,0,0).getTime()-a.getTime(),u=setTimeout(()=>{s()},l);return()=>clearTimeout(u)},[e]);const s=async()=>{await pt.auth.signOut()};return m.jsx(Bx.Provider,{value:{user:e,loading:n,signOut:s},children:t})}/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Mv="popstate";function d8(t={}){function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return Tm("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:bc(i)}return f8(e,r,null,t)}function tr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ii(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function h8(){return Math.random().toString(36).substring(2,10)}function Bv(t,e){return{usr:t.state,key:t.key,idx:e}}function Tm(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ul(e):e,state:r,key:e&&e.key||n||h8()}}function bc({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ul(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function f8(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o="POP",l=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function p(){o="POP";let x=d(),y=x==null?null:x-u;u=x,l&&l({action:o,location:S.location,delta:y})}function g(x,y){o="PUSH";let _=Tm(S.location,x,y);u=d()+1;let b=Bv(_,u),A=S.createHref(_);try{a.pushState(b,"",A)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(A)}s&&l&&l({action:o,location:S.location,delta:1})}function f(x,y){o="REPLACE";let _=Tm(S.location,x,y);u=d();let b=Bv(_,u),A=S.createHref(_);a.replaceState(b,"",A),s&&l&&l({action:o,location:S.location,delta:0})}function k(x){return p8(x)}let S={get action(){return o},get location(){return t(i,a)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Mv,p),l=x,()=>{i.removeEventListener(Mv,p),l=null}},createHref(x){return e(i,x)},createURL:k,encodeLocation(x){let y=k(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:g,replace:f,go(x){return a.go(x)}};return S}function p8(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),tr(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:bc(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Ux(t,e,r="/"){return m8(t,e,r,!1)}function m8(t,e,r,n){let i=typeof e=="string"?Ul(e):e,s=Ps(i.pathname||"/",r);if(s==null)return null;let a=zx(t);g8(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=j8(s);o=N8(a[l],u,n)}return o}function zx(t,e=[],r=[],n="",i=!1){let s=(a,o,l=i,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&l)return;tr(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let p=As([n,d.relativePath]),g=r.concat(d);a.children&&a.children.length>0&&(tr(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),zx(a.children,e,g,p,l)),!(a.path==null&&!a.index)&&e.push({path:p,score:S8(p,a.index),routesMeta:g})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let u of $x(a.path))s(a,o,!0,u)}),e}function $x(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=$x(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function g8(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:k8(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var v8=/^:[\w-]+$/,y8=3,w8=2,b8=1,x8=10,_8=-2,Uv=t=>t==="*";function S8(t,e){let r=t.split("/"),n=r.length;return r.some(Uv)&&(n+=_8),e&&(n+=w8),r.filter(i=>!Uv(i)).reduce((i,s)=>i+(v8.test(s)?y8:s===""?b8:x8),n)}function k8(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function N8(t,e,r=!1){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",p=Jh({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),g=l.route;if(!p&&u&&r&&!n[n.length-1].route.index&&(p=Jh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:As([s,p.pathname]),pathnameBase:T8(As([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=As([s,p.pathnameBase]))}return a}function Jh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=A8(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:p},g)=>{if(d==="*"){let k=o[g]||"";a=s.slice(0,s.length-k.length).replace(/(.)\/+$/,"$1")}const f=o[g];return p&&!f?u[d]=void 0:u[d]=(f||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function A8(t,e=!1,r=!0){ii(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function j8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ii(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ps(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}var E8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,L8=t=>E8.test(t);function C8(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Ul(t):t,s;if(r)if(L8(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),ii(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${r}`)}r.startsWith("/")?s=zv(r.substring(1),"/"):s=zv(r,e)}else s=e;return{pathname:s,search:O8(n),hash:R8(i)}}function zv(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Gp(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function P8(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function ig(t){let e=P8(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function sg(t,e,r,n=!1){let i;typeof t=="string"?i=Ul(t):(i={...t},tr(!i.pathname||!i.pathname.includes("?"),Gp("?","pathname","search",i)),tr(!i.pathname||!i.pathname.includes("#"),Gp("#","pathname","hash",i)),tr(!i.search||!i.search.includes("#"),Gp("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let p=e.length-1;if(!n&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}o=p>=0?e[p]:"/"}let l=C8(i,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var As=t=>t.join("/").replace(/\/\/+/g,"/"),T8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),O8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,R8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function I8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var qx=["POST","PUT","PATCH","DELETE"];new Set(qx);var D8=["GET",...qx];new Set(D8);var zl=ee.createContext(null);zl.displayName="DataRouter";var Sf=ee.createContext(null);Sf.displayName="DataRouterState";ee.createContext(!1);var Wx=ee.createContext({isTransitioning:!1});Wx.displayName="ViewTransition";var F8=ee.createContext(new Map);F8.displayName="Fetchers";var M8=ee.createContext(null);M8.displayName="Await";var Ai=ee.createContext(null);Ai.displayName="Navigation";var Cc=ee.createContext(null);Cc.displayName="Location";var Ji=ee.createContext({outlet:null,matches:[],isDataRoute:!1});Ji.displayName="Route";var ag=ee.createContext(null);ag.displayName="RouteError";function B8(t,{relative:e}={}){tr($l(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=ee.useContext(Ai),{hash:i,pathname:s,search:a}=Pc(t,{relative:e}),o=s;return r!=="/"&&(o=s==="/"?r:As([r,s])),n.createHref({pathname:o,search:a,hash:i})}function $l(){return ee.useContext(Cc)!=null}function Is(){return tr($l(),"useLocation() may be used only in the context of a <Router> component."),ee.useContext(Cc).location}var Hx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Vx(t){ee.useContext(Ai).static||ee.useLayoutEffect(t)}function ji(){let{isDataRoute:t}=ee.useContext(Ji);return t?X8():U8()}function U8(){tr($l(),"useNavigate() may be used only in the context of a <Router> component.");let t=ee.useContext(zl),{basename:e,navigator:r}=ee.useContext(Ai),{matches:n}=ee.useContext(Ji),{pathname:i}=Is(),s=JSON.stringify(ig(n)),a=ee.useRef(!1);return Vx(()=>{a.current=!0}),ee.useCallback((l,u={})=>{if(ii(a.current,Hx),!a.current)return;if(typeof l=="number"){r.go(l);return}let d=sg(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:As([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,s,i,t])}ee.createContext(null);function Pc(t,{relative:e}={}){let{matches:r}=ee.useContext(Ji),{pathname:n}=Is(),i=JSON.stringify(ig(r));return ee.useMemo(()=>sg(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function z8(t,e){return Gx(t,e)}function Gx(t,e,r,n,i){var _;tr($l(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=ee.useContext(Ai),{matches:a}=ee.useContext(Ji),o=a[a.length-1],l=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",p=o&&o.route;{let b=p&&p.path||"";Kx(u,!p||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let g=Is(),f;if(e){let b=typeof e=="string"?Ul(e):e;tr(d==="/"||((_=b.pathname)==null?void 0:_.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${b.pathname}" was given in the \`location\` prop.`),f=b}else f=g;let k=f.pathname||"/",S=k;if(d!=="/"){let b=d.replace(/^\//,"").split("/");S="/"+k.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=Ux(t,{pathname:S});ii(p||x!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),ii(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=V8(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:As([d,s.encodeLocation?s.encodeLocation(b.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:As([d,s.encodeLocation?s.encodeLocation(b.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathnameBase])})),a,r,n,i);return e&&y?ee.createElement(Cc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},y):y}function $8(){let t=Q8(),e=I8(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=ee.createElement(ee.Fragment,null,ee.createElement("p",null," Hey developer "),ee.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ee.createElement("code",{style:s},"ErrorBoundary")," or"," ",ee.createElement("code",{style:s},"errorElement")," prop on your route.")),ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},e),r?ee.createElement("pre",{style:i},r):null,a)}var q8=ee.createElement($8,null),W8=class extends ee.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?ee.createElement(Ji.Provider,{value:this.props.routeContext},ee.createElement(ag.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function H8({routeContext:t,match:e,children:r}){let n=ee.useContext(zl);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),ee.createElement(Ji.Provider,{value:t},r)}function V8(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,a=r==null?void 0:r.errors;if(a!=null){let d=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);tr(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let o=!1,l=-1;if(r)for(let d=0;d<s.length;d++){let p=s[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(l=d),p.route.id){let{loaderData:g,errors:f}=r,k=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!f||f[p.route.id]===void 0);if(p.route.lazy||k){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let u=r&&n?(d,p)=>{var g,f;n(d,{location:r.location,params:((f=(g=r.matches)==null?void 0:g[0])==null?void 0:f.params)??{},errorInfo:p})}:void 0;return s.reduceRight((d,p,g)=>{let f,k=!1,S=null,x=null;r&&(f=a&&p.route.id?a[p.route.id]:void 0,S=p.route.errorElement||q8,o&&(l<0&&g===0?(Kx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,x=null):l===g&&(k=!0,x=p.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,g+1)),_=()=>{let b;return f?b=S:k?b=x:p.route.Component?b=ee.createElement(p.route.Component,null):p.route.element?b=p.route.element:b=d,ee.createElement(H8,{match:p,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:b})};return r&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?ee.createElement(W8,{location:r.location,revalidation:r.revalidation,component:S,error:f,children:_(),routeContext:{outlet:null,matches:y,isDataRoute:!0},onError:u}):_()},null)}function og(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G8(t){let e=ee.useContext(zl);return tr(e,og(t)),e}function K8(t){let e=ee.useContext(Sf);return tr(e,og(t)),e}function J8(t){let e=ee.useContext(Ji);return tr(e,og(t)),e}function lg(t){let e=J8(t),r=e.matches[e.matches.length-1];return tr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function Y8(){return lg("useRouteId")}function Q8(){var n;let t=ee.useContext(ag),e=K8("useRouteError"),r=lg("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function X8(){let{router:t}=G8("useNavigate"),e=lg("useNavigate"),r=ee.useRef(!1);return Vx(()=>{r.current=!0}),ee.useCallback(async(i,s={})=>{ii(r.current,Hx),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var $v={};function Kx(t,e,r){!e&&!$v[t]&&($v[t]=!0,ii(!1,r))}ee.memo(Z8);function Z8({routes:t,future:e,state:r,unstable_onError:n}){return Gx(t,void 0,r,n,e)}function eA({to:t,replace:e,state:r,relative:n}){tr($l(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=ee.useContext(Ai);ii(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=ee.useContext(Ji),{pathname:a}=Is(),o=ji(),l=sg(t,ig(s),a,n==="path"),u=JSON.stringify(l);return ee.useEffect(()=>{o(JSON.parse(u),{replace:e,state:r,relative:n})},[o,u,n,e,r]),null}function $i(t){tr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tA({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){tr(!$l(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),o=ee.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof r=="string"&&(r=Ul(r));let{pathname:l="/",search:u="",hash:d="",state:p=null,key:g="default"}=r,f=ee.useMemo(()=>{let k=Ps(l,a);return k==null?null:{location:{pathname:k,search:u,hash:d,state:p,key:g},navigationType:n}},[a,l,u,d,p,g,n]);return ii(f!=null,`<Router basename="${a}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:ee.createElement(Ai.Provider,{value:o},ee.createElement(Cc.Provider,{children:e,value:f}))}function rA({children:t,location:e}){return z8(Om(t),e)}function Om(t,e=[]){let r=[];return ee.Children.forEach(t,(n,i)=>{if(!ee.isValidElement(n))return;let s=[...e,i];if(n.type===ee.Fragment){r.push.apply(r,Om(n.props.children,s));return}tr(n.type===$i,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Om(n.props.children,s)),r.push(a)}),r}var hh="get",fh="application/x-www-form-urlencoded";function kf(t){return t!=null&&typeof t.tagName=="string"}function nA(t){return kf(t)&&t.tagName.toLowerCase()==="button"}function iA(t){return kf(t)&&t.tagName.toLowerCase()==="form"}function sA(t){return kf(t)&&t.tagName.toLowerCase()==="input"}function aA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function oA(t,e){return t.button===0&&(!e||e==="_self")&&!aA(t)}var Wd=null;function lA(){if(Wd===null)try{new FormData(document.createElement("form"),0),Wd=!1}catch{Wd=!0}return Wd}var uA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kp(t){return t!=null&&!uA.has(t)?(ii(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fh}"`),null):t}function cA(t,e){let r,n,i,s,a;if(iA(t)){let o=t.getAttribute("action");n=o?Ps(o,e):null,r=t.getAttribute("method")||hh,i=Kp(t.getAttribute("enctype"))||fh,s=new FormData(t)}else if(nA(t)||sA(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(n=l?Ps(l,e):null,r=t.getAttribute("formmethod")||o.getAttribute("method")||hh,i=Kp(t.getAttribute("formenctype"))||Kp(o.getAttribute("enctype"))||fh,s=new FormData(o,t),!lA()){let{name:u,type:d,value:p}=t;if(d==="image"){let g=u?`${u}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else u&&s.append(u,p)}}else{if(kf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=hh,n=null,i=fh,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ug(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function dA(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&Ps(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function hA(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fA(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function pA(t,e,r){let n=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await hA(s,r);return a.links?a.links():[]}return[]}));return yA(n.flat(1).filter(fA).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function qv(t,e,r,n,i,s){let a=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,o=(l,u)=>{var d;return r[u].pathname!==l.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>a(l,u)||o(l,u)):s==="data"?e.filter((l,u)=>{var p;let d=n.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(a(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function mA(t,e,{includeHydrateFallback:r}={}){return gA(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function gA(t){return[...new Set(t)]}function vA(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function yA(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let s=JSON.stringify(vA(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function Jx(){let t=ee.useContext(zl);return ug(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function wA(){let t=ee.useContext(Sf);return ug(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var cg=ee.createContext(void 0);cg.displayName="FrameworkContext";function Yx(){let t=ee.useContext(cg);return ug(t,"You must render this element inside a <HydratedRouter> element"),t}function bA(t,e){let r=ee.useContext(cg),[n,i]=ee.useState(!1),[s,a]=ee.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:p}=e,g=ee.useRef(null);ee.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let S=y=>{y.forEach(_=>{a(_.isIntersecting)})},x=new IntersectionObserver(S,{threshold:.5});return g.current&&x.observe(g.current),()=>{x.disconnect()}}},[t]),ee.useEffect(()=>{if(n){let S=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(S)}}},[n]);let f=()=>{i(!0)},k=()=>{i(!1),a(!1)};return r?t!=="intent"?[s,g,{}]:[s,g,{onFocus:Eu(o,f),onBlur:Eu(l,k),onMouseEnter:Eu(u,f),onMouseLeave:Eu(d,k),onTouchStart:Eu(p,f)}]:[!1,g,{}]}function Eu(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function xA({page:t,...e}){let{router:r}=Jx(),n=ee.useMemo(()=>Ux(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?ee.createElement(SA,{page:t,matches:n,...e}):null}function _A(t){let{manifest:e,routeModules:r}=Yx(),[n,i]=ee.useState([]);return ee.useEffect(()=>{let s=!1;return pA(t,e,r).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,r]),n}function SA({page:t,matches:e,...r}){let n=Is(),{manifest:i,routeModules:s}=Yx(),{basename:a}=Jx(),{loaderData:o,matches:l}=wA(),u=ee.useMemo(()=>qv(t,e,l,i,n,"data"),[t,e,l,i,n]),d=ee.useMemo(()=>qv(t,e,l,i,n,"assets"),[t,e,l,i,n]),p=ee.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let k=new Set,S=!1;if(e.forEach(y=>{var b;let _=i.routes[y.route.id];!_||!_.hasLoader||(!u.some(A=>A.route.id===y.route.id)&&y.route.id in o&&((b=s[y.route.id])!=null&&b.shouldRevalidate)||_.hasClientLoader?S=!0:k.add(y.route.id))}),k.size===0)return[];let x=dA(t,a,"data");return S&&k.size>0&&x.searchParams.set("_routes",e.filter(y=>k.has(y.route.id)).map(y=>y.route.id).join(",")),[x.pathname+x.search]},[a,o,n,i,u,e,t,s]),g=ee.useMemo(()=>mA(d,i),[d,i]),f=_A(d);return ee.createElement(ee.Fragment,null,p.map(k=>ee.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...r})),g.map(k=>ee.createElement("link",{key:k,rel:"modulepreload",href:k,...r})),f.map(({key:k,link:S})=>ee.createElement("link",{key:k,nonce:r.nonce,...S})))}function kA(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Qx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Qx&&(window.__reactRouterVersion="7.9.6")}catch{}function NA({basename:t,children:e,window:r}){let n=ee.useRef();n.current==null&&(n.current=d8({window:r,v5Compat:!0}));let i=n.current,[s,a]=ee.useState({action:i.action,location:i.location}),o=ee.useCallback(l=>{ee.startTransition(()=>a(l))},[a]);return ee.useLayoutEffect(()=>i.listen(o),[i,o]),ee.createElement(tA,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var Xx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,no=ee.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:p,...g},f){let{basename:k}=ee.useContext(Ai),S=typeof u=="string"&&Xx.test(u),x,y=!1;if(typeof u=="string"&&S&&(x=u,Qx))try{let R=new URL(window.location.href),Y=u.startsWith("//")?new URL(R.protocol+u):new URL(u),T=Ps(Y.pathname,k);Y.origin===R.origin&&T!=null?u=T+Y.search+Y.hash:y=!0}catch{ii(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=B8(u,{relative:i}),[b,A,M]=bA(n,g),G=LA(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:p});function H(R){e&&e(R),R.defaultPrevented||G(R)}let F=ee.createElement("a",{...g,...M,href:x||_,onClick:y||s?e:H,ref:kA(f,A),target:l,"data-discover":!S&&r==="render"?"true":void 0});return b&&!S?ee.createElement(ee.Fragment,null,F,ee.createElement(xA,{page:_})):F});no.displayName="Link";var AA=ee.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:a,viewTransition:o,children:l,...u},d){let p=Pc(a,{relative:u.relative}),g=Is(),f=ee.useContext(Sf),{navigator:k,basename:S}=ee.useContext(Ai),x=f!=null&&RA(p)&&o===!0,y=k.encodeLocation?k.encodeLocation(p).pathname:p.pathname,_=g.pathname,b=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;r||(_=_.toLowerCase(),b=b?b.toLowerCase():null,y=y.toLowerCase()),b&&S&&(b=Ps(b,S)||b);const A=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let M=_===y||!i&&_.startsWith(y)&&_.charAt(A)==="/",G=b!=null&&(b===y||!i&&b.startsWith(y)&&b.charAt(y.length)==="/"),H={isActive:M,isPending:G,isTransitioning:x},F=M?e:void 0,R;typeof n=="function"?R=n(H):R=[n,M?"active":null,G?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let Y=typeof s=="function"?s(H):s;return ee.createElement(no,{...u,"aria-current":F,className:R,ref:d,style:Y,to:a,viewTransition:o},typeof l=="function"?l(H):l)});AA.displayName="NavLink";var jA=ee.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:s,method:a=hh,action:o,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:p,...g},f)=>{let k=TA(),S=OA(o,{relative:u}),x=a.toLowerCase()==="get"?"get":"post",y=typeof o=="string"&&Xx.test(o),_=b=>{if(l&&l(b),b.defaultPrevented)return;b.preventDefault();let A=b.nativeEvent.submitter,M=(A==null?void 0:A.getAttribute("formmethod"))||a;k(A||b.currentTarget,{fetcherKey:e,method:M,navigate:r,replace:i,state:s,relative:u,preventScrollReset:d,viewTransition:p})};return ee.createElement("form",{ref:f,method:x,action:S,onSubmit:n?l:_,...g,"data-discover":!y&&t==="render"?"true":void 0})});jA.displayName="Form";function EA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zx(t){let e=ee.useContext(zl);return tr(e,EA(t)),e}function LA(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:a}={}){let o=ji(),l=Is(),u=Pc(t,{relative:s});return ee.useCallback(d=>{if(oA(d,e)){d.preventDefault();let p=r!==void 0?r:bc(l)===bc(u);o(t,{replace:p,state:n,preventScrollReset:i,relative:s,viewTransition:a})}},[l,o,u,r,n,e,t,i,s,a])}var CA=0,PA=()=>`__${String(++CA)}__`;function TA(){let{router:t}=Zx("useSubmit"),{basename:e}=ee.useContext(Ai),r=Y8();return ee.useCallback(async(n,i={})=>{let{action:s,method:a,encType:o,formData:l,body:u}=cA(n,e);if(i.navigate===!1){let d=i.fetcherKey||PA();await t.fetch(d,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function OA(t,{relative:e}={}){let{basename:r}=ee.useContext(Ai),n=ee.useContext(Ji);tr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...Pc(t||".",{relative:e})},a=Is();if(t==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(p=>p).forEach(p=>o.append("index",p));let d=o.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:As([r,s.pathname])),bc(s)}function RA(t,{relative:e}={}){let r=ee.useContext(Wx);tr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Zx("useViewTransitionState"),i=Pc(t,{relative:e});if(!r.isTransitioning)return!1;let s=Ps(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=Ps(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Jh(i.pathname,a)!=null||Jh(i.pathname,s)!=null}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),st=(t,e)=>{const r=ee.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...u},d)=>ee.createElement("svg",{ref:d,...IA,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${DA(t)}`,o].join(" "),...u},[...e.map(([p,g])=>ee.createElement(p,g)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=st("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=st("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=st("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=st("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=st("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=st("CalendarCheck",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=st("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=st("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=st("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=st("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=st("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=st("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=st("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=st("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=st("FileJson",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=st("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=st("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=st("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=st("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=st("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=st("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=st("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=st("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=st("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=st("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=st("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=st("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=st("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=st("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=st("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=st("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=st("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=st("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=st("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=st("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=st("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=st("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=st("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=st("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=st("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=st("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=st("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=st("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=st("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function tj(){const[t,e]=ee.useState(""),[r,n]=ee.useState(""),[i,s]=ee.useState(!1),[a,o]=ee.useState(!1),[l,u]=ee.useState(null),d=ji(),p=async g=>{g.preventDefault(),s(!0),u(null);try{if(a){const{error:f}=await pt.auth.signUp({email:t,password:r});if(f)throw f;alert("Check your email for the login link!")}else{const{error:f}=await pt.auth.signInWithPassword({email:t,password:r});if(f)throw f;d("/")}}catch(f){u(f.message)}finally{s(!1)}};return m.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-[#021B20] to-[#052E35] font-sans",children:m.jsxs("div",{className:"w-full max-w-sm px-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-white text-center mb-12 tracking-wider",children:"USER LOGIN"}),m.jsxs("form",{onSubmit:p,className:"space-y-6",children:[m.jsxs("div",{className:"relative group",children:[m.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-12 bg-white rounded-l-full flex items-center justify-center z-10",children:m.jsx(Rm,{className:"h-6 w-6 text-black"})}),m.jsx("input",{type:"email",placeholder:"Username",value:t,onChange:g=>e(g.target.value),className:"w-full bg-white/10 text-white placeholder:text-white/50 h-12 rounded-full pl-16 pr-6 outline-none focus:bg-white/20 transition-all border-none",required:!0})]}),m.jsxs("div",{className:"relative group",children:[m.jsx("input",{type:"password",placeholder:"Password",value:r,onChange:g=>n(g.target.value),className:"w-full bg-white/10 text-white placeholder:text-white/50 h-12 rounded-full pl-6 pr-16 outline-none focus:bg-white/20 transition-all border-none",required:!0}),m.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-12 bg-white rounded-r-full flex items-center justify-center z-10",children:m.jsx(HA,{className:"h-5 w-5 text-black"})})]}),l&&m.jsx("div",{className:"text-sm text-red-400 text-center bg-red-900/20 p-2 rounded",children:l}),m.jsx("button",{type:"submit",disabled:i,className:"w-full bg-white text-black font-bold h-12 rounded-full hover:bg-gray-100 transition-colors mt-8 uppercase tracking-wide flex items-center justify-center",children:i?m.jsx(ql,{className:"h-5 w-5 animate-spin"}):a?"Sign Up":"LOGIN"}),m.jsx("div",{className:"text-center mt-6",children:m.jsx("button",{type:"button",onClick:()=>o(!a),className:"text-white/60 text-sm hover:text-white transition-colors",children:a?"Already have an account? Login":"Don't have an account? Sign Up"})})]})]})})}function l_(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=l_(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function rj(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=l_(t))&&(n&&(n+=" "),n+=e);return n}const fg="-",nj=t=>{const e=sj(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const o=a.split(fg);return o[0]===""&&o.length!==1&&o.shift(),u_(o,e)||ij(a)},getConflictingClassGroupIds:(a,o)=>{const l=r[a]||[];return o&&n[a]?[...l,...n[a]]:l}}},u_=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?u_(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(fg);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},Kv=/^\[(.+)\]$/,ij=t=>{if(Kv.test(t)){const e=Kv.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},sj=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return oj(Object.entries(t.classGroups),r).forEach(([s,a])=>{Im(a,n,s,e)}),n},Im=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Jv(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(aj(i)){Im(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,a])=>{Im(a,Jv(e,s),r,n)})})},Jv=(t,e)=>{let r=t;return e.split(fg).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},aj=t=>t.isThemeGetter,oj=(t,e)=>e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[e+a,o])):s);return[r,i]}):t,lj=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,a)=>{r.set(s,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let a=r.get(s);if(a!==void 0)return a;if((a=n.get(s))!==void 0)return i(s,a),a},set(s,a){r.has(s)?r.set(s,a):i(s,a)}}},c_="!",uj=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,a=o=>{const l=[];let u=0,d=0,p;for(let x=0;x<o.length;x++){let y=o[x];if(u===0){if(y===i&&(n||o.slice(x,x+s)===e)){l.push(o.slice(d,x)),d=x+s;continue}if(y==="/"){p=x;continue}}y==="["?u++:y==="]"&&u--}const g=l.length===0?o:o.substring(d),f=g.startsWith(c_),k=f?g.substring(1):g,S=p&&p>d?p-d:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:k,maybePostfixModifierPosition:S}};return r?o=>r({className:o,parseClassName:a}):a},cj=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},dj=t=>({cache:lj(t.cacheSize),parseClassName:uj(t),...nj(t)}),hj=/\s+/,fj=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(hj);let o="";for(let l=a.length-1;l>=0;l-=1){const u=a[l],{modifiers:d,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:f}=r(u);let k=!!f,S=n(k?g.substring(0,f):g);if(!S){if(!k){o=u+(o.length>0?" "+o:o);continue}if(S=n(g),!S){o=u+(o.length>0?" "+o:o);continue}k=!1}const x=cj(d).join(":"),y=p?x+c_:x,_=y+S;if(s.includes(_))continue;s.push(_);const b=i(S,k);for(let A=0;A<b.length;++A){const M=b[A];s.push(y+M)}o=u+(o.length>0?" "+o:o)}return o};function pj(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=d_(e))&&(n&&(n+=" "),n+=r);return n}const d_=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=d_(t[n]))&&(r&&(r+=" "),r+=e);return r};function mj(t,...e){let r,n,i,s=a;function a(l){const u=e.reduce((d,p)=>p(d),t());return r=dj(u),n=r.cache.get,i=r.cache.set,s=o,o(l)}function o(l){const u=n(l);if(u)return u;const d=fj(l,r);return i(l,d),d}return function(){return s(pj.apply(null,arguments))}}const Gt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},h_=/^\[(?:([a-z-]+):)?(.+)\]$/i,gj=/^\d+\/\d+$/,vj=new Set(["px","full","screen"]),yj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,xj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_j=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ms=t=>bl(t)||vj.has(t)||gj.test(t),ea=t=>Wl(t,"length",Cj),bl=t=>!!t&&!Number.isNaN(Number(t)),Jp=t=>Wl(t,"number",bl),Lu=t=>!!t&&Number.isInteger(Number(t)),Sj=t=>t.endsWith("%")&&bl(t.slice(0,-1)),ft=t=>h_.test(t),ta=t=>yj.test(t),kj=new Set(["length","size","percentage"]),Nj=t=>Wl(t,kj,f_),Aj=t=>Wl(t,"position",f_),jj=new Set(["image","url"]),Ej=t=>Wl(t,jj,Tj),Lj=t=>Wl(t,"",Pj),Cu=()=>!0,Wl=(t,e,r)=>{const n=h_.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},Cj=t=>wj.test(t)&&!bj.test(t),f_=()=>!1,Pj=t=>xj.test(t),Tj=t=>_j.test(t),Oj=()=>{const t=Gt("colors"),e=Gt("spacing"),r=Gt("blur"),n=Gt("brightness"),i=Gt("borderColor"),s=Gt("borderRadius"),a=Gt("borderSpacing"),o=Gt("borderWidth"),l=Gt("contrast"),u=Gt("grayscale"),d=Gt("hueRotate"),p=Gt("invert"),g=Gt("gap"),f=Gt("gradientColorStops"),k=Gt("gradientColorStopPositions"),S=Gt("inset"),x=Gt("margin"),y=Gt("opacity"),_=Gt("padding"),b=Gt("saturate"),A=Gt("scale"),M=Gt("sepia"),G=Gt("skew"),H=Gt("space"),F=Gt("translate"),R=()=>["auto","contain","none"],Y=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",ft,e],I=()=>[ft,e],J=()=>["",ms,ea],K=()=>["auto",bl,ft],ue=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ce=()=>["solid","dashed","dotted","double","none"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],ne=()=>["","0",ft],me=()=>["auto","avoid","all","avoid-page","page","left","right","column"],he=()=>[bl,ft];return{cacheSize:500,separator:":",theme:{colors:[Cu],spacing:[ms,ea],blur:["none","",ta,ft],brightness:he(),borderColor:[t],borderRadius:["none","","full",ta,ft],borderSpacing:I(),borderWidth:J(),contrast:he(),grayscale:ne(),hueRotate:he(),invert:ne(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[Sj,ea],inset:T(),margin:T(),opacity:he(),padding:I(),saturate:he(),scale:he(),sepia:ne(),skew:he(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",ft]}],container:["container"],columns:[{columns:[ta]}],"break-after":[{"break-after":me()}],"break-before":[{"break-before":me()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ue(),ft]}],overflow:[{overflow:Y()}],"overflow-x":[{"overflow-x":Y()}],"overflow-y":[{"overflow-y":Y()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Lu,ft]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ft]}],grow:[{grow:ne()}],shrink:[{shrink:ne()}],order:[{order:["first","last","none",Lu,ft]}],"grid-cols":[{"grid-cols":[Cu]}],"col-start-end":[{col:["auto",{span:["full",Lu,ft]},ft]}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":[Cu]}],"row-start-end":[{row:["auto",{span:[Lu,ft]},ft]}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ft]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ft]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[H]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[H]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ft,e]}],"min-w":[{"min-w":[ft,e,"min","max","fit"]}],"max-w":[{"max-w":[ft,e,"none","full","min","max","fit","prose",{screen:[ta]},ta]}],h:[{h:[ft,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ft,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ft,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ft,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ta,ea]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Jp]}],"font-family":[{font:[Cu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ft]}],"line-clamp":[{"line-clamp":["none",bl,Jp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ms,ft]}],"list-image":[{"list-image":["none",ft]}],"list-style-type":[{list:["none","disc","decimal",ft]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ce(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ms,ea]}],"underline-offset":[{"underline-offset":["auto",ms,ft]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ft]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ft]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ue(),Aj]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Nj]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ej]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...ce(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:ce()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ce()]}],"outline-offset":[{"outline-offset":[ms,ft]}],"outline-w":[{outline:[ms,ea]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[ms,ea]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ta,Lj]}],"shadow-color":[{shadow:[Cu]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...de(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":de()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ta,ft]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[p]}],saturate:[{saturate:[b]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ft]}],duration:[{duration:he()}],ease:[{ease:["linear","in","out","in-out",ft]}],delay:[{delay:he()}],animate:[{animate:["none","spin","ping","pulse","bounce",ft]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Lu,ft]}],"translate-x":[{"translate-x":[F]}],"translate-y":[{"translate-y":[F]}],"skew-x":[{"skew-x":[G]}],"skew-y":[{"skew-y":[G]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ft]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ft]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ft]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ms,ea,Jp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Rj=mj(Oj);function Wt(...t){return Rj(rj(t))}const io=s1.forwardRef(({className:t,children:e,isLoading:r,variant:n="primary",size:i="md",disabled:s,...a},o)=>{const l={primary:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90"},u={sm:"h-9 px-3 text-xs",md:"h-10 px-4 py-2",lg:"h-11 px-8",icon:"h-10 w-10"};return m.jsxs("button",{ref:o,className:Wt("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",l[n],u[i],t),disabled:s||r,...a,children:[r&&m.jsx(ql,{className:"mr-2 h-4 w-4 animate-spin"}),e]})});io.displayName="Button";function Ij({isOpen:t,onClose:e,title:r,children:n,className:i}){const s=ee.useRef(null);return ee.useEffect(()=>{const a=o=>{o.key==="Escape"&&e()};return t&&(document.addEventListener("keydown",a),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",a),document.body.style.overflow="unset"}},[t,e]),t?m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:m.jsxs("div",{ref:s,className:Wt("relative w-full max-w-lg rounded-lg border bg-background p-6 shadow-lg animate-in fade-in zoom-in duration-200",i),children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h2",{className:"text-lg font-semibold",children:r}),m.jsx(io,{variant:"ghost",size:"sm",onClick:e,className:"h-8 w-8 p-0",children:m.jsx(Oc,{className:"h-4 w-4"})})]}),n]})}):null}const Mu=s1.forwardRef(({className:t,type:e,label:r,error:n,...i},s)=>m.jsxs("div",{className:"w-full space-y-2",children:[r&&m.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:r}),m.jsx("input",{type:e,className:Wt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n&&"border-destructive focus-visible:ring-destructive",t),ref:s,...i}),n&&m.jsx("p",{className:"text-sm text-destructive",children:n})]}));Mu.displayName="Input";const Dj={A1:[{day:"Monday",startTime:"08:00",endTime:"08:50"},{day:"Wednesday",startTime:"09:00",endTime:"09:50"}],A2:[{day:"Monday",startTime:"14:00",endTime:"14:50"},{day:"Wednesday",startTime:"15:00",endTime:"15:50"}],B1:[{day:"Tuesday",startTime:"08:00",endTime:"08:50"},{day:"Thursday",startTime:"09:00",endTime:"09:50"}],B2:[{day:"Tuesday",startTime:"14:00",endTime:"14:50"},{day:"Thursday",startTime:"15:00",endTime:"15:50"}],C1:[{day:"Wednesday",startTime:"08:00",endTime:"08:50"},{day:"Friday",startTime:"09:00",endTime:"09:50"}],C2:[{day:"Wednesday",startTime:"14:00",endTime:"14:50"},{day:"Friday",startTime:"15:00",endTime:"15:50"}],D1:[{day:"Thursday",startTime:"08:00",endTime:"08:50"},{day:"Monday",startTime:"10:00",endTime:"10:50"}],D2:[{day:"Thursday",startTime:"14:00",endTime:"14:50"},{day:"Monday",startTime:"16:00",endTime:"16:50"}],E1:[{day:"Friday",startTime:"08:00",endTime:"08:50"},{day:"Tuesday",startTime:"10:00",endTime:"10:50"}],E2:[{day:"Friday",startTime:"14:00",endTime:"14:50"},{day:"Tuesday",startTime:"16:00",endTime:"16:50"}],F1:[{day:"Monday",startTime:"09:00",endTime:"09:50"},{day:"Wednesday",startTime:"10:00",endTime:"10:50"}],F2:[{day:"Monday",startTime:"15:00",endTime:"15:50"},{day:"Wednesday",startTime:"16:00",endTime:"16:50"}],G1:[{day:"Tuesday",startTime:"09:00",endTime:"09:50"},{day:"Thursday",startTime:"10:00",endTime:"10:50"}],G2:[{day:"Tuesday",startTime:"15:00",endTime:"15:50"},{day:"Thursday",startTime:"16:00",endTime:"16:50"}],TA1:[{day:"Friday",startTime:"10:00",endTime:"10:50"}],TA2:[{day:"Friday",startTime:"16:00",endTime:"16:50"}],TB1:[{day:"Monday",startTime:"11:00",endTime:"11:50"}],TB2:[{day:"Monday",startTime:"17:00",endTime:"17:50"}],TC1:[{day:"Tuesday",startTime:"11:00",endTime:"11:50"}],TC2:[{day:"Tuesday",startTime:"17:00",endTime:"17:50"}],TD1:[{day:"Friday",startTime:"12:00",endTime:"12:50"}],TD2:[{day:"Wednesday",startTime:"17:00",endTime:"17:50"}],TE1:[{day:"Thursday",startTime:"11:00",endTime:"11:50"}],TE2:[{day:"Thursday",startTime:"17:00",endTime:"17:50"},{day:"Friday",startTime:"17:00",endTime:"17:50"}],TF1:[{day:"Friday",startTime:"11:00",endTime:"11:50"}],TF2:[{day:"Friday",startTime:"17:00",endTime:"17:50"}],TG1:[{day:"Monday",startTime:"12:00",endTime:"12:50"}],TG2:[{day:"Monday",startTime:"18:00",endTime:"18:50"}],TAA1:[{day:"Tuesday",startTime:"12:00",endTime:"12:50"}],TAA2:[{day:"Tuesday",startTime:"18:00",endTime:"18:50"}],V1:[{day:"Wednesday",startTime:"11:00",endTime:"11:50"}],V2:[{day:"Wednesday",startTime:"12:00",endTime:"12:50"}],TBB2:[{day:"Wednesday",startTime:"18:00",endTime:"18:50"}],TCC1:[{day:"Thursday",startTime:"12:00",endTime:"12:50"}],TCC2:[{day:"Thursday",startTime:"18:00",endTime:"18:50"}],TDD2:[{day:"Friday",startTime:"18:00",endTime:"18:50"}],L1:[{day:"Monday",startTime:"08:00",endTime:"08:50"}],L2:[{day:"Monday",startTime:"08:51",endTime:"09:40"}],L3:[{day:"Monday",startTime:"09:51",endTime:"10:40"}],L4:[{day:"Monday",startTime:"10:41",endTime:"11:30"}],L5:[{day:"Monday",startTime:"11:40",endTime:"12:30"}],L6:[{day:"Monday",startTime:"12:31",endTime:"13:20"}],L7:[{day:"Tuesday",startTime:"08:00",endTime:"08:50"}],L8:[{day:"Tuesday",startTime:"08:51",endTime:"09:40"}],L9:[{day:"Tuesday",startTime:"09:51",endTime:"10:40"}],L10:[{day:"Tuesday",startTime:"10:41",endTime:"11:30"}],L11:[{day:"Tuesday",startTime:"11:40",endTime:"12:30"}],L12:[{day:"Tuesday",startTime:"12:31",endTime:"13:20"}],L13:[{day:"Wednesday",startTime:"08:00",endTime:"08:50"}],L14:[{day:"Wednesday",startTime:"08:51",endTime:"09:40"}],L15:[{day:"Wednesday",startTime:"09:51",endTime:"10:40"}],L16:[{day:"Wednesday",startTime:"10:41",endTime:"11:30"}],L17:[{day:"Wednesday",startTime:"11:40",endTime:"12:30"}],L18:[{day:"Wednesday",startTime:"12:31",endTime:"13:20"}],L19:[{day:"Thursday",startTime:"08:00",endTime:"08:50"}],L20:[{day:"Thursday",startTime:"08:51",endTime:"09:40"}],L21:[{day:"Thursday",startTime:"09:51",endTime:"10:40"}],L22:[{day:"Thursday",startTime:"10:41",endTime:"11:30"}],L23:[{day:"Thursday",startTime:"11:40",endTime:"12:30"}],L24:[{day:"Thursday",startTime:"12:31",endTime:"13:20"}],L25:[{day:"Friday",startTime:"08:00",endTime:"08:50"}],L26:[{day:"Friday",startTime:"08:51",endTime:"09:40"}],L27:[{day:"Friday",startTime:"09:51",endTime:"10:40"}],L28:[{day:"Friday",startTime:"10:41",endTime:"11:30"}],L29:[{day:"Friday",startTime:"11:40",endTime:"12:30"}],L30:[{day:"Friday",startTime:"12:31",endTime:"13:20"}],L31:[{day:"Monday",startTime:"14:00",endTime:"14:50"}],L32:[{day:"Monday",startTime:"14:51",endTime:"15:40"}],L33:[{day:"Monday",startTime:"15:51",endTime:"16:40"}],L34:[{day:"Monday",startTime:"16:41",endTime:"17:30"}],L35:[{day:"Monday",startTime:"17:40",endTime:"18:30"}],L36:[{day:"Monday",startTime:"18:31",endTime:"19:20"}],L37:[{day:"Tuesday",startTime:"14:00",endTime:"14:50"}],L38:[{day:"Tuesday",startTime:"14:51",endTime:"15:40"}],L39:[{day:"Tuesday",startTime:"15:51",endTime:"16:40"}],L40:[{day:"Tuesday",startTime:"16:41",endTime:"17:30"}],L41:[{day:"Tuesday",startTime:"17:40",endTime:"18:30"}],L42:[{day:"Tuesday",startTime:"18:31",endTime:"19:20"}],L43:[{day:"Wednesday",startTime:"14:00",endTime:"14:50"}],L44:[{day:"Wednesday",startTime:"14:51",endTime:"15:40"}],L45:[{day:"Wednesday",startTime:"15:51",endTime:"16:40"}],L46:[{day:"Wednesday",startTime:"16:41",endTime:"17:30"}],L47:[{day:"Wednesday",startTime:"17:40",endTime:"18:30"}],L48:[{day:"Wednesday",startTime:"18:31",endTime:"19:20"}],L49:[{day:"Thursday",startTime:"14:00",endTime:"14:50"}],L50:[{day:"Thursday",startTime:"14:51",endTime:"15:40"}],L51:[{day:"Thursday",startTime:"15:51",endTime:"16:40"}],L52:[{day:"Thursday",startTime:"16:41",endTime:"17:30"}],L53:[{day:"Thursday",startTime:"17:40",endTime:"18:30"}],L54:[{day:"Thursday",startTime:"18:31",endTime:"19:20"}],L55:[{day:"Friday",startTime:"14:00",endTime:"14:50"}],L56:[{day:"Friday",startTime:"14:51",endTime:"15:40"}],L57:[{day:"Friday",startTime:"15:51",endTime:"16:40"}],L58:[{day:"Friday",startTime:"16:41",endTime:"17:30"}],L59:[{day:"Friday",startTime:"17:40",endTime:"18:30"}],L60:[{day:"Friday",startTime:"18:31",endTime:"19:20"}]};function Fj(t){const e=[],r=[];return t.forEach(n=>{n.slot.toUpperCase().split("+").map(s=>s.trim()).forEach(s=>{const a=Dj[s];if(!a){r.push(`Invalid slot "${s}" for subject "${n.subject_name}"`);return}a.forEach(o=>{e.push({subject_name:n.subject_name,subject_code:n.subject_code,type:n.type,slot_code:s,slot_label:n.slot,room_number:n.room_number,credit:n.credit,day:o.day,start_time:o.startTime,end_time:o.endTime})})})}),{entries:e,errors:r}}function Mj({isOpen:t,onClose:e,onSuccess:r}){const{user:n}=Rs(),[i,s]=ee.useState(!1),[a,o]=ee.useState([{subject_name:"",subject_code:"",type:"theory",slot:"",room_number:"",credit:0}]),[l,u]=ee.useState(null),d=(S,x,y)=>{const _=[...a];_[S]={..._[S],[x]:y},o(_),u(null)},p=()=>{o([...a,{subject_name:"",subject_code:"",type:"theory",slot:"",room_number:"",credit:0}])},g=S=>{if(a.length===1)return;const x=a.filter((y,_)=>_!==S);o(x),u(null)},f=()=>{const S=Fj(a);u(S)},k=async()=>{if(!(!n||!l||l.errors.length>0)){s(!0);try{const S=l.entries.map(y=>({user_id:n.id,day:y.day,start_time:y.start_time,end_time:y.end_time,subject_name:y.subject_name,subject_code:y.subject_code,type:y.type,room_number:y.room_number,slot_code:y.slot_code,slot_label:y.slot_label,credit:y.credit})),{error:x}=await pt.from("smart_timetable_entries").insert(S);if(x)throw x;r(),e(),o([{subject_name:"",subject_code:"",type:"theory",slot:"",room_number:"",credit:0}]),u(null)}catch(S){console.error("Error saving timetable:",S),alert("Failed to save timetable entries.")}finally{s(!1)}}};return m.jsxs(Ij,{isOpen:t,onClose:e,title:"Smart Add (FFCS Slots)",className:"max-w-4xl",children:[m.jsxs("div",{className:"space-y-6 py-4 max-h-[70vh] overflow-y-auto pr-2",children:[m.jsx("div",{className:"space-y-4",children:a.map((S,x)=>m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 items-end p-4 border rounded-lg bg-card",children:[m.jsxs("div",{className:"md:col-span-3",children:[m.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Subject Name"}),m.jsx(Mu,{value:S.subject_name,onChange:y=>d(x,"subject_name",y.target.value),placeholder:"e.g. Python",className:"mt-2"})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Code"}),m.jsx(Mu,{value:S.subject_code,onChange:y=>d(x,"subject_code",y.target.value),placeholder:"CSE1001",className:"mt-2"})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Type"}),m.jsxs("select",{className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 mt-2",value:S.type,onChange:y=>d(x,"type",y.target.value),children:[m.jsx("option",{value:"theory",children:"Theory"}),m.jsx("option",{value:"lab",children:"Lab"})]})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Slot(s)"}),m.jsx(Mu,{value:S.slot,onChange:y=>d(x,"slot",y.target.value),placeholder:"A1+TA1",className:"mt-2"})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Room"}),m.jsx(Mu,{value:S.room_number,onChange:y=>d(x,"room_number",y.target.value),placeholder:"SJT 101",className:"mt-2"})]}),m.jsx("div",{className:"md:col-span-1 flex justify-end",children:m.jsx(io,{variant:"ghost",size:"sm",onClick:()=>g(x),disabled:a.length===1,className:"text-destructive hover:text-destructive h-10 w-10 p-0",children:m.jsx(bo,{className:"h-4 w-4"})})})]},x))}),m.jsxs(io,{variant:"outline",onClick:p,className:"w-full",children:[m.jsx(Tc,{className:"mr-2 h-4 w-4"})," Add Another Course"]}),m.jsx("div",{className:"flex justify-end",children:m.jsx(io,{onClick:f,disabled:a.some(S=>!S.slot||!S.subject_name),children:"Generate Preview"})}),l&&m.jsxs("div",{className:"space-y-4 border-t pt-4",children:[m.jsx("h3",{className:"font-semibold",children:"Preview"}),l.errors.length>0?m.jsxs("div",{className:"p-4 bg-destructive/10 text-destructive rounded-md space-y-2",children:[m.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[m.jsx(e_,{className:"h-4 w-4"}),"Errors Found"]}),m.jsx("ul",{className:"list-disc list-inside text-sm",children:l.errors.map((S,x)=>m.jsx("li",{children:S},x))})]}):m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 rounded-md flex items-center gap-2",children:[m.jsx(hg,{className:"h-4 w-4"}),l.entries.length," sessions generated successfully."]}),m.jsx("div",{className:"border rounded-md overflow-hidden",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{className:"bg-muted",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-2 text-left",children:"Subject"}),m.jsx("th",{className:"p-2 text-left",children:"Slot"}),m.jsx("th",{className:"p-2 text-left",children:"Day"}),m.jsx("th",{className:"p-2 text-left",children:"Time"}),m.jsx("th",{className:"p-2 text-left",children:"Room"})]})}),m.jsx("tbody",{children:l.entries.map((S,x)=>m.jsxs("tr",{className:"border-t",children:[m.jsx("td",{className:"p-2",children:S.subject_name}),m.jsx("td",{className:"p-2",children:S.slot_code}),m.jsx("td",{className:"p-2",children:S.day}),m.jsxs("td",{className:"p-2",children:[S.start_time," - ",S.end_time]}),m.jsx("td",{className:"p-2",children:S.room_number})]},x))})]})})]})]})]}),m.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[m.jsx(io,{variant:"outline",onClick:e,children:"Cancel"}),m.jsx(io,{onClick:k,disabled:!l||l.errors.length>0||i,isLoading:i,children:"Save Timetable"})]})]})}function Bj({isOpen:t,onClose:e,classData:r,onSuccess:n}){const[i,s]=ee.useState(!1),[a,o]=ee.useState({subject_name:"",subject_code:"",room_number:"",start_time:"",end_time:""});if(ee.useEffect(()=>{r&&o({subject_name:r.subject_name||"",subject_code:r.subject_code||"",room_number:r.room_number||"",start_time:r.start_time||"",end_time:r.end_time||""})},[r]),!t||!r)return null;const l=async u=>{u.preventDefault(),s(!0);try{const d={subject_name:a.subject_name,subject_code:a.subject_code,room_number:a.room_number,start_time:a.start_time,end_time:a.end_time},{error:p}=await pt.from("timetable_entries").update(d).eq("id",r.id),{error:g}=await pt.from("smart_timetable_entries").update(d).eq("id",r.id);if(p&&g)throw new Error("Failed to update class");n(),e()}catch(d){console.error("Error updating class:",d)}finally{s(!1)}};return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/20 backdrop-blur-sm",children:m.jsx("div",{className:"bg-white/90 backdrop-blur-xl rounded-3xl shadow-2xl w-full max-w-md overflow-hidden border border-white/50 animate-in fade-in zoom-in duration-200",children:m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Edit Class"}),m.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:m.jsx(Oc,{className:"h-5 w-5 text-slate-500"})})]}),m.jsxs("form",{onSubmit:l,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Subject Name"}),m.jsx("input",{type:"text",value:a.subject_name,onChange:u=>o({...a,subject_name:u.target.value}),className:"w-full p-3 rounded-xl bg-slate-50 border-none focus:ring-2 focus:ring-primary-500 transition-all",required:!0})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Subject Code"}),m.jsx("input",{type:"text",value:a.subject_code,onChange:u=>o({...a,subject_code:u.target.value}),className:"w-full p-3 rounded-xl bg-slate-50 border-none focus:ring-2 focus:ring-primary-500 transition-all",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Room"}),m.jsx("input",{type:"text",value:a.room_number,onChange:u=>o({...a,room_number:u.target.value}),className:"w-full p-3 rounded-xl bg-slate-50 border-none focus:ring-2 focus:ring-primary-500 transition-all"})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Start Time"}),m.jsx("input",{type:"time",value:a.start_time,onChange:u=>o({...a,start_time:u.target.value}),className:"w-full p-3 rounded-xl bg-slate-50 border-none focus:ring-2 focus:ring-primary-500 transition-all",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"End Time"}),m.jsx("input",{type:"time",value:a.end_time,onChange:u=>o({...a,end_time:u.target.value}),className:"w-full p-3 rounded-xl bg-slate-50 border-none focus:ring-2 focus:ring-primary-500 transition-all",required:!0})]})]}),m.jsxs("button",{type:"submit",disabled:i,className:"w-full py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-xl font-bold shadow-lg shadow-primary-200 transition-all flex items-center justify-center gap-2 mt-4",children:[i?m.jsx(ql,{className:"h-5 w-5 animate-spin"}):m.jsx(o_,{className:"h-5 w-5"}),"Save Changes"]}),m.jsxs("button",{type:"button",onClick:async()=>{if(confirm("Are you sure you want to delete this class?")){s(!0);try{await pt.from("timetable_entries").delete().eq("id",r.id),await pt.from("smart_timetable_entries").delete().eq("id",r.id),n(),e()}catch(u){console.error("Error deleting class:",u)}finally{s(!1)}}},disabled:i,className:"w-full py-3 bg-red-50 hover:bg-red-100 text-red-600 rounded-xl font-bold transition-all flex items-center justify-center gap-2",children:[m.jsx(bo,{className:"h-5 w-5"}),"Delete Class"]})]})]})})})}function Uj(){const{user:t}=Rs(),[e,r]=ee.useState(!1),[n,i]=ee.useState("Monday"),[s,a]=ee.useState([]),[o,l]=ee.useState({}),[u,d]=ee.useState(!0),[p,g]=ee.useState(null),[f,k]=ee.useState(!1),S=["Monday","Tuesday","Wednesday","Thursday","Friday"];ee.useEffect(()=>{const b=new Date().toLocaleDateString("en-US",{weekday:"long"});S.includes(b)&&i(b)},[]);const x=async()=>{if(t){d(!0);try{const{data:b}=await pt.from("timetable_entries").select("*").eq("user_id",t.id).eq("day",n),{data:A}=await pt.from("smart_timetable_entries").select("*").eq("user_id",t.id).eq("day",n),{data:M}=await pt.from("attendance_logs").select("subject_code, status").eq("user_id",t.id),G={};if(M){const F={};M.forEach(R=>{F[R.subject_code]||(F[R.subject_code]={present:0,total:0}),F[R.subject_code].total++,R.status==="present"&&F[R.subject_code].present++}),Object.keys(F).forEach(R=>{const{present:Y,total:T}=F[R];G[R]=T>0?Math.round(Y/T*100):0})}l(G);const H=[...b||[],...A||[]];H.sort((F,R)=>F.start_time.localeCompare(R.start_time)),a(H)}catch(b){console.error("Error fetching entries:",b)}finally{d(!1)}}};ee.useEffect(()=>{x()},[t,n]);const y=b=>{g(b),k(!0)},_=b=>{const[A,M]=b.split(":"),G=parseInt(A),H=G>=12?"PM":"AM";return`${G%12||12}:${M} ${H}`};return m.jsxs("div",{className:"min-h-screen pb-24 relative overflow-hidden",children:[m.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-[#2e1065] via-[#4c1d95] to-[#1e1b4b] z-0"}),m.jsx("div",{className:"fixed top-[-10%] right-[-10%] w-[300px] h-[300px] bg-purple-500/30 rounded-full blur-[100px] pointer-events-none z-0"}),m.jsx("div",{className:"fixed bottom-[10%] left-[-10%] w-[250px] h-[250px] bg-indigo-500/30 rounded-full blur-[100px] pointer-events-none z-0"}),m.jsxs("div",{className:"p-6 relative z-10 space-y-8",children:[m.jsxs("div",{className:"mt-4",children:[m.jsx("h1",{className:"text-4xl font-bold text-white tracking-tight",children:"Schedule"}),m.jsx("p",{className:"text-purple-200/80 text-lg font-medium",children:"Manage your classes"})]}),m.jsx("div",{className:"flex overflow-x-auto pb-2 gap-4 no-scrollbar snap-x",children:S.map(b=>m.jsx("button",{onClick:()=>i(b),className:Wt("flex flex-col items-center justify-center min-w-[60px] py-2 rounded-2xl transition-all snap-center",n===b?"bg-primary-600 text-white shadow-[0_0_20px_rgba(124,58,237,0.5)] scale-110":"text-purple-200/60 hover:text-white"),children:m.jsx("span",{className:"text-sm font-bold capitalize tracking-wide",children:b.slice(0,3)})},b))}),m.jsx("div",{className:"space-y-5",children:u?m.jsxs("div",{className:"text-center py-20",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),m.jsx("p",{className:"text-purple-200",children:"Loading schedule..."})]}):s.length===0?m.jsxs("div",{className:"text-center py-20 flex flex-col items-center justify-center",children:[m.jsx("div",{className:"w-20 h-20 bg-white/10 backdrop-blur-md rounded-full flex items-center justify-center mb-6 border border-white/20",children:m.jsx(xc,{className:"h-10 w-10 text-purple-200"})}),m.jsx("h3",{className:"text-lg font-semibold text-white",children:"No classes today"}),m.jsx("p",{className:"text-purple-200/60 mb-6",children:"Enjoy your free time!"}),m.jsx("button",{onClick:()=>r(!0),className:"text-white font-bold hover:underline bg-white/10 px-6 py-2 rounded-full backdrop-blur-sm",children:"Add a class"})]}):s.map((b,A)=>m.jsxs("div",{className:"relative group animate-fade-in-up opacity-0",style:{animationDelay:`${A*.1}s`},children:[m.jsxs("div",{className:"bg-white/90 backdrop-blur-xl p-5 rounded-[2rem] shadow-lg border border-white/50 flex flex-col gap-4",children:[m.jsxs("div",{className:"flex flex-col gap-1 pr-8",children:[m.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[m.jsx("h3",{className:"font-bold text-slate-900 text-xl leading-tight",children:b.subject_name}),m.jsx("span",{className:Wt("text-[10px] px-3 py-1 rounded-full font-bold uppercase tracking-wide shadow-sm",b.type==="theory"?"bg-blue-500 text-white shadow-blue-200":"bg-pink-500 text-white shadow-pink-200"),children:b.type})]}),m.jsx("p",{className:"text-sm text-slate-500 font-medium uppercase tracking-wider",children:b.subject_code})]}),o[b.subject_code]!==void 0&&m.jsxs("div",{className:Wt("absolute top-5 right-16 px-2 py-1 rounded-lg text-xs font-bold flex items-center gap-1",o[b.subject_code]>=75?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:[o[b.subject_code]<75&&m.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-600 animate-pulse"}),o[b.subject_code],"%"]}),m.jsxs("div",{className:"flex items-center gap-6 text-sm text-slate-600",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(fa,{className:"h-4 w-4 text-slate-400"}),m.jsxs("span",{className:"font-semibold",children:[_(b.start_time)," - ",_(b.end_time)]})]}),b.room_number&&m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Yh,{className:"h-4 w-4 text-slate-400"}),m.jsx("span",{className:"font-semibold",children:b.room_number})]})]})]}),m.jsx("button",{onClick:()=>y(b),className:"absolute top-5 right-4 p-2 text-slate-400 hover:text-primary-600 hover:bg-primary-50 rounded-full transition-all",children:m.jsx(KA,{className:"h-5 w-5"})})]},b.id))})]}),m.jsx("button",{onClick:()=>r(!0),className:"fixed bottom-24 right-6 bg-white hover:bg-slate-50 text-slate-900 p-5 rounded-full shadow-[0_0_30px_rgba(255,255,255,0.3)] transition-all active:scale-95 z-50 flex items-center justify-center",children:m.jsx(Tc,{className:"h-8 w-8"})}),m.jsx(Mj,{isOpen:e,onClose:()=>r(!1),onSuccess:x}),m.jsx(Bj,{isOpen:f,onClose:()=>k(!1),classData:p,onSuccess:x})]})}const Dm=(t,e)=>e.some(r=>t instanceof r);let Yv,Qv;function zj(){return Yv||(Yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $j(){return Qv||(Qv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fm=new WeakMap,Yp=new WeakMap,Lf=new WeakMap;function qj(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(fo(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return Lf.set(e,t),e}function Wj(t){if(Fm.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Fm.set(t,e)}let Mm={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Fm.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return fo(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function p_(t){Mm=t(Mm)}function Hj(t){return $j().includes(t)?function(...e){return t.apply(Bm(this),e),fo(this.request)}:function(...e){return fo(t.apply(Bm(this),e))}}function Vj(t){return typeof t=="function"?Hj(t):(t instanceof IDBTransaction&&Wj(t),Dm(t,zj())?new Proxy(t,Mm):t)}function fo(t){if(t instanceof IDBRequest)return qj(t);if(Yp.has(t))return Yp.get(t);const e=Vj(t);return e!==t&&(Yp.set(t,e),Lf.set(e,t)),e}const Bm=t=>Lf.get(t);function Gj(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=fo(a);return n&&a.addEventListener("upgradeneeded",l=>{n(fo(a.result),l.oldVersion,l.newVersion,fo(a.transaction),l)}),r&&a.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const Kj=["get","getKey","getAll","getAllKeys","count"],Jj=["put","add","delete","clear"],Qp=new Map;function Xv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qp.get(e))return Qp.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=Jj.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Kj.includes(r)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&l.done]))[0]};return Qp.set(e,s),s}p_(t=>({...t,get:(e,r,n)=>Xv(e,r)||t.get(e,r,n),has:(e,r)=>!!Xv(e,r)||t.has(e,r)}));const Yj=["continue","continuePrimaryKey","advance"],Zv={},Um=new WeakMap,m_=new WeakMap,Qj={get(t,e){if(!Yj.includes(e))return t[e];let r=Zv[e];return r||(r=Zv[e]=function(...n){Um.set(this,m_.get(this)[e](...n))}),r}};async function*Xj(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const r=new Proxy(e,Qj);for(m_.set(r,e),Lf.set(r,Bm(e));e;)yield r,e=await(Um.get(r)||e.continue()),Um.delete(r)}function ey(t,e){return e===Symbol.asyncIterator&&Dm(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&Dm(t,[IDBIndex,IDBObjectStore])}p_(t=>({...t,get(e,r,n){return ey(e,r)?Xj:t.get(e,r,n)},has(e,r){return ey(e,r)||t.has(e,r)}}));const Zj="student-dashboard-db",eE=1;let Xp;const Ui=()=>(Xp||(Xp=Gj(Zj,eE,{upgrade(t){t.objectStoreNames.contains("notes")||t.createObjectStore("notes",{keyPath:"id"}).createIndex("by-date","updatedAt"),t.objectStoreNames.contains("countdowns")||t.createObjectStore("countdowns",{keyPath:"id"}),t.objectStoreNames.contains("tasks")||t.createObjectStore("tasks",{keyPath:"id"})}})),Xp),xr={async getNote(t){return(await Ui()).get("notes",t)},async getAllNotes(){return(await Ui()).getAllFromIndex("notes","by-date")},async saveNote(t){return(await Ui()).put("notes",t)},async deleteNote(t){return(await Ui()).delete("notes",t)},async getAllCountdowns(){return(await Ui()).getAll("countdowns")},async saveCountdown(t){return(await Ui()).put("countdowns",t)},async deleteCountdown(t){return(await Ui()).delete("countdowns",t)},async getAllTasks(){return(await Ui()).getAll("tasks")},async saveTask(t){return(await Ui()).put("tasks",t)},async deleteTask(t){return(await Ui()).delete("tasks",t)}};function tE(){const t=ji(),[e,r]=ee.useState(null);ee.useEffect(()=>{n()},[]);const n=async()=>{const s=await xr.getAllNotes();if(s.length>0){const a=s.sort((o,l)=>l.updatedAt.getTime()-o.updatedAt.getTime())[0];r(a)}else{const a={id:"quick-note",content:"",updatedAt:new Date};await xr.saveNote(a),r(a)}},i=async s=>{if(e){const a={...e,content:s,updatedAt:new Date};r(a),await xr.saveNote(a)}};return m.jsxs("div",{className:"glass-card p-5 rounded-3xl relative group h-full flex flex-col bg-yellow-50/30 border-yellow-100/50",children:[m.jsxs("div",{className:"flex justify-between items-center mb-2",children:[m.jsxs("h3",{className:"font-bold text-slate-700 flex items-center gap-2",children:[m.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-400"}),"Quick Note"]}),m.jsx("button",{onClick:()=>t("/notes"),className:"p-1.5 rounded-full hover:bg-yellow-100 text-slate-400 hover:text-yellow-600 transition-colors",children:m.jsx(dg,{className:"h-4 w-4"})})]}),m.jsx("textarea",{value:(e==null?void 0:e.content)||"",onChange:s=>i(s.target.value),placeholder:"Jot something down...",className:"flex-1 w-full bg-transparent border-none resize-none focus:ring-0 text-slate-600 placeholder:text-slate-400 p-0 text-sm leading-relaxed"})]})}function rE(){const t=ji(),[e,r]=ee.useState(null),[n,i]=ee.useState(null);ee.useEffect(()=>{s();const l=setInterval(a,6e4);return()=>clearInterval(l)},[]);const s=async()=>{const l=await xr.getAllCountdowns(),u=new Date().getTime(),d=l.filter(p=>p.targetDate.getTime()>u).sort((p,g)=>p.targetDate.getTime()-g.targetDate.getTime());d.length>0&&(r(d[0]),o(d[0].targetDate))},a=()=>{e&&o(e.targetDate)},o=l=>{const u=l.getTime()-new Date().getTime(),d=Math.floor(u/(1e3*60*60)%24),p=Math.floor(u/(1e3*60*60*24));i({days:p,hours:d})};return m.jsxs("div",{className:"glass-card p-5 rounded-3xl relative group h-full flex flex-col bg-blue-50/30 border-blue-100/50",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("h3",{className:"font-bold text-slate-700 flex items-center gap-2",children:[m.jsx(fa,{className:"h-4 w-4 text-blue-500"}),"Countdown"]}),m.jsx("button",{onClick:()=>t("/countdown"),className:"p-1.5 rounded-full hover:bg-blue-100 text-slate-400 hover:text-blue-600 transition-colors",children:m.jsx(dg,{className:"h-4 w-4"})})]}),e&&n?m.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[m.jsx("p",{className:"text-sm text-slate-500 font-medium truncate mb-1",children:e.title}),m.jsxs("div",{className:"flex items-baseline gap-1",children:[m.jsx("span",{className:"text-3xl font-bold text-slate-800",children:n.days}),m.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase mr-2",children:"Days"}),m.jsx("span",{className:"text-xl font-bold text-slate-600",children:n.hours}),m.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase",children:"Hrs"})]})]}):m.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-400 text-sm",children:"No active timers"})]})}function nE(){const t=ji(),[e,r]=ee.useState([]);ee.useEffect(()=>{n()},[]);const n=async()=>{const s=await xr.getAllTasks(),a=s.filter(l=>!l.completed).sort((l,u)=>u.createdAt.getTime()-l.createdAt.getTime()),o=s.filter(l=>l.completed).sort((l,u)=>u.createdAt.getTime()-l.createdAt.getTime());r([...a,...o].slice(0,3))},i=async s=>{const a=e.find(o=>o.id===s);if(a){const o=await xr.getAllTasks().then(l=>l.find(u=>u.id===s));o&&(await xr.saveTask({...o,completed:!a.completed}),r(e.map(l=>l.id===s?{...l,completed:!l.completed}:l)))}};return m.jsxs("div",{className:"glass-card p-5 rounded-3xl relative group h-full flex flex-col bg-emerald-50/30 border-emerald-100/50",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("h3",{className:"font-bold text-slate-700 flex items-center gap-2",children:[m.jsx(WA,{className:"h-4 w-4 text-emerald-500"}),"Tasks"]}),m.jsx("button",{onClick:()=>t("/tasks"),className:"p-1.5 rounded-full hover:bg-emerald-100 text-slate-400 hover:text-emerald-600 transition-colors",children:m.jsx(dg,{className:"h-4 w-4"})})]}),m.jsx("div",{className:"flex-1 space-y-3",children:e.length>0?e.map(s=>m.jsxs("div",{className:"flex items-center gap-3 group/item",children:[m.jsx("button",{onClick:()=>i(s.id),className:"text-slate-400 hover:text-emerald-500 transition-colors",children:s.completed?m.jsx(hg,{className:"h-4 w-4 text-emerald-500"}):m.jsx(n_,{className:"h-4 w-4"})}),m.jsx("span",{className:`text-sm truncate ${s.completed?"text-slate-400 line-through":"text-slate-600"}`,children:s.text})]},s.id)):m.jsx("div",{className:"h-full flex items-center justify-center text-slate-400 text-sm",children:"No pending tasks"})})]})}const Zp=[{text:"The capacity to learn is a gift; the ability to learn is a skill; the willingness to learn is a choice.",author:"Brian Herbert"},{text:"Education is the most powerful weapon which you can use to change the world.",author:"Nelson Mandela"},{text:"Live as if you were to die tomorrow. Learn as if you were to live forever.",author:"Mahatma Gandhi"},{text:"The beautiful thing about learning is that no one can take it away from you.",author:"B.B. King"},{text:"Education is not the filling of a pail, but the lighting of a fire.",author:"W.B. Yeats"},{text:"Develop a passion for learning. If you do, you will never cease to grow.",author:"Anthony J. D'Angelo"},{text:"The roots of education are bitter, but the fruit is sweet.",author:"Aristotle"}];function iE(){const{user:t}=Rs(),[e,r]=ee.useState(null),[n,i]=ee.useState(null),[s,a]=ee.useState("Student"),[o,l]=ee.useState(0),[u,d]=ee.useState(new Date),[p,g]=ee.useState(Zp[0]),[f,k]=ee.useState(75),[S,x]=ee.useState(0),[y,_]=ee.useState(0),[b,A]=ee.useState(null);return ee.useEffect(()=>{const M=setInterval(()=>{d(new Date)},1e3),G=new Date().getDate();return g(Zp[G%Zp.length]),()=>clearInterval(M)},[]),ee.useEffect(()=>{if(!t)return;const M=async()=>{const{data:H}=await pt.from("profiles").select("full_name, attendance_goal, cgpa, credits, avatar_url").eq("id",t.id).single();H&&(H.full_name&&a(H.full_name.split(" ")[0]),H.attendance_goal&&k(H.attendance_goal),H.cgpa&&x(H.cgpa),H.credits&&_(H.credits),H.avatar_url&&A(H.avatar_url));const F=new Date().toLocaleDateString("en-US",{weekday:"long"}),R=["Saturday","Sunday"].includes(F)?"Monday":F,{data:Y}=await pt.from("timetable_entries").select("*").eq("user_id",t.id).eq("day",R),{data:T}=await pt.from("smart_timetable_entries").select("*").eq("user_id",t.id).eq("day",R),I=[...Y||[],...T||[]];I.sort((V,ne)=>V.start_time.localeCompare(ne.start_time));const J=new Date,K=J.getHours().toString().padStart(2,"0")+":"+J.getMinutes().toString().padStart(2,"0"),ue=I.find(V=>V.start_time<=K&&V.end_time>K),ce=I.find(V=>V.start_time>K);i(ue||null),r(ce||I[0]);const{data:de}=await pt.from("attendance_logs").select("status").eq("user_id",t.id);if(de&&de.length>0){const V=de.filter(me=>me.status==="present").length,ne=de.length;l(Math.round(V/ne*100))}};M();const G=setInterval(M,6e4);return()=>clearInterval(G)},[t]),m.jsxs("div",{className:"p-6 space-y-8 pb-24",children:[m.jsxs("div",{className:"mt-4 flex justify-between items-end",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[b&&m.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-2 border-white shadow-md",children:m.jsx("img",{src:b,alt:"Profile",className:"w-full h-full object-cover"})}),m.jsxs("div",{children:[m.jsxs("h1",{className:"text-3xl font-bold text-slate-800",children:["Hello, ",m.jsx("span",{className:"text-primary-600",children:s})]}),m.jsx("p",{className:"text-slate-500 mt-1",children:"Ready to learn?"})]})]}),m.jsxs("div",{className:"text-right hidden sm:block",children:[m.jsx("div",{className:"text-2xl font-bold text-slate-700 font-mono",children:u.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})}),m.jsx("div",{className:"text-xs text-slate-400 font-medium",children:u.toLocaleDateString([],{weekday:"long",month:"short",day:"numeric"})})]})]}),m.jsxs("div",{className:"sm:hidden flex justify-between items-center bg-white/50 p-3 rounded-xl border border-white/50 shadow-sm",children:[m.jsx("div",{className:"text-xs text-slate-500 font-medium",children:u.toLocaleDateString([],{weekday:"long",month:"short",day:"numeric"})}),m.jsx("div",{className:"text-xl font-bold text-slate-700 font-mono",children:u.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})})]}),m.jsxs("div",{className:Wt("glass-card rounded-3xl p-6 relative overflow-hidden group transition-all duration-500",n?"border-primary-500/30 shadow-primary-200":""),children:[m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary-500/10 rounded-full -mr-10 -mt-10 transition-transform group-hover:scale-150 duration-700"}),m.jsxs("div",{className:"relative z-10",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n?m.jsxs("span",{className:"bg-red-100 text-red-600 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wider flex items-center gap-1.5 animate-pulse",children:[m.jsx(QA,{className:"h-3 w-3"}),"Live Now"]}):m.jsx("span",{className:"bg-primary-100 text-primary-700 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wider",children:"Up Next"}),m.jsx(fa,{className:Wt("h-5 w-5",n?"text-red-400":"text-primary-400")})]}),n?m.jsxs(m.Fragment,{children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-1",children:n.subject_name}),m.jsx("p",{className:"text-slate-500 font-medium mb-6",children:n.subject_code}),m.jsxs("div",{className:"flex items-center gap-6",children:[m.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[m.jsx(fa,{className:"h-4 w-4"}),m.jsxs("span",{className:"text-sm font-semibold",children:["Ends at ",n.end_time.slice(0,5)]})]}),n.room_number&&m.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[m.jsx(Yh,{className:"h-4 w-4"}),m.jsx("span",{className:"text-sm font-semibold",children:n.room_number})]})]})]}):e?m.jsxs(m.Fragment,{children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-1",children:e.subject_name}),m.jsx("p",{className:"text-slate-500 font-medium mb-6",children:e.subject_code}),m.jsxs("div",{className:"flex items-center gap-6",children:[m.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[m.jsx(fa,{className:"h-4 w-4"}),m.jsxs("span",{className:"text-sm font-semibold",children:[e.start_time.slice(0,5)," - ",e.end_time.slice(0,5)]})]}),e.room_number&&m.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[m.jsx(Yh,{className:"h-4 w-4"}),m.jsx("span",{className:"text-sm font-semibold",children:e.room_number})]})]})]}):m.jsx("div",{className:"py-8 text-center text-slate-400",children:m.jsx("p",{children:"No classes scheduled for today!"})})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"glass-card rounded-2xl p-4 flex flex-col items-center justify-center text-center",children:[m.jsx("div",{className:Wt("w-12 h-12 rounded-2xl flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",o<f?"bg-red-100 text-red-600":"bg-primary-100 text-primary-600"),children:m.jsx(fa,{className:"h-6 w-6"})}),m.jsxs("div",{className:Wt("text-2xl font-bold mb-1",o<f?"text-red-600":"text-slate-800"),children:[o,"%"]}),m.jsx("div",{className:"text-xs text-slate-500 font-medium",children:"Attendance"})]}),m.jsxs("div",{className:"glass-card p-5 rounded-3xl flex flex-col items-center justify-center text-center hover:bg-white/50 transition-colors cursor-pointer group",children:[m.jsx("div",{className:"w-12 h-12 rounded-2xl bg-pink-100 flex items-center justify-center text-pink-600 mb-3 group-hover:scale-110 transition-transform",children:m.jsx(t_,{className:"h-6 w-6"})}),m.jsx("div",{className:"text-2xl font-bold text-slate-800 mb-1",children:S>0?S:"-"}),m.jsx("div",{className:"text-xs text-slate-500 font-medium",children:"CGPA"})]}),m.jsxs("div",{className:"glass-card p-5 rounded-3xl flex flex-col items-center justify-center text-center hover:bg-white/50 transition-colors cursor-pointer group",children:[m.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-100 flex items-center justify-center text-blue-600 mb-3 group-hover:scale-110 transition-transform",children:m.jsx(s_,{className:"h-6 w-6"})}),m.jsx("div",{className:"text-2xl font-bold text-slate-800 mb-1",children:y>0?y:"-"}),m.jsx("div",{className:"text-xs text-slate-500 font-medium",children:"Credits"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsx(tE,{}),m.jsx(rE,{}),m.jsx(nE,{})]}),m.jsxs("div",{className:"glass-card p-6 rounded-3xl relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary-100 rounded-full blur-3xl -mr-16 -mt-16 opacity-50"}),m.jsxs("div",{className:"relative z-10",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[m.jsx(YA,{className:"h-5 w-5 text-primary-500"}),m.jsx("h3",{className:"font-bold text-slate-700",children:"Quote of the Day"})]}),m.jsxs("p",{className:"text-slate-600 italic mb-2",children:['"',p.text,'"']}),m.jsxs("p",{className:"text-sm text-primary-600 font-medium",children:["- ",p.author]})]})]}),m.jsx("div",{className:"flex justify-center",children:m.jsxs("button",{onClick:()=>window.location.href="/developer",className:"glass-card px-6 py-2 rounded-full flex items-center gap-2 text-slate-500 font-medium text-sm hover:bg-white/50 transition-colors group",children:[m.jsx("span",{children:"Made by Developer"}),m.jsx("div",{className:"w-5 h-5 rounded-full bg-slate-200 flex items-center justify-center group-hover:bg-primary-100 group-hover:text-primary-600 transition-colors",children:m.jsx("span",{className:"text-[10px]",children:"Dev"})})]})})]})}function sE({isOpen:t,onClose:e,currentProfile:r,onSuccess:n}){const{user:i}=Rs(),[s,a]=ee.useState(!1),[o,l]=ee.useState({full_name:"",university:"",branch:"",semester:"",cgpa:"",credits:""});ee.useEffect(()=>{var d,p;r&&l({full_name:r.full_name||"",university:r.university||"",branch:r.branch||"",semester:r.semester||"",cgpa:((d=r.cgpa)==null?void 0:d.toString())||"",credits:((p=r.credits)==null?void 0:p.toString())||""})},[r]);const u=async d=>{if(d.preventDefault(),!!i){a(!0);try{const{error:p}=await pt.from("profiles").upsert({id:i.id,full_name:o.full_name,university:o.university,branch:o.branch,semester:o.semester,cgpa:parseFloat(o.cgpa)||0,credits:parseFloat(o.credits)||0,updated_at:new Date().toISOString()});if(p)throw p;n(),e()}catch(p){console.error("Error updating profile:",p)}finally{a(!1)}}};return t?m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-md overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200",children:[m.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[m.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Edit Profile"}),m.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:m.jsx(Oc,{className:"h-5 w-5 text-slate-500"})})]}),m.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Full Name"}),m.jsx("input",{type:"text",value:o.full_name,onChange:d=>l({...o,full_name:d.target.value}),className:"w-full p-3 rounded-xl bg-slate-50 border border-slate-200 focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all",placeholder:"John Doe"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700",children:"University"}),m.jsx("input",{type:"text",value:o.university,onChange:d=>l({...o,university:d.target.value}),className:"w-full p-3 rounded-xl bg-slate-50 border border-slate-200 focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all",placeholder:"VIT"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Branch"}),m.jsx("input",{type:"text",value:o.branch,onChange:d=>l({...o,branch:d.target.value}),className:"w-full p-3 rounded-xl bg-slate-50 border border-slate-200 focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all",placeholder:"CSE"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Semester"}),m.jsx("input",{type:"text",value:o.semester,onChange:d=>l({...o,semester:d.target.value}),className:"w-full p-3 rounded-xl bg-slate-50 border border-slate-200 focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all",placeholder:"Fall 2024-25"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CGPA"}),m.jsx("input",{type:"number",step:"0.01",min:"0",max:"10",value:o.cgpa,onChange:d=>l({...o,cgpa:d.target.value}),className:"w-full p-3 rounded-xl bg-slate-50 border border-slate-200 focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all",placeholder:"9.5"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Credits"}),m.jsx("input",{type:"number",step:"0.5",min:"0",value:o.credits,onChange:d=>l({...o,credits:d.target.value}),className:"w-full p-3 rounded-xl bg-slate-50 border border-slate-200 focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all",placeholder:"24.5"})]})]}),m.jsxs("button",{type:"submit",disabled:s,className:"w-full py-3 px-4 bg-primary-600 text-white rounded-xl font-bold hover:bg-primary-700 active:scale-95 transition-all flex items-center justify-center gap-2 shadow-lg shadow-primary-500/30",children:[s?m.jsx(ql,{className:"h-5 w-5 animate-spin"}):m.jsx(o_,{className:"h-5 w-5"}),"Save Changes"]})]})]})}):null}const aE="modulepreload",oE=function(t){return"/"+t},ty={},e0=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=oE(l),l in ty)return;ty[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":aE,u||(p.as="script"),p.crossOrigin="",p.href=l,o&&p.setAttribute("nonce",o),document.head.appendChild(p),u)return new Promise((g,f)=>{p.addEventListener("load",g),p.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function It(t){"@babel/helpers - typeof";return It=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},It(t)}var Ni=Uint8Array,Mn=Uint16Array,pg=Int32Array,mg=new Ni([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),gg=new Ni([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ry=new Ni([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),g_=function(t,e){for(var r=new Mn(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new pg(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},v_=g_(mg,2),lE=v_.b,zm=v_.r;lE[28]=258,zm[258]=28;var uE=g_(gg,0),ny=uE.r,$m=new Mn(32768);for(var Jt=0;Jt<32768;++Jt){var ra=(Jt&43690)>>1|(Jt&21845)<<1;ra=(ra&52428)>>2|(ra&13107)<<2,ra=(ra&61680)>>4|(ra&3855)<<4,$m[Jt]=((ra&65280)>>8|(ra&255)<<8)>>1}var Yu=function(t,e,r){for(var n=t.length,i=0,s=new Mn(e);i<n;++i)t[i]&&++s[t[i]-1];var a=new Mn(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(r){o=new Mn(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var u=i<<4|t[i],d=e-t[i],p=a[t[i]-1]++<<d,g=p|(1<<d)-1;p<=g;++p)o[$m[p]>>l]=u}else for(o=new Mn(n),i=0;i<n;++i)t[i]&&(o[i]=$m[a[t[i]-1]++]>>15-t[i]);return o},xo=new Ni(288);for(var Jt=0;Jt<144;++Jt)xo[Jt]=8;for(var Jt=144;Jt<256;++Jt)xo[Jt]=9;for(var Jt=256;Jt<280;++Jt)xo[Jt]=7;for(var Jt=280;Jt<288;++Jt)xo[Jt]=8;var Qh=new Ni(32);for(var Jt=0;Jt<32;++Jt)Qh[Jt]=5;var cE=Yu(xo,9,0),dE=Yu(Qh,5,0),y_=function(t){return(t+7)/8|0},hE=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Ni(t.subarray(e,r))},gs=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Pu=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},t0=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:b_,l:0};if(i==1){var a=new Ni(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(M,G){return M.f-G.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],u=0,d=1,p=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=i-1;)o=r[r[u].f<r[p].f?u++:p++],l=r[u!=d&&r[u].f<r[p].f?u++:p++],r[d++]={s:-1,f:o.f+l.f,l:o,r:l};for(var g=s[0].s,n=1;n<i;++n)s[n].s>g&&(g=s[n].s);var f=new Mn(g+1),k=qm(r[d-1],f,0);if(k>e){var n=0,S=0,x=k-e,y=1<<x;for(s.sort(function(G,H){return f[H.s]-f[G.s]||G.f-H.f});n<i;++n){var _=s[n].s;if(f[_]>e)S+=y-(1<<k-f[_]),f[_]=e;else break}for(S>>=x;S>0;){var b=s[n].s;f[b]<e?S-=1<<e-f[b]++-1:++n}for(;n>=0&&S;--n){var A=s[n].s;f[A]==e&&(--f[A],++S)}k=e}return{t:new Ni(f),l:k}},qm=function(t,e,r){return t.s==-1?Math.max(qm(t.l,e,r+1),qm(t.r,e,r+1)):e[t.s]=r},iy=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Mn(++e),n=0,i=t[0],s=1,a=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:r.subarray(0,n),n:e}},Tu=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},w_=function(t,e,r){var n=r.length,i=y_(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},sy=function(t,e,r,n,i,s,a,o,l,u,d){gs(e,d++,r),++i[256];for(var p=t0(i,15),g=p.t,f=p.l,k=t0(s,15),S=k.t,x=k.l,y=iy(g),_=y.c,b=y.n,A=iy(S),M=A.c,G=A.n,H=new Mn(19),F=0;F<_.length;++F)++H[_[F]&31];for(var F=0;F<M.length;++F)++H[M[F]&31];for(var R=t0(H,7),Y=R.t,T=R.l,I=19;I>4&&!Y[ry[I-1]];--I);var J=u+5<<3,K=Tu(i,xo)+Tu(s,Qh)+a,ue=Tu(i,g)+Tu(s,S)+a+14+3*I+Tu(H,Y)+2*H[16]+3*H[17]+7*H[18];if(l>=0&&J<=K&&J<=ue)return w_(e,d,t.subarray(l,l+u));var ce,de,V,ne;if(gs(e,d,1+(ue<K)),d+=2,ue<K){ce=Yu(g,f,0),de=g,V=Yu(S,x,0),ne=S;var me=Yu(Y,T,0);gs(e,d,b-257),gs(e,d+5,G-1),gs(e,d+10,I-4),d+=14;for(var F=0;F<I;++F)gs(e,d+3*F,Y[ry[F]]);d+=3*I;for(var he=[_,M],C=0;C<2;++C)for(var q=he[C],F=0;F<q.length;++F){var W=q[F]&31;gs(e,d,me[W]),d+=Y[W],W>15&&(gs(e,d,q[F]>>5&127),d+=q[F]>>12)}}else ce=cE,de=xo,V=dE,ne=Qh;for(var F=0;F<o;++F){var X=n[F];if(X>255){var W=X>>18&31;Pu(e,d,ce[W+257]),d+=de[W+257],W>7&&(gs(e,d,X>>23&31),d+=mg[W]);var te=X&31;Pu(e,d,V[te]),d+=ne[te],te>3&&(Pu(e,d,X>>5&8191),d+=gg[te])}else Pu(e,d,ce[X]),d+=de[X]}return Pu(e,d,ce[256]),d+de[256]},fE=new pg([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),b_=new Ni(0),pE=function(t,e,r,n,i,s){var a=s.z||t.length,o=new Ni(n+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(n,o.length-i),u=s.l,d=(s.r||0)&7;if(e){d&&(l[0]=s.r>>3);for(var p=fE[e-1],g=p>>13,f=p&8191,k=(1<<r)-1,S=s.p||new Mn(32768),x=s.h||new Mn(k+1),y=Math.ceil(r/3),_=2*y,b=function(He){return(t[He]^t[He+1]<<y^t[He+2]<<_)&k},A=new pg(25e3),M=new Mn(288),G=new Mn(32),H=0,F=0,R=s.i||0,Y=0,T=s.w||0,I=0;R+2<a;++R){var J=b(R),K=R&32767,ue=x[J];if(S[K]=ue,x[J]=K,T<=R){var ce=a-R;if((H>7e3||Y>24576)&&(ce>423||!u)){d=sy(t,l,0,A,M,G,F,Y,I,R-I,d),Y=H=F=0,I=R;for(var de=0;de<286;++de)M[de]=0;for(var de=0;de<30;++de)G[de]=0}var V=2,ne=0,me=f,he=K-ue&32767;if(ce>2&&J==b(R-he))for(var C=Math.min(g,ce)-1,q=Math.min(32767,R),W=Math.min(258,ce);he<=q&&--me&&K!=ue;){if(t[R+V]==t[R+V-he]){for(var X=0;X<W&&t[R+X]==t[R+X-he];++X);if(X>V){if(V=X,ne=he,X>C)break;for(var te=Math.min(he,X-2),ae=0,de=0;de<te;++de){var fe=R-he+de&32767,pe=S[fe],be=fe-pe&32767;be>ae&&(ae=be,ue=fe)}}}K=ue,ue=S[K],he+=K-ue&32767}if(ne){A[Y++]=268435456|zm[V]<<18|ny[ne];var Ae=zm[V]&31,Ce=ny[ne]&31;F+=mg[Ae]+gg[Ce],++M[257+Ae],++G[Ce],T=R+V,++H}else A[Y++]=t[R],++M[t[R]]}}for(R=Math.max(R,T);R<a;++R)A[Y++]=t[R],++M[t[R]];d=sy(t,l,u,A,M,G,F,Y,I,R-I,d),u||(s.r=d&7|l[d/8|0]<<3,d-=7,s.h=x,s.p=S,s.i=R,s.w=T)}else{for(var R=s.w||0;R<a+u;R+=65535){var Le=R+65535;Le>=a&&(l[d/8|0]=u,Le=a),d=w_(l,d+1,t.subarray(R,Le))}s.i=a}return hE(o,0,n+y_(d)+i)},x_=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=r[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},mE=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Ni(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return pE(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},__=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},gE=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=x_();i.p(e.dictionary),__(t,2,i.d())}};function Wm(t,e){e||(e={});var r=x_();r.p(t);var n=mE(t,e,e.dictionary?6:2,4);return gE(n,e),__(n,n.length-4,r.d()),n}var vE=typeof TextDecoder<"u"&&new TextDecoder,yE=0;try{vE.decode(b_,{stream:!0}),yE=1}catch{}function wE(t){if(Array.isArray(t))return t}function bE(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function ay(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function xE(t,e){if(t){if(typeof t=="string")return ay(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ay(t,e):void 0}}function _E(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oy(t,e){return wE(t)||bE(t,e)||xE(t,e)||_E()}function ly(t,e="utf8"){return new TextDecoder(e).decode(t)}const SE=new TextEncoder;function kE(t){return SE.encode(t)}const NE=1024*8,AE=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),r0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class vg{constructor(e=NE,r={}){Rt(this,"buffer");Rt(this,"byteLength");Rt(this,"byteOffset");Rt(this,"length");Rt(this,"offset");Rt(this,"lastWrittenByte");Rt(this,"littleEndian");Rt(this,"_data");Rt(this,"_mark");Rt(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof vg)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=r0[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===AE&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new r0[r](o.buffer);return this.offset+=n,l.reverse(),l}const a=new r0[r](s);return this.offset+=n,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return ly(this.readBytes(e))}decodeText(e=1,r="utf8"){return ly(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(kE(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Hl(t){let e=t.length;for(;--e>=0;)t[e]=0}const jE=3,EE=258,S_=29,LE=256,CE=LE+1+S_,k_=30,PE=512,TE=new Array((CE+2)*2);Hl(TE);const OE=new Array(k_*2);Hl(OE);const RE=new Array(PE);Hl(RE);const IE=new Array(EE-jE+1);Hl(IE);const DE=new Array(S_);Hl(DE);const FE=new Array(k_);Hl(FE);const ME=(t,e,r,n)=>{let i=t&65535|0,s=t>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do i=i+e[n++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var Hm=ME;const BE=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},UE=new Uint32Array(BE()),zE=(t,e,r,n)=>{const i=UE,s=n+r;t^=-1;for(let a=n;a<s;a++)t=t>>>8^i[(t^e[a])&255];return t^-1};var zi=zE,Vm={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},N_={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const $E=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var qE=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)$E(r,n)&&(t[n]=r[n])}}return t},WE=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,s=t.length;n<s;n++){let a=t[n];r.set(a,i),i+=a.length}return r},A_={assign:qE,flattenChunks:WE};let j_=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{j_=!1}const _c=new Uint8Array(256);for(let t=0;t<256;t++)_c[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;_c[254]=_c[254]=1;var HE=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,s,a=t.length,o=0;for(i=0;i<a;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e};const VE=(t,e)=>{if(e<65534&&t.subarray&&j_)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var GE=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let a=t[n++];if(a<128){s[i++]=a;continue}let o=_c[a];if(o>4){s[i++]=65533,n+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&n<r;)a=a<<6|t[n++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return VE(s,i)},KE=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+_c[t[r]]>e?r:e},Gm={string2buf:HE,buf2string:GE,utf8border:KE};function JE(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var YE=JE;const Hd=16209,QE=16191;var XE=function(e,r){let n,i,s,a,o,l,u,d,p,g,f,k,S,x,y,_,b,A,M,G,H,F,R,Y;const T=e.state;n=e.next_in,R=e.input,i=n+(e.avail_in-5),s=e.next_out,Y=e.output,a=s-(r-e.avail_out),o=s+(e.avail_out-257),l=T.dmax,u=T.wsize,d=T.whave,p=T.wnext,g=T.window,f=T.hold,k=T.bits,S=T.lencode,x=T.distcode,y=(1<<T.lenbits)-1,_=(1<<T.distbits)-1;e:do{k<15&&(f+=R[n++]<<k,k+=8,f+=R[n++]<<k,k+=8),b=S[f&y];t:for(;;){if(A=b>>>24,f>>>=A,k-=A,A=b>>>16&255,A===0)Y[s++]=b&65535;else if(A&16){M=b&65535,A&=15,A&&(k<A&&(f+=R[n++]<<k,k+=8),M+=f&(1<<A)-1,f>>>=A,k-=A),k<15&&(f+=R[n++]<<k,k+=8,f+=R[n++]<<k,k+=8),b=x[f&_];r:for(;;){if(A=b>>>24,f>>>=A,k-=A,A=b>>>16&255,A&16){if(G=b&65535,A&=15,k<A&&(f+=R[n++]<<k,k+=8,k<A&&(f+=R[n++]<<k,k+=8)),G+=f&(1<<A)-1,G>l){e.msg="invalid distance too far back",T.mode=Hd;break e}if(f>>>=A,k-=A,A=s-a,G>A){if(A=G-A,A>d&&T.sane){e.msg="invalid distance too far back",T.mode=Hd;break e}if(H=0,F=g,p===0){if(H+=u-A,A<M){M-=A;do Y[s++]=g[H++];while(--A);H=s-G,F=Y}}else if(p<A){if(H+=u+p-A,A-=p,A<M){M-=A;do Y[s++]=g[H++];while(--A);if(H=0,p<M){A=p,M-=A;do Y[s++]=g[H++];while(--A);H=s-G,F=Y}}}else if(H+=p-A,A<M){M-=A;do Y[s++]=g[H++];while(--A);H=s-G,F=Y}for(;M>2;)Y[s++]=F[H++],Y[s++]=F[H++],Y[s++]=F[H++],M-=3;M&&(Y[s++]=F[H++],M>1&&(Y[s++]=F[H++]))}else{H=s-G;do Y[s++]=Y[H++],Y[s++]=Y[H++],Y[s++]=Y[H++],M-=3;while(M>2);M&&(Y[s++]=Y[H++],M>1&&(Y[s++]=Y[H++]))}}else if(A&64){e.msg="invalid distance code",T.mode=Hd;break e}else{b=x[(b&65535)+(f&(1<<A)-1)];continue r}break}}else if(A&64)if(A&32){T.mode=QE;break e}else{e.msg="invalid literal/length code",T.mode=Hd;break e}else{b=S[(b&65535)+(f&(1<<A)-1)];continue t}break}}while(n<i&&s<o);M=k>>3,n-=M,k-=M<<3,f&=(1<<k)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<o?257+(o-s):257-(s-o),T.hold=f,T.bits=k};const Go=15,uy=852,cy=592,dy=0,n0=1,hy=2,ZE=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),eL=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),tL=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),rL=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),nL=(t,e,r,n,i,s,a,o)=>{const l=o.bits;let u=0,d=0,p=0,g=0,f=0,k=0,S=0,x=0,y=0,_=0,b,A,M,G,H,F=null,R;const Y=new Uint16Array(Go+1),T=new Uint16Array(Go+1);let I=null,J,K,ue;for(u=0;u<=Go;u++)Y[u]=0;for(d=0;d<n;d++)Y[e[r+d]]++;for(f=l,g=Go;g>=1&&Y[g]===0;g--);if(f>g&&(f=g),g===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(p=1;p<g&&Y[p]===0;p++);for(f<p&&(f=p),x=1,u=1;u<=Go;u++)if(x<<=1,x-=Y[u],x<0)return-1;if(x>0&&(t===dy||g!==1))return-1;for(T[1]=0,u=1;u<Go;u++)T[u+1]=T[u]+Y[u];for(d=0;d<n;d++)e[r+d]!==0&&(a[T[e[r+d]]++]=d);if(t===dy?(F=I=a,R=20):t===n0?(F=ZE,I=eL,R=257):(F=tL,I=rL,R=0),_=0,d=0,u=p,H=s,k=f,S=0,M=-1,y=1<<f,G=y-1,t===n0&&y>uy||t===hy&&y>cy)return 1;for(;;){J=u-S,a[d]+1<R?(K=0,ue=a[d]):a[d]>=R?(K=I[a[d]-R],ue=F[a[d]-R]):(K=96,ue=0),b=1<<u-S,A=1<<k,p=A;do A-=b,i[H+(_>>S)+A]=J<<24|K<<16|ue|0;while(A!==0);for(b=1<<u-1;_&b;)b>>=1;if(b!==0?(_&=b-1,_+=b):_=0,d++,--Y[u]===0){if(u===g)break;u=e[r+a[d]]}if(u>f&&(_&G)!==M){for(S===0&&(S=f),H+=p,k=u-S,x=1<<k;k+S<g&&(x-=Y[k+S],!(x<=0));)k++,x<<=1;if(y+=1<<k,t===n0&&y>uy||t===hy&&y>cy)return 1;M=_&G,i[M]=f<<24|k<<16|H-s|0}}return _!==0&&(i[H+_]=u-S<<24|64<<16|0),o.bits=f,0};var Qu=nL;const iL=0,E_=1,L_=2,{Z_FINISH:fy,Z_BLOCK:sL,Z_TREES:Vd,Z_OK:_o,Z_STREAM_END:aL,Z_NEED_DICT:oL,Z_STREAM_ERROR:si,Z_DATA_ERROR:C_,Z_MEM_ERROR:P_,Z_BUF_ERROR:lL,Z_DEFLATED:py}=N_,Cf=16180,my=16181,gy=16182,vy=16183,yy=16184,wy=16185,by=16186,xy=16187,_y=16188,Sy=16189,Xh=16190,vs=16191,i0=16192,ky=16193,s0=16194,Ny=16195,Ay=16196,jy=16197,Ey=16198,Gd=16199,Kd=16200,Ly=16201,Cy=16202,Py=16203,Ty=16204,Oy=16205,a0=16206,Ry=16207,Iy=16208,Zt=16209,T_=16210,O_=16211,uL=852,cL=592,dL=15,hL=dL,Dy=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function fL(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const No=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Cf||e.mode>O_?1:0},R_=t=>{if(No(t))return si;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Cf,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(uL),e.distcode=e.distdyn=new Int32Array(cL),e.sane=1,e.back=-1,_o},I_=t=>{if(No(t))return si;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,R_(t)},D_=(t,e)=>{let r;if(No(t))return si;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?si:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,I_(t))},F_=(t,e)=>{if(!t)return si;const r=new fL;t.state=r,r.strm=t,r.window=null,r.mode=Cf;const n=D_(t,e);return n!==_o&&(t.state=null),n},pL=t=>F_(t,hL);let Fy=!0,o0,l0;const mL=t=>{if(Fy){o0=new Int32Array(512),l0=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Qu(E_,t.lens,0,288,o0,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Qu(L_,t.lens,0,32,l0,0,t.work,{bits:5}),Fy=!1}t.lencode=o0,t.lenbits=9,t.distcode=l0,t.distbits=5},M_=(t,e,r,n)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},gL=(t,e)=>{let r,n,i,s,a,o,l,u,d,p,g,f,k,S,x=0,y,_,b,A,M,G,H,F;const R=new Uint8Array(4);let Y,T;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(No(t)||!t.output||!t.input&&t.avail_in!==0)return si;r=t.state,r.mode===vs&&(r.mode=i0),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,u=r.hold,d=r.bits,p=o,g=l,F=_o;e:for(;;)switch(r.mode){case Cf:if(r.wrap===0){r.mode=i0;break}for(;d<16;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,R[0]=u&255,R[1]=u>>>8&255,r.check=zi(r.check,R,2,0),u=0,d=0,r.mode=my;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=Zt;break}if((u&15)!==py){t.msg="unknown compression method",r.mode=Zt;break}if(u>>>=4,d-=4,H=(u&15)+8,r.wbits===0&&(r.wbits=H),H>15||H>r.wbits){t.msg="invalid window size",r.mode=Zt;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=u&512?Sy:vs,u=0,d=0;break;case my:for(;d<16;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==py){t.msg="unknown compression method",r.mode=Zt;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Zt;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(R[0]=u&255,R[1]=u>>>8&255,r.check=zi(r.check,R,2,0)),u=0,d=0,r.mode=gy;case gy:for(;d<32;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(R[0]=u&255,R[1]=u>>>8&255,R[2]=u>>>16&255,R[3]=u>>>24&255,r.check=zi(r.check,R,4,0)),u=0,d=0,r.mode=vy;case vy:for(;d<16;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(R[0]=u&255,R[1]=u>>>8&255,r.check=zi(r.check,R,2,0)),u=0,d=0,r.mode=yy;case yy:if(r.flags&1024){for(;d<16;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(R[0]=u&255,R[1]=u>>>8&255,r.check=zi(r.check,R,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=wy;case wy:if(r.flags&1024&&(f=r.length,f>o&&(f=o),f&&(r.head&&(H=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+f),H)),r.flags&512&&r.wrap&4&&(r.check=zi(r.check,n,f,s)),o-=f,s+=f,r.length-=f),r.length))break e;r.length=0,r.mode=by;case by:if(r.flags&2048){if(o===0)break e;f=0;do H=n[s+f++],r.head&&H&&r.length<65536&&(r.head.name+=String.fromCharCode(H));while(H&&f<o);if(r.flags&512&&r.wrap&4&&(r.check=zi(r.check,n,f,s)),o-=f,s+=f,H)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=xy;case xy:if(r.flags&4096){if(o===0)break e;f=0;do H=n[s+f++],r.head&&H&&r.length<65536&&(r.head.comment+=String.fromCharCode(H));while(H&&f<o);if(r.flags&512&&r.wrap&4&&(r.check=zi(r.check,n,f,s)),o-=f,s+=f,H)break e}else r.head&&(r.head.comment=null);r.mode=_y;case _y:if(r.flags&512){for(;d<16;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Zt;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=vs;break;case Sy:for(;d<32;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}t.adler=r.check=Dy(u),u=0,d=0,r.mode=Xh;case Xh:if(r.havedict===0)return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=d,oL;t.adler=r.check=1,r.mode=vs;case vs:if(e===sL||e===Vd)break e;case i0:if(r.last){u>>>=d&7,d-=d&7,r.mode=a0;break}for(;d<3;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=ky;break;case 1:if(mL(r),r.mode=Gd,e===Vd){u>>>=2,d-=2;break e}break;case 2:r.mode=Ay;break;case 3:t.msg="invalid block type",r.mode=Zt}u>>>=2,d-=2;break;case ky:for(u>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Zt;break}if(r.length=u&65535,u=0,d=0,r.mode=s0,e===Vd)break e;case s0:r.mode=Ny;case Ny:if(f=r.length,f){if(f>o&&(f=o),f>l&&(f=l),f===0)break e;i.set(n.subarray(s,s+f),a),o-=f,s+=f,l-=f,a+=f,r.length-=f;break}r.mode=vs;break;case Ay:for(;d<14;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Zt;break}r.have=0,r.mode=jy;case jy:for(;r.have<r.ncode;){for(;d<3;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}r.lens[I[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[I[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,Y={bits:r.lenbits},F=Qu(iL,r.lens,0,19,r.lencode,0,r.work,Y),r.lenbits=Y.bits,F){t.msg="invalid code lengths set",r.mode=Zt;break}r.have=0,r.mode=Ey;case Ey:for(;r.have<r.nlen+r.ndist;){for(;x=r.lencode[u&(1<<r.lenbits)-1],y=x>>>24,_=x>>>16&255,b=x&65535,!(y<=d);){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}if(b<16)u>>>=y,d-=y,r.lens[r.have++]=b;else{if(b===16){for(T=y+2;d<T;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}if(u>>>=y,d-=y,r.have===0){t.msg="invalid bit length repeat",r.mode=Zt;break}H=r.lens[r.have-1],f=3+(u&3),u>>>=2,d-=2}else if(b===17){for(T=y+3;d<T;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}u>>>=y,d-=y,H=0,f=3+(u&7),u>>>=3,d-=3}else{for(T=y+7;d<T;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}u>>>=y,d-=y,H=0,f=11+(u&127),u>>>=7,d-=7}if(r.have+f>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Zt;break}for(;f--;)r.lens[r.have++]=H}}if(r.mode===Zt)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Zt;break}if(r.lenbits=9,Y={bits:r.lenbits},F=Qu(E_,r.lens,0,r.nlen,r.lencode,0,r.work,Y),r.lenbits=Y.bits,F){t.msg="invalid literal/lengths set",r.mode=Zt;break}if(r.distbits=6,r.distcode=r.distdyn,Y={bits:r.distbits},F=Qu(L_,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,Y),r.distbits=Y.bits,F){t.msg="invalid distances set",r.mode=Zt;break}if(r.mode=Gd,e===Vd)break e;case Gd:r.mode=Kd;case Kd:if(o>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=d,XE(t,g),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,u=r.hold,d=r.bits,r.mode===vs&&(r.back=-1);break}for(r.back=0;x=r.lencode[u&(1<<r.lenbits)-1],y=x>>>24,_=x>>>16&255,b=x&65535,!(y<=d);){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}if(_&&!(_&240)){for(A=y,M=_,G=b;x=r.lencode[G+((u&(1<<A+M)-1)>>A)],y=x>>>24,_=x>>>16&255,b=x&65535,!(A+y<=d);){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}u>>>=A,d-=A,r.back+=A}if(u>>>=y,d-=y,r.back+=y,r.length=b,_===0){r.mode=Oy;break}if(_&32){r.back=-1,r.mode=vs;break}if(_&64){t.msg="invalid literal/length code",r.mode=Zt;break}r.extra=_&15,r.mode=Ly;case Ly:if(r.extra){for(T=r.extra;d<T;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=Cy;case Cy:for(;x=r.distcode[u&(1<<r.distbits)-1],y=x>>>24,_=x>>>16&255,b=x&65535,!(y<=d);){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}if(!(_&240)){for(A=y,M=_,G=b;x=r.distcode[G+((u&(1<<A+M)-1)>>A)],y=x>>>24,_=x>>>16&255,b=x&65535,!(A+y<=d);){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}u>>>=A,d-=A,r.back+=A}if(u>>>=y,d-=y,r.back+=y,_&64){t.msg="invalid distance code",r.mode=Zt;break}r.offset=b,r.extra=_&15,r.mode=Py;case Py:if(r.extra){for(T=r.extra;d<T;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Zt;break}r.mode=Ty;case Ty:if(l===0)break e;if(f=g-l,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Zt;break}f>r.wnext?(f-=r.wnext,k=r.wsize-f):k=r.wnext-f,f>r.length&&(f=r.length),S=r.window}else S=i,k=a-r.offset,f=r.length;f>l&&(f=l),l-=f,r.length-=f;do i[a++]=S[k++];while(--f);r.length===0&&(r.mode=Kd);break;case Oy:if(l===0)break e;i[a++]=r.length,l--,r.mode=Kd;break;case a0:if(r.wrap){for(;d<32;){if(o===0)break e;o--,u|=n[s++]<<d,d+=8}if(g-=l,t.total_out+=g,r.total+=g,r.wrap&4&&g&&(t.adler=r.check=r.flags?zi(r.check,i,g,a-g):Hm(r.check,i,g,a-g)),g=l,r.wrap&4&&(r.flags?u:Dy(u))!==r.check){t.msg="incorrect data check",r.mode=Zt;break}u=0,d=0}r.mode=Ry;case Ry:if(r.wrap&&r.flags){for(;d<32;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Zt;break}u=0,d=0}r.mode=Iy;case Iy:F=aL;break e;case Zt:F=C_;break e;case T_:return P_;case O_:default:return si}return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=d,(r.wsize||g!==t.avail_out&&r.mode<Zt&&(r.mode<a0||e!==fy))&&M_(t,t.output,t.next_out,g-t.avail_out),p-=t.avail_in,g-=t.avail_out,t.total_in+=p,t.total_out+=g,r.total+=g,r.wrap&4&&g&&(t.adler=r.check=r.flags?zi(r.check,i,g,t.next_out-g):Hm(r.check,i,g,t.next_out-g)),t.data_type=r.bits+(r.last?64:0)+(r.mode===vs?128:0)+(r.mode===Gd||r.mode===s0?256:0),(p===0&&g===0||e===fy)&&F===_o&&(F=lL),F},vL=t=>{if(No(t))return si;let e=t.state;return e.window&&(e.window=null),t.state=null,_o},yL=(t,e)=>{if(No(t))return si;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,_o):si},wL=(t,e)=>{const r=e.length;let n,i,s;return No(t)||(n=t.state,n.wrap!==0&&n.mode!==Xh)?si:n.mode===Xh&&(i=1,i=Hm(i,e,r,0),i!==n.check)?C_:(s=M_(t,e,r,r),s?(n.mode=T_,P_):(n.havedict=1,_o))};var bL=I_,xL=D_,_L=R_,SL=pL,kL=F_,NL=gL,AL=vL,jL=yL,EL=wL,LL="pako inflate (from Nodeca project)",xs={inflateReset:bL,inflateReset2:xL,inflateResetKeep:_L,inflateInit:SL,inflateInit2:kL,inflate:NL,inflateEnd:AL,inflateGetHeader:jL,inflateSetDictionary:EL,inflateInfo:LL};function CL(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var PL=CL;const B_=Object.prototype.toString,{Z_NO_FLUSH:TL,Z_FINISH:OL,Z_OK:Sc,Z_STREAM_END:u0,Z_NEED_DICT:c0,Z_STREAM_ERROR:RL,Z_DATA_ERROR:My,Z_MEM_ERROR:IL}=N_;function Rc(t){this.options=A_.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new YE,this.strm.avail_out=0;let r=xs.inflateInit2(this.strm,e.windowBits);if(r!==Sc)throw new Error(Vm[r]);if(this.header=new PL,xs.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Gm.string2buf(e.dictionary):B_.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=xs.inflateSetDictionary(this.strm,e.dictionary),r!==Sc)))throw new Error(Vm[r])}Rc.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?OL:TL,B_.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=xs.inflate(r,a),s===c0&&i&&(s=xs.inflateSetDictionary(r,i),s===Sc?s=xs.inflate(r,a):s===My&&(s=c0));r.avail_in>0&&s===u0&&r.state.wrap>0&&t[r.next_in]!==0;)xs.inflateReset(r),s=xs.inflate(r,a);switch(s){case RL:case My:case c0:case IL:return this.onEnd(s),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||s===u0))if(this.options.to==="string"){let l=Gm.utf8border(r.output,r.next_out),u=r.next_out-l,d=Gm.buf2string(r.output,l);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(l,l+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===Sc&&o===0)){if(s===u0)return s=xs.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Rc.prototype.onData=function(t){this.chunks.push(t)};Rc.prototype.onEnd=function(t){t===Sc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=A_.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function DL(t,e){const r=new Rc(e);if(r.push(t),r.err)throw r.msg||Vm[r.err];return r.result}var FL=Rc,ML=DL,BL={Inflate:FL,inflate:ML};const{Inflate:UL,inflate:zL}=BL;var By=UL,$L=zL;const U_=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;U_[t]=e}const Uy=4294967295;function qL(t,e,r){let n=t;for(let i=0;i<r;i++)n=U_[(n^e[i])&255]^n>>>8;return n}function WL(t,e){return(qL(Uy,t,e)^Uy)>>>0}function zy(t,e,r){const n=t.readUint32(),i=WL(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function z_(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function $_(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function q_(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function W_(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(r[s]>>1)&255;for(;s<n;s++)e[s]=t[s]+(e[s-i]+r[s]>>1)&255}}function H_(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+r[s]&255;for(;s<n;s++)e[s]=t[s]+HL(e[s-i],r[s],r[s-i])&255}}function HL(t,e,r){const n=t+e-r,i=Math.abs(n-t),s=Math.abs(n-e),a=Math.abs(n-r);return i<=s&&i<=a?t:s<=a?e:r}function VL(t,e,r,n,i,s){switch(t){case 0:z_(e,r,i);break;case 1:$_(e,r,i,s);break;case 2:q_(e,r,n,i);break;case 3:W_(e,r,n,i,s);break;case 4:H_(e,r,n,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const GL=new Uint16Array([255]),KL=new Uint8Array(GL.buffer),JL=KL[0]===255;function YL(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,l=new Uint8Array(n*r*o);let u=0;for(let d=0;d<7;d++){const p=a[d],g=Math.ceil((r-p.x)/p.xStep),f=Math.ceil((n-p.y)/p.yStep);if(g<=0||f<=0)continue;const k=g*o,S=new Uint8Array(k);for(let x=0;x<f;x++){const y=e[u++],_=e.subarray(u,u+k);u+=k;const b=new Uint8Array(k);VL(y,_,b,S,k,o),S.set(b);for(let A=0;A<g;A++){const M=p.x+A*p.xStep,G=p.y+x*p.yStep;if(!(M>=r||G>=n))for(let H=0;H<o;H++)l[(G*r+M)*o+H]=b[A*o+H]}}}if(s===16){const d=new Uint16Array(l.buffer);if(JL)for(let p=0;p<d.length;p++)d[p]=QL(d[p]);return d}else return l}function QL(t){return(t&255)<<8|t>>8&255}const XL=new Uint16Array([255]),ZL=new Uint8Array(XL.buffer),e7=ZL[0]===255,t7=new Uint8Array(0);function $y(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*r),l=new Uint8Array(n*o);let u=t7,d=0,p,g;for(let f=0;f<n;f++){switch(p=e.subarray(d+1,d+1+o),g=l.subarray(f*o,(f+1)*o),e[d]){case 0:z_(p,g,o);break;case 1:$_(p,g,o,a);break;case 2:q_(p,g,u,o);break;case 3:W_(p,g,u,o,a);break;case 4:H_(p,g,u,o,a);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}u=g,d+=o+1}if(s===16){const f=new Uint16Array(l.buffer);if(e7)for(let k=0;k<f.length;k++)f[k]=r7(f[k]);return f}else return l}function r7(t){return(t&255)<<8|t>>8&255}const ph=Uint8Array.of(137,80,78,71,13,10,26,10);function qy(t){if(!n7(t.readBytes(ph.length)))throw new Error("wrong PNG signature")}function n7(t){if(t.length<ph.length)return!1;for(let e=0;e<ph.length;e++)if(t[e]!==ph[e])return!1;return!0}const i7="tEXt",s7=0,V_=new TextDecoder("latin1");function a7(t){if(l7(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const o7=/^[\u0000-\u00FF]*$/;function l7(t){if(!o7.test(t))throw new Error("invalid latin1 text")}function u7(t,e,r){const n=G_(e);t[n]=c7(e,r-n.length-1)}function G_(t){for(t.mark();t.readByte()!==s7;);const e=t.offset;t.reset();const r=V_.decode(t.readBytes(e-t.offset-1));return t.skip(1),a7(r),r}function c7(t,e){return V_.decode(t.readBytes(e))}const Tn={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},d0={UNKNOWN:-1,DEFLATE:0},Wy={UNKNOWN:-1,ADAPTIVE:0},h0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Jd={NONE:0,BACKGROUND:1,PREVIOUS:2},f0={SOURCE:0,OVER:1};class d7 extends vg{constructor(r,n={}){super(r);Rt(this,"_checkCrc");Rt(this,"_inflator");Rt(this,"_png");Rt(this,"_apng");Rt(this,"_end");Rt(this,"_hasPalette");Rt(this,"_palette");Rt(this,"_hasTransparency");Rt(this,"_transparency");Rt(this,"_compressionMethod");Rt(this,"_filterMethod");Rt(this,"_interlaceMethod");Rt(this,"_colorType");Rt(this,"_isAnimated");Rt(this,"_numberOfFrames");Rt(this,"_numberOfPlays");Rt(this,"_frames");Rt(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new By,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=d0.UNKNOWN,this._filterMethod=Wy.UNKNOWN,this._interlaceMethod=h0.UNKNOWN,this._colorType=Tn.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(qy(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(qy(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case i7:u7(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?zy(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?zy(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=h7(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Tn.GREYSCALE:i=1;break;case Tn.TRUECOLOUR:i=3;break;case Tn.INDEXED_COLOUR:i=1;break;case Tn.GREYSCALE_ALPHA:i=2;break;case Tn.TRUECOLOUR_ALPHA:i=4;break;case Tn.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==d0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<n;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Tn.GREYSCALE:case Tn.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Tn.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Tn.UNKNOWN:case Tn.GREYSCALE_ALPHA:case Tn.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=G_(this),i=this.readUint8();if(i!==d0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:$L(s)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=$y({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(i,s,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case Jd.NONE:break;case Jd.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const o=(s*r.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case Jd.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,s=(a,o)=>{const l=((a+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,u=(a*n.width+o)*this._png.channels;return{index:l,frameIndex:u}};switch(n.blendOp){case f0.SOURCE:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:u}=s(a,o);for(let d=0;d<this._png.channels;d++)r.data[l+d]=n.data[u+d]}break;case f0.OVER:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:u}=s(a,o);for(let d=0;d<this._png.channels;d++){const p=n.data[u+this._png.channels-1]/i,g=d%(this._png.channels-1)===0?1:n.data[u+d],f=Math.floor(p*g+(1-p)*r.data[l+d]);r.data[l+d]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==Wy.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===h0.NO_INTERLACE)this._png.data=$y({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===h0.ADAM7)this._png.data=YL({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Jd.NONE,blendOp:f0.SOURCE,data:r}),this._inflator=new By,this._writingDataChunks=!1}}function h7(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Hy;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Hy||(Hy={}));function f7(t,e){return new d7(t,e).decode()}var tt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function p0(){tt.console&&typeof tt.console.log=="function"&&tt.console.log.apply(tt.console,arguments)}var Bt={log:p0,warn:function(t){tt.console&&(typeof tt.console.warn=="function"?tt.console.warn.apply(tt.console,arguments):p0.call(null,arguments))},error:function(t){tt.console&&(typeof tt.console.error=="function"?tt.console.error.apply(tt.console,arguments):p0(t))}};function m0(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Za(n.response,e,r)},n.onerror=function(){Bt.error("could not download file")},n.send()}function Vy(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Yd(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Za=tt.saveAs||((typeof window>"u"?"undefined":It(window))!=="object"||window!==tt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=tt.URL||tt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Vy(i.href)?m0(t,e,r):Yd(i,i.target="_blank"):Yd(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Yd(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(Vy(t))m0(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Yd(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:It(s)!=="object"&&(Bt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return m0(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(tt.HTMLElement)||tt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":It(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},o.readAsDataURL(t)}else{var l=tt.URL||tt.webkitURL,u=l.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function K_(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}var mh=tt.atob.bind(tt),Gy=tt.btoa.bind(tt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function g0(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=en(r,n,i,s,e[0],7,-680876936),s=en(s,r,n,i,e[1],12,-389564586),i=en(i,s,r,n,e[2],17,606105819),n=en(n,i,s,r,e[3],22,-1044525330),r=en(r,n,i,s,e[4],7,-176418897),s=en(s,r,n,i,e[5],12,1200080426),i=en(i,s,r,n,e[6],17,-1473231341),n=en(n,i,s,r,e[7],22,-45705983),r=en(r,n,i,s,e[8],7,1770035416),s=en(s,r,n,i,e[9],12,-1958414417),i=en(i,s,r,n,e[10],17,-42063),n=en(n,i,s,r,e[11],22,-1990404162),r=en(r,n,i,s,e[12],7,1804603682),s=en(s,r,n,i,e[13],12,-40341101),i=en(i,s,r,n,e[14],17,-1502002290),r=tn(r,n=en(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=tn(s,r,n,i,e[6],9,-1069501632),i=tn(i,s,r,n,e[11],14,643717713),n=tn(n,i,s,r,e[0],20,-373897302),r=tn(r,n,i,s,e[5],5,-701558691),s=tn(s,r,n,i,e[10],9,38016083),i=tn(i,s,r,n,e[15],14,-660478335),n=tn(n,i,s,r,e[4],20,-405537848),r=tn(r,n,i,s,e[9],5,568446438),s=tn(s,r,n,i,e[14],9,-1019803690),i=tn(i,s,r,n,e[3],14,-187363961),n=tn(n,i,s,r,e[8],20,1163531501),r=tn(r,n,i,s,e[13],5,-1444681467),s=tn(s,r,n,i,e[2],9,-51403784),i=tn(i,s,r,n,e[7],14,1735328473),r=rn(r,n=tn(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=rn(s,r,n,i,e[8],11,-2022574463),i=rn(i,s,r,n,e[11],16,1839030562),n=rn(n,i,s,r,e[14],23,-35309556),r=rn(r,n,i,s,e[1],4,-1530992060),s=rn(s,r,n,i,e[4],11,1272893353),i=rn(i,s,r,n,e[7],16,-155497632),n=rn(n,i,s,r,e[10],23,-1094730640),r=rn(r,n,i,s,e[13],4,681279174),s=rn(s,r,n,i,e[0],11,-358537222),i=rn(i,s,r,n,e[3],16,-722521979),n=rn(n,i,s,r,e[6],23,76029189),r=rn(r,n,i,s,e[9],4,-640364487),s=rn(s,r,n,i,e[12],11,-421815835),i=rn(i,s,r,n,e[15],16,530742520),r=nn(r,n=rn(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=nn(s,r,n,i,e[7],10,1126891415),i=nn(i,s,r,n,e[14],15,-1416354905),n=nn(n,i,s,r,e[5],21,-57434055),r=nn(r,n,i,s,e[12],6,1700485571),s=nn(s,r,n,i,e[3],10,-1894986606),i=nn(i,s,r,n,e[10],15,-1051523),n=nn(n,i,s,r,e[1],21,-2054922799),r=nn(r,n,i,s,e[8],6,1873313359),s=nn(s,r,n,i,e[15],10,-30611744),i=nn(i,s,r,n,e[6],15,-1560198380),n=nn(n,i,s,r,e[13],21,1309151649),r=nn(r,n,i,s,e[4],6,-145523070),s=nn(s,r,n,i,e[11],10,-1120210379),i=nn(i,s,r,n,e[2],15,718787259),n=nn(n,i,s,r,e[9],21,-343485551),t[0]=pa(r,t[0]),t[1]=pa(n,t[1]),t[2]=pa(i,t[2]),t[3]=pa(s,t[3])}function Pf(t,e,r,n,i,s){return e=pa(pa(e,t),pa(n,s)),pa(e<<i|e>>>32-i,r)}function en(t,e,r,n,i,s,a){return Pf(e&r|~e&n,t,e,i,s,a)}function tn(t,e,r,n,i,s,a){return Pf(e&n|r&~n,t,e,i,s,a)}function rn(t,e,r,n,i,s,a){return Pf(e^r^n,t,e,i,s,a)}function nn(t,e,r,n,i,s,a){return Pf(r^(e|~n),t,e,i,s,a)}function J_(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)g0(n,p7(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(g0(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,g0(n,i),n}function p7(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var Ky="0123456789abcdef".split("");function m7(t){for(var e="",r=0;r<4;r++)e+=Ky[t>>8*r+4&15]+Ky[t>>8*r&15];return e}function g7(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Km(t){return J_(t).map(g7).join("")}var v7=function(t){for(var e=0;e<t.length;e++)t[e]=m7(t[e]);return t.join("")}(J_("hello"))!="5d41402abc4b2a76b9719d911017c592";function pa(t,e){if(v7){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Jm(t,e){var r,n,i,s;if(t!==r){for(var a=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var d=o[l];u=(u+d+a.charCodeAt(l))%256,o[l]=o[u],o[u]=d}r=t,n=o}else o=n;var p=e.length,g=0,f=0,k="";for(l=0;l<p;l++)f=(f+(d=o[g=(g+1)%256]))%256,o[g]=o[f],o[f]=d,a=o[(o[g]+o[f])%256],k+=String.fromCharCode(e.charCodeAt(l)^a);return k}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Jy={print:4,modify:8,copy:16,"annot-forms":32};function Xo(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(Jy.perm!==void 0)throw new Error("Invalid permission: "+o);i+=Jy[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=Km(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Jm(this.encryptionKey,this.padding)}function Zo(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function Yy(t){if(It(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var a=e[r][s];try{a[0].apply(t,n)}catch(o){tt.console&&Bt.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Zh(t){if(!(this instanceof Zh))return new Zh(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function Y_(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function so(t,e,r,n,i){if(!(this instanceof so))return new so(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,Y_.call(this,n,i)}function hl(t,e,r,n,i){if(!(this instanceof hl))return new hl(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,Y_.call(this,n,i)}function Be(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,u="S",d=null;It(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var p=t.putOnlyUsedFonts||!1,g={},f={internal:{},__private__:{}};f.__private__.PubSub=Yy;var k="1.3",S=f.__private__.getPdfVersion=function(){return k};f.__private__.setPdfVersion=function(v){k=v};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return x};var y=f.__private__.getPageFormat=function(v){return x[v]};i=i||"a4";var _="compat",b="advanced",A=_;function M(){this.saveGraphicsState(),B(new Xe(ut,0,0,-ut,0,Ma()*ut).toString()+" cm"),this.setFontSize(this.getFontSize()/ut),u="n",A=b}function G(){this.restoreGraphicsState(),u="S",A=_}var H=f.__private__.combineFontStyleAndFontWeight=function(v,j){if(v=="bold"&&j=="normal"||v=="bold"&&j==400||v=="normal"&&j=="italic"||v=="bold"&&j=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return j&&(v=j==400||j==="normal"?v==="italic"?"italic":"normal":j!=700&&j!=="bold"||v!=="normal"?(j==700?"bold":j)+""+v:"bold"),v};f.advancedAPI=function(v){var j=A===_;return j&&M.call(this),typeof v!="function"||(v(this),j&&G.call(this)),this},f.compatAPI=function(v){var j=A===b;return j&&G.call(this),typeof v!="function"||(v(this),j&&M.call(this)),this},f.isAdvancedAPI=function(){return A===b};var F,R=function(v){if(A!==b)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Y=f.roundToPrecision=f.__private__.roundToPrecision=function(v,j){var $=e||j;if(isNaN(v)||isNaN($))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed($).replace(/0+$/,"")};F=f.hpf=f.__private__.hpf=typeof l=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(v,l)}:l==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(v,16)};var T=f.f2=f.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return Y(v,2)},I=f.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return Y(v,3)},J=f.scale=f.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return A===_?v*ut:A===b?v:void 0},K=function(v){return J(function(j){return A===_?Ma()-j:A===b?j:void 0}(v))};f.__private__.setPrecision=f.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(e=parseInt(v,10))};var ue,ce="00000000000000000000000000000000",de=f.__private__.getFileId=function(){return ce},V=f.__private__.setFileId=function(v){return ce=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():ce.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(jr=new Xo(d.userPermissions,d.userPassword,d.ownerPassword,ce)),ce};f.setFileId=function(v){return V(v),this},f.getFileId=function(){return de()};var ne=f.__private__.convertDateToPDFDate=function(v){var j=v.getTimezoneOffset(),$=j<0?"+":"-",Q=Math.floor(Math.abs(j/60)),ie=Math.abs(j%60),ye=[$,W(Q),"'",W(ie),"'"].join("");return["D:",v.getFullYear(),W(v.getMonth()+1),W(v.getDate()),W(v.getHours()),W(v.getMinutes()),W(v.getSeconds()),ye].join("")},me=f.__private__.convertPDFDateToDate=function(v){var j=parseInt(v.substr(2,4),10),$=parseInt(v.substr(6,2),10)-1,Q=parseInt(v.substr(8,2),10),ie=parseInt(v.substr(10,2),10),ye=parseInt(v.substr(12,2),10),xe=parseInt(v.substr(14,2),10);return new Date(j,$,Q,ie,ye,xe,0)},he=f.__private__.setCreationDate=function(v){var j;if(v===void 0&&(v=new Date),v instanceof Date)j=ne(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");j=v}return ue=j},C=f.__private__.getCreationDate=function(v){var j=ue;return v==="jsDate"&&(j=me(ue)),j};f.setCreationDate=function(v){return he(v),this},f.getCreationDate=function(v){return C(v)};var q,W=f.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},X=f.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},te=0,ae=[],fe=[],pe=0,be=[],Ae=[],Ce=!1,Le=fe;f.__private__.setCustomOutputDestination=function(v){Ce=!0,Le=v};var He=function(v){Ce||(Le=v)};f.__private__.resetCustomOutputDestination=function(){Ce=!1,Le=fe};var B=f.__private__.out=function(v){return v=v.toString(),pe+=v.length+1,Le.push(v),Le},Ee=f.__private__.write=function(v){return B(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},mt=f.__private__.getArrayBuffer=function(v){for(var j=v.length,$=new ArrayBuffer(j),Q=new Uint8Array($);j--;)Q[j]=v.charCodeAt(j);return $},Je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Je};var Se=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(v){return Se=A===b?v/ut:v,this};var Ye,Re=f.__private__.getFontSize=f.getFontSize=function(){return A===_?Se:Se*ut},Ke=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(v){return Ke=v,this},f.__private__.getR2L=f.getR2L=function(){return Ke};var Ve,Lt=f.__private__.setZoomMode=function(v){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))Ye=v;else if(isNaN(v)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');Ye=v}else Ye=parseInt(v,10)};f.__private__.getZoomMode=function(){return Ye};var bt,at=f.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');Ve=v};f.__private__.getPageMode=function(){return Ve};var _t=f.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');bt=v};f.__private__.getLayoutMode=function(){return bt},f.__private__.setDisplayMode=f.setDisplayMode=function(v,j,$){return Lt(v),_t(j),at($),this};var xt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(v){if(Object.keys(xt).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xt[v]},f.__private__.getDocumentProperties=function(){return xt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(v){for(var j in xt)xt.hasOwnProperty(j)&&v[j]&&(xt[j]=v[j]);return this},f.__private__.setDocumentProperty=function(v,j){if(Object.keys(xt).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xt[v]=j};var Ue,ut,We,hr,Nt,gt={},vt={},Qt=[],Ge={},Ut={},et={},ot={},Xt=null,yt=0,Qe=[],Ct=new Yy(f),Ca=t.hotfixes||[],Yr={},Qi={},Ci=[],Xe=function v(j,$,Q,ie,ye,xe){if(!(this instanceof v))return new v(j,$,Q,ie,ye,xe);isNaN(j)&&(j=1),isNaN($)&&($=0),isNaN(Q)&&(Q=0),isNaN(ie)&&(ie=1),isNaN(ye)&&(ye=0),isNaN(xe)&&(xe=0),this._matrix=[j,$,Q,ie,ye,xe]};Object.defineProperty(Xe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(Xe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(Xe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(Xe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(Xe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(Xe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(Xe.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(Xe.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(Xe.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(Xe.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(Xe.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(Xe.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(Xe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Xe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Xe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Xe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Xe.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(v)},Xe.prototype.multiply=function(v){var j=v.sx*this.sx+v.shy*this.shx,$=v.sx*this.shy+v.shy*this.sy,Q=v.shx*this.sx+v.sy*this.shx,ie=v.shx*this.shy+v.sy*this.sy,ye=v.tx*this.sx+v.ty*this.shx+this.tx,xe=v.tx*this.shy+v.ty*this.sy+this.ty;return new Xe(j,$,Q,ie,ye,xe)},Xe.prototype.decompose=function(){var v=this.sx,j=this.shy,$=this.shx,Q=this.sy,ie=this.tx,ye=this.ty,xe=Math.sqrt(v*v+j*j),De=(v/=xe)*$+(j/=xe)*Q;$-=v*De,Q-=j*De;var ze=Math.sqrt($*$+Q*Q);return De/=ze,v*(Q/=ze)<j*($/=ze)&&(v=-v,j=-j,De=-De,xe=-xe),{scale:new Xe(xe,0,0,ze,0,0),translate:new Xe(1,0,0,1,ie,ye),rotate:new Xe(v,j,-j,v,0,0),skew:new Xe(1,0,De,1,0,0)}},Xe.prototype.toString=function(v){return this.join(" ")},Xe.prototype.inversed=function(){var v=this.sx,j=this.shy,$=this.shx,Q=this.sy,ie=this.tx,ye=this.ty,xe=1/(v*Q-j*$),De=Q*xe,ze=-j*xe,rt=-$*xe,ct=v*xe;return new Xe(De,ze,rt,ct,-De*ie-rt*ye,-ze*ie-ct*ye)},Xe.prototype.applyToPoint=function(v){var j=v.x*this.sx+v.y*this.shx+this.tx,$=v.x*this.shy+v.y*this.sy+this.ty;return new is(j,$)},Xe.prototype.applyToRectangle=function(v){var j=this.applyToPoint(v),$=this.applyToPoint(new is(v.x+v.w,v.y+v.h));return new eu(j.x,j.y,$.x-j.x,$.y-j.y)},Xe.prototype.clone=function(){var v=this.sx,j=this.shy,$=this.shx,Q=this.sy,ie=this.tx,ye=this.ty;return new Xe(v,j,$,Q,ie,ye)},f.Matrix=Xe;var Xi=f.matrixMult=function(v,j){return j.multiply(v)},Zi=new Xe(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Zi;var qn=function(v,j){if(!Ut[v]){var $=(j instanceof so?"Sh":"P")+(Object.keys(Ge).length+1).toString(10);j.id=$,Ut[v]=$,Ge[$]=j,Ct.publish("addPattern",j)}};f.ShadingPattern=so,f.TilingPattern=hl,f.addShadingPattern=function(v,j){return R("addShadingPattern()"),qn(v,j),this},f.beginTilingPattern=function(v){R("beginTilingPattern()"),tu(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},f.endTilingPattern=function(v,j){R("endTilingPattern()"),j.stream=Ae[q].join(`
`),qn(v,j),Ct.publish("endTilingPattern",j),Ci.pop().restore()};var Wn,or=f.__private__.newObject=function(){var v=Dr();return Ur(v,!0),v},Dr=f.__private__.newObjectDeferred=function(){return te++,ae[te]=function(){return pe},te},Ur=function(v,j){return j=typeof j=="boolean"&&j,ae[v]=pe,j&&B(v+" 0 obj"),v},Pa=f.__private__.newAdditionalObject=function(){var v={objId:Dr(),content:""};return be.push(v),v},Ds=Dr(),ai=Dr(),Pi=f.__private__.decodeColorString=function(v){var j=v.split(" ");if(j.length!==2||j[1]!=="g"&&j[1]!=="G")j.length!==5||j[4]!=="k"&&j[4]!=="K"||(j=[(1-j[0])*(1-j[3]),(1-j[1])*(1-j[3]),(1-j[2])*(1-j[3]),"r"]);else{var $=parseFloat(j[0]);j=[$,$,$,"r"]}for(var Q="#",ie=0;ie<3;ie++)Q+=("0"+Math.floor(255*parseFloat(j[ie])).toString(16)).slice(-2);return Q},oi=f.__private__.encodeColorString=function(v){var j;typeof v=="string"&&(v={ch1:v});var $=v.ch1,Q=v.ch2,ie=v.ch3,ye=v.ch4,xe=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof $=="string"&&$.charAt(0)!=="#"){var De=new K_($);if(De.ok)$=De.toHex();else if(!/^\d*\.?\d*$/.test($))throw new Error('Invalid color "'+$+'" passed to jsPDF.encodeColorString.')}if(typeof $=="string"&&/^#[0-9A-Fa-f]{3}$/.test($)&&($="#"+$[1]+$[1]+$[2]+$[2]+$[3]+$[3]),typeof $=="string"&&/^#[0-9A-Fa-f]{6}$/.test($)){var ze=parseInt($.substr(1),16);$=ze>>16&255,Q=ze>>8&255,ie=255&ze}if(Q===void 0||ye===void 0&&$===Q&&Q===ie)j=typeof $=="string"?$+" "+xe[0]:v.precision===2?T($/255)+" "+xe[0]:I($/255)+" "+xe[0];else if(ye===void 0||It(ye)==="object"){if(ye&&!isNaN(ye.a)&&ye.a===0)return["1.","1.","1.",xe[1]].join(" ");j=typeof $=="string"?[$,Q,ie,xe[1]].join(" "):v.precision===2?[T($/255),T(Q/255),T(ie/255),xe[1]].join(" "):[I($/255),I(Q/255),I(ie/255),xe[1]].join(" ")}else j=typeof $=="string"?[$,Q,ie,ye,xe[2]].join(" "):v.precision===2?[T($),T(Q),T(ie),T(ye),xe[2]].join(" "):[I($),I(Q),I(ie),I(ye),xe[2]].join(" ");return j},li=f.__private__.getFilters=function(){return a},Hn=f.__private__.putStream=function(v){var j=(v=v||{}).data||"",$=v.filters||li(),Q=v.alreadyAppliedFilters||[],ie=v.addLength1||!1,ye=j.length,xe=v.objectId,De=function(Er){return Er};if(d!==null&&xe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(De=jr.encryptor(xe,0));var ze={};$===!0&&($=["FlateEncode"]);var rt=v.additionalKeyValues||[],ct=(ze=Be.API.processDataByFilters!==void 0?Be.API.processDataByFilters(j,$):{data:j,reverseChain:[]}).reverseChain+(Array.isArray(Q)?Q.join(" "):Q.toString());if(ze.data.length!==0&&(rt.push({key:"Length",value:ze.data.length}),ie===!0&&rt.push({key:"Length1",value:ye})),ct.length!=0)if(ct.split("/").length-1==1)rt.push({key:"Filter",value:ct});else{rt.push({key:"Filter",value:"["+ct+"]"});for(var At=0;At<rt.length;At+=1)if(rt[At].key==="DecodeParms"){for(var rr=[],Sr=0;Sr<ze.reverseChain.split("/").length-1;Sr+=1)rr.push("null");rr.push(rt[At].value),rt[At].value="["+rr.join(" ")+"]"}}B("<<");for(var zt=0;zt<rt.length;zt++)B("/"+rt[zt].key+" "+rt[zt].value);B(">>"),ze.data.length!==0&&(B("stream"),B(De(ze.data)),B("endstream"))},Ta=f.__private__.putPage=function(v){var j=v.number,$=v.data,Q=v.objId,ie=v.contentsObjId;Ur(Q,!0),B("<</Type /Page"),B("/Parent "+v.rootDictionaryObjId+" 0 R"),B("/Resources "+v.resourceDictionaryObjId+" 0 R"),B("/MediaBox ["+parseFloat(F(v.mediaBox.bottomLeftX))+" "+parseFloat(F(v.mediaBox.bottomLeftY))+" "+F(v.mediaBox.topRightX)+" "+F(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&B("/CropBox ["+F(v.cropBox.bottomLeftX)+" "+F(v.cropBox.bottomLeftY)+" "+F(v.cropBox.topRightX)+" "+F(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&B("/BleedBox ["+F(v.bleedBox.bottomLeftX)+" "+F(v.bleedBox.bottomLeftY)+" "+F(v.bleedBox.topRightX)+" "+F(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&B("/TrimBox ["+F(v.trimBox.bottomLeftX)+" "+F(v.trimBox.bottomLeftY)+" "+F(v.trimBox.topRightX)+" "+F(v.trimBox.topRightY)+"]"),v.artBox!==null&&B("/ArtBox ["+F(v.artBox.bottomLeftX)+" "+F(v.artBox.bottomLeftY)+" "+F(v.artBox.topRightX)+" "+F(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&B("/UserUnit "+v.userUnit),Ct.publish("putPage",{objId:Q,pageContext:Qe[j],pageNumber:j,page:$}),B("/Contents "+ie+" 0 R"),B(">>"),B("endobj");var ye=$.join(`
`);return A===b&&(ye+=`
Q`),Ur(ie,!0),Hn({data:ye,filters:li(),objectId:ie}),B("endobj"),Q},Ti=f.__private__.putPages=function(){var v,j,$=[];for(v=1;v<=yt;v++)Qe[v].objId=Dr(),Qe[v].contentsObjId=Dr();for(v=1;v<=yt;v++)$.push(Ta({number:v,data:Ae[v],objId:Qe[v].objId,contentsObjId:Qe[v].contentsObjId,mediaBox:Qe[v].mediaBox,cropBox:Qe[v].cropBox,bleedBox:Qe[v].bleedBox,trimBox:Qe[v].trimBox,artBox:Qe[v].artBox,userUnit:Qe[v].userUnit,rootDictionaryObjId:Ds,resourceDictionaryObjId:ai}));Ur(Ds,!0),B("<</Type /Pages");var Q="/Kids [";for(j=0;j<yt;j++)Q+=$[j]+" 0 R ";B(Q+"]"),B("/Count "+yt),B(">>"),B("endobj"),Ct.publish("postPutPages")},Oa=function(v){Ct.publish("putFont",{font:v,out:B,newObject:or,putStream:Hn}),v.isAlreadyPutted!==!0&&(v.objectNumber=or(),B("<<"),B("/Type /Font"),B("/BaseFont /"+Zo(v.postScriptName)),B("/Subtype /Type1"),typeof v.encoding=="string"&&B("/Encoding /"+v.encoding),B("/FirstChar 32"),B("/LastChar 255"),B(">>"),B("endobj"))},jo=function(v){v.objectNumber=or();var j=[];j.push({key:"Type",value:"/XObject"}),j.push({key:"Subtype",value:"/Form"}),j.push({key:"BBox",value:"["+[F(v.x),F(v.y),F(v.x+v.width),F(v.y+v.height)].join(" ")+"]"}),j.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var $=v.pages[1].join(`
`);Hn({data:$,additionalKeyValues:j,objectId:v.objectNumber}),B("endobj")},Eo=function(v,j){j||(j=21);var $=or(),Q=function(xe,De){var ze,rt=[],ct=1/(De-1);for(ze=0;ze<1;ze+=ct)rt.push(ze);if(rt.push(1),xe[0].offset!=0){var At={offset:0,color:xe[0].color};xe.unshift(At)}if(xe[xe.length-1].offset!=1){var rr={offset:1,color:xe[xe.length-1].color};xe.push(rr)}for(var Sr="",zt=0,Er=0;Er<rt.length;Er++){for(ze=rt[Er];ze>xe[zt+1].offset;)zt++;var kr=xe[zt].offset,zr=(ze-kr)/(xe[zt+1].offset-kr),os=xe[zt].color,ci=xe[zt+1].color;Sr+=X(Math.round((1-zr)*os[0]+zr*ci[0]).toString(16))+X(Math.round((1-zr)*os[1]+zr*ci[1]).toString(16))+X(Math.round((1-zr)*os[2]+zr*ci[2]).toString(16))}return Sr.trim()}(v.colors,j),ie=[];ie.push({key:"FunctionType",value:"0"}),ie.push({key:"Domain",value:"[0.0 1.0]"}),ie.push({key:"Size",value:"["+j+"]"}),ie.push({key:"BitsPerSample",value:"8"}),ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Hn({data:Q,additionalKeyValues:ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:$}),B("endobj"),v.objectNumber=or(),B("<< /ShadingType "+v.type),B("/ColorSpace /DeviceRGB");var ye="/Coords ["+F(parseFloat(v.coords[0]))+" "+F(parseFloat(v.coords[1]))+" ";v.type===2?ye+=F(parseFloat(v.coords[2]))+" "+F(parseFloat(v.coords[3])):ye+=F(parseFloat(v.coords[2]))+" "+F(parseFloat(v.coords[3]))+" "+F(parseFloat(v.coords[4]))+" "+F(parseFloat(v.coords[5])),B(ye+="]"),v.matrix&&B("/Matrix ["+v.matrix.toString()+"]"),B("/Function "+$+" 0 R"),B("/Extend [true true]"),B(">>"),B("endobj")},Lo=function(v,j){var $=Dr(),Q=or();j.push({resourcesOid:$,objectOid:Q}),v.objectNumber=Q;var ie=[];ie.push({key:"Type",value:"/Pattern"}),ie.push({key:"PatternType",value:"1"}),ie.push({key:"PaintType",value:"1"}),ie.push({key:"TilingType",value:"1"}),ie.push({key:"BBox",value:"["+v.boundingBox.map(F).join(" ")+"]"}),ie.push({key:"XStep",value:F(v.xStep)}),ie.push({key:"YStep",value:F(v.yStep)}),ie.push({key:"Resources",value:$+" 0 R"}),v.matrix&&ie.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),Hn({data:v.stream,additionalKeyValues:ie,objectId:v.objectNumber}),B("endobj")},Rf=function(v){for(var j in v.objectNumber=or(),B("<<"),v)switch(j){case"opacity":B("/ca "+T(v[j]));break;case"stroke-opacity":B("/CA "+T(v[j]))}B(">>"),B("endobj")},Vl=function(v){Ur(v.resourcesOid,!0),B("<<"),B("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var j in B("/Font <<"),gt)gt.hasOwnProperty(j)&&(p===!1||p===!0&&g.hasOwnProperty(j))&&B("/"+j+" "+gt[j].objectNumber+" 0 R");B(">>")}(),function(){if(Object.keys(Ge).length>0){for(var j in B("/Shading <<"),Ge)Ge.hasOwnProperty(j)&&Ge[j]instanceof so&&Ge[j].objectNumber>=0&&B("/"+j+" "+Ge[j].objectNumber+" 0 R");Ct.publish("putShadingPatternDict"),B(">>")}}(),function(j){if(Object.keys(Ge).length>0){for(var $ in B("/Pattern <<"),Ge)Ge.hasOwnProperty($)&&Ge[$]instanceof f.TilingPattern&&Ge[$].objectNumber>=0&&Ge[$].objectNumber<j&&B("/"+$+" "+Ge[$].objectNumber+" 0 R");Ct.publish("putTilingPatternDict"),B(">>")}}(v.objectOid),function(){if(Object.keys(et).length>0){var j;for(j in B("/ExtGState <<"),et)et.hasOwnProperty(j)&&et[j].objectNumber>=0&&B("/"+j+" "+et[j].objectNumber+" 0 R");Ct.publish("putGStateDict"),B(">>")}}(),function(){for(var j in B("/XObject <<"),Yr)Yr.hasOwnProperty(j)&&Yr[j].objectNumber>=0&&B("/"+j+" "+Yr[j].objectNumber+" 0 R");Ct.publish("putXobjectDict"),B(">>")}(),B(">>"),B("endobj")},Ic=function(v){vt[v.fontName]=vt[v.fontName]||{},vt[v.fontName][v.fontStyle]=v.id},Dc=function(v,j,$,Q,ie){var ye={id:"F"+(Object.keys(gt).length+1).toString(10),postScriptName:v,fontName:j,fontStyle:$,encoding:Q,isStandardFont:ie||!1,metadata:{}};return Ct.publish("addFont",{font:ye,instance:this}),gt[ye.id]=ye,Ic(ye),ye.id},Vn=f.__private__.pdfEscape=f.pdfEscape=function(v,j){return function($,Q){var ie,ye,xe,De,ze,rt,ct,At,rr;if(xe=(Q=Q||{}).sourceEncoding||"Unicode",ze=Q.outputEncoding,(Q.autoencode||ze)&&gt[Ue].metadata&&gt[Ue].metadata[xe]&&gt[Ue].metadata[xe].encoding&&(De=gt[Ue].metadata[xe].encoding,!ze&&gt[Ue].encoding&&(ze=gt[Ue].encoding),!ze&&De.codePages&&(ze=De.codePages[0]),typeof ze=="string"&&(ze=De[ze]),ze)){for(ct=!1,rt=[],ie=0,ye=$.length;ie<ye;ie++)(At=ze[$.charCodeAt(ie)])?rt.push(String.fromCharCode(At)):rt.push($[ie]),rt[ie].charCodeAt(0)>>8&&(ct=!0);$=rt.join("")}for(ie=$.length;ct===void 0&&ie!==0;)$.charCodeAt(ie-1)>>8&&(ct=!0),ie--;if(!ct)return $;for(rt=Q.noBOM?[]:[254,255],ie=0,ye=$.length;ie<ye;ie++){if((rr=(At=$.charCodeAt(ie))>>8)>>8)throw new Error("Character at position "+ie+" of string '"+$+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");rt.push(rr),rt.push(At-(rr<<8))}return String.fromCharCode.apply(void 0,rt)}(v,j).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Gl=f.__private__.beginPage=function(v){Ae[++yt]=[],Qe[yt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},Mc(yt),He(Ae[q])},Fc=function(v,j){var $,Q,ie;switch(r=j||r,typeof v=="string"&&($=y(v.toLowerCase()),Array.isArray($)&&(Q=$[0],ie=$[1])),Array.isArray(v)&&(Q=v[0]*ut,ie=v[1]*ut),isNaN(Q)&&(Q=i[0],ie=i[1]),(Q>14400||ie>14400)&&(Bt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Q=Math.min(14400,Q),ie=Math.min(14400,ie)),i=[Q,ie],r.substr(0,1)){case"l":ie>Q&&(i=[ie,Q]);break;case"p":Q>ie&&(i=[ie,Q])}Gl(i),nt(Yl),B(Oo),Xl!==0&&B(Xl+" J"),Zl!==0&&B(Zl+" j"),Ct.publish("addPage",{pageNumber:yt})},Kl=function(v){v>0&&v<=yt&&(Ae.splice(v,1),Qe.splice(v,1),yt--,q>yt&&(q=yt),this.setPage(q))},Mc=function(v){v>0&&v<=yt&&(q=v)},Bc=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Ae.length-1},Uc=function(v,j,$){var Q,ie=void 0;return $=$||{},v=v!==void 0?v:gt[Ue].fontName,j=j!==void 0?j:gt[Ue].fontStyle,Q=v.toLowerCase(),vt[Q]!==void 0&&vt[Q][j]!==void 0?ie=vt[Q][j]:vt[v]!==void 0&&vt[v][j]!==void 0?ie=vt[v][j]:$.disableWarning===!1&&Bt.warn("Unable to look up font label for font '"+v+"', '"+j+"'. Refer to getFontList() for available fonts."),ie||$.noFallback||(ie=vt.times[j])==null&&(ie=vt.times.normal),ie},Oi=f.__private__.putInfo=function(){var v=or(),j=function(Q){return Q};for(var $ in d!==null&&(j=jr.encryptor(v,0)),B("<<"),B("/Producer ("+Vn(j("jsPDF "+Be.version))+")"),xt)xt.hasOwnProperty($)&&xt[$]&&B("/"+$.substr(0,1).toUpperCase()+$.substr(1)+" ("+Vn(j(xt[$]))+")");B("/CreationDate ("+Vn(j(ue))+")"),B(">>"),B("endobj")},Co=f.__private__.putCatalog=function(v){var j=(v=v||{}).rootDictionaryObjId||Ds;switch(or(),B("<<"),B("/Type /Catalog"),B("/Pages "+j+" 0 R"),Ye||(Ye="fullwidth"),Ye){case"fullwidth":B("/OpenAction [3 0 R /FitH null]");break;case"fullheight":B("/OpenAction [3 0 R /FitV null]");break;case"fullpage":B("/OpenAction [3 0 R /Fit]");break;case"original":B("/OpenAction [3 0 R /XYZ null null 1]");break;default:var $=""+Ye;$.substr($.length-1)==="%"&&(Ye=parseInt(Ye)/100),typeof Ye=="number"&&B("/OpenAction [3 0 R /XYZ null null "+T(Ye)+"]")}switch(bt||(bt="continuous"),bt){case"continuous":B("/PageLayout /OneColumn");break;case"single":B("/PageLayout /SinglePage");break;case"two":case"twoleft":B("/PageLayout /TwoColumnLeft");break;case"tworight":B("/PageLayout /TwoColumnRight")}Ve&&B("/PageMode /"+Ve),Ct.publish("putCatalog"),B(">>"),B("endobj")},If=f.__private__.putTrailer=function(){B("trailer"),B("<<"),B("/Size "+(te+1)),B("/Root "+te+" 0 R"),B("/Info "+(te-1)+" 0 R"),d!==null&&B("/Encrypt "+jr.oid+" 0 R"),B("/ID [ <"+ce+"> <"+ce+"> ]"),B(">>")},_r=f.__private__.putHeader=function(){B("%PDF-"+k),B("%")},zc=f.__private__.putXRef=function(){var v="0000000000";B("xref"),B("0 "+(te+1)),B("0000000000 65535 f ");for(var j=1;j<=te;j++)typeof ae[j]=="function"?B((v+ae[j]()).slice(-10)+" 00000 n "):ae[j]!==void 0?B((v+ae[j]).slice(-10)+" 00000 n "):B("0000000000 00000 n ")},Ri=f.__private__.buildDocument=function(){var v;te=0,pe=0,fe=[],ae=[],be=[],Ds=Dr(),ai=Dr(),He(fe),Ct.publish("buildDocument"),_r(),Ti(),function(){Ct.publish("putAdditionalObjects");for(var $=0;$<be.length;$++){var Q=be[$];Ur(Q.objId,!0),B(Q.content),B("endobj")}Ct.publish("postPutAdditionalObjects")}(),v=[],function(){for(var $ in gt)gt.hasOwnProperty($)&&(p===!1||p===!0&&g.hasOwnProperty($))&&Oa(gt[$])}(),function(){var $;for($ in et)et.hasOwnProperty($)&&Rf(et[$])}(),function(){for(var $ in Yr)Yr.hasOwnProperty($)&&jo(Yr[$])}(),function($){var Q;for(Q in Ge)Ge.hasOwnProperty(Q)&&(Ge[Q]instanceof so?Eo(Ge[Q]):Ge[Q]instanceof hl&&Lo(Ge[Q],$))}(v),Ct.publish("putResources"),v.forEach(Vl),Vl({resourcesOid:ai,objectOid:Number.MAX_SAFE_INTEGER}),Ct.publish("postPutResources"),d!==null&&(jr.oid=or(),B("<<"),B("/Filter /Standard"),B("/V "+jr.v),B("/R "+jr.r),B("/U <"+jr.toHexString(jr.U)+">"),B("/O <"+jr.toHexString(jr.O)+">"),B("/P "+jr.P),B(">>"),B("endobj")),Oi(),Co();var j=pe;return zc(),If(),B("startxref"),B(""+j),B("%%EOF"),He(Ae[q]),fe.join(`
`)},Po=f.__private__.getBlob=function(v){return new Blob([mt(v)],{type:"application/pdf"})},$c=f.output=f.__private__.output=(Wn=function(v,j){switch(typeof(j=j||{})=="string"?j={filename:j}:j.filename=j.filename||"generated.pdf",v){case void 0:return Ri();case"save":f.save(j.filename);break;case"arraybuffer":return mt(Ri());case"blob":return Po(Ri());case"bloburi":case"bloburl":if(tt.URL!==void 0&&typeof tt.URL.createObjectURL=="function")return tt.URL&&tt.URL.createObjectURL(Po(Ri()))||void 0;Bt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var $="",Q=Ri();try{$=Gy(Q)}catch{$=Gy(unescape(encodeURIComponent(Q)))}return"data:application/pdf;filename="+j.filename+";base64,"+$;case"pdfobjectnewwindow":if(Object.prototype.toString.call(tt)==="[object Window]"){var ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';j.pdfObjectUrl&&(ie=j.pdfObjectUrl,ye="");var xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ie+'"'+ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(j)+");<\/script></body></html>",De=tt.open();return De!==null&&De.document.write(xe),De}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(tt)==="[object Window]"){var ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(j.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+j.filename+'" width="500px" height="400px" /></body></html>',rt=tt.open();if(rt!==null){rt.document.write(ze);var ct=this;rt.document.documentElement.querySelector("#pdfViewer").onload=function(){rt.document.title=j.filename,rt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ct.output("bloburl"))}}return rt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(tt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var At='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",j)+'"></iframe></body></html>',rr=tt.open();if(rr!==null&&(rr.document.write(At),rr.document.title=j.filename),rr||typeof safari>"u")return rr;break;case"datauri":case"dataurl":return tt.document.location.href=this.output("datauristring",j);default:return null}},Wn.foo=function(){try{return Wn.apply(this,arguments)}catch($){var v=$.stack||"";~v.indexOf(" at ")&&(v=v.split(" at ")[1]);var j="Error in function "+v.split(`
`)[0].split("<")[0]+": "+$.message;if(!tt.console)throw new Error(j);tt.console.error(j,$),tt.alert&&alert(j)}},Wn.foo.bar=Wn,Wn.foo),Gn=function(v){return Array.isArray(Ca)===!0&&Ca.indexOf(v)>-1};switch(n){case"pt":ut=1;break;case"mm":ut=72/25.4;break;case"cm":ut=72/2.54;break;case"in":ut=72;break;case"px":ut=Gn("px_scaling")==1?.75:96/72;break;case"pc":case"em":ut=12;break;case"ex":ut=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ut=n}var jr=null;he(),V();var es=f.__private__.getPageInfo=f.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Qe[v].objId,pageNumber:v,pageContext:Qe[v]}},qc=f.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var j in Qe)if(Qe[j].objId===v)break;return es(j)},Df=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Qe[q].objId,pageNumber:q,pageContext:Qe[q]}};f.addPage=function(){return Fc.apply(this,arguments),this},f.setPage=function(){return Mc.apply(this,arguments),He.call(this,Ae[q]),this},f.insertPage=function(v){return this.addPage(),this.movePage(q,v),this},f.movePage=function(v,j){var $,Q;if(v>j){$=Ae[v],Q=Qe[v];for(var ie=v;ie>j;ie--)Ae[ie]=Ae[ie-1],Qe[ie]=Qe[ie-1];Ae[j]=$,Qe[j]=Q,this.setPage(j)}else if(v<j){$=Ae[v],Q=Qe[v];for(var ye=v;ye<j;ye++)Ae[ye]=Ae[ye+1],Qe[ye]=Qe[ye+1];Ae[j]=$,Qe[j]=Q,this.setPage(j)}return this},f.deletePage=function(){return Kl.apply(this,arguments),this},f.__private__.text=f.text=function(v,j,$,Q,ie){var ye,xe,De,ze,rt,ct,At,rr,Sr,zt=(Q=Q||{}).scope||this;if(typeof v=="number"&&typeof j=="number"&&(typeof $=="string"||Array.isArray($))){var Er=$;$=j,j=v,v=Er}if(arguments[3]instanceof Xe==0?(De=arguments[4],ze=arguments[5],It(At=arguments[3])==="object"&&At!==null||(typeof De=="string"&&(ze=De,De=null),typeof At=="string"&&(ze=At,At=null),typeof At=="number"&&(De=At,At=null),Q={flags:At,angle:De,align:ze})):(R("The transform parameter of text() with a Matrix value"),Sr=ie),isNaN(j)||isNaN($)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return zt;var kr,zr="",os=typeof Q.lineHeightFactor=="number"?Q.lineHeightFactor:Ia,ci=zt.internal.scaleFactor;function ls(Pt){return Pt=Pt.split("	").join(Array(Q.TabLen||9).join(" ")),Vn(Pt,At)}function nu(Pt){for(var Ft,pr=Pt.concat(),Lr=[],ds=pr.length;ds--;)typeof(Ft=pr.shift())=="string"?Lr.push(Ft):Array.isArray(Pt)&&(Ft.length===1||Ft[1]===void 0&&Ft[2]===void 0)?Lr.push(Ft[0]):Lr.push([Ft[0],Ft[1],Ft[2]]);return Lr}function Io(Pt,Ft){var pr;if(typeof Pt=="string")pr=Ft(Pt)[0];else if(Array.isArray(Pt)){for(var Lr,ds,fu=Pt.concat(),Mo=[],ed=fu.length;ed--;)typeof(Lr=fu.shift())=="string"?Mo.push(Ft(Lr)[0]):Array.isArray(Lr)&&typeof Lr[0]=="string"&&(ds=Ft(Lr[0],Lr[1],Lr[2]),Mo.push([ds[0],ds[1],ds[2]]));pr=Mo}return pr}var Fs=!1,Ba=!0;if(typeof v=="string")Fs=!0;else if(Array.isArray(v)){var Ua=v.concat();xe=[];for(var Ms,$r=Ua.length;$r--;)(typeof(Ms=Ua.shift())!="string"||Array.isArray(Ms)&&typeof Ms[0]!="string")&&(Ba=!1);Fs=Ba}if(Fs===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var za=Se/zt.internal.scaleFactor,$a=za*(os-1);switch(Q.baseline){case"bottom":$-=$a;break;case"top":$+=za-$a;break;case"hanging":$+=za-2*$a;break;case"middle":$+=za/2-$a}if((ct=Q.maxWidth||0)>0&&(typeof v=="string"?v=zt.splitTextToSize(v,ct):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(Pt,Ft){return Pt.concat(zt.splitTextToSize(Ft,ct))},[]))),ye={text:v,x:j,y:$,options:Q,mutex:{pdfEscape:Vn,activeFontKey:Ue,fonts:gt,activeFontSize:Se}},Ct.publish("preProcessText",ye),v=ye.text,De=(Q=ye.options).angle,Sr instanceof Xe==0&&De&&typeof De=="number"){De*=Math.PI/180,Q.rotationDirection===0&&(De=-De),A===b&&(De=-De);var iu=Math.cos(De),su=Math.sin(De);Sr=new Xe(iu,su,-su,iu,0,0)}else De&&De instanceof Xe&&(Sr=De);A!==b||Sr||(Sr=Zi),(rt=Q.charSpace||ns)!==void 0&&(zr+=F(J(rt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(rr=Q.horizontalScale)!==void 0&&(zr+=F(100*rr)+` Tz
`),Q.lang;var on=-1,us=Q.renderingMode!==void 0?Q.renderingMode:Q.stroke,Do=zt.internal.getCurrentPageInfo().pageContext;switch(us){case 0:case!1:case"fill":on=0;break;case 1:case!0:case"stroke":on=1;break;case 2:case"fillThenStroke":on=2;break;case 3:case"invisible":on=3;break;case 4:case"fillAndAddForClipping":on=4;break;case 5:case"strokeAndAddPathForClipping":on=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":on=6;break;case 7:case"addToPathForClipping":on=7}var Xc=Do.usedRenderingMode!==void 0?Do.usedRenderingMode:-1;on!==-1?zr+=on+` Tr
`:Xc!==-1&&(zr+=`0 Tr
`),on!==-1&&(Do.usedRenderingMode=on),ze=Q.align||"left";var Kn,qa=Se*os,au=zt.internal.pageSize.getWidth(),ou=gt[Ue];rt=Q.charSpace||ns,ct=Q.maxWidth||0,At=Object.assign({autoencode:!0,noBOM:!0},Q.flags);var Bs=[],Wa=function(Pt){return zt.getStringUnitWidth(Pt,{font:ou,charSpace:rt,fontSize:Se,doKerning:!1})*Se/ci};if(Object.prototype.toString.call(v)==="[object Array]"){var kn;xe=nu(v),ze!=="left"&&(Kn=xe.map(Wa));var Nn,Us=0;if(ze==="right"){j-=Kn[0],v=[],$r=xe.length;for(var cs=0;cs<$r;cs++)cs===0?(Nn=ts(j),kn=rs($)):(Nn=J(Us-Kn[cs]),kn=-qa),v.push([xe[cs],Nn,kn]),Us=Kn[cs]}else if(ze==="center"){j-=Kn[0]/2,v=[],$r=xe.length;for(var zs=0;zs<$r;zs++)zs===0?(Nn=ts(j),kn=rs($)):(Nn=J((Us-Kn[zs])/2),kn=-qa),v.push([xe[zs],Nn,kn]),Us=Kn[zs]}else if(ze==="left"){v=[],$r=xe.length;for(var lu=0;lu<$r;lu++)v.push(xe[lu])}else if(ze==="justify"&&ou.encoding==="Identity-H"){v=[],$r=xe.length,ct=ct!==0?ct:au;for(var Fo=0,fr=0;fr<$r;fr++)if(kn=fr===0?rs($):-qa,Nn=fr===0?ts(j):Fo,fr<$r-1){var Zc=J((ct-Kn[fr])/(xe[fr].split(" ").length-1)),Di=xe[fr].split(" ");v.push([Di[0]+" ",Nn,kn]),Fo=0;for(var Fi=1;Fi<Di.length;Fi++){var uu=(Wa(Di[Fi-1]+" "+Di[Fi])-Wa(Di[Fi]))*ci+Zc;Fi==Di.length-1?v.push([Di[Fi],uu,0]):v.push([Di[Fi]+" ",uu,0]),Fo-=uu}}else v.push([xe[fr],Nn,kn]);v.push(["",Fo,0])}else{if(ze!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],$r=xe.length,ct=ct!==0?ct:au,fr=0;fr<$r;fr++){kn=fr===0?rs($):-qa,Nn=fr===0?ts(j):0;var cu=xe[fr].split(" ").length-1,du=cu>0?(ct-Kn[fr])/cu:0;fr<$r-1?Bs.push(F(J(du))):Bs.push(0),v.push([xe[fr],Nn,kn])}}}(typeof Q.R2L=="boolean"?Q.R2L:Ke)===!0&&(v=Io(v,function(Pt,Ft,pr){return[Pt.split("").reverse().join(""),Ft,pr]})),ye={text:v,x:j,y:$,options:Q,mutex:{pdfEscape:Vn,activeFontKey:Ue,fonts:gt,activeFontSize:Se}},Ct.publish("postProcessText",ye),v=ye.text,kr=ye.mutex.isHex||!1;var hu=gt[Ue].encoding;hu!=="WinAnsiEncoding"&&hu!=="StandardEncoding"||(v=Io(v,function(Pt,Ft,pr){return[ls(Pt),Ft,pr]})),xe=nu(v),v=[];for(var $s,qs,Ws,Ha=Array.isArray(xe[0])?1:0,Hs="",Va=function(Pt,Ft,pr){var Lr="";return pr instanceof Xe?(pr=typeof Q.angle=="number"?Xi(pr,new Xe(1,0,0,1,Pt,Ft)):Xi(new Xe(1,0,0,1,Pt,Ft),pr),A===b&&(pr=Xi(new Xe(1,0,0,-1,0,0),pr)),Lr=pr.join(" ")+` Tm
`):Lr=F(Pt)+" "+F(Ft)+` Td
`,Lr},Jn=0;Jn<xe.length;Jn++){switch(Hs="",Ha){case 1:Ws=(kr?"<":"(")+xe[Jn][0]+(kr?">":")"),$s=parseFloat(xe[Jn][1]),qs=parseFloat(xe[Jn][2]);break;case 0:Ws=(kr?"<":"(")+xe[Jn]+(kr?">":")"),$s=ts(j),qs=rs($)}Bs!==void 0&&Bs[Jn]!==void 0&&(Hs=Bs[Jn]+` Tw
`),Jn===0?v.push(Hs+Va($s,qs,Sr)+Ws):Ha===0?v.push(Hs+Ws):Ha===1&&v.push(Hs+Va($s,qs,Sr)+Ws)}v=Ha===0?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var Mi=`BT
/`;return Mi+=Ue+" "+Se+` Tf
`,Mi+=F(Se*os)+` TL
`,Mi+=Da+`
`,Mi+=zr,Mi+=v,B(Mi+="ET"),g[Ue]=!0,zt};var Ff=f.__private__.clip=f.clip=function(v){return B(v==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Ff("evenodd")},f.__private__.discardPath=f.discardPath=function(){return B("n"),this};var Ii=f.__private__.isValidStyle=function(v){var j=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(j=!0),j};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(v){return Ii(v)&&(u=v),this};var Wc=f.__private__.getStyle=f.getStyle=function(v){var j=u;switch(v){case"D":case"S":j="S";break;case"F":j="f";break;case"FD":case"DF":j="B";break;case"f":case"f*":case"B":case"B*":j=v}return j},Hc=f.close=function(){return B("h"),this};f.stroke=function(){return B("S"),this},f.fill=function(v){return To("f",v),this},f.fillEvenOdd=function(v){return To("f*",v),this},f.fillStroke=function(v){return To("B",v),this},f.fillStrokeEvenOdd=function(v){return To("B*",v),this};var To=function(v,j){It(j)==="object"?Bf(j,v):B(v)},Ra=function(v){v===null||A===b&&v===void 0||(v=Wc(v),B(v))};function Mf(v,j,$,Q,ie){var ye=new hl(j||this.boundingBox,$||this.xStep,Q||this.yStep,this.gState,ie||this.matrix);ye.stream=this.stream;var xe=v+"$$"+this.cloneIndex+++"$$";return qn(xe,ye),ye}var Bf=function(v,j){var $=Ut[v.key],Q=Ge[$];if(Q instanceof so)B("q"),B(Uf(j)),Q.gState&&f.setGState(Q.gState),B(v.matrix.toString()+" cm"),B("/"+$+" sh"),B("Q");else if(Q instanceof hl){var ie=new Xe(1,0,0,-1,0,Ma());v.matrix&&(ie=ie.multiply(v.matrix||Zi),$=Mf.call(Q,v.key,v.boundingBox,v.xStep,v.yStep,ie).id),B("q"),B("/Pattern cs"),B("/"+$+" scn"),Q.gState&&f.setGState(Q.gState),B(j),B("Q")}},Uf=function(v){switch(v){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Jl=f.moveTo=function(v,j){return B(F(J(v))+" "+F(K(j))+" m"),this},Vc=f.lineTo=function(v,j){return B(F(J(v))+" "+F(K(j))+" l"),this},ui=f.curveTo=function(v,j,$,Q,ie,ye){return B([F(J(v)),F(K(j)),F(J($)),F(K(Q)),F(J(ie)),F(K(ye)),"c"].join(" ")),this};f.__private__.line=f.line=function(v,j,$,Q,ie){if(isNaN(v)||isNaN(j)||isNaN($)||isNaN(Q)||!Ii(ie))throw new Error("Invalid arguments passed to jsPDF.line");return A===_?this.lines([[$-v,Q-j]],v,j,[1,1],ie||"S"):this.lines([[$-v,Q-j]],v,j,[1,1]).stroke()},f.__private__.lines=f.lines=function(v,j,$,Q,ie,ye){var xe,De,ze,rt,ct,At,rr,Sr,zt,Er,kr,zr;if(typeof v=="number"&&(zr=$,$=j,j=v,v=zr),Q=Q||[1,1],ye=ye||!1,isNaN(j)||isNaN($)||!Array.isArray(v)||!Array.isArray(Q)||!Ii(ie)||typeof ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Jl(j,$),xe=Q[0],De=Q[1],rt=v.length,Er=j,kr=$,ze=0;ze<rt;ze++)(ct=v[ze]).length===2?(Er=ct[0]*xe+Er,kr=ct[1]*De+kr,Vc(Er,kr)):(At=ct[0]*xe+Er,rr=ct[1]*De+kr,Sr=ct[2]*xe+Er,zt=ct[3]*De+kr,Er=ct[4]*xe+Er,kr=ct[5]*De+kr,ui(At,rr,Sr,zt,Er,kr));return ye&&Hc(),Ra(ie),this},f.path=function(v){for(var j=0;j<v.length;j++){var $=v[j],Q=$.c;switch($.op){case"m":Jl(Q[0],Q[1]);break;case"l":Vc(Q[0],Q[1]);break;case"c":ui.apply(this,Q);break;case"h":Hc()}}return this},f.__private__.rect=f.rect=function(v,j,$,Q,ie){if(isNaN(v)||isNaN(j)||isNaN($)||isNaN(Q)||!Ii(ie))throw new Error("Invalid arguments passed to jsPDF.rect");return A===_&&(Q=-Q),B([F(J(v)),F(K(j)),F(J($)),F(J(Q)),"re"].join(" ")),Ra(ie),this},f.__private__.triangle=f.triangle=function(v,j,$,Q,ie,ye,xe){if(isNaN(v)||isNaN(j)||isNaN($)||isNaN(Q)||isNaN(ie)||isNaN(ye)||!Ii(xe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[$-v,Q-j],[ie-$,ye-Q],[v-ie,j-ye]],v,j,[1,1],xe,!0),this},f.__private__.roundedRect=f.roundedRect=function(v,j,$,Q,ie,ye,xe){if(isNaN(v)||isNaN(j)||isNaN($)||isNaN(Q)||isNaN(ie)||isNaN(ye)||!Ii(xe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var De=4/3*(Math.SQRT2-1);return ie=Math.min(ie,.5*$),ye=Math.min(ye,.5*Q),this.lines([[$-2*ie,0],[ie*De,0,ie,ye-ye*De,ie,ye],[0,Q-2*ye],[0,ye*De,-ie*De,ye,-ie,ye],[2*ie-$,0],[-ie*De,0,-ie,-ye*De,-ie,-ye],[0,2*ye-Q],[0,-ye*De,ie*De,-ye,ie,-ye]],v+ie,j,[1,1],xe,!0),this},f.__private__.ellipse=f.ellipse=function(v,j,$,Q,ie){if(isNaN(v)||isNaN(j)||isNaN($)||isNaN(Q)||!Ii(ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ye=4/3*(Math.SQRT2-1)*$,xe=4/3*(Math.SQRT2-1)*Q;return Jl(v+$,j),ui(v+$,j-xe,v+ye,j-Q,v,j-Q),ui(v-ye,j-Q,v-$,j-xe,v-$,j),ui(v-$,j+xe,v-ye,j+Q,v,j+Q),ui(v+ye,j+Q,v+$,j+xe,v+$,j),Ra(ie),this},f.__private__.circle=f.circle=function(v,j,$,Q){if(isNaN(v)||isNaN(j)||isNaN($)||!Ii(Q))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,j,$,$,Q)},f.setFont=function(v,j,$){return $&&(j=H(j,$)),Ue=Uc(v,j,{disableWarning:!1}),this};var zf=f.__private__.getFont=f.getFont=function(){return gt[Uc.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var v,j,$={};for(v in vt)if(vt.hasOwnProperty(v))for(j in $[v]=[],vt[v])vt[v].hasOwnProperty(j)&&$[v].push(j);return $},f.addFont=function(v,j,$,Q,ie){var ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ye.indexOf(arguments[3])!==-1?ie=arguments[3]:arguments[3]&&ye.indexOf(arguments[3])==-1&&($=H($,Q)),Dc.call(this,v,j,$,ie=ie||"Identity-H")};var Ia,Yl=t.lineWidth||.200025,$f=f.__private__.getLineWidth=f.getLineWidth=function(){return Yl},nt=f.__private__.setLineWidth=f.setLineWidth=function(v){return Yl=v,B(F(J(v))+" w"),this};f.__private__.setLineDash=Be.API.setLineDash=Be.API.setLineDashPattern=function(v,j){if(v=v||[],j=j||0,isNaN(j)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function($){return F(J($))}).join(" "),j=F(J(j)),B("["+v+"] "+j+" d"),this};var qf=f.__private__.getLineHeight=f.getLineHeight=function(){return Se*Ia};f.__private__.getLineHeight=f.getLineHeight=function(){return Se*Ia};var Wf=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(Ia=v),this},Hf=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Ia};Wf(t.lineHeight);var ts=f.__private__.getHorizontalCoordinate=function(v){return J(v)},rs=f.__private__.getVerticalCoordinate=function(v){return A===b?v:Qe[q].mediaBox.topRightY-Qe[q].mediaBox.bottomLeftY-J(v)},Vf=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(v){return F(ts(v))},Gf=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(v){return F(rs(v))},Oo=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Pi(Oo)},f.__private__.setStrokeColor=f.setDrawColor=function(v,j,$,Q){return Oo=oi({ch1:v,ch2:j,ch3:$,ch4:Q,pdfColorType:"draw",precision:2}),B(Oo),this};var Ql=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Pi(Ql)},f.__private__.setFillColor=f.setFillColor=function(v,j,$,Q){return Ql=oi({ch1:v,ch2:j,ch3:$,ch4:Q,pdfColorType:"fill",precision:2}),B(Ql),this};var Da=t.textColor||"0 g",Kf=f.__private__.getTextColor=f.getTextColor=function(){return Pi(Da)};f.__private__.setTextColor=f.setTextColor=function(v,j,$,Q){return Da=oi({ch1:v,ch2:j,ch3:$,ch4:Q,pdfColorType:"text",precision:3}),this};var ns=t.charSpace,Jf=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(ns||0)};f.__private__.setCharSpace=f.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ns=v,this};var Xl=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(v){var j=f.CapJoinStyles[v];if(j===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xl=j,B(j+" J"),this};var Zl=0;f.__private__.setLineJoin=f.setLineJoin=function(v){var j=f.CapJoinStyles[v];if(j===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zl=j,B(j+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return B(F(J(v))+" M"),this},f.GState=Zh,f.setGState=function(v){(v=typeof v=="string"?et[ot[v]]:Gc(null,v)).equals(Xt)||(B("/"+v.id+" gs"),Xt=v)};var Gc=function(v,j){if(!v||!ot[v]){var $=!1;for(var Q in et)if(et.hasOwnProperty(Q)&&et[Q].equals(j)){$=!0;break}if($)j=et[Q];else{var ie="GS"+(Object.keys(et).length+1).toString(10);et[ie]=j,j.id=ie}return v&&(ot[v]=j.id),Ct.publish("addGState",j),j}};f.addGState=function(v,j){return Gc(v,j),this},f.saveGraphicsState=function(){return B("q"),Qt.push({key:Ue,size:Se,color:Da}),this},f.restoreGraphicsState=function(){B("Q");var v=Qt.pop();return Ue=v.key,Se=v.size,Da=v.color,Xt=null,this},f.setCurrentTransformationMatrix=function(v){return B(v.toString()+" cm"),this},f.comment=function(v){return B("#"+v),this};var is=function(v,j){var $=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return $},set:function(ye){isNaN(ye)||($=parseFloat(ye))}});var Q=j||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Q},set:function(ye){isNaN(ye)||(Q=parseFloat(ye))}});var ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ie},set:function(ye){ie=ye.toString()}}),this},eu=function(v,j,$,Q){is.call(this,v,j),this.type="rect";var ie=$||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ie},set:function(xe){isNaN(xe)||(ie=parseFloat(xe))}});var ye=Q||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ye},set:function(xe){isNaN(xe)||(ye=parseFloat(xe))}}),this},Ro=function(){this.page=yt,this.currentPage=q,this.pages=Ae.slice(0),this.pagesContext=Qe.slice(0),this.x=We,this.y=hr,this.matrix=Nt,this.width=ru(q),this.height=Jc(q),this.outputDestination=Le,this.id="",this.objectNumber=-1};Ro.prototype.restore=function(){yt=this.page,q=this.currentPage,Qe=this.pagesContext,Ae=this.pages,We=this.x,hr=this.y,Nt=this.matrix,Kc(q,this.width),ss(q,this.height),Le=this.outputDestination};var tu=function(v,j,$,Q,ie){Ci.push(new Ro),yt=q=0,Ae=[],We=v,hr=j,Nt=ie,Gl([$,Q])};for(var Fa in f.beginFormObject=function(v,j,$,Q,ie){return tu(v,j,$,Q,ie),this},f.endFormObject=function(v){return function(j){if(Qi[j])Ci.pop().restore();else{var $=new Ro,Q="Xo"+(Object.keys(Yr).length+1).toString(10);$.id=Q,Qi[j]=Q,Yr[Q]=$,Ct.publish("addFormObject",$),Ci.pop().restore()}}(v),this},f.doFormObject=function(v,j){var $=Yr[Qi[v]];return B("q"),B(j.toString()+" cm"),B("/"+$.id+" Do"),B("Q"),this},f.getFormObject=function(v){var j=Yr[Qi[v]];return{x:j.x,y:j.y,width:j.width,height:j.height,matrix:j.matrix}},f.save=function(v,j){return v=v||"generated.pdf",(j=j||{}).returnPromise=j.returnPromise||!1,j.returnPromise===!1?(Za(Po(Ri()),v),typeof Za.unload=="function"&&tt.setTimeout&&setTimeout(Za.unload,911),this):new Promise(function($,Q){try{var ie=Za(Po(Ri()),v);typeof Za.unload=="function"&&tt.setTimeout&&setTimeout(Za.unload,911),$(ie)}catch(ye){Q(ye.message)}})},Be.API)Be.API.hasOwnProperty(Fa)&&(Fa==="events"&&Be.API.events.length?function(v,j){var $,Q,ie;for(ie=j.length-1;ie!==-1;ie--)$=j[ie][0],Q=j[ie][1],v.subscribe.apply(v,[$].concat(typeof Q=="function"?[Q]:Q))}(Ct,Be.API.events):f[Fa]=Be.API[Fa]);function ru(v){return Qe[v].mediaBox.topRightX-Qe[v].mediaBox.bottomLeftX}function Kc(v,j){Qe[v].mediaBox.topRightX=j+Qe[v].mediaBox.bottomLeftX}function Jc(v){return Qe[v].mediaBox.topRightY-Qe[v].mediaBox.bottomLeftY}function ss(v,j){Qe[v].mediaBox.topRightY=j+Qe[v].mediaBox.bottomLeftY}var as=f.getPageWidth=function(v){return ru(v=v||q)/ut},Yc=f.setPageWidth=function(v,j){Kc(v,j*ut)},Ma=f.getPageHeight=function(v){return Jc(v=v||q)/ut},Qc=f.setPageHeight=function(v,j){ss(v,j*ut)};return f.internal={pdfEscape:Vn,getStyle:Wc,getFont:zf,getFontSize:Re,getCharSpace:Jf,getTextColor:Kf,getLineHeight:qf,getLineHeightFactor:Hf,getLineWidth:$f,write:Ee,getHorizontalCoordinate:ts,getVerticalCoordinate:rs,getCoordinateString:Vf,getVerticalCoordinateString:Gf,collections:{},newObject:or,newAdditionalObject:Pa,newObjectDeferred:Dr,newObjectDeferredBegin:Ur,getFilters:li,putStream:Hn,events:Ct,scaleFactor:ut,pageSize:{getWidth:function(){return as(q)},setWidth:function(v){Yc(q,v)},getHeight:function(){return Ma(q)},setHeight:function(v){Qc(q,v)}},encryptionOptions:d,encryption:jr,getEncryptor:function(v){return d!==null?jr.encryptor(v,0):function(j){return j}},output:$c,getNumberOfPages:Bc,get pages(){return Ae},out:B,f2:T,f3:I,getPageInfo:es,getPageInfoByObjId:qc,getCurrentPageInfo:Df,getPDFVersion:S,Point:is,Rectangle:eu,Matrix:Xe,hasHotfix:Gn},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return as(q)},set:function(v){Yc(q,v)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Ma(q)},set:function(v){Qc(q,v)},enumerable:!0,configurable:!0}),(function(v){for(var j=0,$=Je.length;j<$;j++){var Q=Dc.call(this,v[j][0],v[j][1],v[j][2],Je[j][3],!0);p===!1&&(g[Q]=!0);var ie=v[j][0].split("-");Ic({id:Q,fontName:ie[0],fontStyle:ie[1]||""})}Ct.publish("addFonts",{fonts:gt,dictionary:vt})}).call(f,Je),Ue="F1",Fc(i,r),Ct.publish("initialized"),f}Xo.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Xo.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Xo.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Xo.prototype.processOwnerPassword=function(t,e){return Jm(Km(e).substr(0,5),t)},Xo.prototype.encryptor=function(t,e){var r=Km(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Jm(r,n)}},Zh.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||It(t)!==It(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Be.API={events:[]},Be.version="3.0.4";var cr=Be.API,yg=1,Ao=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ko=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},it=function(t){return t.toFixed(2)},na=function(t){return t.toFixed(5)};cr.__acroform__={};var Sn=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Qy=function(t){return t*yg},qi=function(t){var e=new X_,r=Ie.internal.getHeight(t)||0,n=Ie.internal.getWidth(t)||0;return e.BBox=[0,0,Number(it(n)),Number(it(r))],e},y7=cr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},w7=cr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},b7=cr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},yr=cr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return b7(t,e-1)},wr=cr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return y7(t,e-1)},br=cr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return w7(t,e-1)},x7=cr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=r(i+a)||0,l.upperRight_Y=n(s)||0,[Number(it(l.lowerLeft_X)),Number(it(l.lowerLeft_Y)),Number(it(l.upperRight_X)),Number(it(l.upperRight_Y))]},_7=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=Ym(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+it(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=qi(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},Ym=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var s=r,a=Ie.internal.getHeight(t)||0;a=a<0?-a:a;var o=Ie.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(T,I,J){if(T+1<i.length){var K=I+" "+i[T+1][0];return Qd(K,t,J).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var u,d,p=Qd("3",t,s).height,g=t.multiline?a-s:(a-p)/2,f=g+=2,k=0,S=0,x=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Qd(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var y="",_=0,b=0;b<i.length;b++)if(i.hasOwnProperty(b)){var A=!1;if(i[b].length!==1&&x!==i[b].length-1){if((p+2)*(_+2)+2>a)continue e;y+=i[b][x],A=!0,S=b,b--}else{y=(y+=i[b][x]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var M=parseInt(b),G=l(M,y,s),H=b>=i.length-1;if(G&&!H){y+=" ",x=0;continue}if(G||H){if(H)S=M;else if(t.multiline&&(p+2)*(_+2)+2>a)continue e}else{if(!t.multiline||(p+2)*(_+2)+2>a)continue e;S=M}}for(var F="",R=k;R<=S;R++){var Y=i[R];if(t.multiline){if(R===S){F+=Y[x]+" ",x=(x+1)%Y.length;continue}if(R===k){F+=Y[Y.length-1]+" ";continue}}F+=Y[0]+" "}switch(F=F.substr(F.length-1)==" "?F.substr(0,F.length-1):F,d=Qd(F,t,s).width,t.textAlign){case"right":u=o-d-2;break;case"center":u=(o-d)/2;break;default:u=2}e+=it(u)+" "+it(f)+` Td
`,e+="("+Ao(F)+`) Tj
`,e+=-it(u)+` 0 Td
`,f=-(s+2),d=0,k=A?S:S+1,_++,y=""}break}return n.text=e,n.fontSize=s,n},Qd=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},S7={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},k7=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},N7=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ei.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(S7)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");yg=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Z_,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&k7(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],l=[],u=o.Rect;if(o.Rect&&(o.Rect=x7(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Ie.createDefaultAppearanceStream(o),It(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=_7(o);l.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var p="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var f=o.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var a in f)if(f.hasOwnProperty(a)){var k=f[a];typeof k=="function"&&(k=k.call(i,o)),p+="/"+a+" "+k+" ",i.internal.acroformPlugin.xForms.indexOf(k)>=0||i.internal.acroformPlugin.xForms.push(k)}}else typeof(k=f)=="function"&&(k=k.call(i,o)),p+="/"+a+" "+k,i.internal.acroformPlugin.xForms.indexOf(k)>=0||i.internal.acroformPlugin.xForms.push(k);p+=">>"}l.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&function(S,x){for(var y in S)if(S.hasOwnProperty(y)){var _=y,b=S[y];x.internal.newObjectDeferredBegin(b.objId,!0),It(b)==="object"&&typeof b.putStream=="function"&&b.putStream(),delete S[_]}}(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},Q_=cr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),It(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+Ao(n(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},v0=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+Ao(n(t))+")"},Vi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Vi.prototype.toString=function(){return this.objId+" 0 R"},Vi.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Vi.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:Q_(i,this.objId,this.scope)}):i instanceof Vi?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var X_=function(){Vi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Sn(X_,Vi);var Z_=function(){Vi.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Ao(r(t))+")"}},set:function(r){t=r}})};Sn(Z_,Vi);var Ei=function t(){Vi.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!yr(e,3)},set:function(y){y?this.F=wr(e,3):this.F=br(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof ef)return;s="FieldObject"+t.FieldNum++}var y=function(_){return _};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Ao(y(s))+")"},set:function(y){s=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(y){s=y}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(y){a=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/yg:u},set:function(y){u=y}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(y){d=y}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof ef||this instanceof po))return v0(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=y}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Mr==0?v0(g,this.objId,this.scope):g},set:function(y){y=y.toString(),g=this instanceof Mr==0?y.substr(0,1)==="("?Ko(y.substr(1,y.length-2)):Ko(y):y}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mr==1?Ko(g.substr(1,g.length-1)):g},set:function(y){y=y.toString(),g=this instanceof Mr==1?"/"+y:y}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Mr==0?v0(f,this.objId,this.scope):f},set:function(y){y=y.toString(),f=this instanceof Mr==0?y.substr(0,1)==="("?Ko(y.substr(1,y.length-2)):Ko(y):y}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mr==1?Ko(f.substr(1,f.length-1)):f},set:function(y){y=y.toString(),f=this instanceof Mr==1?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var k,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(y){y=!!y,S=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(k)return k},set:function(y){k=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,1)},set:function(y){y?this.Ff=wr(this.Ff,1):this.Ff=br(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,2)},set:function(y){y?this.Ff=wr(this.Ff,2):this.Ff=br(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,3)},set:function(y){y?this.Ff=wr(this.Ff,3):this.Ff=br(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');x=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(x){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};Sn(Ei,Vi);var xl=function(){Ei.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Q_(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,u=[];l=a.exec(s);)u.push(l[o]);return u}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,18)},set:function(r){r?this.Ff=wr(this.Ff,18):this.Ff=br(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=wr(this.Ff,19):this.Ff=br(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,20)},set:function(r){r?(this.Ff=wr(this.Ff,20),e.sort()):this.Ff=br(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,22)},set:function(r){r?this.Ff=wr(this.Ff,22):this.Ff=br(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,23)},set:function(r){r?this.Ff=wr(this.Ff,23):this.Ff=br(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,27)},set:function(r){r?this.Ff=wr(this.Ff,27):this.Ff=br(this.Ff,27)}}),this.hasAppearanceStream=!1};Sn(xl,Ei);var _l=function(){xl.call(this),this.fontName="helvetica",this.combo=!1};Sn(_l,xl);var Sl=function(){_l.call(this),this.combo=!0};Sn(Sl,_l);var gh=function(){Sl.call(this),this.edit=!0};Sn(gh,Sl);var Mr=function(){Ei.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,15)},set:function(r){r?this.Ff=wr(this.Ff,15):this.Ff=br(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,16)},set:function(r){r?this.Ff=wr(this.Ff,16):this.Ff=br(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,17)},set:function(r){r?this.Ff=wr(this.Ff,17):this.Ff=br(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,26)},set:function(r){r?this.Ff=wr(this.Ff,26):this.Ff=br(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Ao(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){It(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Sn(Mr,Ei);var vh=function(){Mr.call(this),this.pushButton=!0};Sn(vh,Mr);var kl=function(){Mr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Sn(kl,Mr);var ef=function(){var t,e;Ei.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+Ao(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){It(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ie.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Sn(ef,Ei),kl.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},kl.prototype.createOption=function(t){var e=new ef;return e.Parent=this,e.optionName=t,this.Kids.push(e),A7.call(this.scope,e),e};var yh=function(){Mr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ie.CheckBox.createAppearanceStream()};Sn(yh,Mr);var po=function(){Ei.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,13)},set:function(e){e?this.Ff=wr(this.Ff,13):this.Ff=br(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,21)},set:function(e){e?this.Ff=wr(this.Ff,21):this.Ff=br(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,23)},set:function(e){e?this.Ff=wr(this.Ff,23):this.Ff=br(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,24)},set:function(e){e?this.Ff=wr(this.Ff,24):this.Ff=br(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,25)},set:function(e){e?this.Ff=wr(this.Ff,25):this.Ff=br(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,26)},set:function(e){e?this.Ff=wr(this.Ff,26):this.Ff=br(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Sn(po,Ei);var wh=function(){po.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,14)},set:function(t){t?this.Ff=wr(this.Ff,14):this.Ff=br(this.Ff,14)}}),this.password=!0};Sn(wh,po);var Ie={CheckBox:{createAppearanceStream:function(){return{N:{On:Ie.CheckBox.YesNormal},D:{On:Ie.CheckBox.YesPushDown,Off:Ie.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=qi(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=Ym(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+it(Ie.internal.getWidth(t))+" "+it(Ie.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+it(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=qi(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=Ie.internal.getHeight(t),a=Ie.internal.getWidth(t),o=Ym(t,t.caption);return i.push("1 g"),i.push("0 0 "+it(a)+" "+it(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+it(a-1)+" "+it(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+it(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=qi(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+it(Ie.internal.getWidth(t))+" "+it(Ie.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ie.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ie.RadioButton.Circle.YesNormal,e.D[t]=Ie.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=qi(t);e.scope=t.scope;var r=[],n=Ie.internal.getWidth(t)<=Ie.internal.getHeight(t)?Ie.internal.getWidth(t)/4:Ie.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Ie.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+na(Ie.internal.getWidth(t)/2)+" "+na(Ie.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=qi(t);e.scope=t.scope;var r=[],n=Ie.internal.getWidth(t)<=Ie.internal.getHeight(t)?Ie.internal.getWidth(t)/4:Ie.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Ie.internal.Bezier_C).toFixed(5)),a=Number((n*Ie.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+na(Ie.internal.getWidth(t)/2)+" "+na(Ie.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+na(Ie.internal.getWidth(t)/2)+" "+na(Ie.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=qi(t);e.scope=t.scope;var r=[],n=Ie.internal.getWidth(t)<=Ie.internal.getHeight(t)?Ie.internal.getWidth(t)/4:Ie.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Ie.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+na(Ie.internal.getWidth(t)/2)+" "+na(Ie.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ie.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ie.RadioButton.Cross.YesNormal,e.D[t]=Ie.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=qi(t);e.scope=t.scope;var r=[],n=Ie.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+it(Ie.internal.getWidth(t)-2)+" "+it(Ie.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(it(n.x1.x)+" "+it(n.x1.y)+" m"),r.push(it(n.x2.x)+" "+it(n.x2.y)+" l"),r.push(it(n.x4.x)+" "+it(n.x4.y)+" m"),r.push(it(n.x3.x)+" "+it(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=qi(t);e.scope=t.scope;var r=Ie.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+it(Ie.internal.getWidth(t))+" "+it(Ie.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+it(Ie.internal.getWidth(t)-2)+" "+it(Ie.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(it(r.x1.x)+" "+it(r.x1.y)+" m"),n.push(it(r.x2.x)+" "+it(r.x2.y)+" l"),n.push(it(r.x4.x)+" "+it(r.x4.y)+" m"),n.push(it(r.x3.x)+" "+it(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=qi(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+it(Ie.internal.getWidth(t))+" "+it(Ie.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Ie.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ie.internal.getWidth(t),r=Ie.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Ie.internal.getWidth=function(t){var e=0;return It(t)==="object"&&(e=Qy(t.Rect[2])),e},Ie.internal.getHeight=function(t){var e=0;return It(t)==="object"&&(e=Qy(t.Rect[3])),e};var A7=cr.addField=function(t){if(N7(this,t),!(t instanceof Ei))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};cr.AcroFormChoiceField=xl,cr.AcroFormListBox=_l,cr.AcroFormComboBox=Sl,cr.AcroFormEditBox=gh,cr.AcroFormButton=Mr,cr.AcroFormPushButton=vh,cr.AcroFormRadioButton=kl,cr.AcroFormCheckBox=yh,cr.AcroFormTextField=po,cr.AcroFormPasswordField=wh,cr.AcroFormAppearance=Ie,cr.AcroForm={ChoiceField:xl,ListBox:_l,ComboBox:Sl,EditBox:gh,Button:Mr,PushButton:vh,RadioButton:kl,CheckBox:yh,TextField:po,PasswordField:wh,Appearance:Ie},Be.AcroForm={ChoiceField:xl,ListBox:_l,ComboBox:Sl,EditBox:gh,Button:Mr,PushButton:vh,RadioButton:kl,CheckBox:yh,TextField:po,PasswordField:wh,Appearance:Ie};Be.AcroForm;function e4(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(T,I){var J,K,ue,ce,de,V=r;if((I=I||r)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(G(T))for(de in n)for(ue=n[de],J=0;J<ue.length;J+=1){for(ce=!0,K=0;K<ue[J].length;K+=1)if(ue[J][K]!==void 0&&ue[J][K]!==T[K]){ce=!1;break}if(ce===!0){V=de;break}}else for(de in n)for(ue=n[de],J=0;J<ue.length;J+=1){for(ce=!0,K=0;K<ue[J].length;K+=1)if(ue[J][K]!==void 0&&ue[J][K]!==T.charCodeAt(K)){ce=!1;break}if(ce===!0){V=de;break}}return V===r&&I!==r&&(V=I),V},s=function T(I){for(var J=this.internal.write,K=this.internal.putStream,ue=(0,this.internal.getFilters)();ue.indexOf("FlateEncode")!==-1;)ue.splice(ue.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var ce=[];if(ce.push({key:"Type",value:"/XObject"}),ce.push({key:"Subtype",value:"/Image"}),ce.push({key:"Width",value:I.width}),ce.push({key:"Height",value:I.height}),I.colorSpace===y.INDEXED?ce.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(ce.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===y.DEVICE_CMYK&&ce.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ce.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&ce.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var de="",V=0,ne=I.transparency.length;V<ne;V++)de+=I.transparency[V]+" "+I.transparency[V]+" ";ce.push({key:"Mask",value:"["+de+"]"})}I.sMask!==void 0&&ce.push({key:"SMask",value:I.objectId+1+" 0 R"});var me=I.filter!==void 0?["/"+I.filter]:void 0;if(K({data:I.data,additionalKeyValues:ce,alreadyAppliedFilters:me,objectId:I.objectId}),J("endobj"),"sMask"in I&&I.sMask!==void 0){var he,C=(he=I.sMaskBitsPerComponent)!==null&&he!==void 0?he:I.bitsPerComponent,q={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:C,data:I.sMask};"filter"in I&&(q.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(C," /Columns ").concat(I.width),q.filter=I.filter),T.call(this,q)}if(I.colorSpace===y.INDEXED){var W=this.internal.newObject();K({data:F(new Uint8Array(I.palette)),objectId:W}),J("endobj")}},a=function(){var T=this.internal.collections[e+"images"];for(var I in T)s.call(this,T[I])},o=function(){var T,I=this.internal.collections[e+"images"],J=this.internal.write;for(var K in I)J("/I"+(T=I[K]).index,T.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var T=this.internal.collections[e+"images"];return l.call(this),T},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},p=function(T){return typeof t["process"+T.toUpperCase()]=="function"},g=function(T){return It(T)==="object"&&T.nodeType===1},f=function(T,I){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var J=""+T.getAttribute("src");if(J.indexOf("data:image/")===0)return mh(unescape(J).split("base64,").pop());var K=t.loadFile(J,!0);if(K!==void 0)return K}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var ue;switch(I){case"PNG":ue="image/png";break;case"WEBP":ue="image/webp";break;default:ue="image/jpeg"}return mh(T.toDataURL(ue,1).split("base64,").pop())}},k=function(T){var I=this.internal.collections[e+"images"];if(I){for(var J in I)if(T===I[J].alias)return I[J]}},S=function(T,I,J){return T||I||(T=-96,I=-96),T<0&&(T=-1*J.width*72/T/this.internal.scaleFactor),I<0&&(I=-1*J.height*72/I/this.internal.scaleFactor),T===0&&(T=I*J.width/J.height),I===0&&(I=T*J.height/J.width),[T,I]},x=function(T,I,J,K,ue,ce){var de=S.call(this,J,K,ue),V=this.internal.getCoordinateString,ne=this.internal.getVerticalCoordinateString,me=u.call(this);if(J=de[0],K=de[1],me[ue.index]=ue,ce){ce*=Math.PI/180;var he=Math.cos(ce),C=Math.sin(ce),q=function(X){return X.toFixed(4)},W=[q(he),q(C),q(-1*C),q(he),0,0,"cm"]}this.internal.write("q"),ce?(this.internal.write([1,"0","0",1,V(T),ne(I+K),"cm"].join(" ")),this.internal.write(W.join(" ")),this.internal.write([V(J),"0","0",V(K),"0","0","cm"].join(" "))):this.internal.write([V(J),"0","0",V(K),V(T),ne(I+K),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ue.index+" Do"),this.internal.write("Q")},y=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=t.__addimage__.sHashCode=function(T){var I,J,K=0;if(typeof T=="string")for(J=T.length,I=0;I<J;I++)K=(K<<5)-K+T.charCodeAt(I),K|=0;else if(G(T))for(J=T.byteLength/2,I=0;I<J;I++)K=(K<<5)-K+T[I],K|=0;return K},A=t.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var I=!0;return T.length===0&&(I=!1),T.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(I=!1),I},M=t.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var I=T.indexOf(",");return I<0?null:T.substring(0,I).trim().endsWith("base64")?T.substring(I+1):null};t.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var G=t.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},H=t.__addimage__.binaryStringToUint8Array=function(T){for(var I=T.length,J=new Uint8Array(I),K=0;K<I;K++)J[K]=T.charCodeAt(K);return J},F=t.__addimage__.arrayBufferToBinaryString=function(T){for(var I="",J=G(T)?T:new Uint8Array(T),K=0;K<J.length;K+=8192)I+=String.fromCharCode.apply(null,J.subarray(K,K+8192));return I};t.addImage=function(){var T,I,J,K,ue,ce,de,V,ne;if(typeof arguments[1]=="number"?(I=r,J=arguments[1],K=arguments[2],ue=arguments[3],ce=arguments[4],de=arguments[5],V=arguments[6],ne=arguments[7]):(I=arguments[1],J=arguments[2],K=arguments[3],ue=arguments[4],ce=arguments[5],de=arguments[6],V=arguments[7],ne=arguments[8]),It(T=arguments[0])==="object"&&!g(T)&&"imageData"in T){var me=T;T=me.imageData,I=me.format||I||r,J=me.x||J||0,K=me.y||K||0,ue=me.w||me.width||ue,ce=me.h||me.height||ce,de=me.alias||de,V=me.compression||V,ne=me.rotation||me.angle||ne}var he=this.internal.getFilters();if(V===void 0&&he.indexOf("FlateEncode")!==-1&&(V="SLOW"),isNaN(J)||isNaN(K))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var C=R.call(this,T,I,de,V);return x.call(this,J,K,ue,ce,C,ne),this};var R=function(T,I,J,K){var ue,ce,de;if(typeof T=="string"&&i(T)===r){T=unescape(T);var V=Y(T,!1);(V!==""||(V=t.loadFile(T,!0))!==void 0)&&(T=V)}if(g(T)&&(T=f(T,I)),I=i(T,I),!p(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((de=J)==null||de.length===0)&&(J=function(ne){return typeof ne=="string"||G(ne)?b(ne):G(ne.data)?b(ne.data):null}(T)),(ue=k.call(this,J))||(T instanceof Uint8Array||I==="RGBA"||(ce=T,T=H(T)),ue=this["process"+I.toUpperCase()](T,d.call(this),J,function(ne){return ne&&typeof ne=="string"&&(ne=ne.toUpperCase()),ne in t.image_compression?ne:_.NONE}(K),ce)),!ue)throw new Error("An unknown error occurred whilst processing the image.");return ue},Y=t.__addimage__.convertBase64ToBinaryString=function(T,I){I=typeof I!="boolean"||I;var J,K="";if(typeof T=="string"){var ue;J=(ue=M(T))!==null&&ue!==void 0?ue:T;try{K=mh(J)}catch(ce){if(I)throw A(J)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ce.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return K};t.getImageProperties=function(T){var I,J,K="";if(g(T)&&(T=f(T)),typeof T=="string"&&i(T)===r&&((K=Y(T,!1))===""&&(K=t.loadFile(T)||""),T=K),J=i(T),!p(J))throw new Error("addImage does not support files of type '"+J+"', please ensure that a plugin for '"+J+"' support is added.");if(T instanceof Uint8Array||(T=H(T)),!(I=this["process"+J.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=J,I}})(Be.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Be.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,p=0;p<u.length&&!d;p++)switch((n=u[p]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var g=0;g<u.length;g++){n=u[g];var f=this.internal.pdfEscape,k=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(S.objId),_=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+f(y(n.contents))+")",s+=" /Popup "+x.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(y(_))+") >>",S.content=s;var b=S.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(s+=" /Open true"),s+=" >>",x.content=s,this.internal.write(S.objId,"0 R",x.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var A=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(k(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var M=this.annotations._nameMap[n.options.name];n.options.pageNumber=M.page,n.options.top=M.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(k(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var G=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+G+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+i),h:u(n+s)},options:a,type:"link"})},t.textWithLink=function(r,n,i,s){var a,o,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var d=this.splitTextToSize(r,o).length;a=Math.ceil(u*d)}else o=l,a=u;return this.text(r,n,i,s),i+=.2*u,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-u,o,a,s),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Be.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},o=t.__arabicParser__.isArabicEndLetter=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(S){return a(S)&&i.indexOf(S.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length==4},p=t.__arabicParser__.resolveLigatures=function(S){var x=0,y=r,_="",b=0;for(x=0;x<S.length;x+=1)y[S.charCodeAt(x)]!==void 0?(b++,typeof(y=y[S.charCodeAt(x)])=="number"&&(_+=String.fromCharCode(y),y=r,b=0),x===S.length-1&&(y=r,_+=S.charAt(x-(b-1)),x-=b-1,b=0)):(y=r,_+=S.charAt(x-b),x-=b,b=0);return _};t.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&n[S.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(S,x,y){return a(S)?s(S)===!1?-1:!u(S)||!a(x)&&!a(y)||!a(y)&&o(x)||o(S)&&!a(x)||o(S)&&l(x)||o(S)&&o(x)?0:d(S)&&a(x)&&!o(x)&&a(y)&&u(y)?3:o(S)||!a(y)?1:2:-1},f=function(S){var x=0,y=0,_=0,b="",A="",M="",G=(S=S||"").split("\\s+"),H=[];for(x=0;x<G.length;x+=1){for(H.push(""),y=0;y<G[x].length;y+=1)b=G[x][y],A=G[x][y-1],M=G[x][y+1],a(b)?(_=g(b,A,M),H[x]+=_!==-1?String.fromCharCode(e[b.charCodeAt(0)][_]):b):H[x]+=b;H[x]=p(H[x])}return H.join(" ")},k=t.__arabicParser__.processArabic=t.processArabic=function(){var S,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(x)){var _=0;for(y=[],_=0;_<x.length;_+=1)Array.isArray(x[_])?y.push([f(x[_][0]),x[_][1],x[_][2]]):y.push([f(x[_])]);S=y}else S=f(x);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};t.events.push(["preProcessText",k])}(Be.API),Be.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Be.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(S){l=S}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(S){u=S}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(S){d=S}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(S){p=S}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(S){g=S}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(S){f=S}});var k=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return k},set:function(S){k=S}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),p=u.font||this.getFont(),g=u.scaleFactor||this.internal.scaleFactor,f=0,k=0,S=0,x=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=u.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(b,A){return b.concat(x.splitTextToSize(A,y))},[])):l=Array.isArray(l)?l:[l];for(var _=0;_<l.length;_++)f<(S=this.getStringUnitWidth(l[_],{font:p})*d)&&(f=S);return f!==0&&(k=l.length),{w:f/=g,h:Math.max((k*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=p.top,f&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,d,p,g){if(n.call(this),!d)throw new Error("No data for PDF table.");var f,k,S,x,y=[],_=[],b=[],A={},M={},G=[],H=[],F=(g=g||{}).autoSize||!1,R=g.printHeaders!==!1,Y=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,T=g.margins||Object.assign({width:this.getPageWidth()},e),I=typeof g.padding=="number"?g.padding:3,J=g.headerBackgroundColor||"#c8c8c8",K=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=Y,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=J,this.internal.__cell__.headerTextColor=K,this.setFontSize(Y),p==null)_=y=Object.keys(d[0]),b=y.map(function(){return"left"});else if(Array.isArray(p)&&It(p[0])==="object")for(y=p.map(function(me){return me.name}),_=p.map(function(me){return me.prompt||me.name||""}),b=p.map(function(me){return me.align||"left"}),f=0;f<p.length;f+=1)M[p[f].name]=.7499990551181103*p[f].width;else Array.isArray(p)&&typeof p[0]=="string"&&(_=y=p,b=y.map(function(){return"left"}));if(F||Array.isArray(p)&&typeof p[0]=="string")for(f=0;f<y.length;f+=1){for(A[x=y[f]]=d.map(function(me){return me[x]}),this.setFont(void 0,"bold"),G.push(this.getTextDimensions(_[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),k=A[x],this.setFont(void 0,"normal"),S=0;S<k.length;S+=1)G.push(this.getTextDimensions(k[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);M[x]=Math.max.apply(null,G)+I+I,G=[]}if(R){var ue={};for(f=0;f<y.length;f+=1)ue[y[f]]={},ue[y[f]].text=_[f],ue[y[f]].align=b[f];var ce=o.call(this,ue,M);H=y.map(function(me){return new s(l,u,M[me],ce,ue[me].text,void 0,ue[me].align)}),this.setTableHeaderRow(H),this.printHeaderRow(1,!1)}var de=p.reduce(function(me,he){return me[he.name]=he.align,me},{});for(f=0;f<d.length;f+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:f,data:d[f]},this);var V=o.call(this,d[f],M);for(S=0;S<y.length;S+=1){var ne=d[f][y[S]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:f,col:S,data:ne},this),a.call(this,new s(l,u,M[y[S]],V,ne,f+2,de[y[S]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var d=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(f){var k=l[f];return this.splitTextToSize(k.hasOwnProperty("text")?k.text:k,u[f]-d-d)},this).map(function(f){return this.getLineHeightFactor()*f.length*p/g+d+d},this).reduce(function(f,k){return Math.max(f,k)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){d=this.internal.__cell__.tableHeaderRow[f].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,g.push(d)),d.lineNumber=l;var k=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(k)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),r=!1}}(Be.API);var t4={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},r4=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Qm=e4(r4),n4=[100,200,300,400,500,600,700,800,900],j7=e4(n4);function y0(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return t4[s=s||"normal"]?s:"normal"}(t.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof Qm[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function Xy(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var E7={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Zy={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function e5(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function t5(t){return t.trimLeft()}function L7(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function C7(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Xd,r5,n5,Jo,Zd,i5,s5,a5,w0=["times"];function o5(t,e,r,n,i){var s=4,a=u5;switch(i){case Be.API.image_compression.FAST:s=1,a=l5;break;case Be.API.image_compression.MEDIUM:s=6,a=c5;break;case Be.API.image_compression.SLOW:s=9,a=d5}t=function(l,u,d,p){for(var g,f=l.length/u,k=new Uint8Array(l.length+f),S=[P7,l5,u5,c5,d5],x=0;x<f;x+=1){var y=x*u,_=l.subarray(y,y+u);if(p)k.set(p(_,d,g),y+x);else{for(var b=S.length,A=[],M=0;M<b;M+=1)A[M]=S[M](_,d,g);var G=O7(A.concat());k.set(A[G],y+x)}g=_}return k}(t,e,Math.ceil(r*n/8),a);var o=Wm(t,{level:s});return Be.API.__addimage__.arrayBufferToBinaryString(o)}function P7(t){var e=Array.apply([],t);return e.unshift(0),e}function l5(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var s=t[i-e]||0;n[i+1]=t[i]-s+256&255}return n}function u5(t,e,r){var n=t.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var a=r&&r[s]||0;i[s+1]=t[s]-a+256&255}return i}function c5(t,e,r){var n=t.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var a=t[s-e]||0,o=r&&r[s]||0;i[s+1]=t[s]+256-(a+o>>>1)&255}return i}function d5(t,e,r){var n=t.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var a=T7(t[s-e]||0,r&&r[s]||0,r&&r[s-e]||0);i[s+1]=t[s]-a+256&255}return i}function T7(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),s=Math.abs(t+e-r-r);return n<=i&&n<=s?t:i<=s?e:r}function O7(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function b0(t,e,r){var n=e*r,i=Math.floor(n/8),s=16-(n-8*i+r),a=(1<<r)-1;return i4(t,i)>>s&a}function h5(t,e,r,n){var i=r*n,s=Math.floor(i/8),a=16-(i-8*s+n),o=(1<<n)-1,l=(e&o)<<a;(function(u,d,p){if(d+1<u.byteLength)u.setUint16(d,p,!1);else{var g=p>>8&255;u.setUint8(d,g)}})(t,s,i4(t,s)&~(o<<a)&65535|l)}function i4(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function R7(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var u=!0,d=[],p=0,g=null,f=0,k=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,k=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=t[e++];p=t[e++]|t[e++]<<8,g=t[e++],1&S||(g=null),f=S>>2&7,e++;break;case 254:for(;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var x=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,A=t[e++],M=A>>6&1,G=1<<1+(7&A),H=o,F=l,R=!1;A>>7&&(R=!0,H=e,F=G,e+=3*G);var Y=e;for(e++;;){var T;if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}d.push({x,y,width:_,height:b,has_local_palette:R,palette_offset:H,palette_size:F,data_offset:Y,data_length:e-Y,transparent_index:g,interlaced:!!M,delay:p,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return k},this.frameInfo=function(I){if(I<0||I>=d.length)throw new Error("Frame index out of range.");return d[I]},this.decodeAndBlitFrameBGRA=function(I,J){var K=this.frameInfo(I),ue=K.width*K.height,ce=new Uint8Array(ue);f5(t,K.data_offset,ce,ue);var de=K.palette_offset,V=K.transparent_index;V===null&&(V=256);var ne=K.width,me=r-ne,he=ne,C=4*(K.y*r+K.x),q=4*((K.y+K.height)*r+K.x),W=C,X=4*me;K.interlaced===!0&&(X+=4*r*7);for(var te=8,ae=0,fe=ce.length;ae<fe;++ae){var pe=ce[ae];if(he===0&&(he=ne,(W+=X)>=q&&(X=4*me+4*r*(te-1),W=C+(ne+me)*(te<<1),te>>=1)),pe===V)W+=4;else{var be=t[de+3*pe],Ae=t[de+3*pe+1],Ce=t[de+3*pe+2];J[W++]=Ce,J[W++]=Ae,J[W++]=be,J[W++]=255}--he}},this.decodeAndBlitFrameRGBA=function(I,J){var K=this.frameInfo(I),ue=K.width*K.height,ce=new Uint8Array(ue);f5(t,K.data_offset,ce,ue);var de=K.palette_offset,V=K.transparent_index;V===null&&(V=256);var ne=K.width,me=r-ne,he=ne,C=4*(K.y*r+K.x),q=4*((K.y+K.height)*r+K.x),W=C,X=4*me;K.interlaced===!0&&(X+=4*r*7);for(var te=8,ae=0,fe=ce.length;ae<fe;++ae){var pe=ce[ae];if(he===0&&(he=ne,(W+=X)>=q&&(X=4*me+4*r*(te-1),W=C+(ne+me)*(te<<1),te>>=1)),pe===V)W+=4;else{var be=t[de+3*pe],Ae=t[de+3*pe+1],Ce=t[de+3*pe+2];J[W++]=be,J[W++]=Ae,J[W++]=Ce,J[W++]=255}--he}}}function f5(t,e,r,n){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,u=(1<<l)-1,d=0,p=0,g=0,f=t[e++],k=new Int32Array(4096),S=null;;){for(;d<16&&f!==0;)p|=t[e++]<<d,d+=8,f===1?f=t[e++]:--f;if(d<l)break;var x=p&u;if(p>>=l,d-=l,x!==s){if(x===a)break;for(var y=x<o?x:S,_=0,b=y;b>s;)b=k[b]>>8,++_;var A=b;if(g+_+(y!==x?1:0)>n)return void Bt.log("Warning, gif stream longer than expected.");r[g++]=A;var M=g+=_;for(y!==x&&(r[g++]=A),b=y;_--;)b=k[b],r[--M]=255&b,b>>=8;S!==null&&o<4096&&(k[o++]=S<<8|A,o>=u+1&&l<12&&(++l,u=u<<1|1)),S=x}else o=a+1,u=(1<<(l=i+1))-1,S=null}return g!==n&&Bt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function x0(t){var e,r,n,i,s,a=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),d=new Array(64),p=new Array(65535),g=new Array(65535),f=new Array(64),k=new Array(64),S=[],x=0,y=7,_=new Array(64),b=new Array(64),A=new Array(64),M=new Array(256),G=new Array(2048),H=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],F=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],J=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ue=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ce(C,q){for(var W=0,X=0,te=new Array,ae=1;ae<=16;ae++){for(var fe=1;fe<=C[ae];fe++)te[q[X]]=[],te[q[X]][0]=W,te[q[X]][1]=ae,X++,W++;W*=2}return te}function de(C){for(var q=C[0],W=C[1]-1;W>=0;)q&1<<W&&(x|=1<<y),W--,--y<0&&(x==255?(V(255),V(0)):V(x),y=7,x=0)}function V(C){S.push(C)}function ne(C){V(C>>8&255),V(255&C)}function me(C,q,W,X,te){for(var ae,fe=te[0],pe=te[240],be=function(Se,Ye){var Re,Ke,Ve,Lt,bt,at,_t,xt,Ue,ut,We=0;for(Ue=0;Ue<8;++Ue){Re=Se[We],Ke=Se[We+1],Ve=Se[We+2],Lt=Se[We+3],bt=Se[We+4],at=Se[We+5],_t=Se[We+6];var hr=Re+(xt=Se[We+7]),Nt=Re-xt,gt=Ke+_t,vt=Ke-_t,Qt=Ve+at,Ge=Ve-at,Ut=Lt+bt,et=Lt-bt,ot=hr+Ut,Xt=hr-Ut,yt=gt+Qt,Qe=gt-Qt;Se[We]=ot+yt,Se[We+4]=ot-yt;var Ct=.707106781*(Qe+Xt);Se[We+2]=Xt+Ct,Se[We+6]=Xt-Ct;var Ca=.382683433*((ot=et+Ge)-(Qe=vt+Nt)),Yr=.5411961*ot+Ca,Qi=1.306562965*Qe+Ca,Ci=.707106781*(yt=Ge+vt),Xe=Nt+Ci,Xi=Nt-Ci;Se[We+5]=Xi+Yr,Se[We+3]=Xi-Yr,Se[We+1]=Xe+Qi,Se[We+7]=Xe-Qi,We+=8}for(We=0,Ue=0;Ue<8;++Ue){Re=Se[We],Ke=Se[We+8],Ve=Se[We+16],Lt=Se[We+24],bt=Se[We+32],at=Se[We+40],_t=Se[We+48];var Zi=Re+(xt=Se[We+56]),qn=Re-xt,Wn=Ke+_t,or=Ke-_t,Dr=Ve+at,Ur=Ve-at,Pa=Lt+bt,Ds=Lt-bt,ai=Zi+Pa,Pi=Zi-Pa,oi=Wn+Dr,li=Wn-Dr;Se[We]=ai+oi,Se[We+32]=ai-oi;var Hn=.707106781*(li+Pi);Se[We+16]=Pi+Hn,Se[We+48]=Pi-Hn;var Ta=.382683433*((ai=Ds+Ur)-(li=or+qn)),Ti=.5411961*ai+Ta,Oa=1.306562965*li+Ta,jo=.707106781*(oi=Ur+or),Eo=qn+jo,Lo=qn-jo;Se[We+40]=Lo+Ti,Se[We+24]=Lo-Ti,Se[We+8]=Eo+Oa,Se[We+56]=Eo-Oa,We++}for(Ue=0;Ue<64;++Ue)ut=Se[Ue]*Ye[Ue],f[Ue]=ut>0?ut+.5|0:ut-.5|0;return f}(C,q),Ae=0;Ae<64;++Ae)k[H[Ae]]=be[Ae];var Ce=k[0]-W;W=k[0],Ce==0?de(X[0]):(de(X[g[ae=32767+Ce]]),de(p[ae]));for(var Le=63;Le>0&&k[Le]==0;)Le--;if(Le==0)return de(fe),W;for(var He,B=1;B<=Le;){for(var Ee=B;k[B]==0&&B<=Le;)++B;var mt=B-Ee;if(mt>=16){He=mt>>4;for(var Je=1;Je<=He;++Je)de(pe);mt&=15}ae=32767+k[B],de(te[(mt<<4)+g[ae]]),de(p[ae]),B++}return Le!=63&&de(fe),W}function he(C){C=Math.min(Math.max(C,1),100),s!=C&&(function(q){for(var W=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],X=0;X<64;X++){var te=a((W[X]*q+50)/100);te=Math.min(Math.max(te,1),255),o[H[X]]=te}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],fe=0;fe<64;fe++){var pe=a((ae[fe]*q+50)/100);pe=Math.min(Math.max(pe,1),255),l[H[fe]]=pe}for(var be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ae=0,Ce=0;Ce<8;Ce++)for(var Le=0;Le<8;Le++)u[Ae]=1/(o[H[Ae]]*be[Ce]*be[Le]*8),d[Ae]=1/(l[H[Ae]]*be[Ce]*be[Le]*8),Ae++}(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),s=C)}this.encode=function(C,q){q&&he(q),S=new Array,x=0,y=7,ne(65496),ne(65504),ne(16),V(74),V(70),V(73),V(70),V(0),V(1),V(1),V(0),ne(1),ne(1),V(0),V(0),function(){ne(65499),ne(132),V(0);for(var Ke=0;Ke<64;Ke++)V(o[Ke]);V(1);for(var Ve=0;Ve<64;Ve++)V(l[Ve])}(),function(Ke,Ve){ne(65472),ne(17),V(8),ne(Ve),ne(Ke),V(3),V(1),V(17),V(0),V(2),V(17),V(1),V(3),V(17),V(1)}(C.width,C.height),function(){ne(65476),ne(418),V(0);for(var Ke=0;Ke<16;Ke++)V(F[Ke+1]);for(var Ve=0;Ve<=11;Ve++)V(R[Ve]);V(16);for(var Lt=0;Lt<16;Lt++)V(Y[Lt+1]);for(var bt=0;bt<=161;bt++)V(T[bt]);V(1);for(var at=0;at<16;at++)V(I[at+1]);for(var _t=0;_t<=11;_t++)V(J[_t]);V(17);for(var xt=0;xt<16;xt++)V(K[xt+1]);for(var Ue=0;Ue<=161;Ue++)V(ue[Ue])}(),ne(65498),ne(12),V(3),V(1),V(0),V(2),V(17),V(3),V(17),V(0),V(63),V(0);var W=0,X=0,te=0;x=0,y=7,this.encode.displayName="_encode_";for(var ae,fe,pe,be,Ae,Ce,Le,He,B,Ee=C.data,mt=C.width,Je=C.height,Se=4*mt,Ye=0;Ye<Je;){for(ae=0;ae<Se;){for(Ae=Se*Ye+ae,Le=-1,He=0,B=0;B<64;B++)Ce=Ae+(He=B>>3)*Se+(Le=4*(7&B)),Ye+He>=Je&&(Ce-=Se*(Ye+1+He-Je)),ae+Le>=Se&&(Ce-=ae+Le-Se+4),fe=Ee[Ce++],pe=Ee[Ce++],be=Ee[Ce++],_[B]=(G[fe]+G[pe+256|0]+G[be+512|0]>>16)-128,b[B]=(G[fe+768|0]+G[pe+1024|0]+G[be+1280|0]>>16)-128,A[B]=(G[fe+1280|0]+G[pe+1536|0]+G[be+1792|0]>>16)-128;W=me(_,u,W,e,n),X=me(b,d,X,r,i),te=me(A,d,te,r,i),ae+=32}Ye+=8}if(y>=0){var Re=[];Re[1]=y+1,Re[0]=(1<<y+1)-1,de(Re)}return ne(65497),new Uint8Array(S)},t=t||50,function(){for(var C=String.fromCharCode,q=0;q<256;q++)M[q]=C(q)}(),e=ce(F,R),r=ce(I,J),n=ce(Y,T),i=ce(K,ue),function(){for(var C=1,q=2,W=1;W<=15;W++){for(var X=C;X<q;X++)g[32767+X]=W,p[32767+X]=[],p[32767+X][1]=W,p[32767+X][0]=X;for(var te=-(q-1);te<=-C;te++)g[32767+te]=W,p[32767+te]=[],p[32767+te][1]=W,p[32767+te][0]=q-1+te;C<<=1,q<<=1}}(),function(){for(var C=0;C<256;C++)G[C]=19595*C,G[C+256|0]=38470*C,G[C+512|0]=7471*C+32768,G[C+768|0]=-11059*C,G[C+1024|0]=-21709*C,G[C+1280|0]=32768*C+8421375,G[C+1536|0]=-27439*C,G[C+1792|0]=-5329*C}(),he(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function mi(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function p5(t){function e(R){if(!R)throw Error("assert :P")}function r(R,Y,T){for(var I=0;4>I;I++)if(R[Y+I]!=T.charCodeAt(I))return!0;return!1}function n(R,Y,T,I,J){for(var K=0;K<J;K++)R[Y+K]=T[I+K]}function i(R,Y,T,I){for(var J=0;J<I;J++)R[Y+J]=T}function s(R){return new Int32Array(R)}function a(R,Y){for(var T=[],I=0;I<R;I++)T.push(new Y);return T}function o(R,Y){var T=[];return function I(J,K,ue){for(var ce=ue[K],de=0;de<ce&&(J.push(ue.length>K+1?[]:new Y),!(ue.length<K+1));de++)I(J[de],K+1,ue)}(T,0,R),T}var l=function(){var R=this;function Y(c,h){for(var w=1<<h-1>>>0;c&w;)w>>>=1;return w?(c&w-1)+w:c}function T(c,h,w,N,E){e(!(N%w));do c[h+(N-=w)]=E;while(0<N)}function I(c,h,w,N,E){if(e(2328>=E),512>=E)var L=s(512);else if((L=s(E))==null)return 0;return function(P,O,D,U,Z,le){var z,re,se=O,ge=1<<D,oe=s(16),ve=s(16);for(e(Z!=0),e(U!=null),e(P!=null),e(0<D),re=0;re<Z;++re){if(15<U[re])return 0;++oe[U[re]]}if(oe[0]==Z)return 0;for(ve[1]=0,z=1;15>z;++z){if(oe[z]>1<<z)return 0;ve[z+1]=ve[z]+oe[z]}for(re=0;re<Z;++re)z=U[re],0<U[re]&&(le[ve[z]++]=re);if(ve[15]==1)return(U=new J).g=0,U.value=le[0],T(P,se,1,ge,U),ge;var we,ke=-1,_e=ge-1,$e=0,Te=1,dt=1,Fe=1<<D;for(re=0,z=1,Z=2;z<=D;++z,Z<<=1){if(Te+=dt<<=1,0>(dt-=oe[z]))return 0;for(;0<oe[z];--oe[z])(U=new J).g=z,U.value=le[re++],T(P,se+$e,Z,Fe,U),$e=Y($e,z)}for(z=D+1,Z=2;15>=z;++z,Z<<=1){if(Te+=dt<<=1,0>(dt-=oe[z]))return 0;for(;0<oe[z];--oe[z]){if(U=new J,($e&_e)!=ke){for(se+=Fe,we=1<<(ke=z)-D;15>ke&&!(0>=(we-=oe[ke]));)++ke,we<<=1;ge+=Fe=1<<(we=ke-D),P[O+(ke=$e&_e)].g=we+D,P[O+ke].value=se-O-ke}U.g=z-D,U.value=le[re++],T(P,se+($e>>D),Z,Fe,U),$e=Y($e,z)}}return Te!=2*ve[15]-1?0:ge}(c,h,w,N,E,L)}function J(){this.value=this.g=0}function K(){this.value=this.g=0}function ue(){this.G=a(5,J),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Wa,K)}function ce(c,h,w,N){e(c!=null),e(h!=null),e(2147483648>N),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=h,c.pa=w,c.Jd=h,c.Yc=w+N,c.Zc=4<=N?w+N-4+1:w,fe(c)}function de(c,h){for(var w=0;0<h--;)w|=be(c,128)<<h;return w}function V(c,h){var w=de(c,h);return pe(c)?-w:w}function ne(c,h,w,N){var E,L=0;for(e(c!=null),e(h!=null),e(4294967288>N),c.Sb=N,c.Ra=0,c.u=0,c.h=0,4<N&&(N=4),E=0;E<N;++E)L+=h[w+E]<<8*E;c.Ra=L,c.bb=N,c.oa=h,c.pa=w}function me(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<Us-8>>>0,++c.bb,c.u-=8;X(c)&&(c.h=1,c.u=0)}function he(c,h){if(e(0<=h),!c.h&&h<=Nn){var w=W(c)&kn[h];return c.u+=h,me(c),w}return c.h=1,c.u=0}function C(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(c){return c.Ra>>>(c.u&Us-1)>>>0}function X(c){return e(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>Us}function te(c,h){c.u=h,c.h=X(c)}function ae(c){c.u>=cs&&(e(c.u>=cs),me(c))}function fe(c){e(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(e(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function pe(c){return de(c,1)}function be(c,h){var w=c.Ca;0>c.b&&fe(c);var N=c.b,E=w*h>>>8,L=(c.I>>>N>E)+0;for(L?(w-=E,c.I-=E+1<<N>>>0):w=E+1,N=w,E=0;256<=N;)E+=8,N>>=8;return N=7^E+zs[N],c.b-=N,c.Ca=(w<<N)-1,L}function Ae(c,h,w){c[h+0]=w>>24&255,c[h+1]=w>>16&255,c[h+2]=w>>8&255,c[h+3]=255&w}function Ce(c,h){return c[h+0]|c[h+1]<<8}function Le(c,h){return Ce(c,h)|c[h+2]<<16}function He(c,h){return Ce(c,h)|Ce(c,h+2)<<16}function B(c,h){var w=1<<h;return e(c!=null),e(0<h),c.X=s(w),c.X==null?0:(c.Mb=32-h,c.Xa=h,1)}function Ee(c,h){e(c!=null),e(h!=null),e(c.Xa==h.Xa),n(h.X,0,c.X,0,1<<h.Xa)}function mt(){this.X=[],this.Xa=this.Mb=0}function Je(c,h,w,N){e(w!=null),e(N!=null);var E=w[0],L=N[0];return E==0&&(E=(c*L+h/2)/h),L==0&&(L=(h*E+c/2)/c),0>=E||0>=L?0:(w[0]=E,N[0]=L,1)}function Se(c,h){return c+(1<<h)-1>>>h}function Ye(c,h){return((4278255360&c)+(4278255360&h)>>>0&4278255360)+((16711935&c)+(16711935&h)>>>0&16711935)>>>0}function Re(c,h){R[h]=function(w,N,E,L,P,O,D){var U;for(U=0;U<P;++U){var Z=R[c](O[D+U-1],E,L+U);O[D+U]=Ye(w[N+U],Z)}}}function Ke(){this.ud=this.hd=this.jd=0}function Ve(c,h){return((4278124286&(c^h))>>>1)+(c&h)>>>0}function Lt(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function bt(c,h){return Lt(c+(c-h+.5>>1))}function at(c,h,w){return Math.abs(h-w)-Math.abs(c-w)}function _t(c,h,w,N,E,L,P){for(N=L[P-1],w=0;w<E;++w)L[P+w]=N=Ye(c[h+w],N)}function xt(c,h,w,N,E){var L;for(L=0;L<w;++L){var P=c[h+L],O=P>>8&255,D=16711935&(D=(D=16711935&P)+((O<<16)+O));N[E+L]=(4278255360&P)+D>>>0}}function Ue(c,h){h.jd=255&c,h.hd=c>>8&255,h.ud=c>>16&255}function ut(c,h,w,N,E,L){var P;for(P=0;P<N;++P){var O=h[w+P],D=O>>>8,U=O,Z=255&(Z=(Z=O>>>16)+((c.jd<<24>>24)*(D<<24>>24)>>>5));U=255&(U=(U+=(c.hd<<24>>24)*(D<<24>>24)>>>5)+((c.ud<<24>>24)*(Z<<24>>24)>>>5)),E[L+P]=(4278255360&O)+(Z<<16)+U}}function We(c,h,w,N,E){R[h]=function(L,P,O,D,U,Z,le,z,re){for(D=le;D<z;++D)for(le=0;le<re;++le)U[Z++]=E(O[N(L[P++])])},R[c]=function(L,P,O,D,U,Z,le){var z=8>>L.b,re=L.Ea,se=L.K[0],ge=L.w;if(8>z)for(L=(1<<L.b)-1,ge=(1<<z)-1;P<O;++P){var oe,ve=0;for(oe=0;oe<re;++oe)oe&L||(ve=N(D[U++])),Z[le++]=E(se[ve&ge]),ve>>=z}else R["VP8LMapColor"+w](D,U,se,ge,Z,le,P,O,re)}}function hr(c,h,w,N,E){for(w=h+w;h<w;){var L=c[h++];N[E++]=L>>16&255,N[E++]=L>>8&255,N[E++]=255&L}}function Nt(c,h,w,N,E){for(w=h+w;h<w;){var L=c[h++];N[E++]=L>>16&255,N[E++]=L>>8&255,N[E++]=255&L,N[E++]=L>>24&255}}function gt(c,h,w,N,E){for(w=h+w;h<w;){var L=(P=c[h++])>>16&240|P>>12&15,P=240&P|P>>28&15;N[E++]=L,N[E++]=P}}function vt(c,h,w,N,E){for(w=h+w;h<w;){var L=(P=c[h++])>>16&248|P>>13&7,P=P>>5&224|P>>3&31;N[E++]=L,N[E++]=P}}function Qt(c,h,w,N,E){for(w=h+w;h<w;){var L=c[h++];N[E++]=255&L,N[E++]=L>>8&255,N[E++]=L>>16&255}}function Ge(c,h,w,N,E,L){if(L==0)for(w=h+w;h<w;)Ae(N,((L=c[h++])[0]>>24|L[1]>>8&65280|L[2]<<8&16711680|L[3]<<24)>>>0),E+=32;else n(N,E,c,h,w)}function Ut(c,h){R[h][0]=R[c+"0"],R[h][1]=R[c+"1"],R[h][2]=R[c+"2"],R[h][3]=R[c+"3"],R[h][4]=R[c+"4"],R[h][5]=R[c+"5"],R[h][6]=R[c+"6"],R[h][7]=R[c+"7"],R[h][8]=R[c+"8"],R[h][9]=R[c+"9"],R[h][10]=R[c+"10"],R[h][11]=R[c+"11"],R[h][12]=R[c+"12"],R[h][13]=R[c+"13"],R[h][14]=R[c+"0"],R[h][15]=R[c+"0"]}function et(c){return c==Xf||c==Zf||c==ad||c==ep}function ot(){this.eb=[],this.size=this.A=this.fb=0}function Xt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function yt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ot,this.f.kb=new Xt,this.sd=null}function Qe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ct(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ca(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function Yr(c,h){var w=c.T,N=h.ba.f.RGBA,E=N.eb,L=N.fb+c.ka*N.A,P=Qn[h.ba.S],O=c.y,D=c.O,U=c.f,Z=c.N,le=c.ea,z=c.W,re=h.cc,se=h.dc,ge=h.Mc,oe=h.Nc,ve=c.ka,we=c.ka+c.T,ke=c.U,_e=ke+1>>1;for(ve==0?P(O,D,null,null,U,Z,le,z,U,Z,le,z,E,L,null,null,ke):(P(h.ec,h.fc,O,D,re,se,ge,oe,U,Z,le,z,E,L-N.A,E,L,ke),++w);ve+2<we;ve+=2)re=U,se=Z,ge=le,oe=z,Z+=c.Rc,z+=c.Rc,L+=2*N.A,P(O,(D+=2*c.fa)-c.fa,O,D,re,se,ge,oe,U,Z,le,z,E,L-N.A,E,L,ke);return D+=c.fa,c.j+we<c.o?(n(h.ec,h.fc,O,D,ke),n(h.cc,h.dc,U,Z,_e),n(h.Mc,h.Nc,le,z,_e),w--):1&we||P(O,D,null,null,U,Z,le,z,U,Z,le,z,E,L+N.A,null,null,ke),w}function Qi(c,h,w){var N=c.F,E=[c.J];if(N!=null){var L=c.U,P=h.ba.S,O=P==sd||P==ad;h=h.ba.f.RGBA;var D=[0],U=c.ka;D[0]=c.T,c.Kb&&(U==0?--D[0]:(--U,E[0]-=c.width),c.j+c.ka+c.T==c.o&&(D[0]=c.o-c.j-U));var Z=h.eb;U=h.fb+U*h.A,c=Ag(N,E[0],c.width,L,D,Z,U+(O?0:3),h.A),e(w==D),c&&et(P)&&pu(Z,U,O,L,D,h.A)}return 0}function Ci(c){var h=c.ma,w=h.ba.S,N=11>w,E=w==nd||w==id||w==sd||w==Qf||w==12||et(w);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!au(h.Oa,c,E?11:12))return 0;if(E&&et(w)&&nu(),c.da)alert("todo:use_scaling");else{if(N){if(h.Ib=Ca,c.Kb){if(w=c.U+1>>1,h.memory=s(c.U+2*w),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+c.U,h.Mc=h.cc,h.Nc=h.dc+w,h.Ib=Yr,nu()}}else alert("todo:EmitYUV");E&&(h.Jb=Qi,N&&ci())}if(N&&!$g){for(c=0;256>c;++c)U4[c]=89858*(c-128)+ld>>od,q4[c]=-22014*(c-128)+ld,$4[c]=-45773*(c-128),z4[c]=113618*(c-128)+ld>>od;for(c=gu;c<np;++c)h=76283*(c-16)+ld>>od,W4[c-gu]=Oi(h,255),H4[c-gu]=Oi(h+8>>4,15);$g=1}return 1}function Xe(c){var h=c.ma,w=c.U,N=c.T;return e(!(1&c.ka)),0>=w||0>=N?0:(w=h.Ib(c,h),h.Jb!=null&&h.Jb(c,h,w),h.Dc+=w,1)}function Xi(c){c.ma.memory=null}function Zi(c,h,w,N){return he(c,8)!=47?0:(h[0]=he(c,14)+1,w[0]=he(c,14)+1,N[0]=he(c,1),he(c,3)!=0?0:!c.h)}function qn(c,h){if(4>c)return c+1;var w=c-2>>1;return(2+(1&c)<<w)+he(h,w)+1}function Wn(c,h){return 120<h?h-120:1<=(w=((w=A4[h-1])>>4)*c+(8-(15&w)))?w:1;var w}function or(c,h,w){var N=W(w),E=c[h+=255&N].g-8;return 0<E&&(te(w,w.u+8),N=W(w),h+=c[h].value,h+=N&(1<<E)-1),te(w,w.u+c[h].g),c[h].value}function Dr(c,h,w){return w.g+=c.g,w.value+=c.value<<h>>>0,e(8>=w.g),c.g}function Ur(c,h,w){var N=c.xc;return e((h=N==0?0:c.vc[c.md*(w>>N)+(h>>N)])<c.Wb),c.Ya[h]}function Pa(c,h,w,N){var E=c.ab,L=c.c*h,P=c.C;h=P+h;var O=w,D=N;for(N=c.Ta,w=c.Ua;0<E--;){var U=c.gc[E],Z=P,le=h,z=O,re=D,se=(D=N,O=w,U.Ea);switch(e(Z<le),e(le<=U.nc),U.hc){case 2:fr(z,re,(le-Z)*se,D,O);break;case 0:var ge=Z,oe=le,ve=D,we=O,ke=(Fe=U).Ea;ge==0&&(lu(z,re,null,null,1,ve,we),_t(z,re+1,0,0,ke-1,ve,we+1),re+=ke,we+=ke,++ge);for(var _e=1<<Fe.b,$e=_e-1,Te=Se(ke,Fe.b),dt=Fe.K,Fe=Fe.w+(ge>>Fe.b)*Te;ge<oe;){var St=dt,Cr=Fe,ht=1;for(Fo(z,re,ve,we-ke,1,ve,we);ht<ke;){var Me=(ht&~$e)+_e;Me>ke&&(Me=ke),(0,cu[St[Cr++]>>8&15])(z,re+ +ht,ve,we+ht-ke,Me-ht,ve,we+ht),ht=Me}re+=ke,we+=ke,++ge&$e||(Fe+=Te)}le!=U.nc&&n(D,O-se,D,O+(le-Z-1)*se,se);break;case 1:for(se=z,oe=re,ke=(z=U.Ea)-(we=z&~(ve=(re=1<<U.b)-1)),ge=Se(z,U.b),_e=U.K,U=U.w+(Z>>U.b)*ge;Z<le;){for($e=_e,Te=U,dt=new Ke,Fe=oe+we,St=oe+z;oe<Fe;)Ue($e[Te++],dt),du(dt,se,oe,re,D,O),oe+=re,O+=re;oe<St&&(Ue($e[Te++],dt),du(dt,se,oe,ke,D,O),oe+=ke,O+=ke),++Z&ve||(U+=ge)}break;case 3:if(z==D&&re==O&&0<U.b){for(oe=D,z=se=O+(le-Z)*se-(we=(le-Z)*Se(U.Ea,U.b)),re=D,ve=O,ge=[],we=(ke=we)-1;0<=we;--we)ge[we]=re[ve+we];for(we=ke-1;0<=we;--we)oe[z+we]=ge[we];Zc(U,Z,le,D,se,D,O)}else Zc(U,Z,le,z,re,D,O)}O=N,D=w}D!=w&&n(N,w,O,D,L)}function Ds(c,h){var w=c.V,N=c.Ba+c.c*c.C,E=h-c.C;if(e(h<=c.l.o),e(16>=E),0<E){var L=c.l,P=c.Ta,O=c.Ua,D=L.width;if(Pa(c,E,w,N),E=O=[O],e((w=c.C)<(N=h)),e(L.v<L.va),N>L.o&&(N=L.o),w<L.j){var U=L.j-w;w=L.j,E[0]+=U*D}if(w>=N?w=0:(E[0]+=4*L.v,L.ka=w-L.j,L.U=L.va-L.v,L.T=N-w,w=1),w){if(O=O[0],11>(w=c.ca).S){var Z=w.f.RGBA,le=(N=w.S,E=L.U,L=L.T,U=Z.eb,Z.A),z=L;for(Z=Z.fb+c.Ma*Z.A;0<z--;){var re=P,se=O,ge=E,oe=U,ve=Z;switch(N){case rd:hu(re,se,ge,oe,ve);break;case nd:$s(re,se,ge,oe,ve);break;case Xf:$s(re,se,ge,oe,ve),pu(oe,ve,0,ge,1,0);break;case Og:Ha(re,se,ge,oe,ve);break;case id:Ge(re,se,ge,oe,ve,1);break;case Zf:Ge(re,se,ge,oe,ve,1),pu(oe,ve,0,ge,1,0);break;case sd:Ge(re,se,ge,oe,ve,0);break;case ad:Ge(re,se,ge,oe,ve,0),pu(oe,ve,1,ge,1,0);break;case Qf:qs(re,se,ge,oe,ve);break;case ep:qs(re,se,ge,oe,ve),Ng(oe,ve,ge,1,0);break;case Rg:Ws(re,se,ge,oe,ve);break;default:e(0)}O+=D,Z+=le}c.Ma+=L}else alert("todo:EmitRescaledRowsYUVA");e(c.Ma<=w.height)}}c.C=h,e(c.C<=c.i)}function ai(c){var h;if(0<c.ua)return 0;for(h=0;h<c.Wb;++h){var w=c.Ya[h].G,N=c.Ya[h].H;if(0<w[1][N[1]+0].g||0<w[2][N[2]+0].g||0<w[3][N[3]+0].g)return 0}return 1}function Pi(c,h,w,N,E,L){if(c.Z!=0){var P=c.qd,O=c.rd;for(e(Gs[c.Z]!=null);h<w;++h)Gs[c.Z](P,O,N,E,N,E,L),P=N,O=E,E+=L;c.qd=P,c.rd=O}}function oi(c,h){var w=c.l.ma,N=w.Z==0||w.Z==1?c.l.j:c.C;if(N=c.C<N?N:c.C,e(h<=c.l.o),h>N){var E=c.l.width,L=w.ca,P=w.tb+E*N,O=c.V,D=c.Ba+c.c*N,U=c.gc;e(c.ab==1),e(U[0].hc==3),Fi(U[0],N,h,O,D,L,P),Pi(w,N,h,L,P,E)}c.C=c.Ma=h}function li(c,h,w,N,E,L,P){var O=c.$/N,D=c.$%N,U=c.m,Z=c.s,le=w+c.$,z=le;E=w+N*E;var re=w+N*L,se=280+Z.ua,ge=c.Pb?O:16777216,oe=0<Z.ua?Z.Wa:null,ve=Z.wc,we=le<re?Ur(Z,D,O):null;e(c.C<L),e(re<=E);var ke=!1;e:for(;;){for(;ke||le<re;){var _e=0;if(O>=ge){var $e=le-w;e((ge=c).Pb),ge.wd=ge.m,ge.xd=$e,0<ge.s.ua&&Ee(ge.s.Wa,ge.s.vb),ge=O+E4}if(D&ve||(we=Ur(Z,D,O)),e(we!=null),we.Qb&&(h[le]=we.qb,ke=!0),!ke)if(ae(U),we.jc){_e=U,$e=h;var Te=le,dt=we.pd[W(_e)&Wa-1];e(we.jc),256>dt.g?(te(_e,_e.u+dt.g),$e[Te]=dt.value,_e=0):(te(_e,_e.u+dt.g-256),e(256<=dt.value),_e=dt.value),_e==0&&(ke=!0)}else _e=or(we.G[0],we.H[0],U);if(U.h)break;if(ke||256>_e){if(!ke)if(we.nd)h[le]=(we.qb|_e<<8)>>>0;else{if(ae(U),ke=or(we.G[1],we.H[1],U),ae(U),$e=or(we.G[2],we.H[2],U),Te=or(we.G[3],we.H[3],U),U.h)break;h[le]=(Te<<24|ke<<16|_e<<8|$e)>>>0}if(ke=!1,++le,++D>=N&&(D=0,++O,P!=null&&O<=L&&!(O%16)&&P(c,O),oe!=null))for(;z<le;)_e=h[z++],oe.X[(506832829*_e&4294967295)>>>oe.Mb]=_e}else if(280>_e){if(_e=qn(_e-256,U),$e=or(we.G[4],we.H[4],U),ae(U),$e=Wn(N,$e=qn($e,U)),U.h)break;if(le-w<$e||E-le<_e)break e;for(Te=0;Te<_e;++Te)h[le+Te]=h[le+Te-$e];for(le+=_e,D+=_e;D>=N;)D-=N,++O,P!=null&&O<=L&&!(O%16)&&P(c,O);if(e(le<=E),D&ve&&(we=Ur(Z,D,O)),oe!=null)for(;z<le;)_e=h[z++],oe.X[(506832829*_e&4294967295)>>>oe.Mb]=_e}else{if(!(_e<se))break e;for(ke=_e-280,e(oe!=null);z<le;)_e=h[z++],oe.X[(506832829*_e&4294967295)>>>oe.Mb]=_e;_e=le,e(!(ke>>>($e=oe).Xa)),h[_e]=$e.X[ke],ke=!0}ke||e(U.h==X(U))}if(c.Pb&&U.h&&le<E)e(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&Ee(c.s.vb,c.s.Wa);else{if(U.h)break e;P!=null&&P(c,O>L?L:O),c.a=0,c.$=le-w}return 1}return c.a=3,0}function Hn(c){e(c!=null),c.vc=null,c.yc=null,c.Ya=null;var h=c.Wa;h!=null&&(h.X=null),c.vb=null,e(c!=null)}function Ta(){var c=new rt;return c==null?null:(c.a=0,c.xb=Fg,Ut("Predictor","VP8LPredictors"),Ut("Predictor","VP8LPredictors_C"),Ut("PredictorAdd","VP8LPredictorsAdd"),Ut("PredictorAdd","VP8LPredictorsAdd_C"),fr=xt,du=ut,hu=hr,$s=Nt,qs=gt,Ws=vt,Ha=Qt,R.VP8LMapColor32b=Di,R.VP8LMapColor8b=uu,c)}function Ti(c,h,w,N,E){var L=1,P=[c],O=[h],D=N.m,U=N.s,Z=null,le=0;e:for(;;){if(w)for(;L&&he(D,1);){var z=P,re=O,se=N,ge=1,oe=se.m,ve=se.gc[se.ab],we=he(oe,2);if(se.Oc&1<<we)L=0;else{switch(se.Oc|=1<<we,ve.hc=we,ve.Ea=z[0],ve.nc=re[0],ve.K=[null],++se.ab,e(4>=se.ab),we){case 0:case 1:ve.b=he(oe,3)+2,ge=Ti(Se(ve.Ea,ve.b),Se(ve.nc,ve.b),0,se,ve.K),ve.K=ve.K[0];break;case 3:var ke,_e=he(oe,8)+1,$e=16<_e?0:4<_e?1:2<_e?2:3;if(z[0]=Se(ve.Ea,$e),ve.b=$e,ke=ge=Ti(_e,1,0,se,ve.K)){var Te,dt=_e,Fe=ve,St=1<<(8>>Fe.b),Cr=s(St);if(Cr==null)ke=0;else{var ht=Fe.K[0],Me=Fe.w;for(Cr[0]=Fe.K[0][0],Te=1;Te<1*dt;++Te)Cr[Te]=Ye(ht[Me+Te],Cr[Te-1]);for(;Te<4*St;++Te)Cr[Te]=0;Fe.K[0]=null,Fe.K[0]=Cr,ke=1}}ge=ke;break;case 2:break;default:e(0)}L=ge}}if(P=P[0],O=O[0],L&&he(D,1)&&!(L=1<=(le=he(D,4))&&11>=le)){N.a=3;break e}var je;if(je=L)t:{var mr,lt,kt,Vt=N,qr=P,ln=O,lr=le,Qr=w,un=Vt.m,Pr=Vt.s,jt=[null],Tt=1,ur=0,Ot=j4[lr];r:for(;;){if(Qr&&he(un,1)){var Wr=he(un,3)+2,hi=Se(qr,Wr),gr=Se(ln,Wr),gn=hi*gr;if(!Ti(hi,gr,0,Vt,jt))break r;for(jt=jt[0],Pr.xc=Wr,mr=0;mr<gn;++mr){var Mt=jt[mr]>>8&65535;jt[mr]=Mt,Mt>=Tt&&(Tt=Mt+1)}}if(un.h)break r;for(lt=0;5>lt;++lt){var Tr=Ig[lt];!lt&&0<lr&&(Tr+=1<<lr),ur<Tr&&(ur=Tr)}var jn=a(Tt*Ot,J),cn=Tt,En=a(cn,ue);if(En==null)var Ln=null;else e(65536>=cn),Ln=En;var vn=s(ur);if(Ln==null||vn==null||jn==null){Vt.a=1;break r}var Cn=jn;for(mr=kt=0;mr<Tt;++mr){var $t=Ln[mr],Pn=$t.G,fi=$t.H,Ga=0,fs=1,Hr=0;for(lt=0;5>lt;++lt){Tr=Ig[lt],Pn[lt]=Cn,fi[lt]=kt,!lt&&0<lr&&(Tr+=1<<lr);i:{var cd,ip=Tr,dd=Vt,vu=vn,K4=Cn,J4=kt,sp=0,Ks=dd.m,Y4=he(Ks,1);if(i(vu,0,0,ip),Y4){var Q4=he(Ks,1)+1,X4=he(Ks,1),Hg=he(Ks,X4==0?1:8);vu[Hg]=1,Q4==2&&(vu[Hg=he(Ks,8)]=1);var hd=1}else{var Vg=s(19),Gg=he(Ks,4)+4;if(19<Gg){dd.a=3;var fd=0;break i}for(cd=0;cd<Gg;++cd)Vg[N4[cd]]=he(Ks,3);var ap=void 0,yu=void 0,Kg=dd,Z4=Vg,pd=ip,Jg=vu,op=0,Js=Kg.m,Yg=8,Qg=a(128,J);n:for(;I(Qg,0,7,Z4,19);){if(he(Js,1)){var e3=2+2*he(Js,3);if((ap=2+he(Js,e3))>pd)break n}else ap=pd;for(yu=0;yu<pd&&ap--;){ae(Js);var Xg=Qg[0+(127&W(Js))];te(Js,Js.u+Xg.g);var Bo=Xg.value;if(16>Bo)Jg[yu++]=Bo,Bo!=0&&(Yg=Bo);else{var t3=Bo==16,Zg=Bo-16,r3=S4[Zg],e2=he(Js,_4[Zg])+r3;if(yu+e2>pd)break n;for(var n3=t3?Yg:0;0<e2--;)Jg[yu++]=n3}}op=1;break n}op||(Kg.a=3),hd=op}(hd=hd&&!Ks.h)&&(sp=I(K4,J4,8,vu,ip)),hd&&sp!=0?fd=sp:(dd.a=3,fd=0)}if(fd==0)break r;if(fs&&k4[lt]==1&&(fs=Cn[kt].g==0),Ga+=Cn[kt].g,kt+=fd,3>=lt){var wu,lp=vn[0];for(wu=1;wu<Tr;++wu)vn[wu]>lp&&(lp=vn[wu]);Hr+=lp}}if($t.nd=fs,$t.Qb=0,fs&&($t.qb=(Pn[3][fi[3]+0].value<<24|Pn[1][fi[1]+0].value<<16|Pn[2][fi[2]+0].value)>>>0,Ga==0&&256>Pn[0][fi[0]+0].value&&($t.Qb=1,$t.qb+=Pn[0][fi[0]+0].value<<8)),$t.jc=!$t.Qb&&6>Hr,$t.jc){var md,ps=$t;for(md=0;md<Wa;++md){var Ys=md,Qs=ps.pd[Ys],gd=ps.G[0][ps.H[0]+Ys];256<=gd.value?(Qs.g=gd.g+256,Qs.value=gd.value):(Qs.g=0,Qs.value=0,Ys>>=Dr(gd,8,Qs),Ys>>=Dr(ps.G[1][ps.H[1]+Ys],16,Qs),Ys>>=Dr(ps.G[2][ps.H[2]+Ys],0,Qs),Dr(ps.G[3][ps.H[3]+Ys],24,Qs))}}}Pr.vc=jt,Pr.Wb=Tt,Pr.Ya=Ln,Pr.yc=jn,je=1;break t}je=0}if(!(L=je)){N.a=3;break e}if(0<le){if(U.ua=1<<le,!B(U.Wa,le)){N.a=1,L=0;break e}}else U.ua=0;var up=N,t2=P,i3=O,cp=up.s,dp=cp.xc;if(up.c=t2,up.i=i3,cp.md=Se(t2,dp),cp.wc=dp==0?-1:(1<<dp)-1,w){N.xb=I4;break e}if((Z=s(P*O))==null){N.a=1,L=0;break e}L=(L=li(N,Z,0,P,O,O,null))&&!D.h;break e}return L?(E!=null?E[0]=Z:(e(Z==null),e(w)),N.$=0,w||Hn(U)):Hn(U),L}function Oa(c,h){var w=c.c*c.i,N=w+h+16*h;return e(c.c<=h),c.V=s(N),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+w+h,1)}function jo(c,h){var w=c.C,N=h-w,E=c.V,L=c.Ba+c.c*w;for(e(h<=c.l.o);0<N;){var P=16<N?16:N,O=c.l.ma,D=c.l.width,U=D*P,Z=O.ca,le=O.tb+D*w,z=c.Ta,re=c.Ua;Pa(c,P,E,L),jg(z,re,Z,le,U),Pi(O,w,w+P,Z,le,D),N-=P,E+=P*c.c,w+=P}e(w==h),c.C=c.Ma=h}function Eo(){this.ub=this.yd=this.td=this.Rb=0}function Lo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Rf(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Vl(){this.Yb=function(){var c=[];return function h(w,N,E){for(var L=E[N],P=0;P<L&&(w.push(E.length>N+1?[]:0),!(E.length<N+1));P++)h(w[P],N+1,E)}(c,0,[3,11]),c}()}function Ic(){this.jb=s(3),this.Wc=o([4,8],Vl),this.Xc=o([4,17],Vl)}function Dc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Vn(){this.ld=this.La=this.dd=this.tc=0}function Gl(){this.Na=this.la=0}function Fc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Kl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Mc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Vn),this.Y=0,this.ya=Array(new Kl),this.aa=0,this.l=new Co}function Bc(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Uc(){this.cb=this.a=0,this.sc="",this.m=new C,this.Od=new Eo,this.Kc=new Lo,this.ed=new Dc,this.Qa=new Rf,this.Ic=this.$c=this.Aa=0,this.D=new Mc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,C),this.ia=0,this.pb=a(4,Fc),this.Pa=new Ic,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Bc),this.Hd=0,this.rb=Array(new Gl),this.sb=0,this.wa=Array(new Vn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Kl),this.L=this.aa=0,this.gd=o([4,2],Vn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Oi(c,h){return 0>c?0:c>h?h:c}function Co(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function If(){var c=new Uc;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,mu||(mu=Po)),c}function _r(c,h,w){return c.a==0&&(c.a=h,c.sc=w,c.cb=0),0}function zc(c,h,w){return 3<=w&&c[h+0]==157&&c[h+1]==1&&c[h+2]==42}function Ri(c,h){if(c==null)return 0;if(c.a=0,c.sc="OK",h==null)return _r(c,2,"null VP8Io passed to VP8GetHeaders()");var w=h.data,N=h.w,E=h.ha;if(4>E)return _r(c,7,"Truncated header.");var L=w[N+0]|w[N+1]<<8|w[N+2]<<16,P=c.Od;if(P.Rb=!(1&L),P.td=L>>1&7,P.yd=L>>4&1,P.ub=L>>5,3<P.td)return _r(c,3,"Incorrect keyframe parameters.");if(!P.yd)return _r(c,4,"Frame not displayable.");N+=3,E-=3;var O=c.Kc;if(P.Rb){if(7>E)return _r(c,7,"cannot parse picture header");if(!zc(w,N,E))return _r(c,3,"Bad code word");O.c=16383&(w[N+4]<<8|w[N+3]),O.Td=w[N+4]>>6,O.i=16383&(w[N+6]<<8|w[N+5]),O.Ud=w[N+6]>>6,N+=7,E-=7,c.za=O.c+15>>4,c.Ub=O.i+15>>4,h.width=O.c,h.height=O.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,i((L=c.Pa).jb,0,255,L.jb.length),e((L=c.Qa)!=null),L.Cb=0,L.Bb=0,L.Fb=1,i(L.Zb,0,0,L.Zb.length),i(L.Lb,0,0,L.Lb)}if(P.ub>E)return _r(c,7,"bad partition length");ce(L=c.m,w,N,P.ub),N+=P.ub,E-=P.ub,P.Rb&&(O.Ld=pe(L),O.Kd=pe(L)),O=c.Qa;var D,U=c.Pa;if(e(L!=null),e(O!=null),O.Cb=pe(L),O.Cb){if(O.Bb=pe(L),pe(L)){for(O.Fb=pe(L),D=0;4>D;++D)O.Zb[D]=pe(L)?V(L,7):0;for(D=0;4>D;++D)O.Lb[D]=pe(L)?V(L,6):0}if(O.Bb)for(D=0;3>D;++D)U.jb[D]=pe(L)?de(L,8):255}else O.Bb=0;if(L.Ka)return _r(c,3,"cannot parse segment header");if((O=c.ed).zd=pe(L),O.Tb=de(L,6),O.wb=de(L,3),O.Pc=pe(L),O.Pc&&pe(L)){for(U=0;4>U;++U)pe(L)&&(O.vd[U]=V(L,6));for(U=0;4>U;++U)pe(L)&&(O.od[U]=V(L,6))}if(c.L=O.Tb==0?0:O.zd?1:2,L.Ka)return _r(c,3,"cannot parse filter header");var Z=E;if(E=D=N,N=D+Z,O=Z,c.Xb=(1<<de(c.m,2))-1,Z<3*(U=c.Xb))w=7;else{for(D+=3*U,O-=3*U,Z=0;Z<U;++Z){var le=w[E+0]|w[E+1]<<8|w[E+2]<<16;le>O&&(le=O),ce(c.Jc[+Z],w,D,le),D+=le,O-=le,E+=3}ce(c.Jc[+U],w,D,O),w=D<N?0:5}if(w!=0)return _r(c,w,"cannot parse partitions");for(w=de(D=c.m,7),E=pe(D)?V(D,4):0,N=pe(D)?V(D,4):0,O=pe(D)?V(D,4):0,U=pe(D)?V(D,4):0,D=pe(D)?V(D,4):0,Z=c.Qa,le=0;4>le;++le){if(Z.Cb){var z=Z.Zb[le];Z.Fb||(z+=w)}else{if(0<le){c.pb[le]=c.pb[0];continue}z=w}var re=c.pb[le];re.Sc[0]=tp[Oi(z+E,127)],re.Sc[1]=rp[Oi(z+0,127)],re.Eb[0]=2*tp[Oi(z+N,127)],re.Eb[1]=101581*rp[Oi(z+O,127)]>>16,8>re.Eb[1]&&(re.Eb[1]=8),re.Qc[0]=tp[Oi(z+U,117)],re.Qc[1]=rp[Oi(z+D,127)],re.lc=z+D}if(!P.Rb)return _r(c,4,"Not a key frame.");for(pe(L),P=c.Pa,w=0;4>w;++w){for(E=0;8>E;++E)for(N=0;3>N;++N)for(O=0;11>O;++O)U=be(L,O4[w][E][N][O])?de(L,8):P4[w][E][N][O],P.Wc[w][E].Yb[N][O]=U;for(E=0;17>E;++E)P.Xc[w][E]=P.Wc[w][R4[E]]}return c.kc=pe(L),c.kc&&(c.Bd=de(L,8)),c.cb=1}function Po(c,h,w,N,E,L,P){var O=h[E].Yb[w];for(w=0;16>E;++E){if(!be(c,O[w+0]))return E;for(;!be(c,O[w+1]);)if(O=h[++E].Yb[0],w=0,E==16)return 16;var D=h[E+1].Yb;if(be(c,O[w+2])){var U=c,Z=0;if(be(U,(z=O)[(le=w)+3]))if(be(U,z[le+6])){for(O=0,le=2*(Z=be(U,z[le+8]))+(z=be(U,z[le+9+Z])),Z=0,z=L4[le];z[O];++O)Z+=Z+be(U,z[O]);Z+=3+(8<<le)}else be(U,z[le+7])?(Z=7+2*be(U,165),Z+=be(U,145)):Z=5+be(U,159);else Z=be(U,z[le+4])?3+be(U,z[le+5]):2;O=D[2]}else Z=1,O=D[1];D=P+C4[E],0>(U=c).b&&fe(U);var le,z=U.b,re=(le=U.Ca>>1)-(U.I>>z)>>31;--U.b,U.Ca+=re,U.Ca|=1,U.I-=(le+1&re)<<z,L[D]=((Z^re)-re)*N[(0<E)+0]}return 16}function $c(c){var h=c.rb[c.sb-1];h.la=0,h.Na=0,i(c.zc,0,0,c.zc.length),c.ja=0}function Gn(c,h,w,N,E){E=c[h+w+32*N]+(E>>3),c[h+w+32*N]=-256&E?0>E?0:255:E}function jr(c,h,w,N,E,L){Gn(c,h,0,w,N+E),Gn(c,h,1,w,N+L),Gn(c,h,2,w,N-L),Gn(c,h,3,w,N-E)}function es(c){return(20091*c>>16)+c}function qc(c,h,w,N){var E,L=0,P=s(16);for(E=0;4>E;++E){var O=c[h+0]+c[h+8],D=c[h+0]-c[h+8],U=(35468*c[h+4]>>16)-es(c[h+12]),Z=es(c[h+4])+(35468*c[h+12]>>16);P[L+0]=O+Z,P[L+1]=D+U,P[L+2]=D-U,P[L+3]=O-Z,L+=4,h++}for(E=L=0;4>E;++E)O=(c=P[L+0]+4)+P[L+8],D=c-P[L+8],U=(35468*P[L+4]>>16)-es(P[L+12]),Gn(w,N,0,0,O+(Z=es(P[L+4])+(35468*P[L+12]>>16))),Gn(w,N,1,0,D+U),Gn(w,N,2,0,D-U),Gn(w,N,3,0,O-Z),L++,N+=32}function Df(c,h,w,N){var E=c[h+0]+4,L=35468*c[h+4]>>16,P=es(c[h+4]),O=35468*c[h+1]>>16;jr(w,N,0,E+P,c=es(c[h+1]),O),jr(w,N,1,E+L,c,O),jr(w,N,2,E-L,c,O),jr(w,N,3,E-P,c,O)}function Ff(c,h,w,N,E){qc(c,h,w,N),E&&qc(c,h+16,w,N+4)}function Ii(c,h,w,N){Va(c,h+0,w,N,1),Va(c,h+32,w,N+128,1)}function Wc(c,h,w,N){var E;for(c=c[h+0]+4,E=0;4>E;++E)for(h=0;4>h;++h)Gn(w,N,h,E,c)}function Hc(c,h,w,N){c[h+0]&&Pt(c,h+0,w,N),c[h+16]&&Pt(c,h+16,w,N+4),c[h+32]&&Pt(c,h+32,w,N+128),c[h+48]&&Pt(c,h+48,w,N+128+4)}function To(c,h,w,N){var E,L=s(16);for(E=0;4>E;++E){var P=c[h+0+E]+c[h+12+E],O=c[h+4+E]+c[h+8+E],D=c[h+4+E]-c[h+8+E],U=c[h+0+E]-c[h+12+E];L[0+E]=P+O,L[8+E]=P-O,L[4+E]=U+D,L[12+E]=U-D}for(E=0;4>E;++E)P=(c=L[0+4*E]+3)+L[3+4*E],O=L[1+4*E]+L[2+4*E],D=L[1+4*E]-L[2+4*E],U=c-L[3+4*E],w[N+0]=P+O>>3,w[N+16]=U+D>>3,w[N+32]=P-O>>3,w[N+48]=U-D>>3,N+=64}function Ra(c,h,w){var N,E=h-32,L=An,P=255-c[E-1];for(N=0;N<w;++N){var O,D=L,U=P+c[h-1];for(O=0;O<w;++O)c[h+O]=D[U+c[E+O]];h+=32}}function Mf(c,h){Ra(c,h,4)}function Bf(c,h){Ra(c,h,8)}function Uf(c,h){Ra(c,h,16)}function Jl(c,h){var w;for(w=0;16>w;++w)n(c,h+32*w,c,h-32,16)}function Vc(c,h){var w;for(w=16;0<w;--w)i(c,h,c[h-1],16),h+=32}function ui(c,h,w){var N;for(N=0;16>N;++N)i(h,w+32*N,c,16)}function zf(c,h){var w,N=16;for(w=0;16>w;++w)N+=c[h-1+32*w]+c[h+w-32];ui(N>>5,c,h)}function Ia(c,h){var w,N=8;for(w=0;16>w;++w)N+=c[h-1+32*w];ui(N>>4,c,h)}function Yl(c,h){var w,N=8;for(w=0;16>w;++w)N+=c[h+w-32];ui(N>>4,c,h)}function $f(c,h){ui(128,c,h)}function nt(c,h,w){return c+2*h+w+2>>2}function qf(c,h){var w,N=h-32;for(N=new Uint8Array([nt(c[N-1],c[N+0],c[N+1]),nt(c[N+0],c[N+1],c[N+2]),nt(c[N+1],c[N+2],c[N+3]),nt(c[N+2],c[N+3],c[N+4])]),w=0;4>w;++w)n(c,h+32*w,N,0,N.length)}function Wf(c,h){var w=c[h-1],N=c[h-1+32],E=c[h-1+64],L=c[h-1+96];Ae(c,h+0,16843009*nt(c[h-1-32],w,N)),Ae(c,h+32,16843009*nt(w,N,E)),Ae(c,h+64,16843009*nt(N,E,L)),Ae(c,h+96,16843009*nt(E,L,L))}function Hf(c,h){var w,N=4;for(w=0;4>w;++w)N+=c[h+w-32]+c[h-1+32*w];for(N>>=3,w=0;4>w;++w)i(c,h+32*w,N,4)}function ts(c,h){var w=c[h-1+0],N=c[h-1+32],E=c[h-1+64],L=c[h-1-32],P=c[h+0-32],O=c[h+1-32],D=c[h+2-32],U=c[h+3-32];c[h+0+96]=nt(N,E,c[h-1+96]),c[h+1+96]=c[h+0+64]=nt(w,N,E),c[h+2+96]=c[h+1+64]=c[h+0+32]=nt(L,w,N),c[h+3+96]=c[h+2+64]=c[h+1+32]=c[h+0+0]=nt(P,L,w),c[h+3+64]=c[h+2+32]=c[h+1+0]=nt(O,P,L),c[h+3+32]=c[h+2+0]=nt(D,O,P),c[h+3+0]=nt(U,D,O)}function rs(c,h){var w=c[h+1-32],N=c[h+2-32],E=c[h+3-32],L=c[h+4-32],P=c[h+5-32],O=c[h+6-32],D=c[h+7-32];c[h+0+0]=nt(c[h+0-32],w,N),c[h+1+0]=c[h+0+32]=nt(w,N,E),c[h+2+0]=c[h+1+32]=c[h+0+64]=nt(N,E,L),c[h+3+0]=c[h+2+32]=c[h+1+64]=c[h+0+96]=nt(E,L,P),c[h+3+32]=c[h+2+64]=c[h+1+96]=nt(L,P,O),c[h+3+64]=c[h+2+96]=nt(P,O,D),c[h+3+96]=nt(O,D,D)}function Vf(c,h){var w=c[h-1+0],N=c[h-1+32],E=c[h-1+64],L=c[h-1-32],P=c[h+0-32],O=c[h+1-32],D=c[h+2-32],U=c[h+3-32];c[h+0+0]=c[h+1+64]=L+P+1>>1,c[h+1+0]=c[h+2+64]=P+O+1>>1,c[h+2+0]=c[h+3+64]=O+D+1>>1,c[h+3+0]=D+U+1>>1,c[h+0+96]=nt(E,N,w),c[h+0+64]=nt(N,w,L),c[h+0+32]=c[h+1+96]=nt(w,L,P),c[h+1+32]=c[h+2+96]=nt(L,P,O),c[h+2+32]=c[h+3+96]=nt(P,O,D),c[h+3+32]=nt(O,D,U)}function Gf(c,h){var w=c[h+0-32],N=c[h+1-32],E=c[h+2-32],L=c[h+3-32],P=c[h+4-32],O=c[h+5-32],D=c[h+6-32],U=c[h+7-32];c[h+0+0]=w+N+1>>1,c[h+1+0]=c[h+0+64]=N+E+1>>1,c[h+2+0]=c[h+1+64]=E+L+1>>1,c[h+3+0]=c[h+2+64]=L+P+1>>1,c[h+0+32]=nt(w,N,E),c[h+1+32]=c[h+0+96]=nt(N,E,L),c[h+2+32]=c[h+1+96]=nt(E,L,P),c[h+3+32]=c[h+2+96]=nt(L,P,O),c[h+3+64]=nt(P,O,D),c[h+3+96]=nt(O,D,U)}function Oo(c,h){var w=c[h-1+0],N=c[h-1+32],E=c[h-1+64],L=c[h-1+96];c[h+0+0]=w+N+1>>1,c[h+2+0]=c[h+0+32]=N+E+1>>1,c[h+2+32]=c[h+0+64]=E+L+1>>1,c[h+1+0]=nt(w,N,E),c[h+3+0]=c[h+1+32]=nt(N,E,L),c[h+3+32]=c[h+1+64]=nt(E,L,L),c[h+3+64]=c[h+2+64]=c[h+0+96]=c[h+1+96]=c[h+2+96]=c[h+3+96]=L}function Ql(c,h){var w=c[h-1+0],N=c[h-1+32],E=c[h-1+64],L=c[h-1+96],P=c[h-1-32],O=c[h+0-32],D=c[h+1-32],U=c[h+2-32];c[h+0+0]=c[h+2+32]=w+P+1>>1,c[h+0+32]=c[h+2+64]=N+w+1>>1,c[h+0+64]=c[h+2+96]=E+N+1>>1,c[h+0+96]=L+E+1>>1,c[h+3+0]=nt(O,D,U),c[h+2+0]=nt(P,O,D),c[h+1+0]=c[h+3+32]=nt(w,P,O),c[h+1+32]=c[h+3+64]=nt(N,w,P),c[h+1+64]=c[h+3+96]=nt(E,N,w),c[h+1+96]=nt(L,E,N)}function Da(c,h){var w;for(w=0;8>w;++w)n(c,h+32*w,c,h-32,8)}function Kf(c,h){var w;for(w=0;8>w;++w)i(c,h,c[h-1],8),h+=32}function ns(c,h,w){var N;for(N=0;8>N;++N)i(h,w+32*N,c,8)}function Jf(c,h){var w,N=8;for(w=0;8>w;++w)N+=c[h+w-32]+c[h-1+32*w];ns(N>>4,c,h)}function Xl(c,h){var w,N=4;for(w=0;8>w;++w)N+=c[h+w-32];ns(N>>3,c,h)}function Zl(c,h){var w,N=4;for(w=0;8>w;++w)N+=c[h-1+32*w];ns(N>>3,c,h)}function Gc(c,h){ns(128,c,h)}function is(c,h,w){var N=c[h-w],E=c[h+0],L=3*(E-N)+Yf[1020+c[h-2*w]-c[h+w]],P=td[112+(L+4>>3)];c[h-w]=An[255+N+td[112+(L+3>>3)]],c[h+0]=An[255+E-P]}function eu(c,h,w,N){var E=c[h+0],L=c[h+w];return Yn[255+c[h-2*w]-c[h-w]]>N||Yn[255+L-E]>N}function Ro(c,h,w,N){return 4*Yn[255+c[h-w]-c[h+0]]+Yn[255+c[h-2*w]-c[h+w]]<=N}function tu(c,h,w,N,E){var L=c[h-3*w],P=c[h-2*w],O=c[h-w],D=c[h+0],U=c[h+w],Z=c[h+2*w],le=c[h+3*w];return 4*Yn[255+O-D]+Yn[255+P-U]>N?0:Yn[255+c[h-4*w]-L]<=E&&Yn[255+L-P]<=E&&Yn[255+P-O]<=E&&Yn[255+le-Z]<=E&&Yn[255+Z-U]<=E&&Yn[255+U-D]<=E}function Fa(c,h,w,N){var E=2*N+1;for(N=0;16>N;++N)Ro(c,h+N,w,E)&&is(c,h+N,w)}function ru(c,h,w,N){var E=2*N+1;for(N=0;16>N;++N)Ro(c,h+N*w,1,E)&&is(c,h+N*w,1)}function Kc(c,h,w,N){var E;for(E=3;0<E;--E)Fa(c,h+=4*w,w,N)}function Jc(c,h,w,N){var E;for(E=3;0<E;--E)ru(c,h+=4,w,N)}function ss(c,h,w,N,E,L,P,O){for(L=2*L+1;0<E--;){if(tu(c,h,w,L,P))if(eu(c,h,w,O))is(c,h,w);else{var D=c,U=h,Z=w,le=D[U-2*Z],z=D[U-Z],re=D[U+0],se=D[U+Z],ge=D[U+2*Z],oe=27*(we=Yf[1020+3*(re-z)+Yf[1020+le-se]])+63>>7,ve=18*we+63>>7,we=9*we+63>>7;D[U-3*Z]=An[255+D[U-3*Z]+we],D[U-2*Z]=An[255+le+ve],D[U-Z]=An[255+z+oe],D[U+0]=An[255+re-oe],D[U+Z]=An[255+se-ve],D[U+2*Z]=An[255+ge-we]}h+=N}}function as(c,h,w,N,E,L,P,O){for(L=2*L+1;0<E--;){if(tu(c,h,w,L,P))if(eu(c,h,w,O))is(c,h,w);else{var D=c,U=h,Z=w,le=D[U-Z],z=D[U+0],re=D[U+Z],se=td[112+(4+(ge=3*(z-le))>>3)],ge=td[112+(ge+3>>3)],oe=se+1>>1;D[U-2*Z]=An[255+D[U-2*Z]+oe],D[U-Z]=An[255+le+ge],D[U+0]=An[255+z-se],D[U+Z]=An[255+re-oe]}h+=N}}function Yc(c,h,w,N,E,L){ss(c,h,w,1,16,N,E,L)}function Ma(c,h,w,N,E,L){ss(c,h,1,w,16,N,E,L)}function Qc(c,h,w,N,E,L){var P;for(P=3;0<P;--P)as(c,h+=4*w,w,1,16,N,E,L)}function v(c,h,w,N,E,L){var P;for(P=3;0<P;--P)as(c,h+=4,1,w,16,N,E,L)}function j(c,h,w,N,E,L,P,O){ss(c,h,E,1,8,L,P,O),ss(w,N,E,1,8,L,P,O)}function $(c,h,w,N,E,L,P,O){ss(c,h,1,E,8,L,P,O),ss(w,N,1,E,8,L,P,O)}function Q(c,h,w,N,E,L,P,O){as(c,h+4*E,E,1,8,L,P,O),as(w,N+4*E,E,1,8,L,P,O)}function ie(c,h,w,N,E,L,P,O){as(c,h+4,1,E,8,L,P,O),as(w,N+4,1,E,8,L,P,O)}function ye(){this.ba=new yt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ct,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function xe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function De(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ze(){this.ua=0,this.Wa=new mt,this.vb=new mt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ue,this.yc=new J}function rt(){this.xb=this.a=0,this.l=new Co,this.ca=new yt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ze,this.ab=0,this.gc=a(4,De),this.Oc=0}function ct(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Co,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function At(c,h,w,N,E,L,P){for(c=c==null?0:c[h+0],h=0;h<P;++h)E[L+h]=c+w[N+h]&255,c=E[L+h]}function rr(c,h,w,N,E,L,P){var O;if(c==null)At(null,null,w,N,E,L,P);else for(O=0;O<P;++O)E[L+O]=c[h+O]+w[N+O]&255}function Sr(c,h,w,N,E,L,P){if(c==null)At(null,null,w,N,E,L,P);else{var O,D=c[h+0],U=D,Z=D;for(O=0;O<P;++O)U=Z+(D=c[h+O])-U,Z=w[N+O]+(-256&U?0>U?0:255:U)&255,U=D,E[L+O]=Z}}function zt(c,h,w,N){var E=h.width,L=h.o;if(e(c!=null&&h!=null),0>w||0>=N||w+N>L)return null;if(!c.Cc){if(c.ga==null){var P;if(c.ga=new ct,(P=c.ga==null)||(P=h.width*h.o,e(c.Gb.length==0),c.Gb=s(P),c.Uc=0,c.Gb==null?P=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,P=1),P=!P),!P){P=c.ga;var O=c.Fa,D=c.P,U=c.qc,Z=c.mb,le=c.nb,z=D+1,re=U-1,se=P.l;if(e(O!=null&&Z!=null&&h!=null),Gs[0]=null,Gs[1]=At,Gs[2]=rr,Gs[3]=Sr,P.ca=Z,P.tb=le,P.c=h.width,P.i=h.height,e(0<P.c&&0<P.i),1>=U)h=0;else if(P.$a=3&O[D+0],P.Z=O[D+0]>>2&3,P.Lc=O[D+0]>>4&3,D=O[D+0]>>6&3,0>P.$a||1<P.$a||4<=P.Z||1<P.Lc||D)h=0;else if(se.put=Xe,se.ac=Ci,se.bc=Xi,se.ma=P,se.width=h.width,se.height=h.height,se.Da=h.Da,se.v=h.v,se.va=h.va,se.j=h.j,se.o=h.o,P.$a)e:{e(P.$a==1),h=Ta();t:for(;;){if(h==null){h=0;break e}if(e(P!=null),P.mc=h,h.c=P.c,h.i=P.i,h.l=P.l,h.l.ma=P,h.l.width=P.c,h.l.height=P.i,h.a=0,ne(h.m,O,z,re),!Ti(P.c,P.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&ai(h.s)?(P.ic=1,O=h.c*h.i,h.Ta=null,h.Ua=0,h.V=s(O),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(P.ic=0,h=Oa(h,P.c)),!h))break t;h=1;break e}P.mc=null,h=0}else h=re>=P.c*P.i;P=!h}if(P)return null;c.ga.Lc!=1?c.Ga=0:N=L-w}e(c.ga!=null),e(w+N<=L);e:{if(h=(O=c.ga).c,L=O.l.o,O.$a==0){if(z=c.rc,re=c.Vc,se=c.Fa,D=c.P+1+w*h,U=c.mb,Z=c.nb+w*h,e(D<=c.P+c.qc),O.Z!=0)for(e(Gs[O.Z]!=null),P=0;P<N;++P)Gs[O.Z](z,re,se,D,U,Z,h),z=U,re=Z,Z+=h,D+=h;else for(P=0;P<N;++P)n(U,Z,se,D,h),z=U,re=Z,Z+=h,D+=h;c.rc=z,c.Vc=re}else{if(e(O.mc!=null),h=w+N,e((P=O.mc)!=null),e(h<=P.i),P.C>=h)h=1;else if(O.ic||ci(),O.ic){O=P.V,z=P.Ba,re=P.c;var ge=P.i,oe=(se=1,D=P.$/re,U=P.$%re,Z=P.m,le=P.s,P.$),ve=re*ge,we=re*h,ke=le.wc,_e=oe<we?Ur(le,U,D):null;e(oe<=ve),e(h<=ge),e(ai(le));t:for(;;){for(;!Z.h&&oe<we;){if(U&ke||(_e=Ur(le,U,D)),e(_e!=null),ae(Z),256>(ge=or(_e.G[0],_e.H[0],Z)))O[z+oe]=ge,++oe,++U>=re&&(U=0,++D<=h&&!(D%16)&&oi(P,D));else{if(!(280>ge)){se=0;break t}ge=qn(ge-256,Z);var $e,Te=or(_e.G[4],_e.H[4],Z);if(ae(Z),!(oe>=(Te=Wn(re,Te=qn(Te,Z)))&&ve-oe>=ge)){se=0;break t}for($e=0;$e<ge;++$e)O[z+oe+$e]=O[z+oe+$e-Te];for(oe+=ge,U+=ge;U>=re;)U-=re,++D<=h&&!(D%16)&&oi(P,D);oe<we&&U&ke&&(_e=Ur(le,U,D))}e(Z.h==X(Z))}oi(P,D>h?h:D);break t}!se||Z.h&&oe<ve?(se=0,P.a=Z.h?5:3):P.$=oe,h=se}else h=li(P,P.V,P.Ba,P.c,P.i,h,jo);if(!h){N=0;break e}}w+N>=L&&(c.Cc=1),N=1}if(!N)return null;if(c.Cc&&((N=c.ga)!=null&&(N.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+w*E}function Er(c,h,w,N,E,L){for(;0<E--;){var P,O=c,D=h+(w?1:0),U=c,Z=h+(w?0:3);for(P=0;P<N;++P){var le=U[Z+4*P];le!=255&&(le*=32897,O[D+4*P+0]=O[D+4*P+0]*le>>23,O[D+4*P+1]=O[D+4*P+1]*le>>23,O[D+4*P+2]=O[D+4*P+2]*le>>23)}h+=L}}function kr(c,h,w,N,E){for(;0<N--;){var L;for(L=0;L<w;++L){var P=c[h+2*L+0],O=15&(U=c[h+2*L+1]),D=4369*O,U=(240&U|U>>4)*D>>16;c[h+2*L+0]=(240&P|P>>4)*D>>16&240|(15&P|P<<4)*D>>16>>4&15,c[h+2*L+1]=240&U|O}h+=E}}function zr(c,h,w,N,E,L,P,O){var D,U,Z=255;for(U=0;U<E;++U){for(D=0;D<N;++D){var le=c[h+D];L[P+4*D]=le,Z&=le}h+=w,P+=O}return Z!=255}function os(c,h,w,N,E){var L;for(L=0;L<E;++L)w[N+L]=c[h+L]>>8}function ci(){pu=Er,Ng=kr,Ag=zr,jg=os}function ls(c,h,w){R[c]=function(N,E,L,P,O,D,U,Z,le,z,re,se,ge,oe,ve,we,ke){var _e,$e=ke-1>>1,Te=O[D+0]|U[Z+0]<<16,dt=le[z+0]|re[se+0]<<16;e(N!=null);var Fe=3*Te+dt+131074>>2;for(h(N[E+0],255&Fe,Fe>>16,ge,oe),L!=null&&(Fe=3*dt+Te+131074>>2,h(L[P+0],255&Fe,Fe>>16,ve,we)),_e=1;_e<=$e;++_e){var St=O[D+_e]|U[Z+_e]<<16,Cr=le[z+_e]|re[se+_e]<<16,ht=Te+St+dt+Cr+524296,Me=ht+2*(St+dt)>>3;Fe=Me+Te>>1,Te=(ht=ht+2*(Te+Cr)>>3)+St>>1,h(N[E+2*_e-1],255&Fe,Fe>>16,ge,oe+(2*_e-1)*w),h(N[E+2*_e-0],255&Te,Te>>16,ge,oe+(2*_e-0)*w),L!=null&&(Fe=ht+dt>>1,Te=Me+Cr>>1,h(L[P+2*_e-1],255&Fe,Fe>>16,ve,we+(2*_e-1)*w),h(L[P+2*_e+0],255&Te,Te>>16,ve,we+(2*_e+0)*w)),Te=St,dt=Cr}1&ke||(Fe=3*Te+dt+131074>>2,h(N[E+ke-1],255&Fe,Fe>>16,ge,oe+(ke-1)*w),L!=null&&(Fe=3*dt+Te+131074>>2,h(L[P+ke-1],255&Fe,Fe>>16,ve,we+(ke-1)*w)))}}function nu(){Qn[rd]=D4,Qn[nd]=Mg,Qn[Og]=F4,Qn[id]=Bg,Qn[sd]=Ug,Qn[Qf]=zg,Qn[Rg]=M4,Qn[Xf]=Mg,Qn[Zf]=Bg,Qn[ad]=Ug,Qn[ep]=zg}function Io(c){return c&-16384?0>c?0:255:c>>B4}function Fs(c,h){return Io((19077*c>>8)+(26149*h>>8)-14234)}function Ba(c,h,w){return Io((19077*c>>8)-(6419*h>>8)-(13320*w>>8)+8708)}function Ua(c,h){return Io((19077*c>>8)+(33050*h>>8)-17685)}function Ms(c,h,w,N,E){N[E+0]=Fs(c,w),N[E+1]=Ba(c,h,w),N[E+2]=Ua(c,h)}function $r(c,h,w,N,E){N[E+0]=Ua(c,h),N[E+1]=Ba(c,h,w),N[E+2]=Fs(c,w)}function za(c,h,w,N,E){var L=Ba(c,h,w);h=L<<3&224|Ua(c,h)>>3,N[E+0]=248&Fs(c,w)|L>>5,N[E+1]=h}function $a(c,h,w,N,E){var L=240&Ua(c,h)|15;N[E+0]=240&Fs(c,w)|Ba(c,h,w)>>4,N[E+1]=L}function iu(c,h,w,N,E){N[E+0]=255,Ms(c,h,w,N,E+1)}function su(c,h,w,N,E){$r(c,h,w,N,E),N[E+3]=255}function on(c,h,w,N,E){Ms(c,h,w,N,E),N[E+3]=255}function us(c,h,w){R[c]=function(N,E,L,P,O,D,U,Z,le){for(var z=Z+(-2&le)*w;Z!=z;)h(N[E+0],L[P+0],O[D+0],U,Z),h(N[E+1],L[P+0],O[D+0],U,Z+w),E+=2,++P,++D,Z+=2*w;1&le&&h(N[E+0],L[P+0],O[D+0],U,Z)}}function Do(c,h,w){return w==0?c==0?h==0?6:5:h==0?4:0:w}function Xc(c,h,w,N,E){switch(c>>>30){case 3:Va(h,w,N,E,0);break;case 2:Jn(h,w,N,E);break;case 1:Pt(h,w,N,E)}}function Kn(c,h){var w,N,E=h.M,L=h.Nb,P=c.oc,O=c.pc+40,D=c.oc,U=c.pc+584,Z=c.oc,le=c.pc+600;for(w=0;16>w;++w)P[O+32*w-1]=129;for(w=0;8>w;++w)D[U+32*w-1]=129,Z[le+32*w-1]=129;for(0<E?P[O-1-32]=D[U-1-32]=Z[le-1-32]=129:(i(P,O-32-1,127,21),i(D,U-32-1,127,9),i(Z,le-32-1,127,9)),N=0;N<c.za;++N){var z=h.ya[h.aa+N];if(0<N){for(w=-1;16>w;++w)n(P,O+32*w-4,P,O+32*w+12,4);for(w=-1;8>w;++w)n(D,U+32*w-4,D,U+32*w+4,4),n(Z,le+32*w-4,Z,le+32*w+4,4)}var re=c.Gd,se=c.Hd+N,ge=z.ad,oe=z.Hc;if(0<E&&(n(P,O-32,re[se].y,0,16),n(D,U-32,re[se].f,0,8),n(Z,le-32,re[se].ea,0,8)),z.Za){var ve=P,we=O-32+16;for(0<E&&(N>=c.za-1?i(ve,we,re[se].y[15],4):n(ve,we,re[se+1].y,0,4)),w=0;4>w;w++)ve[we+128+w]=ve[we+256+w]=ve[we+384+w]=ve[we+0+w];for(w=0;16>w;++w,oe<<=2)ve=P,we=O+qg[w],di[z.Ob[w]](ve,we),Xc(oe,ge,16*+w,ve,we)}else if(ve=Do(N,E,z.Ob[0]),Vs[ve](P,O),oe!=0)for(w=0;16>w;++w,oe<<=2)Xc(oe,ge,16*+w,P,O+qg[w]);for(w=z.Gc,ve=Do(N,E,z.Dd),hs[ve](D,U),hs[ve](Z,le),oe=ge,ve=D,we=U,255&(z=0|w)&&(170&z?Mi(oe,256,ve,we):Ft(oe,256,ve,we)),z=Z,oe=le,255&(w>>=8)&&(170&w?Mi(ge,320,z,oe):Ft(ge,320,z,oe)),E<c.Ub-1&&(n(re[se].y,0,P,O+480,16),n(re[se].f,0,D,U+224,8),n(re[se].ea,0,Z,le+224,8)),w=8*L*c.B,re=c.sa,se=c.ta+16*N+16*L*c.R,ge=c.qa,z=c.ra+8*N+w,oe=c.Ha,ve=c.Ia+8*N+w,w=0;16>w;++w)n(re,se+w*c.R,P,O+32*w,16);for(w=0;8>w;++w)n(ge,z+w*c.B,D,U+32*w,8),n(oe,ve+w*c.B,Z,le+32*w,8)}}function qa(c,h,w,N,E,L,P,O,D){var U=[0],Z=[0],le=0,z=D!=null?D.kd:0,re=D??new xe;if(c==null||12>w)return 7;re.data=c,re.w=h,re.ha=w,h=[h],w=[w],re.gb=[re.gb];e:{var se=h,ge=w,oe=re.gb;if(e(c!=null),e(ge!=null),e(oe!=null),oe[0]=0,12<=ge[0]&&!r(c,se[0],"RIFF")){if(r(c,se[0]+8,"WEBP")){oe=3;break e}var ve=He(c,se[0]+4);if(12>ve||4294967286<ve){oe=3;break e}if(z&&ve>ge[0]-8){oe=7;break e}oe[0]=ve,se[0]+=12,ge[0]-=12}oe=0}if(oe!=0)return oe;for(ve=0<re.gb[0],w=w[0];;){e:{var we=c;ge=h,oe=w;var ke=U,_e=Z,$e=se=[0];if((Fe=le=[le])[0]=0,8>oe[0])oe=7;else{if(!r(we,ge[0],"VP8X")){if(He(we,ge[0]+4)!=10){oe=3;break e}if(18>oe[0]){oe=7;break e}var Te=He(we,ge[0]+8),dt=1+Le(we,ge[0]+12);if(2147483648<=dt*(we=1+Le(we,ge[0]+15))){oe=3;break e}$e!=null&&($e[0]=Te),ke!=null&&(ke[0]=dt),_e!=null&&(_e[0]=we),ge[0]+=18,oe[0]-=18,Fe[0]=1}oe=0}}if(le=le[0],se=se[0],oe!=0)return oe;if(ge=!!(2&se),!ve&&le)return 3;if(L!=null&&(L[0]=!!(16&se)),P!=null&&(P[0]=ge),O!=null&&(O[0]=0),P=U[0],se=Z[0],le&&ge&&D==null){oe=0;break}if(4>w){oe=7;break}if(ve&&le||!ve&&!le&&!r(c,h[0],"ALPH")){w=[w],re.na=[re.na],re.P=[re.P],re.Sa=[re.Sa];e:{Te=c,oe=h,ve=w;var Fe=re.gb;ke=re.na,_e=re.P,$e=re.Sa,dt=22,e(Te!=null),e(ve!=null),we=oe[0];var St=ve[0];for(e(ke!=null),e($e!=null),ke[0]=null,_e[0]=null,$e[0]=0;;){if(oe[0]=we,ve[0]=St,8>St){oe=7;break e}var Cr=He(Te,we+4);if(4294967286<Cr){oe=3;break e}var ht=8+Cr+1&-2;if(dt+=ht,0<Fe&&dt>Fe){oe=3;break e}if(!r(Te,we,"VP8 ")||!r(Te,we,"VP8L")){oe=0;break e}if(St[0]<ht){oe=7;break e}r(Te,we,"ALPH")||(ke[0]=Te,_e[0]=we+8,$e[0]=Cr),we+=ht,St-=ht}}if(w=w[0],re.na=re.na[0],re.P=re.P[0],re.Sa=re.Sa[0],oe!=0)break}w=[w],re.Ja=[re.Ja],re.xa=[re.xa];e:if(Fe=c,oe=h,ve=w,ke=re.gb[0],_e=re.Ja,$e=re.xa,Te=oe[0],we=!r(Fe,Te,"VP8 "),dt=!r(Fe,Te,"VP8L"),e(Fe!=null),e(ve!=null),e(_e!=null),e($e!=null),8>ve[0])oe=7;else{if(we||dt){if(Fe=He(Fe,Te+4),12<=ke&&Fe>ke-12){oe=3;break e}if(z&&Fe>ve[0]-8){oe=7;break e}_e[0]=Fe,oe[0]+=8,ve[0]-=8,$e[0]=dt}else $e[0]=5<=ve[0]&&Fe[Te+0]==47&&!(Fe[Te+4]>>5),_e[0]=ve[0];oe=0}if(w=w[0],re.Ja=re.Ja[0],re.xa=re.xa[0],h=h[0],oe!=0)break;if(4294967286<re.Ja)return 3;if(O==null||ge||(O[0]=re.xa?2:1),P=[P],se=[se],re.xa){if(5>w){oe=7;break}O=P,z=se,ge=L,c==null||5>w?c=0:5<=w&&c[h+0]==47&&!(c[h+4]>>5)?(ve=[0],Fe=[0],ke=[0],ne(_e=new q,c,h,w),Zi(_e,ve,Fe,ke)?(O!=null&&(O[0]=ve[0]),z!=null&&(z[0]=Fe[0]),ge!=null&&(ge[0]=ke[0]),c=1):c=0):c=0}else{if(10>w){oe=7;break}O=se,c==null||10>w||!zc(c,h+3,w-3)?c=0:(z=c[h+0]|c[h+1]<<8|c[h+2]<<16,ge=16383&(c[h+7]<<8|c[h+6]),c=16383&(c[h+9]<<8|c[h+8]),1&z||3<(z>>1&7)||!(z>>4&1)||z>>5>=re.Ja||!ge||!c?c=0:(P&&(P[0]=ge),O&&(O[0]=c),c=1))}if(!c||(P=P[0],se=se[0],le&&(U[0]!=P||Z[0]!=se)))return 3;D!=null&&(D[0]=re,D.offset=h-D.w,e(4294967286>h-D.w),e(D.offset==D.ha-w));break}return oe==0||oe==7&&le&&D==null?(L!=null&&(L[0]|=re.na!=null&&0<re.na.length),N!=null&&(N[0]=P),E!=null&&(E[0]=se),0):oe}function au(c,h,w){var N=h.width,E=h.height,L=0,P=0,O=N,D=E;if(h.Da=c!=null&&0<c.Da,h.Da&&(O=c.cd,D=c.bd,L=c.v,P=c.j,11>w||(L&=-2,P&=-2),0>L||0>P||0>=O||0>=D||L+O>N||P+D>E))return 0;if(h.v=L,h.j=P,h.va=L+O,h.o=P+D,h.U=O,h.T=D,h.da=c!=null&&0<c.da,h.da){if(!Je(O,D,w=[c.ib],L=[c.hb]))return 0;h.ib=w[0],h.hb=L[0]}return h.ob=c!=null&&c.ob,h.Kb=c==null||!c.Sd,h.da&&(h.ob=h.ib<3*N/4&&h.hb<3*E/4,h.Kb=0),1}function ou(c){if(c==null)return 2;if(11>c.S){var h=c.f.RGBA;h.fb+=(c.height-1)*h.A,h.A=-h.A}else h=c.f.kb,c=c.height,h.O+=(c-1)*h.fa,h.fa=-h.fa,h.N+=(c-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(c-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(c-1)*h.lb,h.lb=-h.lb);return 0}function Bs(c,h,w,N){if(N==null||0>=c||0>=h)return 2;if(w!=null){if(w.Da){var E=w.cd,L=w.bd,P=-2&w.v,O=-2&w.j;if(0>P||0>O||0>=E||0>=L||P+E>c||O+L>h)return 2;c=E,h=L}if(w.da){if(!Je(c,h,E=[w.ib],L=[w.hb]))return 2;c=E[0],h=L[0]}}N.width=c,N.height=h;e:{var D=N.width,U=N.height;if(c=N.S,0>=D||0>=U||!(c>=rd&&13>c))c=2;else{if(0>=N.Rd&&N.sd==null){P=L=E=h=0;var Z=(O=D*Wg[c])*U;if(11>c||(L=(U+1)/2*(h=(D+1)/2),c==12&&(P=(E=D)*U)),(U=s(Z+2*L+P))==null){c=1;break e}N.sd=U,11>c?((D=N.f.RGBA).eb=U,D.fb=0,D.A=O,D.size=Z):((D=N.f.kb).y=U,D.O=0,D.fa=O,D.Fd=Z,D.f=U,D.N=0+Z,D.Ab=h,D.Cd=L,D.ea=U,D.W=0+Z+L,D.Db=h,D.Ed=L,c==12&&(D.F=U,D.J=0+Z+2*L),D.Tc=P,D.lb=E)}if(h=1,E=N.S,L=N.width,P=N.height,E>=rd&&13>E)if(11>E)c=N.f.RGBA,h&=(O=Math.abs(c.A))*(P-1)+L<=c.size,h&=O>=L*Wg[E],h&=c.eb!=null;else{c=N.f.kb,O=(L+1)/2,Z=(P+1)/2,D=Math.abs(c.fa),U=Math.abs(c.Ab);var le=Math.abs(c.Db),z=Math.abs(c.lb),re=z*(P-1)+L;h&=D*(P-1)+L<=c.Fd,h&=U*(Z-1)+O<=c.Cd,h=(h&=le*(Z-1)+O<=c.Ed)&D>=L&U>=O&le>=O,h&=c.y!=null,h&=c.f!=null,h&=c.ea!=null,E==12&&(h&=z>=L,h&=re<=c.Tc,h&=c.F!=null)}else h=0;c=h?0:2}}return c!=0||w!=null&&w.fd&&(c=ou(N)),c}var Wa=64,kn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Nn=24,Us=32,cs=8,zs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Re("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(c){return c},R.Predictor2=function(c,h,w){return h[w+0]},R.Predictor3=function(c,h,w){return h[w+1]},R.Predictor4=function(c,h,w){return h[w-1]},R.Predictor5=function(c,h,w){return Ve(Ve(c,h[w+1]),h[w+0])},R.Predictor6=function(c,h,w){return Ve(c,h[w-1])},R.Predictor7=function(c,h,w){return Ve(c,h[w+0])},R.Predictor8=function(c,h,w){return Ve(h[w-1],h[w+0])},R.Predictor9=function(c,h,w){return Ve(h[w+0],h[w+1])},R.Predictor10=function(c,h,w){return Ve(Ve(c,h[w-1]),Ve(h[w+0],h[w+1]))},R.Predictor11=function(c,h,w){var N=h[w+0];return 0>=at(N>>24&255,c>>24&255,(h=h[w-1])>>24&255)+at(N>>16&255,c>>16&255,h>>16&255)+at(N>>8&255,c>>8&255,h>>8&255)+at(255&N,255&c,255&h)?N:c},R.Predictor12=function(c,h,w){var N=h[w+0];return(Lt((c>>24&255)+(N>>24&255)-((h=h[w-1])>>24&255))<<24|Lt((c>>16&255)+(N>>16&255)-(h>>16&255))<<16|Lt((c>>8&255)+(N>>8&255)-(h>>8&255))<<8|Lt((255&c)+(255&N)-(255&h)))>>>0},R.Predictor13=function(c,h,w){var N=h[w-1];return(bt((c=Ve(c,h[w+0]))>>24&255,N>>24&255)<<24|bt(c>>16&255,N>>16&255)<<16|bt(c>>8&255,N>>8&255)<<8|bt(255&c,255&N))>>>0};var lu=R.PredictorAdd0;R.PredictorAdd1=_t,Re("Predictor2","PredictorAdd2"),Re("Predictor3","PredictorAdd3"),Re("Predictor4","PredictorAdd4"),Re("Predictor5","PredictorAdd5"),Re("Predictor6","PredictorAdd6"),Re("Predictor7","PredictorAdd7"),Re("Predictor8","PredictorAdd8"),Re("Predictor9","PredictorAdd9"),Re("Predictor10","PredictorAdd10"),Re("Predictor11","PredictorAdd11"),Re("Predictor12","PredictorAdd12"),Re("Predictor13","PredictorAdd13");var Fo=R.PredictorAdd2;We("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),We("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var fr,Zc=R.ColorIndexInverseTransform,Di=R.MapARGB,Fi=R.VP8LColorIndexInverseTransformAlpha,uu=R.MapAlpha,cu=R.VP8LPredictorsAdd=[];cu.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var du,hu,$s,qs,Ws,Ha,Hs,Va,Jn,Mi,Pt,Ft,pr,Lr,ds,fu,Mo,ed,wg,bg,xg,_g,Sg,kg,pu,Ng,Ag,jg,Eg=s(511),Lg=s(2041),Cg=s(225),Pg=s(767),Tg=0,Yf=Lg,td=Cg,An=Pg,Yn=Eg,rd=0,nd=1,Og=2,id=3,sd=4,Qf=5,Rg=6,Xf=7,Zf=8,ad=9,ep=10,_4=[2,3,7],S4=[3,3,11],Ig=[280,256,256,256,40],k4=[0,1,1,1,0],N4=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],A4=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],j4=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],E4=8,tp=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],rp=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],mu=null,L4=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],C4=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Dg=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],P4=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],T4=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],O4=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],R4=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Vs=[],di=[],hs=[],I4=1,Fg=2,Gs=[],Qn=[];ls("UpsampleRgbLinePair",Ms,3),ls("UpsampleBgrLinePair",$r,3),ls("UpsampleRgbaLinePair",on,4),ls("UpsampleBgraLinePair",su,4),ls("UpsampleArgbLinePair",iu,4),ls("UpsampleRgba4444LinePair",$a,2),ls("UpsampleRgb565LinePair",za,2);var D4=R.UpsampleRgbLinePair,F4=R.UpsampleBgrLinePair,Mg=R.UpsampleRgbaLinePair,Bg=R.UpsampleBgraLinePair,Ug=R.UpsampleArgbLinePair,zg=R.UpsampleRgba4444LinePair,M4=R.UpsampleRgb565LinePair,od=16,ld=1<<od-1,gu=-227,np=482,B4=6,$g=0,U4=s(256),z4=s(256),$4=s(256),q4=s(256),W4=s(np-gu),H4=s(np-gu);us("YuvToRgbRow",Ms,3),us("YuvToBgrRow",$r,3),us("YuvToRgbaRow",on,4),us("YuvToBgraRow",su,4),us("YuvToArgbRow",iu,4),us("YuvToRgba4444Row",$a,2),us("YuvToRgb565Row",za,2);var qg=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ud=[0,2,8],V4=[8,7,6,4,4,2,2,2,1,1,1,1],G4=1;this.WebPDecodeRGBA=function(c,h,w,N,E){var L=nd,P=new ye,O=new yt;P.ba=O,O.S=L,O.width=[O.width],O.height=[O.height];var D=O.width,U=O.height,Z=new Qe;if(Z==null||c==null)var le=2;else e(Z!=null),le=qa(c,h,w,Z.width,Z.height,Z.Pd,Z.Qd,Z.format,null);if(le!=0?D=0:(D!=null&&(D[0]=Z.width[0]),U!=null&&(U[0]=Z.height[0]),D=1),D){O.width=O.width[0],O.height=O.height[0],N!=null&&(N[0]=O.width),E!=null&&(E[0]=O.height);e:{if(N=new Co,(E=new xe).data=c,E.w=h,E.ha=w,E.kd=1,h=[0],e(E!=null),((c=qa(E.data,E.w,E.ha,null,null,null,h,null,E))==0||c==7)&&h[0]&&(c=4),(h=c)==0){if(e(P!=null),N.data=E.data,N.w=E.w+E.offset,N.ha=E.ha-E.offset,N.put=Xe,N.ac=Ci,N.bc=Xi,N.ma=P,E.xa){if((c=Ta())==null){P=1;break e}if(function(z,re){var se=[0],ge=[0],oe=[0];t:for(;;){if(z==null)return 0;if(re==null)return z.a=2,0;if(z.l=re,z.a=0,ne(z.m,re.data,re.w,re.ha),!Zi(z.m,se,ge,oe)){z.a=3;break t}if(z.xb=Fg,re.width=se[0],re.height=ge[0],!Ti(se[0],ge[0],1,z,null))break t;return 1}return e(z.a!=0),0}(c,N)){if(N=(h=Bs(N.width,N.height,P.Oa,P.ba))==0){t:{N=c;r:for(;;){if(N==null){N=0;break t}if(e(N.s.yc!=null),e(N.s.Ya!=null),e(0<N.s.Wb),e((w=N.l)!=null),e((E=w.ma)!=null),N.xb!=0){if(N.ca=E.ba,N.tb=E.tb,e(N.ca!=null),!au(E.Oa,w,id)){N.a=2;break r}if(!Oa(N,w.width)||w.da)break r;if((w.da||et(N.ca.S))&&ci(),11>N.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),N.ca.f.kb.F!=null&&ci()),N.Pb&&0<N.s.ua&&N.s.vb.X==null&&!B(N.s.vb,N.s.Wa.Xa)){N.a=1;break r}N.xb=0}if(!li(N,N.V,N.Ba,N.c,N.i,w.o,Ds))break r;E.Dc=N.Ma,N=1;break t}e(N.a!=0),N=0}N=!N}N&&(h=c.a)}else h=c.a}else{if((c=new If)==null){P=1;break e}if(c.Fa=E.na,c.P=E.P,c.qc=E.Sa,Ri(c,N)){if((h=Bs(N.width,N.height,P.Oa,P.ba))==0){if(c.Aa=0,w=P.Oa,e((E=c)!=null),w!=null){if(0<(D=0>(D=w.Md)?0:100<D?255:255*D/100)){for(U=Z=0;4>U;++U)12>(le=E.pb[U]).lc&&(le.ia=D*V4[0>le.lc?0:le.lc]>>3),Z|=le.ia;Z&&(alert("todo:VP8InitRandom"),E.ia=1)}E.Ga=w.Id,100<E.Ga?E.Ga=100:0>E.Ga&&(E.Ga=0)}(function(z,re){if(z==null)return 0;if(re==null)return _r(z,2,"NULL VP8Io parameter in VP8Decode().");if(!z.cb&&!Ri(z,re))return 0;if(e(z.cb),re.ac==null||re.ac(re)){re.ob&&(z.L=0);var se=ud[z.L];if(z.L==2?(z.yb=0,z.zb=0):(z.yb=re.v-se>>4,z.zb=re.j-se>>4,0>z.yb&&(z.yb=0),0>z.zb&&(z.zb=0)),z.Va=re.o+15+se>>4,z.Hb=re.va+15+se>>4,z.Hb>z.za&&(z.Hb=z.za),z.Va>z.Ub&&(z.Va=z.Ub),0<z.L){var ge=z.ed;for(se=0;4>se;++se){var oe;if(z.Qa.Cb){var ve=z.Qa.Lb[se];z.Qa.Fb||(ve+=ge.Tb)}else ve=ge.Tb;for(oe=0;1>=oe;++oe){var we=z.gd[se][oe],ke=ve;if(ge.Pc&&(ke+=ge.vd[0],oe&&(ke+=ge.od[0])),0<(ke=0>ke?0:63<ke?63:ke)){var _e=ke;0<ge.wb&&(_e=4<ge.wb?_e>>2:_e>>1)>9-ge.wb&&(_e=9-ge.wb),1>_e&&(_e=1),we.dd=_e,we.tc=2*ke+_e,we.ld=40<=ke?2:15<=ke?1:0}else we.tc=0;we.La=oe}}}se=0}else _r(z,6,"Frame setup failed"),se=z.a;if(se=se==0){if(se){z.$c=0,0<z.Aa||(z.Ic=G4);t:{se=z.Ic,ge=4*(_e=z.za);var $e=32*_e,Te=_e+1,dt=0<z.L?_e*(0<z.Aa?2:1):0,Fe=(z.Aa==2?2:1)*_e;if((we=ge+832+(oe=3*(16*se+ud[z.L])/2*$e)+(ve=z.Fa!=null&&0<z.Fa.length?z.Kc.c*z.Kc.i:0))!=we)se=0;else{if(we>z.Vb){if(z.Vb=0,z.Ec=s(we),z.Fc=0,z.Ec==null){se=_r(z,1,"no memory during frame initialization.");break t}z.Vb=we}we=z.Ec,ke=z.Fc,z.Ac=we,z.Bc=ke,ke+=ge,z.Gd=a($e,Bc),z.Hd=0,z.rb=a(Te+1,Gl),z.sb=1,z.wa=dt?a(dt,Vn):null,z.Y=0,z.D.Nb=0,z.D.wa=z.wa,z.D.Y=z.Y,0<z.Aa&&(z.D.Y+=_e),e(!0),z.oc=we,z.pc=ke,ke+=832,z.ya=a(Fe,Kl),z.aa=0,z.D.ya=z.ya,z.D.aa=z.aa,z.Aa==2&&(z.D.aa+=_e),z.R=16*_e,z.B=8*_e,_e=($e=ud[z.L])*z.R,$e=$e/2*z.B,z.sa=we,z.ta=ke+_e,z.qa=z.sa,z.ra=z.ta+16*se*z.R+$e,z.Ha=z.qa,z.Ia=z.ra+8*se*z.B+$e,z.$c=0,ke+=oe,z.mb=ve?we:null,z.nb=ve?ke:null,e(ke+ve<=z.Fc+z.Vb),$c(z),i(z.Ac,z.Bc,0,ge),se=1}}if(se){if(re.ka=0,re.y=z.sa,re.O=z.ta,re.f=z.qa,re.N=z.ra,re.ea=z.Ha,re.Vd=z.Ia,re.fa=z.R,re.Rc=z.B,re.F=null,re.J=0,!Tg){for(se=-255;255>=se;++se)Eg[255+se]=0>se?-se:se;for(se=-1020;1020>=se;++se)Lg[1020+se]=-128>se?-128:127<se?127:se;for(se=-112;112>=se;++se)Cg[112+se]=-16>se?-16:15<se?15:se;for(se=-255;510>=se;++se)Pg[255+se]=0>se?0:255<se?255:se;Tg=1}Hs=To,Va=Ff,Mi=Ii,Pt=Wc,Ft=Hc,Jn=Df,pr=Yc,Lr=Ma,ds=j,fu=$,Mo=Qc,ed=v,wg=Q,bg=ie,xg=Fa,_g=ru,Sg=Kc,kg=Jc,di[0]=Hf,di[1]=Mf,di[2]=qf,di[3]=Wf,di[4]=ts,di[5]=Vf,di[6]=rs,di[7]=Gf,di[8]=Ql,di[9]=Oo,Vs[0]=zf,Vs[1]=Uf,Vs[2]=Jl,Vs[3]=Vc,Vs[4]=Ia,Vs[5]=Yl,Vs[6]=$f,hs[0]=Jf,hs[1]=Bf,hs[2]=Da,hs[3]=Kf,hs[4]=Zl,hs[5]=Xl,hs[6]=Gc,se=1}else se=0}se&&(se=function(St,Cr){for(St.M=0;St.M<St.Va;++St.M){var ht,Me=St.Jc[St.M&St.Xb],je=St.m,mr=St;for(ht=0;ht<mr.za;++ht){var lt=je,kt=mr,Vt=kt.Ac,qr=kt.Bc+4*ht,ln=kt.zc,lr=kt.ya[kt.aa+ht];if(kt.Qa.Bb?lr.$b=be(lt,kt.Pa.jb[0])?2+be(lt,kt.Pa.jb[2]):be(lt,kt.Pa.jb[1]):lr.$b=0,kt.kc&&(lr.Ad=be(lt,kt.Bd)),lr.Za=!be(lt,145)+0,lr.Za){var Qr=lr.Ob,un=0;for(kt=0;4>kt;++kt){var Pr,jt=ln[0+kt];for(Pr=0;4>Pr;++Pr){jt=T4[Vt[qr+Pr]][jt];for(var Tt=Dg[be(lt,jt[0])];0<Tt;)Tt=Dg[2*Tt+be(lt,jt[Tt])];jt=-Tt,Vt[qr+Pr]=jt}n(Qr,un,Vt,qr,4),un+=4,ln[0+kt]=jt}}else jt=be(lt,156)?be(lt,128)?1:3:be(lt,163)?2:0,lr.Ob[0]=jt,i(Vt,qr,jt,4),i(ln,0,jt,4);lr.Dd=be(lt,142)?be(lt,114)?be(lt,183)?1:3:2:0}if(mr.m.Ka)return _r(St,7,"Premature end-of-partition0 encountered.");for(;St.ja<St.za;++St.ja){if(mr=Me,lt=(je=St).rb[je.sb-1],Vt=je.rb[je.sb+je.ja],ht=je.ya[je.aa+je.ja],qr=je.kc?ht.Ad:0)lt.la=Vt.la=0,ht.Za||(lt.Na=Vt.Na=0),ht.Hc=0,ht.Gc=0,ht.ia=0;else{var ur,Ot;if(lt=Vt,Vt=mr,qr=je.Pa.Xc,ln=je.ya[je.aa+je.ja],lr=je.pb[ln.$b],kt=ln.ad,Qr=0,un=je.rb[je.sb-1],jt=Pr=0,i(kt,Qr,0,384),ln.Za)var Wr=0,hi=qr[3];else{Tt=s(16);var gr=lt.Na+un.Na;if(gr=mu(Vt,qr[1],gr,lr.Eb,0,Tt,0),lt.Na=un.Na=(0<gr)+0,1<gr)Hs(Tt,0,kt,Qr);else{var gn=Tt[0]+3>>3;for(Tt=0;256>Tt;Tt+=16)kt[Qr+Tt]=gn}Wr=1,hi=qr[0]}var Mt=15&lt.la,Tr=15&un.la;for(Tt=0;4>Tt;++Tt){var jn=1&Tr;for(gn=Ot=0;4>gn;++gn)Mt=Mt>>1|(jn=(gr=mu(Vt,hi,gr=jn+(1&Mt),lr.Sc,Wr,kt,Qr))>Wr)<<7,Ot=Ot<<2|(3<gr?3:1<gr?2:kt[Qr+0]!=0),Qr+=16;Mt>>=4,Tr=Tr>>1|jn<<7,Pr=(Pr<<8|Ot)>>>0}for(hi=Mt,Wr=Tr>>4,ur=0;4>ur;ur+=2){for(Ot=0,Mt=lt.la>>4+ur,Tr=un.la>>4+ur,Tt=0;2>Tt;++Tt){for(jn=1&Tr,gn=0;2>gn;++gn)gr=jn+(1&Mt),Mt=Mt>>1|(jn=0<(gr=mu(Vt,qr[2],gr,lr.Qc,0,kt,Qr)))<<3,Ot=Ot<<2|(3<gr?3:1<gr?2:kt[Qr+0]!=0),Qr+=16;Mt>>=2,Tr=Tr>>1|jn<<5}jt|=Ot<<4*ur,hi|=Mt<<4<<ur,Wr|=(240&Tr)<<ur}lt.la=hi,un.la=Wr,ln.Hc=Pr,ln.Gc=jt,ln.ia=43690&jt?0:lr.ia,qr=!(Pr|jt)}if(0<je.L&&(je.wa[je.Y+je.ja]=je.gd[ht.$b][ht.Za],je.wa[je.Y+je.ja].La|=!qr),mr.Ka)return _r(St,7,"Premature end-of-file encountered.")}if($c(St),je=Cr,mr=1,ht=(Me=St).D,lt=0<Me.L&&Me.M>=Me.zb&&Me.M<=Me.Va,Me.Aa==0)t:{if(ht.M=Me.M,ht.uc=lt,Kn(Me,ht),mr=1,ht=(Ot=Me.D).Nb,lt=(jt=ud[Me.L])*Me.R,Vt=jt/2*Me.B,Tt=16*ht*Me.R,gn=8*ht*Me.B,qr=Me.sa,ln=Me.ta-lt+Tt,lr=Me.qa,kt=Me.ra-Vt+gn,Qr=Me.Ha,un=Me.Ia-Vt+gn,Tr=(Mt=Ot.M)==0,Pr=Mt>=Me.Va-1,Me.Aa==2&&Kn(Me,Ot),Ot.uc)for(jn=(gr=Me).D.M,e(gr.D.uc),Ot=gr.yb;Ot<gr.Hb;++Ot){Wr=Ot,hi=jn;var cn=(En=(Hr=gr).D).Nb;ur=Hr.R;var En=En.wa[En.Y+Wr],Ln=Hr.sa,vn=Hr.ta+16*cn*ur+16*Wr,Cn=En.dd,$t=En.tc;if($t!=0)if(e(3<=$t),Hr.L==1)0<Wr&&_g(Ln,vn,ur,$t+4),En.La&&kg(Ln,vn,ur,$t),0<hi&&xg(Ln,vn,ur,$t+4),En.La&&Sg(Ln,vn,ur,$t);else{var Pn=Hr.B,fi=Hr.qa,Ga=Hr.ra+8*cn*Pn+8*Wr,fs=Hr.Ha,Hr=Hr.Ia+8*cn*Pn+8*Wr;cn=En.ld,0<Wr&&(Lr(Ln,vn,ur,$t+4,Cn,cn),fu(fi,Ga,fs,Hr,Pn,$t+4,Cn,cn)),En.La&&(ed(Ln,vn,ur,$t,Cn,cn),bg(fi,Ga,fs,Hr,Pn,$t,Cn,cn)),0<hi&&(pr(Ln,vn,ur,$t+4,Cn,cn),ds(fi,Ga,fs,Hr,Pn,$t+4,Cn,cn)),En.La&&(Mo(Ln,vn,ur,$t,Cn,cn),wg(fi,Ga,fs,Hr,Pn,$t,Cn,cn))}}if(Me.ia&&alert("todo:DitherRow"),je.put!=null){if(Ot=16*Mt,Mt=16*(Mt+1),Tr?(je.y=Me.sa,je.O=Me.ta+Tt,je.f=Me.qa,je.N=Me.ra+gn,je.ea=Me.Ha,je.W=Me.Ia+gn):(Ot-=jt,je.y=qr,je.O=ln,je.f=lr,je.N=kt,je.ea=Qr,je.W=un),Pr||(Mt-=jt),Mt>je.o&&(Mt=je.o),je.F=null,je.J=null,Me.Fa!=null&&0<Me.Fa.length&&Ot<Mt&&(je.J=zt(Me,je,Ot,Mt-Ot),je.F=Me.mb,je.F==null&&je.F.length==0)){mr=_r(Me,3,"Could not decode alpha data.");break t}Ot<je.j&&(jt=je.j-Ot,Ot=je.j,e(!(1&jt)),je.O+=Me.R*jt,je.N+=Me.B*(jt>>1),je.W+=Me.B*(jt>>1),je.F!=null&&(je.J+=je.width*jt)),Ot<Mt&&(je.O+=je.v,je.N+=je.v>>1,je.W+=je.v>>1,je.F!=null&&(je.J+=je.v),je.ka=Ot-je.j,je.U=je.va-je.v,je.T=Mt-Ot,mr=je.put(je))}ht+1!=Me.Ic||Pr||(n(Me.sa,Me.ta-lt,qr,ln+16*Me.R,lt),n(Me.qa,Me.ra-Vt,lr,kt+8*Me.B,Vt),n(Me.Ha,Me.Ia-Vt,Qr,un+8*Me.B,Vt))}if(!mr)return _r(St,6,"Output aborted.")}return 1}(z,re)),re.bc!=null&&re.bc(re),se&=1}return se?(z.cb=0,se):0})(c,N)||(h=c.a)}}else h=c.a}h==0&&P.Oa!=null&&P.Oa.fd&&(h=ou(P.ba))}P=h}L=P!=0?null:11>L?O.f.RGBA.eb:O.f.kb.y}else L=null;return L};var Wg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(R,Y){for(var T="",I=0;I<4;I++)T+=String.fromCharCode(R[Y++]);return T}function d(R,Y){return R[Y+0]|R[Y+1]<<8}function p(R,Y){return(R[Y+0]|R[Y+1]<<8|R[Y+2]<<16)>>>0}function g(R,Y){return(R[Y+0]|R[Y+1]<<8|R[Y+2]<<16|R[Y+3]<<24)>>>0}new l;var f=[0],k=[0],S=[],x=new l,y=t,_=function(R,Y){var T={},I=0,J=!1,K=0,ue=0;if(T.frames=[],!function(C,q){for(var W=0;W<4;W++)if(C[q+W]!="RIFF".charCodeAt(W))return!0;return!1}(R,Y)){for(g(R,Y+=4),Y+=8;Y<R.length;){var ce=u(R,Y),de=g(R,Y+=4);Y+=4;var V=de+(1&de);switch(ce){case"VP8 ":case"VP8L":T.frames[I]===void 0&&(T.frames[I]={}),(he=T.frames[I]).src_off=J?ue:Y-8,he.src_size=K+de+8,I++,J&&(J=!1,K=0,ue=0);break;case"VP8X":(he=T.header={}).feature_flags=R[Y];var ne=Y+4;he.canvas_width=1+p(R,ne),ne+=3,he.canvas_height=1+p(R,ne),ne+=3;break;case"ALPH":J=!0,K=V+8,ue=Y-8;break;case"ANIM":(he=T.header).bgcolor=g(R,Y),ne=Y+4,he.loop_count=d(R,ne),ne+=2;break;case"ANMF":var me,he;(he=T.frames[I]={}).offset_x=2*p(R,Y),Y+=3,he.offset_y=2*p(R,Y),Y+=3,he.width=1+p(R,Y),Y+=3,he.height=1+p(R,Y),Y+=3,he.duration=p(R,Y),Y+=3,me=R[Y++],he.dispose=1&me,he.blend=me>>1&1}ce!="ANMF"&&(Y+=V)}return T}}(y,0);_.response=y,_.rgbaoutput=!0,_.dataurl=!1;var b=_.header?_.header:null,A=_.frames?_.frames:null;if(b){b.loop_counter=b.loop_count,f=[b.canvas_height],k=[b.canvas_width];for(var M=0;M<A.length&&A[M].blend!=0;M++);}var G=A[0],H=x.WebPDecodeRGBA(y,G.src_off,G.src_size,k,f);G.rgba=H,G.imgwidth=k[0],G.imgheight=f[0];for(var F=0;F<k[0]*f[0]*4;F++)S[F]=H[F];return this.width=k,this.height=f,this.data=S,this}(function(t){var e,r,n,i,s,a,o,l,u,d=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new l,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new a,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new a,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new d}]);var p=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=C;Object.defineProperty(this,"pdf",{get:function(){return q}});var W=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return W},set:function(B){W=!!B}});var X=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return X},set:function(B){X=!!B}});var te=0;Object.defineProperty(this,"posX",{get:function(){return te},set:function(B){isNaN(B)||(te=B)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function(B){isNaN(B)||(ae=B)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(B){var Ee;typeof B=="number"?Ee=[B,B,B,B]:((Ee=new Array(4))[0]=B[0],Ee[1]=B.length>=2?B[1]:Ee[0],Ee[2]=B.length>=3?B[2]:Ee[0],Ee[3]=B.length>=4?B[3]:Ee[1]),u.margin=Ee}});var fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return fe},set:function(B){fe=B}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function(B){pe=B}});var be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return be},set:function(B){be=B}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(B){B instanceof d&&(u=B)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(B){u.path=B}});var Ae=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ae},set:function(B){Ae=B}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(B){var Ee;Ee=g(B),this.ctx.fillStyle=Ee.style,this.ctx.isFillTransparent=Ee.a===0,this.ctx.fillOpacity=Ee.a,this.pdf.setFillColor(Ee.r,Ee.g,Ee.b,{a:Ee.a}),this.pdf.setTextColor(Ee.r,Ee.g,Ee.b,{a:Ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(B){var Ee=g(B);this.ctx.strokeStyle=Ee.style,this.ctx.isStrokeTransparent=Ee.a===0,this.ctx.strokeOpacity=Ee.a,Ee.a===0?this.pdf.setDrawColor(255,255,255):(Ee.a,this.pdf.setDrawColor(Ee.r,Ee.g,Ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(B){["butt","round","square"].indexOf(B)!==-1&&(this.ctx.lineCap=B,this.pdf.setLineCap(B))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(B){isNaN(B)||(this.ctx.lineWidth=B,this.pdf.setLineWidth(B))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(B){["bevel","round","miter"].indexOf(B)!==-1&&(this.ctx.lineJoin=B,this.pdf.setLineJoin(B))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(B){isNaN(B)||(this.ctx.miterLimit=B,this.pdf.setMiterLimit(B))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(B){this.ctx.textBaseline=B}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(B){["right","end","center","left","start"].indexOf(B)!==-1&&(this.ctx.textAlign=B)}});var Ce=null,Le=null,He=null;Object.defineProperty(this,"fontFaces",{get:function(){return He},set:function(B){Ce=null,Le=null,He=B}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(B){var Ee;if(this.ctx.font=B,(Ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(B))!==null){var mt=Ee[1];Ee[2];var Je=Ee[3],Se=Ee[4];Ee[5];var Ye=Ee[6],Re=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Se)[2];Se=Math.floor(Re==="px"?parseFloat(Se)*this.pdf.internal.scaleFactor:Re==="em"?parseFloat(Se)*this.pdf.getFontSize():parseFloat(Se)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Se);var Ke=function(We){var hr,Nt,gt=[],vt=We.trim();if(vt==="")return w0;if(vt in Zy)return[Zy[vt]];for(;vt!=="";){switch(Nt=null,hr=(vt=t5(vt)).charAt(0)){case'"':case"'":Nt=L7(vt.substring(1),hr);break;default:Nt=C7(vt)}if(Nt===null||(gt.push(Nt[0]),(vt=t5(Nt[1]))!==""&&vt.charAt(0)!==","))return w0;vt=vt.replace(/^,/,"")}return gt}(Ye);if(this.fontFaces){var Ve=function(We,hr){var Nt=We.getFontList(),gt=JSON.stringify(Nt);if(Ce===null||Le!==gt){var vt=function(Qt){var Ge=[];return Object.keys(Qt).forEach(function(Ut){Qt[Ut].forEach(function(et){var ot=null;switch(et){case"bold":ot={family:Ut,weight:"bold"};break;case"italic":ot={family:Ut,style:"italic"};break;case"bolditalic":ot={family:Ut,weight:"bold",style:"italic"};break;case"":case"normal":ot={family:Ut}}ot!==null&&(ot.ref={name:Ut,style:et},Ge.push(ot))})}),Ge}(Nt);Ce=function(Qt){for(var Ge={},Ut=0;Ut<Qt.length;++Ut){var et=y0(Qt[Ut]),ot=et.family,Xt=et.stretch,yt=et.style,Qe=et.weight;Ge[ot]=Ge[ot]||{},Ge[ot][Xt]=Ge[ot][Xt]||{},Ge[ot][Xt][yt]=Ge[ot][Xt][yt]||{},Ge[ot][Xt][yt][Qe]=et}return Ge}(vt.concat(hr)),Le=gt}return Ce}(this.pdf,this.fontFaces),Lt=Ke.map(function(We){return{family:We,stretch:"normal",weight:Je,style:mt}}),bt=function(We,hr,Nt){for(var gt=(Nt=Nt||{}).defaultFontFamily||"times",vt=Object.assign({},E7,Nt.genericFontFamilies||{}),Qt=null,Ge=null,Ut=0;Ut<hr.length;++Ut)if(vt[(Qt=y0(hr[Ut])).family]&&(Qt.family=vt[Qt.family]),We.hasOwnProperty(Qt.family)){Ge=We[Qt.family];break}if(!(Ge=Ge||We[gt]))throw new Error("Could not find a font-family for the rule '"+e5(Qt)+"' and default family '"+gt+"'.");if(Ge=function(et,ot){if(ot[et])return ot[et];var Xt=Qm[et],yt=Xt<=Qm.normal?-1:1,Qe=Xy(ot,r4,Xt,yt);if(!Qe)throw new Error("Could not find a matching font-stretch value for "+et);return Qe}(Qt.stretch,Ge),Ge=function(et,ot){if(ot[et])return ot[et];for(var Xt=t4[et],yt=0;yt<Xt.length;++yt)if(ot[Xt[yt]])return ot[Xt[yt]];throw new Error("Could not find a matching font-style for "+et)}(Qt.style,Ge),!(Ge=function(et,ot){if(ot[et])return ot[et];if(et===400&&ot[500])return ot[500];if(et===500&&ot[400])return ot[400];var Xt=j7[et],yt=Xy(ot,n4,Xt,et<400?-1:1);if(!yt)throw new Error("Could not find a matching font-weight for value "+et);return yt}(Qt.weight,Ge)))throw new Error("Failed to resolve a font for the rule '"+e5(Qt)+"'.");return Ge}(Ve,Lt);this.pdf.setFont(bt.ref.name,bt.ref.style)}else{var at="";(Je==="bold"||parseInt(Je,10)>=700||mt==="bold")&&(at="bold"),mt==="italic"&&(at+="italic"),at.length===0&&(at="normal");for(var _t="",xt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ue=0;Ue<Ke.length;Ue++){if(this.pdf.internal.getFont(Ke[Ue],at,{noFallback:!0,disableWarning:!0})!==void 0){_t=Ke[Ue];break}if(at==="bolditalic"&&this.pdf.internal.getFont(Ke[Ue],"bold",{noFallback:!0,disableWarning:!0})!==void 0)_t=Ke[Ue],at="bold";else if(this.pdf.internal.getFont(Ke[Ue],"normal",{noFallback:!0,disableWarning:!0})!==void 0){_t=Ke[Ue],at="normal";break}}if(_t===""){for(var ut=0;ut<Ke.length;ut++)if(xt[Ke[ut]]){_t=xt[Ke[ut]];break}}_t=_t===""?"Times":_t,this.pdf.setFont(_t,at)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(B){this.ctx.globalCompositeOperation=B}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(B){this.ctx.globalAlpha=B}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(B){this.ctx.lineDashOffset=B,he.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(B){this.ctx.lineDash=B,he.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(B){this.ctx.ignoreClearRect=!!B}})};p.prototype.setLineDash=function(C){this.lineDash=C},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){A.call(this,"fill",!1)},p.prototype.stroke=function(){A.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(C,q){if(isNaN(C)||isNaN(q))throw Bt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var W=this.ctx.transform.applyToPoint(new a(C,q));this.path.push({type:"mt",x:W.x,y:W.y}),this.ctx.lastPoint=new a(C,q)},p.prototype.closePath=function(){var C=new a(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&It(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){C=new a(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(C.x,C.y)},p.prototype.lineTo=function(C,q){if(isNaN(C)||isNaN(q))throw Bt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var W=this.ctx.transform.applyToPoint(new a(C,q));this.path.push({type:"lt",x:W.x,y:W.y}),this.ctx.lastPoint=new a(W.x,W.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},p.prototype.quadraticCurveTo=function(C,q,W,X){if(isNaN(W)||isNaN(X)||isNaN(C)||isNaN(q))throw Bt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var te=this.ctx.transform.applyToPoint(new a(W,X)),ae=this.ctx.transform.applyToPoint(new a(C,q));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:te.x,y:te.y}),this.ctx.lastPoint=new a(te.x,te.y)},p.prototype.bezierCurveTo=function(C,q,W,X,te,ae){if(isNaN(te)||isNaN(ae)||isNaN(C)||isNaN(q)||isNaN(W)||isNaN(X))throw Bt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var fe=this.ctx.transform.applyToPoint(new a(te,ae)),pe=this.ctx.transform.applyToPoint(new a(C,q)),be=this.ctx.transform.applyToPoint(new a(W,X));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:be.x,y2:be.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new a(fe.x,fe.y)},p.prototype.arc=function(C,q,W,X,te,ae){if(isNaN(C)||isNaN(q)||isNaN(W)||isNaN(X)||isNaN(te))throw Bt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=!!ae,!this.ctx.transform.isIdentity){var fe=this.ctx.transform.applyToPoint(new a(C,q));C=fe.x,q=fe.y;var pe=this.ctx.transform.applyToPoint(new a(0,W)),be=this.ctx.transform.applyToPoint(new a(0,0));W=Math.sqrt(Math.pow(pe.x-be.x,2)+Math.pow(pe.y-be.y,2))}Math.abs(te-X)>=2*Math.PI&&(X=0,te=2*Math.PI),this.path.push({type:"arc",x:C,y:q,radius:W,startAngle:X,endAngle:te,counterclockwise:ae})},p.prototype.arcTo=function(C,q,W,X,te){throw new Error("arcTo not implemented.")},p.prototype.rect=function(C,q,W,X){if(isNaN(C)||isNaN(q)||isNaN(W)||isNaN(X))throw Bt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,q),this.lineTo(C+W,q),this.lineTo(C+W,q+X),this.lineTo(C,q+X),this.lineTo(C,q),this.lineTo(C+W,q),this.lineTo(C,q)},p.prototype.fillRect=function(C,q,W,X){if(isNaN(C)||isNaN(q)||isNaN(W)||isNaN(X))throw Bt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var te={};this.lineCap!=="butt"&&(te.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(te.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,q,W,X),this.fill(),te.hasOwnProperty("lineCap")&&(this.lineCap=te.lineCap),te.hasOwnProperty("lineJoin")&&(this.lineJoin=te.lineJoin)}},p.prototype.strokeRect=function(C,q,W,X){if(isNaN(C)||isNaN(q)||isNaN(W)||isNaN(X))throw Bt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");k.call(this)||(this.beginPath(),this.rect(C,q,W,X),this.stroke())},p.prototype.clearRect=function(C,q,W,X){if(isNaN(C)||isNaN(q)||isNaN(W)||isNaN(X))throw Bt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,q,W,X))},p.prototype.save=function(C){C=typeof C!="boolean"||C;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var X=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=X}},p.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("Q");this.pdf.setPage(q),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(C){var q,W,X,te;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))q=0,W=0,X=0,te=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(ae!==null)q=parseInt(ae[1]),W=parseInt(ae[2]),X=parseInt(ae[3]),te=1;else if((ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)q=parseInt(ae[1]),W=parseInt(ae[2]),X=parseInt(ae[3]),te=parseFloat(ae[4]);else{if(te=1,typeof C=="string"&&C.charAt(0)!=="#"){var fe=new K_(C);C=fe.ok?fe.toHex():"#000000"}C.length===4?(q=C.substring(1,2),q+=q,W=C.substring(2,3),W+=W,X=C.substring(3,4),X+=X):(q=C.substring(1,3),W=C.substring(3,5),X=C.substring(5,7)),q=parseInt(q,16),W=parseInt(W,16),X=parseInt(X,16)}}return{r:q,g:W,b:X,a:te,style:C}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},k=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(C,q,W,X){if(isNaN(q)||isNaN(W)||typeof C!="string")throw Bt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(X=isNaN(X)?void 0:X,!f.call(this)){var te=V(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;I.call(this,{text:C,x:q,y:W,scale:ae,angle:te,align:this.textAlign,maxWidth:X})}},p.prototype.strokeText=function(C,q,W,X){if(isNaN(q)||isNaN(W)||typeof C!="string")throw Bt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!k.call(this)){X=isNaN(X)?void 0:X;var te=V(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;I.call(this,{text:C,x:q,y:W,scale:ae,renderingMode:"stroke",angle:te,align:this.textAlign,maxWidth:X})}},p.prototype.measureText=function(C){if(typeof C!="string")throw Bt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,W=this.pdf.internal.scaleFactor,X=q.internal.getFontSize(),te=q.getStringUnitWidth(C)*X/q.internal.scaleFactor;return new function(ae){var fe=(ae=ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return fe}}),this}({width:te*=Math.round(96*W/72*1e4)/1e4})},p.prototype.scale=function(C,q){if(isNaN(C)||isNaN(q))throw Bt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var W=new l(C,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(W)},p.prototype.rotate=function(C){if(isNaN(C))throw Bt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new l(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},p.prototype.translate=function(C,q){if(isNaN(C)||isNaN(q))throw Bt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var W=new l(1,0,0,1,C,q);this.ctx.transform=this.ctx.transform.multiply(W)},p.prototype.transform=function(C,q,W,X,te,ae){if(isNaN(C)||isNaN(q)||isNaN(W)||isNaN(X)||isNaN(te)||isNaN(ae))throw Bt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var fe=new l(C,q,W,X,te,ae);this.ctx.transform=this.ctx.transform.multiply(fe)},p.prototype.setTransform=function(C,q,W,X,te,ae){C=isNaN(C)?1:C,q=isNaN(q)?0:q,W=isNaN(W)?0:W,X=isNaN(X)?1:X,te=isNaN(te)?0:te,ae=isNaN(ae)?0:ae,this.ctx.transform=new l(C,q,W,X,te,ae)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(C,q,W,X,te,ae,fe,pe,be){var Ae=this.pdf.getImageProperties(C),Ce=1,Le=1,He=1,B=1;X!==void 0&&pe!==void 0&&(He=pe/X,B=be/te,Ce=Ae.width/X*pe/X,Le=Ae.height/te*be/te),ae===void 0&&(ae=q,fe=W,q=0,W=0),X!==void 0&&pe===void 0&&(pe=X,be=te),X===void 0&&pe===void 0&&(pe=Ae.width,be=Ae.height);var Ee=this.ctx.transform.decompose(),mt=V(Ee.rotate.shx),Je=new l,Se=(Je=(Je=(Je=Je.multiply(Ee.translate)).multiply(Ee.skew)).multiply(Ee.scale)).applyToRectangle(new o(ae-q*He,fe-W*B,X*Ce,te*Le));if(this.autoPaging){for(var Ye,Re=x.call(this,Se),Ke=[],Ve=0;Ve<Re.length;Ve+=1)Ke.indexOf(Re[Ve])===-1&&Ke.push(Re[Ve]);b(Ke);for(var Lt=Ke[0],bt=Ke[Ke.length-1],at=Lt;at<bt+1;at++){this.pdf.setPage(at);var _t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=at===1?this.posY+this.margin[0]:this.margin[0],Ue=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],We=at===1?0:Ue+(at-2)*ut;if(this.ctx.clip_path.length!==0){var hr=this.path;Ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(Ye,this.posX+this.margin[3],-We+xt+this.ctx.prevPageLastElemOffset),M.call(this,"fill",!0),this.path=hr}var Nt=JSON.parse(JSON.stringify(Se));Nt=_([Nt],this.posX+this.margin[3],-We+xt+this.ctx.prevPageLastElemOffset)[0];var gt=(at>Lt||at<bt)&&S.call(this);gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_t,ut,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",Nt.x,Nt.y,Nt.w,Nt.h,null,null,mt),gt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(C,"JPEG",Se.x,Se.y,Se.w,Se.h,null,null,mt)};var x=function(C,q,W){var X=[];q=q||this.pdf.internal.pageSize.width,W=W||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var te=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":X.push(Math.floor((C.y+te)/W)+1);break;case"arc":X.push(Math.floor((C.y+te-C.radius)/W)+1),X.push(Math.floor((C.y+te+C.radius)/W)+1);break;case"qct":var ae=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);X.push(Math.floor((ae.y+te)/W)+1),X.push(Math.floor((ae.y+ae.h+te)/W)+1);break;case"bct":var fe=me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);X.push(Math.floor((fe.y+te)/W)+1),X.push(Math.floor((fe.y+fe.h+te)/W)+1);break;case"rect":X.push(Math.floor((C.y+te)/W)+1),X.push(Math.floor((C.y+C.h+te)/W)+1)}for(var pe=0;pe<X.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<X[pe];)y.call(this);return X},y=function(){var C=this.fillStyle,q=this.strokeStyle,W=this.font,X=this.lineCap,te=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=q,this.font=W,this.lineCap=X,this.lineWidth=te,this.lineJoin=ae},_=function(C,q,W){for(var X=0;X<C.length;X++)switch(C[X].type){case"bct":C[X].x2+=q,C[X].y2+=W;case"qct":C[X].x1+=q,C[X].y1+=W;default:C[X].x+=q,C[X].y+=W}return C},b=function(C){return C.sort(function(q,W){return q-W})},A=function(C,q){var W=this.fillStyle,X=this.strokeStyle,te=this.lineCap,ae=this.lineWidth,fe=Math.abs(ae*this.ctx.transform.scaleX),pe=this.lineJoin;if(this.autoPaging){for(var be,Ae,Ce=JSON.parse(JSON.stringify(this.path)),Le=JSON.parse(JSON.stringify(this.path)),He=[],B=0;B<Le.length;B++)if(Le[B].x!==void 0)for(var Ee=x.call(this,Le[B]),mt=0;mt<Ee.length;mt+=1)He.indexOf(Ee[mt])===-1&&He.push(Ee[mt]);for(var Je=0;Je<He.length;Je++)for(;this.pdf.internal.getNumberOfPages()<He[Je];)y.call(this);b(He);for(var Se=He[0],Ye=He[He.length-1],Re=Se;Re<Ye+1;Re++){this.pdf.setPage(Re),this.fillStyle=W,this.strokeStyle=X,this.lineCap=te,this.lineWidth=fe,this.lineJoin=pe;var Ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ve=Re===1?this.posY+this.margin[0]:this.margin[0],Lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],at=Re===1?0:Lt+(Re-2)*bt;if(this.ctx.clip_path.length!==0){var _t=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(be,this.posX+this.margin[3],-at+Ve+this.ctx.prevPageLastElemOffset),M.call(this,C,!0),this.path=_t}if(Ae=JSON.parse(JSON.stringify(Ce)),this.path=_(Ae,this.posX+this.margin[3],-at+Ve+this.ctx.prevPageLastElemOffset),q===!1||Re===0){var xt=(Re>Se||Re<Ye)&&S.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,bt,null).clip().discardPath()),M.call(this,C,q),xt&&this.pdf.restoreGraphicsState()}this.lineWidth=ae}this.path=Ce}else this.lineWidth=fe,M.call(this,C,q),this.lineWidth=ae},M=function(C,q){if((C!=="stroke"||q||!k.call(this))&&(C==="stroke"||q||!f.call(this))){for(var W,X,te=[],ae=this.path,fe=0;fe<ae.length;fe++){var pe=ae[fe];switch(pe.type){case"begin":te.push({begin:!0});break;case"close":te.push({close:!0});break;case"mt":te.push({start:pe,deltas:[],abs:[]});break;case"lt":var be=te.length;if(ae[fe-1]&&!isNaN(ae[fe-1].x)&&(W=[pe.x-ae[fe-1].x,pe.y-ae[fe-1].y],be>0)){for(;be>=0;be--)if(te[be-1].close!==!0&&te[be-1].begin!==!0){te[be-1].deltas.push(W),te[be-1].abs.push(pe);break}}break;case"bct":W=[pe.x1-ae[fe-1].x,pe.y1-ae[fe-1].y,pe.x2-ae[fe-1].x,pe.y2-ae[fe-1].y,pe.x-ae[fe-1].x,pe.y-ae[fe-1].y],te[te.length-1].deltas.push(W);break;case"qct":var Ae=ae[fe-1].x+2/3*(pe.x1-ae[fe-1].x),Ce=ae[fe-1].y+2/3*(pe.y1-ae[fe-1].y),Le=pe.x+2/3*(pe.x1-pe.x),He=pe.y+2/3*(pe.y1-pe.y),B=pe.x,Ee=pe.y;W=[Ae-ae[fe-1].x,Ce-ae[fe-1].y,Le-ae[fe-1].x,He-ae[fe-1].y,B-ae[fe-1].x,Ee-ae[fe-1].y],te[te.length-1].deltas.push(W);break;case"arc":te.push({deltas:[],abs:[],arc:!0}),Array.isArray(te[te.length-1].abs)&&te[te.length-1].abs.push(pe)}}X=q?null:C==="stroke"?"stroke":"fill";for(var mt=!1,Je=0;Je<te.length;Je++)if(te[Je].arc)for(var Se=te[Je].abs,Ye=0;Ye<Se.length;Ye++){var Re=Se[Ye];Re.type==="arc"?F.call(this,Re.x,Re.y,Re.radius,Re.startAngle,Re.endAngle,Re.counterclockwise,void 0,q,!mt):J.call(this,Re.x,Re.y),mt=!0}else if(te[Je].close===!0)this.pdf.internal.out("h"),mt=!1;else if(te[Je].begin!==!0){var Ke=te[Je].start.x,Ve=te[Je].start.y;K.call(this,te[Je].deltas,Ke,Ve),mt=!0}X&&R.call(this,X),q&&Y.call(this)}},G=function(C){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,W=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-W;case"top":return C+q-W;case"hanging":return C+q-2*W;case"middle":return C+q/2-W;default:return C}},H=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(q,W){this.colorStops.push([q,W])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var F=function(C,q,W,X,te,ae,fe,pe,be){for(var Ae=ce.call(this,W,X,te,ae),Ce=0;Ce<Ae.length;Ce++){var Le=Ae[Ce];Ce===0&&(be?T.call(this,Le.x1+C,Le.y1+q):J.call(this,Le.x1+C,Le.y1+q)),ue.call(this,C,q,Le.x2,Le.y2,Le.x3,Le.y3,Le.x4,Le.y4)}pe?Y.call(this):R.call(this,fe)},R=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Y=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(C,q){this.pdf.internal.out(r(C)+" "+n(q)+" m")},I=function(C){var q;switch(C.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var W,X,te,ae=this.pdf.getTextDimensions(C.text),fe=G.call(this,C.y),pe=H.call(this,fe)-ae.h,be=this.ctx.transform.applyToPoint(new a(C.x,fe));if(this.autoPaging){var Ae=this.ctx.transform.decompose(),Ce=new l;Ce=(Ce=(Ce=Ce.multiply(Ae.translate)).multiply(Ae.skew)).multiply(Ae.scale);for(var Le=this.ctx.transform.applyToRectangle(new o(C.x,fe,ae.w,ae.h)),He=Ce.applyToRectangle(new o(C.x,pe,ae.w,ae.h)),B=x.call(this,He),Ee=[],mt=0;mt<B.length;mt+=1)Ee.indexOf(B[mt])===-1&&Ee.push(B[mt]);b(Ee);for(var Je=Ee[0],Se=Ee[Ee.length-1],Ye=Je;Ye<Se+1;Ye++){this.pdf.setPage(Ye);var Re=Ye===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ve=this.pdf.internal.pageSize.height-this.margin[2],Lt=Ve-this.margin[0],bt=this.pdf.internal.pageSize.width-this.margin[1],at=bt-this.margin[3],_t=Ye===1?0:Ke+(Ye-2)*Lt;if(this.ctx.clip_path.length!==0){var xt=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(W,this.posX+this.margin[3],-1*_t+Re),M.call(this,"fill",!0),this.path=xt}var Ue=_([JSON.parse(JSON.stringify(He))],this.posX+this.margin[3],-_t+Re+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(X=this.pdf.internal.getFontSize(),this.pdf.setFontSize(X*C.scale),te=this.lineWidth,this.lineWidth=te*C.scale);var ut=this.autoPaging!=="text";if(ut||Ue.y+Ue.h<=Ve){if(ut||Ue.y>=Re&&Ue.x<=bt){var We=ut?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||bt-Ue.x)[0],hr=_([JSON.parse(JSON.stringify(Le))],this.posX+this.margin[3],-_t+Re+this.ctx.prevPageLastElemOffset)[0],Nt=ut&&(Ye>Je||Ye<Se)&&S.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,Lt,null).clip().discardPath()),this.pdf.text(We,hr.x,hr.y,{angle:C.angle,align:q,renderingMode:C.renderingMode}),Nt&&this.pdf.restoreGraphicsState()}}else Ue.y<Ve&&(this.ctx.prevPageLastElemOffset+=Ve-Ue.y);C.scale>=.01&&(this.pdf.setFontSize(X),this.lineWidth=te)}}else C.scale>=.01&&(X=this.pdf.internal.getFontSize(),this.pdf.setFontSize(X*C.scale),te=this.lineWidth,this.lineWidth=te*C.scale),this.pdf.text(C.text,be.x+this.posX,be.y+this.posY,{angle:C.angle,align:q,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(X),this.lineWidth=te)},J=function(C,q,W,X){W=W||0,X=X||0,this.pdf.internal.out(r(C+W)+" "+n(q+X)+" l")},K=function(C,q,W){return this.pdf.lines(C,q,W,null,null)},ue=function(C,q,W,X,te,ae,fe,pe){this.pdf.internal.out([e(i(W+C)),e(s(X+q)),e(i(te+C)),e(s(ae+q)),e(i(fe+C)),e(s(pe+q)),"c"].join(" "))},ce=function(C,q,W,X){for(var te=2*Math.PI,ae=Math.PI/2;q>W;)q-=te;var fe=Math.abs(W-q);fe<te&&X&&(fe=te-fe);for(var pe=[],be=X?-1:1,Ae=q;fe>1e-5;){var Ce=Ae+be*Math.min(fe,ae);pe.push(de.call(this,C,Ae,Ce)),fe-=Math.abs(Ce-Ae),Ae=Ce}return pe},de=function(C,q,W){var X=(W-q)/2,te=C*Math.cos(X),ae=C*Math.sin(X),fe=te,pe=-ae,be=fe*fe+pe*pe,Ae=be+fe*te+pe*ae,Ce=4/3*(Math.sqrt(2*be*Ae)-Ae)/(fe*ae-pe*te),Le=fe-Ce*pe,He=pe+Ce*fe,B=Le,Ee=-He,mt=X+q,Je=Math.cos(mt),Se=Math.sin(mt);return{x1:C*Math.cos(q),y1:C*Math.sin(q),x2:Le*Je-He*Se,y2:Le*Se+He*Je,x3:B*Je-Ee*Se,y3:B*Se+Ee*Je,x4:C*Math.cos(W),y4:C*Math.sin(W)}},V=function(C){return 180*C/Math.PI},ne=function(C,q,W,X,te,ae){var fe=C+.5*(W-C),pe=q+.5*(X-q),be=te+.5*(W-te),Ae=ae+.5*(X-ae),Ce=Math.min(C,te,fe,be),Le=Math.max(C,te,fe,be),He=Math.min(q,ae,pe,Ae),B=Math.max(q,ae,pe,Ae);return new o(Ce,He,Le-Ce,B-He)},me=function(C,q,W,X,te,ae,fe,pe){var be,Ae,Ce,Le,He,B,Ee,mt,Je,Se,Ye,Re,Ke,Ve,Lt=W-C,bt=X-q,at=te-W,_t=ae-X,xt=fe-te,Ue=pe-ae;for(Ae=0;Ae<41;Ae++)Je=(Ee=(Ce=C+(be=Ae/40)*Lt)+be*((He=W+be*at)-Ce))+be*(He+be*(te+be*xt-He)-Ee),Se=(mt=(Le=q+be*bt)+be*((B=X+be*_t)-Le))+be*(B+be*(ae+be*Ue-B)-mt),Ae==0?(Ye=Je,Re=Se,Ke=Je,Ve=Se):(Ye=Math.min(Ye,Je),Re=Math.min(Re,Se),Ke=Math.max(Ke,Je),Ve=Math.max(Ve,Se));return new o(Math.round(Ye),Math.round(Re),Math.round(Ke-Ye),Math.round(Ve-Re))},he=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,q,W=(C=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:q}));this.prevLineDash!==W&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=W)}}})(Be.API),function(t){var e=function(a){var o,l,u,d,p,g,f,k,S,x;for(l=[],u=0,d=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;d>u;u+=4)(p=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(g=(p=((p=((p=((p=(p-(x=p%85))/85)-(S=p%85))/85)-(k=p%85))/85)-(f=p%85))/85)%85,l.push(g+33,f+33,k+33,S+33,x+33)):l.push(122);return function(y,_){for(var b=_;b>0;b--)y.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(a){var o,l,u,d,p,g=String,f="length",k=255,S="charCodeAt",x="slice",y="replace";for(a[x](-2),a=a[x](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),u=[],d=0,p=(a+=o="uuuuu"[x](a[f]%5||5))[f];p>d;d+=5)l=52200625*(a[S](d)-33)+614125*(a[S](d+1)-33)+7225*(a[S](d+2)-33)+85*(a[S](d+3)-33)+(a[S](d+4)-33),u.push(k&l>>24,k&l>>16,k&l>>8,k&l);return function(_,b){for(var A=b;A>0;A--)_.pop()}(u,o[f]),g.fromCharCode.apply(g,u)},n=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",u=0;u<a.length;u+=2)l+=String.fromCharCode("0x"+(a[u]+a[u+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=Wm(o)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};t.processDataByFilters=function(a,o){var l=0,u=a||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(Be.API),function(t){t.loadFile=function(e,r,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,u,d){var p=new XMLHttpRequest,g=0,f=function(k){var S=k.length,x=[],y=String.fromCharCode;for(g=0;g<S;g+=1)x.push(y(255&k.charCodeAt(g)));return x.join("")};if(p.open("GET",l,!u),p.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(p.onload=function(){p.status===200?d(f(this.responseText)):d(void 0)}),p.send(null),u&&p.status===200)return f(p.responseText)}(i,s,a)}catch{}return o}(e,r,n)},t.loadImageFile=t.loadFile}(Be.API),function(t){function e(){return(tt.html2canvas?Promise.resolve(tt.html2canvas):e0(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(tt.DOMPurify?Promise.resolve(tt.DOMPurify):e0(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=It(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var u=document.createElement(o);for(var d in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[d]=l.style[d];return u},s=function o(l,u){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),p=l.firstChild;p;p=p.nextSibling)u!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||d.appendChild(o(p,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d},a=function o(l){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),u);return(d=d.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=this.opt.jsPDF,d=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var f=0;f<d.length;++f){var k=d[f],S=k.src.find(function(x){return x.format==="truetype"});S&&u.addFont(S.url,k.ref.name,k.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,u.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var u=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(u):u})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(o=o||Be.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,u,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,u,d){return this.setProgress(o?this.progress.val+o:null,l||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(o,l){var u=this;return this.thenCore(o,l,function(d,p){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(g){return u.updateProgress(null,d),g}).then(d,p).then(function(g){return u.updateProgress(1),g})})},a.prototype.thenCore=function(o,l,u){u=u||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),l&&(l=l.bind(d));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:a.convert(Object.assign({},d),Promise.prototype),g=u.call(p,o,l);return a.convert(g,d.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(u){l=l.thenCore(u)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Be.getPageSize=function(o,l,u){if(It(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,u=d.format||u}l=l||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var p,g=(""+u).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+l}var k,S=0,x=0;if(f.hasOwnProperty(g))S=f[g][1]/p,x=f[g][0]/p;else try{S=u[1],x=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",x>S&&(k=x,x=S,S=k);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",S>x&&(k=x,x=S,S=k)}return{width:x,height:S,unit:l,k:p,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(y0):null;var u=new a(l);return l.worker?u:u.from(o).doCallback()}}(Be.API),Be.API.addJS=function(t){return n5=t,this.internal.events.subscribe("postPutResources",function(){Xd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Xd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),r5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+n5+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Xd!==void 0&&r5!==void 0&&this.internal.out("/Names <</JavaScript "+Xd+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(s=0;s<u;s++){var p=r.internal.newObject();d.push(p);var g=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<d.length;s++)r.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(Be.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,a,o){var l,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(p){for(var g,f=256*p.charCodeAt(4)+p.charCodeAt(5),k=p.length,S={width:0,height:0,numcomponents:1},x=4;x<k;x+=2){if(x+=f,e.indexOf(p.charCodeAt(x+1))!==-1){g=256*p.charCodeAt(x+5)+p.charCodeAt(x+6),S={width:256*p.charCodeAt(x+7)+p.charCodeAt(x+8),height:g,numcomponents:p.charCodeAt(x+9)};break}f=256*p.charCodeAt(x+2)+p.charCodeAt(x+3)}return S}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:i}}return d}}(Be.API),Be.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=f7(t,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,u=s.palette,d=s.depth;i=u&&l===1?function(F){for(var R=F.width,Y=F.height,T=F.data,I=F.palette,J=F.depth,K=!1,ue=[],ce=[],de=void 0,V=!1,ne=0,me=0;me<I.length;me++){var he=oy(I[me],4),C=he[0],q=he[1],W=he[2],X=he[3];ue.push(C,q,W),X!=null&&(X===0?(ne++,ce.length<1&&ce.push(me)):X<255&&(V=!0))}if(V||ne>1){K=!0,ce=void 0;var te=R*Y;de=new Uint8Array(te);for(var ae=new DataView(T.buffer),fe=0;fe<te;fe++){var pe=b0(ae,fe,J),be=oy(I[pe],4)[3];de[fe]=be}}else ne===0&&(ce=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:K?8:void 0,colorBytes:T,alphaBytes:de,needSMask:K,palette:ue,mask:ce}}(s):l===2||l===4?function(F){for(var R=F.data,Y=F.width,T=F.height,I=F.channels,J=F.depth,K=I===2?"DeviceGray":"DeviceRGB",ue=I-1,ce=Y*T,de=ue,V=ce*de,ne=1*ce,me=Math.ceil(V*J/8),he=Math.ceil(ne*J/8),C=new Uint8Array(me),q=new Uint8Array(he),W=new DataView(R.buffer),X=new DataView(C.buffer),te=new DataView(q.buffer),ae=!1,fe=0;fe<ce;fe++){for(var pe=fe*I,be=0;be<de;be++)h5(X,b0(W,pe+be,J),fe*de+be,J);var Ae=b0(W,pe+de,J);Ae<(1<<J)-1&&(ae=!0),h5(te,Ae,1*fe,J)}return{colorSpace:K,colorsPerPixel:ue,sMaskBitsPerComponent:ae?J:void 0,colorBytes:C,alphaBytes:q,needSMask:ae}}(s):function(F){var R=F.data,Y=F.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:Y,colorsPerPixel:Y==="DeviceGray"?1:3,colorBytes:R instanceof Uint16Array?function(T){for(var I=T.length,J=new Uint8Array(2*I),K=new DataView(J.buffer,J.byteOffset,J.byteLength),ue=0;ue<I;ue++)K.setUint16(2*ue,T[ue],!1);return J}(R):R,needSMask:!1}}(s);var p,g,f,k=i,S=k.colorSpace,x=k.colorsPerPixel,y=k.sMaskBitsPerComponent,_=k.colorBytes,b=k.alphaBytes,A=k.needSMask,M=k.palette,G=k.mask,H=null;return n!==Be.API.image_compression.NONE&&typeof Wm=="function"?(H=function(F){var R;switch(F){case Be.API.image_compression.FAST:R=11;break;case Be.API.image_compression.MEDIUM:R=13;break;case Be.API.image_compression.SLOW:R=14;break;default:R=12}return R}(n),p=this.decode.FLATE_DECODE,g="/Predictor ".concat(H," /Colors ").concat(x," /BitsPerComponent ").concat(d," /Columns ").concat(a),t=o5(_,Math.ceil(a*x*d/8),x,d,n),A&&(f=o5(b,Math.ceil(a*y/8),1,y,n))):(p=void 0,g=void 0,t=_,A&&(f=b)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:r,data:t,index:e,filter:p,decodeParameters:g,transparency:G,palette:M,sMask:f,predictor:H,width:a,height:o,bitsPerComponent:d,sMaskBitsPerComponent:y,colorSpace:S}}},function(t){t.processGIF89A=function(e,r,n,i){var s=new R7(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:a,height:o},d=new x0(100).encode(u,100);return t.processJPEG.call(this,d,r,n,i)},t.processGIF87A=t.processGIF89A}(Be.API),mi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},mi.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Bt.log("bit decode error:"+r)}},mi.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},mi.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,l=15&s,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},mi.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},mi.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,d=n*this.width*4+4*i;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=a,this.data[d+3]=u}this.pos+=t}},mi.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&r)/r*255|0,u=(a>>11)/e*255|0,d=i*this.width*4+4*s;this.data[d]=u,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=t}},mi.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},mi.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},mi.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var s=new mi(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new x0(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(Be.API),p5.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var s=new p5(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new x0(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(Be.API),Be.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var d=n[u],p=n[u+1],g=n[u+2],f=n[u+3];s[o++]=d,s[o++]=p,s[o++]=g,a[l++]=f}var k=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:k,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Be.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Jo=Be.API,Zd=Jo.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=u.fof?u.fof:1,p=e.doKerning!==!1,g=0,f=t.length,k=0,S=o[0]||l,x=[];for(r=0;r<f;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?x.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(g=p&&It(u[n])==="object"&&!isNaN(parseInt(u[n][k],10))?u[n][k]/d:0,x.push((o[n]||S)/l+g)),k=n;return x},i5=Jo.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Jo.processArabic&&(t=Jo.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Zd.apply(this,arguments).reduce(function(s,a){return s+a},0)},s5=function(t,e,r,n){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<r;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>n&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},a5=function(t,e,r){r||(r={});var n,i,s,a,o,l,u,d=[],p=[d],g=r.textIndent||0,f=0,k=0,S=t.split(" "),x=Zd.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?S[0].length+2:r.lineIndent||0){var y=Array(l).join(" "),_=[];S.map(function(A){(A=A.split(/\s*\n/)).length>1?_=_.concat(A.map(function(M,G){return(G&&M.length?`
`:"")+M})):_.push(A[0])}),S=_,l=i5.apply(this,[y,r])}for(s=0,a=S.length;s<a;s++){var b=0;if(n=S[s],l&&n[0]==`
`&&(n=n.substr(1),b=1),g+f+(k=(i=Zd.apply(this,[n,r])).reduce(function(A,M){return A+M},0))>e||b){if(k>e){for(o=s5.apply(this,[n,i,e-(g+f),e]),d.push(o.shift()),d=[o.pop()];o.length;)p.push([o.shift()]);k=i.slice(n.length-(d[0]?d[0].length:0)).reduce(function(A,M){return A+M},0)}else d=[n];p.push(d),g=k+l,f=x}else d.push(n),g+=f+k,f=x}return u=l?function(A,M){return(M?y:"")+A.join(" ")}:function(A){return A.join(" ")},p.map(u)},Jo.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var p=this.internal.getFont(d.fontName,d.fontStyle),g="Unicode";return p.metadata[g]?{widths:p.metadata[g].widths||{0:1},kerning:p.metadata[g].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var o,l,u=[];for(o=0,l=n.length;o<l;o++)u=u.concat(a5.apply(this,[n[o],a,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[r[s]]=e[s],i[e[s]]=r[s];var a=function(g){return"0x"+parseInt(g,10).toString(16)},o=t.__fontmetrics__.compress=function(g){var f,k,S,x,y=["{"];for(var _ in g){if(f=g[_],isNaN(parseInt(_,10))?k="'"+_+"'":(_=parseInt(_,10),k=(k=a(_).slice(2)).slice(0,-1)+i[k.slice(-1)]),typeof f=="number")f<0?(S=a(f).slice(3),x="-"):(S=a(f).slice(2),x=""),S=x+S.slice(0,-1)+i[S.slice(-1)];else{if(It(f)!=="object")throw new Error("Don't know what to do with value type "+It(f)+".");S=o(f)}y.push(k+S)}return y.push("}"),y.join("")},l=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,k,S,x,y={},_=1,b=y,A=[],M="",G="",H=g.length-1,F=1;F<H;F+=1)(x=g[F])=="'"?f?(S=f.join(""),f=void 0):f=[]:f?f.push(x):x=="{"?(A.push([b,S]),b={},S=void 0):x=="}"?((k=A.pop())[0][k[1]]=b,S=void 0,b=k[0]):x=="-"?_=-1:S===void 0?n.hasOwnProperty(x)?(M+=n[x],S=parseInt(M,16)*_,_=1,M=""):M+=x:n.hasOwnProperty(x)?(G+=n[x],b[S]=parseInt(G,16)*_,_=1,S=void 0,G=""):G+=x;return y},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},p={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var f=g.font,k=p.Unicode[f.postScriptName];k&&(f.metadata.Unicode={},f.metadata.Unicode.widths=k.widths,f.metadata.Unicode.kerning=k.kerning);var S=d.Unicode[f.postScriptName];S&&(f.metadata.Unicode.encoding=S,f.encoding=S.codePages[0])}])}(Be.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(mh(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(Be),Be.API.addSvgAsImage=function(t,e,r,n,i,s,a,o){if(isNaN(e)||isNaN(r))throw Bt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Bt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(tt.canvg?Promise.resolve(tt.canvg):e0(()=>import("./index.es-D4rSHl1G.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(u,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(d)}).then(function(){p.addImage(l.toDataURL("image/jpeg",1),e,r,n,i,a,o)})},Be.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},Be.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],u=0,d=0,p=0;function g(k,S){var x,y=!1;for(x=0;x<k.length;x+=1)k[x]===S&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=o.length;for(p=0;p<f;p+=1)r[o[p]].value=r[o[p]].defaultValue,r[o[p]].explicitSet=!1}if(It(t)==="object"){for(i in t)if(s=t[i],g(o,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&g(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(d=0;d<s[u].length;d+=1)typeof s[u][d]!="number"&&(n=!1);n===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var k,S=[];for(k in r)r[k].explicitSet===!0&&(r[k].type==="name"?S.push("/"+k+" /"+r[k].value):S.push("/"+k+" "+r[k].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(Be.API),function(t){var e=t.API,r=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],p=0,g=s.length;p<g;++p){if(o=a.metadata.characterToGlyph(s.charCodeAt(p)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(p),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(u[4-o.length],o)}return d.join("")},n=function(s){var a,o,l,u,d,p,g;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],p=0,g=(o=Object.keys(s).sort(function(f,k){return f-k})).length;p<g;p++)a=o[p],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(u=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+u+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var p=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",k=0;k<g.length;k++)f+=String.fromCharCode(g[k]);var S=u();d({data:f,addLength1:!0,objectId:S}),l("endobj");var x=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var y=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Zo(o.fontName)),l("/FontFile2 "+S+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var _=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Zo(o.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+t.API.PDFObject.convert(p)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+x+" 0 R"),l("/BaseFont /"+Zo(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+_+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var p=o.metadata.rawData,g="",f=0;f<p.length;f++)g+=String.fromCharCode(p[f]);var k=u();d({data:g,addLength1:!0,objectId:k}),l("endobj");var S=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:S}),l("endobj");var x=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+k+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Zo(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+Zo(o.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,u=s.y,d=s.options||{},p=s.mutex||{},g=p.pdfEscape,f=p.activeFontKey,k=p.fonts,S=f,x="",y=0,_="",b=k[S].encoding;if(k[S].encoding!=="Identity-H")return{text:o,x:l,y:u,options:d,mutex:p};for(_=o,S=f,Array.isArray(o)&&(_=o[0]),y=0;y<_.length;y+=1)k[S].metadata.hasOwnProperty("cmap")&&(a=k[S].metadata.cmap.unicode.codeMap[_[y].charCodeAt(0)]),a||_[y].charCodeAt(0)<256&&k[S].metadata.hasOwnProperty("Unicode")?x+=_[y]:x+="";var A="";return parseInt(S.slice(1))<14||b==="WinAnsiEncoding"?A=g(x,S).split("").map(function(M){return M.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(A=r(x,k[S])),p.isHex=!0,{text:A,x:l,y:u,options:d,mutex:p}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([i(Object.assign({},l,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(i(Object.assign({},l,{text:a[u]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(Be),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Be.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,a,o,l,u,d,p=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],k={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,b=0;this.__bidiEngine__={};var A=function(T){var I=T.charCodeAt(),J=I>>8,K=S[J];return K!==void 0?p[256*K+(255&I)]:J===252||J===253?"AL":y.test(J)?"L":J===8?"R":"N"},M=function(T){for(var I,J=0;J<T.length;J++){if((I=A(T.charAt(J)))==="L")return!1;if(I==="R")return!0}return!1},G=function(T,I,J,K){var ue,ce,de,V,ne=I[K];switch(ne){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"N":case"AN":break;case"EN":_&&(ne="AN");break;case"AL":_=!0,ne="R";break;case"WS":case"BN":ne="N";break;case"CS":K<1||K+1>=I.length||(ue=J[K-1])!=="EN"&&ue!=="AN"||(ce=I[K+1])!=="EN"&&ce!=="AN"?ne="N":_&&(ce="AN"),ne=ce===ue?ce:"N";break;case"ES":ne=(ue=K>0?J[K-1]:"B")==="EN"&&K+1<I.length&&I[K+1]==="EN"?"EN":"N";break;case"ET":if(K>0&&J[K-1]==="EN"){ne="EN";break}if(_){ne="N";break}for(de=K+1,V=I.length;de<V&&I[de]==="ET";)de++;ne=de<V&&I[de]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(V=I.length,de=K+1;de<V&&I[de]==="NSM";)de++;if(de<V){var me=T[K],he=me>=1425&&me<=2303||me===64286;if(ue=I[de],he&&(ue==="R"||ue==="AL")){ne="R";break}}}ne=K<1||(ue=I[K-1])==="B"?"N":J[K-1];break;case"B":_=!1,i=!0,ne=b;break;case"S":s=!0,ne="N"}return ne},H=function(T,I,J){var K=T.split("");return J&&F(K,J,{hiLevel:b}),K.reverse(),I&&I.reverse(),K.join("")},F=function(T,I,J){var K,ue,ce,de,V,ne=-1,me=T.length,he=0,C=[],q=b?f:g,W=[];for(_=!1,i=!1,s=!1,ue=0;ue<me;ue++)W[ue]=A(T[ue]);for(ce=0;ce<me;ce++){if(V=he,C[ce]=G(T,W,C,ce),K=240&(he=q[V][k[C[ce]]]),he&=15,I[ce]=de=q[he][5],K>0)if(K===16){for(ue=ne;ue<ce;ue++)I[ue]=1;ne=-1}else ne=-1;if(q[he][6])ne===-1&&(ne=ce);else if(ne>-1){for(ue=ne;ue<ce;ue++)I[ue]=de;ne=-1}W[ce]==="B"&&(I[ce]=0),J.hiLevel|=de}s&&function(X,te,ae){for(var fe=0;fe<ae;fe++)if(X[fe]==="S"){te[fe]=b;for(var pe=fe-1;pe>=0&&X[pe]==="WS";pe--)te[pe]=b}}(W,I,me)},R=function(T,I,J,K,ue){if(!(ue.hiLevel<T)){if(T===1&&b===1&&!i)return I.reverse(),void(J&&J.reverse());for(var ce,de,V,ne,me=I.length,he=0;he<me;){if(K[he]>=T){for(V=he+1;V<me&&K[V]>=T;)V++;for(ne=he,de=V-1;ne<de;ne++,de--)ce=I[ne],I[ne]=I[de],I[de]=ce,J&&(ce=J[ne],J[ne]=J[de],J[de]=ce);he=V}he++}}},Y=function(T,I,J){var K=T.split(""),ue={hiLevel:b};return J||(J=[]),F(K,J,ue),function(ce,de,V){if(V.hiLevel!==0&&d)for(var ne,me=0;me<ce.length;me++)de[me]===1&&(ne=x.indexOf(ce[me]))>=0&&(ce[me]=x[ne+1])}(K,J,ue),R(2,K,I,J,ue),R(1,K,I,J,ue),K.join("")};return this.__bidiEngine__.doBidiReorder=function(T,I,J){if(function(ue,ce){if(ce)for(var de=0;de<ue.length;de++)ce[de]=de;o===void 0&&(o=M(ue)),u===void 0&&(u=M(ue))}(T,I),a||!l||u)if(a&&l&&o^u)b=o?1:0,T=H(T,I,J);else if(!a&&l&&u)b=o?1:0,T=Y(T,I,J),T=H(T,I);else if(!a||o||l||u){if(a&&!l&&o^u)T=H(T,I),o?(b=0,T=Y(T,I,J)):(b=1,T=Y(T,I,J),T=H(T,I));else if(a&&o&&!l&&u)b=1,T=Y(T,I,J),T=H(T,I);else if(!a&&!l&&o^u){var K=d;o?(b=1,T=Y(T,I,J),b=0,d=!1,T=Y(T,I,J),d=K):(b=0,T=Y(T,I,J),T=H(T,I),b=1,d=!1,T=Y(T,I,J),d=K,T=H(T,I))}}else b=0,T=Y(T,I,J);else b=o?1:0,T=Y(T,I,J);return T},this.__bidiEngine__.setOptions=function(T){T&&(a=T.isInputVisual,l=T.isOutputVisual,o=T.isInputRtl,u=T.isOutputRtl,d=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([r.doBidiReorder(i[o])]);n.text=a}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(Be),Be.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Na(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new J7(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new I7(this.contents),this.head=new F7(this),this.name=new $7(this),this.cmap=new s4(this),this.toUnicode={},this.hhea=new M7(this),this.maxp=new q7(this),this.hmtx=new W7(this),this.post=new U7(this),this.os2=new B7(this),this.loca=new K7(this),this.glyf=new H7(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,u;for(u=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Li,Na=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,a,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),I7=function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,a,o,l,u,d,p,g,f,k,S;for(S in f=Object.keys(r).length,l=Math.log(2),p=16*Math.floor(Math.log(f)/l),a=Math.floor(p/l),d=16*f-p,(i=new Na).writeInt(this.scalarType),i.writeShort(f),i.writeShort(p),i.writeShort(a),i.writeShort(d),s=16*f,u=i.pos+s,o=null,k=[],r)for(g=r[S],i.writeString(S),i.writeInt(t(g)),i.writeInt(u),i.writeInt(g.length),k=k.concat(g),S==="head"&&(o=u),u+=g.length;u%4;)k.push(0),u++;return i.write(k),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,a;for(r=a4.call(r);r.length%4;)r.push(0);for(s=new Na(r),i=0,n=0,a=r.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),D7={}.hasOwnProperty,Yi=function(t,e){for(var r in e)D7.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Li=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var F7=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Yi(t,Li),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new Na).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),m5=function(){function t(e,r){var n,i,s,a,o,l,u,d,p,g,f,k,S,x,y,_,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),g=f/2,e.pos+=6,s=function(){var A,M;for(M=[],l=A=0;0<=g?A<g:A>g;l=0<=g?++A:--A)M.push(e.readUInt16());return M}(),e.pos+=2,S=function(){var A,M;for(M=[],l=A=0;0<=g?A<g:A>g;l=0<=g?++A:--A)M.push(e.readUInt16());return M}(),u=function(){var A,M;for(M=[],l=A=0;0<=g?A<g:A>g;l=0<=g?++A:--A)M.push(e.readUInt16());return M}(),d=function(){var A,M;for(M=[],l=A=0;0<=g?A<g:A>g;l=0<=g?++A:--A)M.push(e.readUInt16());return M}(),i=(this.length-e.pos+this.offset)/2,o=function(){var A,M;for(M=[],l=A=0;0<=i?A<i:A>i;l=0<=i?++A:--A)M.push(e.readUInt16());return M}(),l=y=0,b=s.length;y<b;l=++y)for(x=s[l],n=_=k=S[l];k<=x?_<=x:_>=x;n=k<=x?++_:--_)d[l]===0?a=n+u[l]:(a=o[d[l]/2+(n-k)-(g-l)]||0)!==0&&(a+=u[l]),this.codeMap[n]=65535&a}e.pos=p}return t.encode=function(e,r){var n,i,s,a,o,l,u,d,p,g,f,k,S,x,y,_,b,A,M,G,H,F,R,Y,T,I,J,K,ue,ce,de,V,ne,me,he,C,q,W,X,te,ae,fe,pe,be,Ae,Ce;switch(K=new Na,a=Object.keys(e).sort(function(Le,He){return Le-He}),r){case"macroman":for(S=0,x=function(){var Le=[];for(k=0;k<256;++k)Le.push(0);return Le}(),_={0:0},s={},ue=0,ne=a.length;ue<ne;ue++)_[pe=e[i=a[ue]]]==null&&(_[pe]=++S),s[i]={old:e[i],new:_[e[i]]},x[i]=_[e[i]];return K.writeUInt16(1),K.writeUInt16(0),K.writeUInt32(12),K.writeUInt16(0),K.writeUInt16(262),K.writeUInt16(0),K.write(x),{charMap:s,subtable:K.data,maxGlyphID:S+1};case"unicode":for(I=[],p=[],b=0,_={},n={},y=u=null,ce=0,me=a.length;ce<me;ce++)_[M=e[i=a[ce]]]==null&&(_[M]=++b),n[i]={old:M,new:_[M]},o=_[M]-i,y!=null&&o===u||(y&&p.push(y),I.push(i),u=o),y=i;for(y&&p.push(y),p.push(65535),I.push(65535),Y=2*(R=I.length),F=2*Math.pow(Math.log(R)/Math.LN2,2),g=Math.log(F/2)/Math.LN2,H=2*R-F,l=[],G=[],f=[],k=de=0,he=I.length;de<he;k=++de){if(T=I[k],d=p[k],T===65535){l.push(0),G.push(0);break}if(T-(J=n[T].new)>=32768)for(l.push(0),G.push(2*(f.length+R-k)),i=V=T;T<=d?V<=d:V>=d;i=T<=d?++V:--V)f.push(n[i].new);else l.push(J-T),G.push(0)}for(K.writeUInt16(3),K.writeUInt16(1),K.writeUInt32(12),K.writeUInt16(4),K.writeUInt16(16+8*R+2*f.length),K.writeUInt16(0),K.writeUInt16(Y),K.writeUInt16(F),K.writeUInt16(g),K.writeUInt16(H),ae=0,C=p.length;ae<C;ae++)i=p[ae],K.writeUInt16(i);for(K.writeUInt16(0),fe=0,q=I.length;fe<q;fe++)i=I[fe],K.writeUInt16(i);for(be=0,W=l.length;be<W;be++)o=l[be],K.writeUInt16(o);for(Ae=0,X=G.length;Ae<X;Ae++)A=G[Ae],K.writeUInt16(A);for(Ce=0,te=f.length;Ce<te;Ce++)S=f[Ce],K.writeUInt16(S);return{charMap:n,subtable:K.data,maxGlyphID:b+1}}},t}(),s4=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Yi(t,Li),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new m5(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=m5.encode(e,r),(i=new Na).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),M7=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Yi(t,Li),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),B7=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Yi(t,Li),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),U7=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Yi(t,Li),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(e.readUInt32());return l}).call(this)}},t}(),z7=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},$7=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Yi(t,Li),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,s,a,o,l,u,d,p,g;for(e.pos=this.offset,e.readShort(),r=e.readShort(),o=e.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},s=d=0,p=n.length;d<p;s=++d)i=n[s],e.pos=i.offset,u=e.readString(i.length),a=new z7(u,i),l[g=i.nameID]==null&&(l[g]=[]),l[i.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),q7=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Yi(t,Li),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),W7=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Yi(t,Li),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,s,a,o,l;for(e.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)d.push(e.readInt16());return d}(),this.widths=(function(){var u,d,p,g;for(g=[],u=0,d=(p=this.metrics).length;u<d;u++)s=p[u],g.push(s.advance);return g}).call(this),n=this.widths[this.widths.length-1],l=[],r=a=0;0<=i?a<i:a>i;r=0<=i?++a:--a)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),a4=[].slice,H7=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Yi(t,Li),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,s,a,o,l,u,d,p;return e in this.cache?this.cache[e]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,a=(o=new Na(r.read(i))).readShort(),u=o.readShort(),p=o.readShort(),l=o.readShort(),d=o.readShort(),this.cache[e]=a===-1?new G7(o,u,p,l,d):new V7(o,a,u,p,l,d),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,s,a,o,l;for(a=[],s=[],o=0,l=r.length;o<l;o++)i=e[r[o]],s.push(a.length),i&&(a=a.concat(i.encode(n)));return s.push(a.length),{table:a,offsets:s}},t}(),V7=function(){function t(e,r,n,i,s,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),G7=function(){function t(e,r,n,i,s){var a,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Na(a4.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),K7=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Yi(t,Li),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<n.length;++a)if(n[a]=i,s<r.length&&r[s]==a){++s,n[a]=i;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(i+=l)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},t}(),J7=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,a,o,l,u,d,p,g,f,k,S,x,y;for(i in n=s4.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),f={0:0},y=n.charMap)f[(l=y[i]).old]=l.new;for(k in g=n.maxGlyphID,a)k in f||(f[k]=g++);return d=function(_){var b,A;for(b in A={},_)A[_[b]]=b;return A}(f),p=Object.keys(d).sort(function(_,b){return _-b}),S=function(){var _,b,A;for(A=[],_=0,b=p.length;_<b;_++)o=p[_],A.push(d[o]);return A}(),s=this.font.glyf.encode(a,S,f),u=this.font.loca.encode(s.offsets,S),x={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},t}();Be.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,a;if(Array.isArray(r))return"["+function(){var o,l,u;for(u=[],o=0,l=r.length;o<l;o++)n=r[o],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)a=r[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+r},e}();function o4(t,e,r,n,i){n=n||{};var s=1.15,a=i.internal.scaleFactor,o=i.internal.getFontSize()/a,l=i.getLineHeightFactor?i.getLineHeightFactor():s,u=o*l,d=/\r\n|\r|\n/g,p="",g=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(p=typeof t=="string"?t.split(d):t,g=p.length||1),r+=o*(2-s),n.valign==="middle"?r-=g/2*u:n.valign==="bottom"&&(r-=g*u),n.halign==="center"||n.halign==="right"){var f=o;if(n.halign==="center"&&(f*=.5),p&&g>=1){for(var k=0;k<p.length;k++)i.text(p[k],e-i.getStringUnitWidth(p[k])*f,r),r+=u;return i}e-=i.getStringUnitWidth(t)*f}return n.halign==="justify"?i.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(t,e,r),i}var g5={},Nl=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:g5=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,i,s;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var a=this.jsPDFDocument.internal.getFont(),o=a.fontStyle,l=a.fontName;if(e.font&&(l=e.font),e.fontStyle){o=e.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),o=u[0])}if(this.jsPDFDocument.setFont(l,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var d=t.unifyColor(e.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),d=t.unifyColor(e.textColor),d&&(i=this.jsPDFDocument).setTextColor.apply(i,d),d=t.unifyColor(e.lineColor),d&&(s=this.jsPDFDocument).setDrawColor.apply(s,d),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,i,s){return this.jsPDFDocument.rect(e,r,n,i,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return g5||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),Xm=function(t,e){return Xm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Xm(t,e)};function l4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Xm(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var u4=function(t){l4(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e}(Array);function Y7(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Q7(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function tf(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],i=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,a){return Math.max(s,a)},0);return i}function c4(t,e,r,n){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var a=d4(i,!1);a&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,a)}function d4(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function Tf(t,e){var r,n,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function h4(t,e){var r=Tf(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function X7(t,e,r,n,i){var s={},a=1.3333333333333333,o=_0(e,function(b){return i.getComputedStyle(b).backgroundColor});o!=null&&(s.fillColor=o);var l=_0(e,function(b){return i.getComputedStyle(b).color});l!=null&&(s.textColor=l);var u=eC(n,r);u&&(s.cellPadding=u);var d="borderTopColor",p=a*r,g=n.borderTopWidth;if(n.borderBottomWidth===g&&n.borderRightWidth===g&&n.borderLeftWidth===g){var f=(parseFloat(g)||0)/p;f&&(s.lineWidth=f)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/p,right:(parseFloat(n.borderRightWidth)||0)/p,bottom:(parseFloat(n.borderBottomWidth)||0)/p,left:(parseFloat(n.borderLeftWidth)||0)/p},s.lineWidth.top||(s.lineWidth.right?d="borderRightColor":s.lineWidth.bottom?d="borderBottomColor":s.lineWidth.left&&(d="borderLeftColor"));var k=_0(e,function(b){return i.getComputedStyle(b)[d]});k!=null&&(s.lineColor=k);var S=["left","right","center","justify"];S.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),S=["middle","bottom","top"],S.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var x=parseInt(n.fontSize||"");isNaN(x)||(s.fontSize=x/a);var y=Z7(n);y&&(s.fontStyle=y);var _=(n.fontFamily||"").toLowerCase();return t.indexOf(_)!==-1&&(s.font=_),s}function Z7(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function _0(t,e){var r=f4(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function f4(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:f4(t.parentElement,e):r}function eC(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=r.map(function(o){return parseInt(o||"0")/n}),a=Tf(s,0);return i>a.top&&(a.top=i),i>a.bottom&&(a.bottom=i),a}function p4(t,e,r,n,i){var s,a;n===void 0&&(n=!1),i===void 0&&(i=!1);var o;typeof e=="string"?o=r.document.querySelector(e):o=e;var l=Object.keys(t.getFontList()),u=t.scaleFactor(),d=[],p=[],g=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:d,body:p,foot:g};for(var f=0;f<o.rows.length;f++){var k=o.rows[f],S=(a=(s=k==null?void 0:k.parentElement)===null||s===void 0?void 0:s.tagName)===null||a===void 0?void 0:a.toLowerCase(),x=tC(l,u,r,k,n,i);x&&(S==="thead"?d.push(x):S==="tfoot"?g.push(x):p.push(x))}return{head:d,body:p,foot:g}}function tC(t,e,r,n,i,s){for(var a=new u4(n),o=0;o<n.cells.length;o++){var l=n.cells[o],u=r.getComputedStyle(l);if(i||u.display!=="none"){var d=void 0;s&&(d=X7(t,l,e,u,r)),a.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:d,_element:l,content:rC(l)})}}var p=r.getComputedStyle(n);if(a.length>0&&(i||p.display!=="none"))return a}function rC(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function nC(t,e,r){for(var n=0,i=[t,e,r];n<i.length;n++){var s=i[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function ks(t,e,r,n,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),a=1;a<arguments.length;a++){var o=arguments[a];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s}function m4(t,e){var r=new Nl(t),n=r.getDocumentOptions(),i=r.getGlobalOptions();nC(i,n,e);var s=ks({},i,n,e),a;typeof window<"u"&&(a=window);var o=iC(i,n,e),l=sC(i,n,e),u=aC(r,s),d=lC(r,s,a);return{id:e.tableId,content:d,hooks:l,styles:o,settings:u}}function iC(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var u=t[l],d=e[l],p=r[l];n.columnStyles=ks({},u,d,p)}else{var g=[t,e,r],f=g.map(function(k){return k[l]||{}});n[l]=ks({},f[0],f[1],f[2])}},s=0,a=Object.keys(n);s<a.length;s++){var o=a[s];i(o)}return n}function sC(t,e,r){for(var n=[t,e,r],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,a=n;s<a.length;s++){var o=a[s];o.didParseCell&&i.didParseCell.push(o.didParseCell),o.willDrawCell&&i.willDrawCell.push(o.willDrawCell),o.didDrawCell&&i.didDrawCell.push(o.didDrawCell),o.willDrawPage&&i.willDrawPage.push(o.willDrawPage),o.didDrawPage&&i.didDrawPage.push(o.didDrawPage)}return i}function aC(t,e){var r,n,i,s,a,o,l,u,d,p,g,f,k=Tf(e.margin,40/t.scaleFactor()),S=(r=oC(t,e.startY))!==null&&r!==void 0?r:k.top,x;e.showFoot===!0?x="everyPage":e.showFoot===!1?x="never":x=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var y;e.showHead===!0?y="everyPage":e.showHead===!1?y="never":y=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var _=(s=e.useCss)!==null&&s!==void 0?s:!1,b=e.theme||(_?"plain":"striped"),A=!!e.horizontalPageBreak,M=(a=e.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:_,theme:b,startY:S,margin:k,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=e.tableWidth)!==null&&d!==void 0?d:"auto",showHead:y,showFoot:x,tableLineWidth:(p=e.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(g=e.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:A,horizontalPageBreakRepeat:M,horizontalPageBreakBehaviour:(f=e.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function oC(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),i=t.pageNumber(),s=!1;if(r&&r.startPageNumber){var a=r.startPageNumber+r.pageNumber-1;s=a===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function lC(t,e,r){var n=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var a=e.includeHiddenHtml;if(r){var o=p4(t,e.html,r,a,e.useCss)||{};n=o.head||n,i=o.body||n,s=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=e.columns||uC(n,i,s);return{columns:l,head:n,body:i,foot:s}}function uC(t,e,r){var n=t[0]||e[0]||r[0]||[],i=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var a=1,o;Array.isArray(n)?o=n[parseInt(s)]:o=n[s],typeof o=="object"&&!Array.isArray(o)&&(a=(o==null?void 0:o.colSpan)||1);for(var l=0;l<a;l++){var u=void 0;Array.isArray(n)?u=i.length:u=s+(l>0?"_".concat(l):"");var d={dataKey:u};i.push(d)}}),i}var Zm=function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t}(),cC=function(t){l4(e,t);function e(r,n,i,s,a,o){var l=t.call(this,r,n,o)||this;return l.cell=i,l.row=s,l.column=a,l.section=s.section,l}return e}(Zm),dC=function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,i,s,a){for(var o=0,l=r;o<l.length;o++){var u=l[o],d=new cC(e,this,n,i,s,a),p=u(d)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],p)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var s=i[n];s(new Zm(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var s=i[n];s(new Zm(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t}(),g4=function(){function t(e,r,n,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof u4&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,i){var s;return Math.max(n,((s=r.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var i=r.cells[n.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(i,s){var a=n.cells[s.index];if(!a)return 0;var o=r.getLineHeight(a.styles.fontSize),l=a.padding("vertical"),u=l+o;return u>i?u:i},0)},t}(),v4=function(){function t(e,r,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var a=s!=null?""+s:"",o=/\r\n|\r|\n/g;this.text=a.split(o)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*r,s=n*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=Tf(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t}(),hC=function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,i=e.allRows();n<i.length;n++){var s=i[n],a=s.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(r=Math.max(r,a.styles.cellWidth))}return r},t}();function fC(t,e){pC(t,e);var r=[],n=0;e.columns.forEach(function(s){var a=s.getMaxCustomCellWidth(e);a?s.width=a:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var i=e.getWidth(t.pageSize().width)-n;i&&(i=e1(r,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=e1(r,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),gC(e),vC(e,t),mC(e)}function pC(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,i=h4(t,e);e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var l=o[a],u=s.cells[l.index];if(u){var d=e.hooks.didParseCell;e.callCellHooks(t,d,u,s,l,null);var p=u.padding("horizontal");u.contentWidth=tf(u.text,u.styles,t)+p;var g=tf(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=g+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var f=10/r;u.minWidth=u.styles.minCellWidth||f,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var l=o[a],u=s.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var d=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},p=d.cellWidth||d.minCellWidth;p&&typeof p=="number"&&(l.minWidth=p,l.wrappedWidth=p)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function e1(t,e,r){for(var n=e,i=t.reduce(function(f,k){return f+k.wrappedWidth},0),s=0;s<t.length;s++){var a=t[s],o=a.wrappedWidth/i,l=n*o,u=a.width+l,d=r(a),p=u<d?d:u;e-=p-a.width,a.width=p}if(e=Math.round(e*1e10)/1e10,e){var g=t.filter(function(f){return e<0?f.width>r(f):!0});g.length&&(e=e1(g,e,r))}return e}function mC(t){for(var e={},r=1,n=t.allRows(),i=0;i<n.length;i++)for(var s=n[i],a=0,o=t.columns;a<o.length;a++){var l=o[a],u=e[l.index];if(r>1)r--,delete s.cells[l.index];else if(u)u.cell.height+=s.height,r=u.cell.colSpan,delete s.cells[l.index],u.left--,u.left<=1&&delete e[l.index];else{var d=s.cells[l.index];if(!d)continue;if(d.height=s.height,d.rowSpan>1){var p=n.length-i,g=d.rowSpan>p?p:d.rowSpan;e[l.index]={cell:d,left:g,row:s}}}}}function gC(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],i=null,s=0,a=0,o=0;o<t.columns.length;o++){var l=t.columns[o];if(a-=1,a>1&&t.columns[o+1])s+=l.width,delete n.cells[l.index];else if(i){var u=i;delete n.cells[l.index],i=null,u.width=l.width+s}else{var u=n.cells[l.index];if(!u)continue;if(a=u.colSpan,s=0,u.colSpan>1){i=u,s+=l.width;continue}u.width=l.width+s}}}function vC(t,e){for(var r={count:0,height:0},n=0,i=t.allRows();n<i.length;n++){for(var s=i[n],a=0,o=t.columns;a<o.length;a++){var l=o[a],u=s.cells[l.index];if(u){e.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,d+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=v5(u.text,d,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=v5(u.text,d,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var p=u.styles.overflow(u.text,d);typeof p=="string"?u.text=[p]:u.text=p}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var g=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<g*u.rowSpan?r={height:g,count:u.rowSpan}:r&&r.count>0&&r.height>g&&(g=r.height),g>s.height&&(s.height=g)}}r.count--}}function v5(t,e,r,n,i){return t.map(function(s){return yC(s,e,r,n,i)})}function yC(t,e,r,n,i){var s=1e4*n.scaleFactor();if(e=Math.ceil(e*s)/s,e>=tf(t,r,n))return t;for(;e<tf(t+i,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function y4(t,e){var r=new Nl(t),n=wC(e,r.scaleFactor()),i=new dC(e,n);return fC(r,i),r.applyStyles(r.userStyles),i}function wC(t,e){var r=t.content,n=xC(r.columns);if(r.head.length===0){var i=y5(n,"head");i&&r.head.push(i)}if(r.foot.length===0){var i=y5(n,"foot");i&&r.foot.push(i)}var s=t.settings.theme,a=t.styles;return{columns:n,head:S0("head",r.head,n,a,s,e),body:S0("body",r.body,n,a,s,e),foot:S0("foot",r.foot,n,a,s,e)}}function S0(t,e,r,n,i,s){var a={},o=e.map(function(l,u){for(var d=0,p={},g=0,f=0,k=0,S=r;k<S.length;k++){var x=S[k];if(a[x.index]==null||a[x.index].left===0)if(f===0){var y=void 0;Array.isArray(l)?y=l[x.index-g-d]:y=l[x.dataKey];var _={};typeof y=="object"&&!Array.isArray(y)&&(_=(y==null?void 0:y.styles)||{});var b=_C(t,x,u,i,n,s,_),A=new v4(y,b,t);p[x.dataKey]=A,p[x.index]=A,f=A.colSpan-1,a[x.index]={left:A.rowSpan-1,times:f}}else f--,g++;else a[x.index].left--,f=a[x.index].times,d++}return new g4(l,u,t,p)});return o}function y5(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var i=bC(e,n.raw);i!=null&&(r[n.dataKey]=i)}}),Object.keys(r).length>0?r:null}function bC(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function xC(t){return t.map(function(e,r){var n,i;return typeof e=="object"?i=(n=e.dataKey)!==null&&n!==void 0?n:r:i=r,new hC(i,e,r)})}function _C(t,e,r,n,i,s,a){var o=Q7(n),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var u=ks({},o.table,o[t],i.styles,l),d=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},p=t==="body"?d:{},g=t==="body"&&r%2===0?ks({},o.alternateRow,i.alternateRowStyles):{},f=Y7(s),k=ks({},f,u,g,p);return ks(k,a)}function SC(t,e,r){var n;r===void 0&&(r={});var i=h4(t,e),s=new Map,a=[],o=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(g){var f=e.columns.find(function(k){return k.dataKey===g||k.index===g});f&&!s.has(f.index)&&(s.set(f.index,!0),a.push(f.index),o.push(e.columns[f.index]),i-=f.wrappedWidth)});for(var u=!0,d=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;d<e.columns.length;){if(s.has(d)){d++;continue}var p=e.columns[d].wrappedWidth;if(u||i>=p)u=!1,a.push(d),o.push(e.columns[d]),i-=p;else break;d++}return{colIndexes:a,columns:o,lastIndex:d-1}}function kC(t,e){for(var r=[],n=0;n<e.columns.length;n++){var i=SC(t,e,{start:n});i.columns.length&&(r.push(i),n=i.lastIndex)}return r}function w4(t,e){var r=e.settings,n=r.startY,i=r.margin,s={x:i.left,y:n},a=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=n+i.bottom+a;if(r.pageBreak==="avoid"){var l=e.body,u=l.reduce(function(g,f){return g+f.height},0);o+=u}var d=new Nl(t);(r.pageBreak==="always"||r.startY!=null&&o>d.pageSize().height)&&(x4(d),s.y=i.top),e.callWillDrawPageHooks(d,s);var p=ks({},s);e.startPageNumber=d.pageNumber(),r.horizontalPageBreak?NC(d,e,p,s):(d.applyStyles(d.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(g){return Ts(d,e,g,s,e.columns)}),d.applyStyles(d.userStyles),e.body.forEach(function(g,f){var k=f===e.body.length-1;rf(d,e,g,k,p,s,e.columns)}),d.applyStyles(d.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(g){return Ts(d,e,g,s,e.columns)})),c4(d,e,p,s),e.callEndPageHooks(d,s),e.finalY=s.y,t.lastAutoTable=e,d.applyStyles(d.userStyles)}function NC(t,e,r,n){var i=kC(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,d){t.applyStyles(t.userStyles),d>0?Xu(t,e,r,n,u.columns,!0):w5(t,e,n,u.columns),AC(t,e,r,n,u.columns),k0(t,e,n,u.columns)});else for(var a=-1,o=i[0],l=function(){var u=a;if(o){t.applyStyles(t.userStyles);var d=o.columns;a>=0?Xu(t,e,r,n,d,!0):w5(t,e,n,d),u=b5(t,e,a+1,n,d),k0(t,e,n,d)}var p=u-a;i.slice(1).forEach(function(g){t.applyStyles(t.userStyles),Xu(t,e,r,n,g.columns,!0),b5(t,e,a+1,n,g.columns,p),k0(t,e,n,g.columns)}),a=u};a<e.body.length-1;)l()}function w5(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return Ts(t,e,s,r,n)})}function AC(t,e,r,n,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,a){var o=a===e.body.length-1;rf(t,e,s,o,r,n,i)})}function b5(t,e,r,n,i,s){t.applyStyles(t.userStyles),s=s??e.body.length;var a=Math.min(r+s,e.body.length),o=-1;return e.body.slice(r,a).forEach(function(l,u){var d=r+u===e.body.length-1,p=b4(t,e,d,n);l.canEntireRowFit(p,i)&&(Ts(t,e,l,n,i),o=r+u)}),o}function k0(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return Ts(t,e,s,r,n)})}function jC(t,e,r){var n=r.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/n);return Math.max(0,s)}function EC(t,e,r,n){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,a=0,o=r.columns;a<o.length;a++){var l=o[a],u=t.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new v4(u.raw,u.styles,u.section);d=ks(d,u),d.text=[];var p=jC(u,e,n);u.text.length>p&&(d.text=u.text.splice(p,u.text.length));var g=n.scaleFactor(),f=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(g,f),u.contentHeight>=e&&(u.contentHeight=e,d.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),d.contentHeight=d.getContentHeight(g,f),d.contentHeight>s&&(s=d.contentHeight),i[l.index]=d}}var k=new g4(t.raw,-1,t.section,i,!0);k.height=s;for(var S=0,x=r.columns;S<x.length;S++){var l=x[S],d=k.cells[l.index];d&&(d.height=k.height);var u=t.cells[l.index];u&&(u.height=t.height)}return k}function LC(t,e,r,n){var i=t.pageSize().height,s=n.settings.margin,a=s.top+s.bottom,o=i-a;e.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=e.getMinimumRowHeight(n.columns,t),u=l<r;if(l>o)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=e.hasRowSpan(n.columns),p=e.getMaxCellHeight(n.columns)>o;return p?(d&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||n.settings.rowPageBreak==="avoid")}function rf(t,e,r,n,i,s,a){var o=b4(t,e,n,s);if(r.canEntireRowFit(o,a))Ts(t,e,r,s,a);else if(LC(t,r,o,e)){var l=EC(r,o,e,t);Ts(t,e,r,s,a),Xu(t,e,i,s,a),rf(t,e,l,n,i,s,a)}else Xu(t,e,i,s,a),rf(t,e,r,n,i,s,a)}function Ts(t,e,r,n,i){n.x=e.settings.margin.left;for(var s=0,a=i;s<a.length;s++){var o=a[s],l=r.cells[o.index];if(!l){n.x+=o.width;continue}t.applyStyles(l.styles),l.x=n.x,l.y=n.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,l,r,o,n);if(u===!1){n.x+=o.width;continue}CC(t,l,n);var d=l.getTextPos();o4(l.text,d.x,d.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function CC(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=d4(n.lineWidth,n.fillColor);i&&t.rect(e.x,r.y,e.width,e.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),PC(t,e,r,n.lineWidth))}function PC(t,e,r,n){var i,s,a,o;n.top&&(i=r.x,s=r.y,a=r.x+e.width,o=r.y,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),l(n.top,i,s,a,o)),n.bottom&&(i=r.x,s=r.y+e.height,a=r.x+e.width,o=r.y+e.height,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),l(n.bottom,i,s,a,o)),n.left&&(i=r.x,s=r.y,a=r.x,o=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,i,s,a,o)),n.right&&(i=r.x+e.width,s=r.y,a=r.x+e.width,o=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,i,s,a,o));function l(u,d,p,g,f){t.getDocument().setLineWidth(u),t.getDocument().line(d,p,g,f,"S")}}function b4(t,e,r,n){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-i}function Xu(t,e,r,n,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(o){return Ts(t,e,o,n,i)}),e.callEndPageHooks(t,n);var a=e.settings.margin;c4(t,e,r,n),x4(t),e.pageNumber++,n.x=a.left,n.y=a.top,r.y=a.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return Ts(t,e,o,n,i)}),t.applyStyles(t.userStyles))}function x4(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function TC(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],i=m4(this,n),s=y4(this,i);return w4(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,i){o4(e,r,n,i,this)},t.API.autoTableSetDefaults=function(e){return Nl.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){Nl.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Nl(this),s=p4(i,e,window,r,!1),a=s.head,o=s.body,l=((n=a[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:l,rows:o,data:o}}}var N0;function Of(t,e){var r=m4(t,e),n=y4(t,r);w4(t,n)}try{if(typeof window<"u"&&window){var x5=window,_5=x5.jsPDF||((N0=x5.jspdf)===null||N0===void 0?void 0:N0.jsPDF);_5&&TC(_5)}}catch(t){console.error("Could not apply autoTable plugin",t)}function OC({isOpen:t,onClose:e}){const{user:r}=Rs(),[n,i]=ee.useState(!1),[s,a]=ee.useState(null),o=ee.useRef(null);if(!t)return null;const l=async()=>{if(r){i(!0),a(null);try{const[p,g]=await Promise.all([pt.from("timetable_entries").select("*").eq("user_id",r.id),pt.from("smart_timetable_entries").select("*").eq("user_id",r.id)]),f={timestamp:new Date().toISOString(),timetable_entries:p.data||[],smart_timetable_entries:g.data||[]},k=new Blob([JSON.stringify(f,null,2)],{type:"application/json"}),S=URL.createObjectURL(k),x=document.createElement("a");x.href=S,x.download=`timetable_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(S),a({type:"success",text:"Backup downloaded successfully!"})}catch(p){console.error("Export error:",p),a({type:"error",text:"Failed to export data."})}finally{i(!1)}}},u=async()=>{if(r){i(!0),a(null);try{const{data:p}=await pt.from("timetable_entries").select("*").eq("user_id",r.id),{data:g}=await pt.from("smart_timetable_entries").select("*").eq("user_id",r.id),f=[...p||[],...g||[]],k={Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6,Sunday:7};f.sort((y,_)=>{const b=(k[y.day]||0)-(k[_.day]||0);return b!==0?b:y.start_time.localeCompare(_.start_time)});const S=new Be;S.setFontSize(20),S.text("My Timetable",14,22),S.setFontSize(10),S.text(`Generated on ${new Date().toLocaleDateString()}`,14,30);const x=f.map(y=>[y.day,`${y.start_time.slice(0,5)} - ${y.end_time.slice(0,5)}`,y.subject_name,y.room_number||"-",y.type.toUpperCase()]);Of(S,{head:[["Day","Time","Subject","Room","Type"]],body:x,startY:40,styles:{fontSize:10,cellPadding:3},headStyles:{fillColor:[147,51,234]},alternateRowStyles:{fillColor:[243,244,246]}}),S.save("timetable.pdf"),a({type:"success",text:"PDF downloaded successfully!"})}catch(p){console.error("PDF Export error:",p),a({type:"error",text:"Failed to generate PDF."})}finally{i(!1)}}},d=async p=>{var k;const g=(k=p.target.files)==null?void 0:k[0];if(!g||!r)return;i(!0),a(null);const f=new FileReader;f.onload=async S=>{var x;try{const y=JSON.parse((x=S.target)==null?void 0:x.result);if(!y.timetable_entries&&!y.smart_timetable_entries)throw new Error("Invalid backup file format");const _=(y.timetable_entries||[]).map(({id:A,created_at:M,...G})=>({...G,user_id:r.id})),b=(y.smart_timetable_entries||[]).map(({id:A,created_at:M,...G})=>({...G,user_id:r.id}));if(_.length>0){const{error:A}=await pt.from("timetable_entries").insert(_);if(A)throw A}if(b.length>0){const{error:A}=await pt.from("smart_timetable_entries").insert(b);if(A)throw A}a({type:"success",text:"Data imported successfully! Refreshing..."}),setTimeout(()=>window.location.reload(),1500)}catch(y){console.error("Import error:",y),a({type:"error",text:"Failed to import data. Invalid file."})}finally{i(!1),o.current&&(o.current.value="")}},f.readAsText(g)};return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/20 backdrop-blur-sm",children:m.jsx("div",{className:"bg-white/90 backdrop-blur-xl rounded-3xl shadow-2xl w-full max-w-md overflow-hidden border border-white/50 animate-in fade-in zoom-in duration-200",children:m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"App Settings"}),m.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:m.jsx(Oc,{className:"h-5 w-5 text-slate-500"})})]}),s&&m.jsxs("div",{className:`mb-4 p-3 rounded-xl flex items-center gap-2 text-sm font-medium ${s.type==="success"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[m.jsx(e_,{className:"h-4 w-4"}),s.text]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider",children:"Export Data"}),m.jsxs("button",{onClick:l,disabled:n,className:"w-full p-4 glass-card rounded-xl flex items-center justify-between hover:bg-white/60 transition-colors group",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 group-hover:scale-110 transition-transform",children:m.jsx(Af,{className:"h-5 w-5"})}),m.jsxs("div",{className:"text-left",children:[m.jsx("p",{className:"font-bold text-slate-700",children:"Backup as JSON"}),m.jsx("p",{className:"text-xs text-slate-500",children:"Save all your data to a file"})]})]}),m.jsx(Hv,{className:"h-5 w-5 text-slate-400"})]}),m.jsxs("button",{onClick:u,disabled:n,className:"w-full p-4 glass-card rounded-xl flex items-center justify-between hover:bg-white/60 transition-colors group",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center text-red-600 group-hover:scale-110 transition-transform",children:m.jsx(jf,{className:"h-5 w-5"})}),m.jsxs("div",{className:"text-left",children:[m.jsx("p",{className:"font-bold text-slate-700",children:"Export as PDF"}),m.jsx("p",{className:"text-xs text-slate-500",children:"Download printable timetable"})]})]}),m.jsx(Hv,{className:"h-5 w-5 text-slate-400"})]})]}),m.jsxs("div",{className:"space-y-2 pt-2",children:[m.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider",children:"Import Data"}),m.jsxs("button",{onClick:()=>{var p;return(p=o.current)==null?void 0:p.click()},disabled:n,className:"w-full p-4 glass-card rounded-xl flex items-center justify-between hover:bg-white/60 transition-colors group border-2 border-dashed border-slate-300 hover:border-purple-400",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center text-purple-600 group-hover:scale-110 transition-transform",children:m.jsx(Ef,{className:"h-5 w-5"})}),m.jsxs("div",{className:"text-left",children:[m.jsx("p",{className:"font-bold text-slate-700",children:"Restore from Backup"}),m.jsx("p",{className:"text-xs text-slate-500",children:"Upload a JSON file to restore"})]})]}),n&&m.jsx(ql,{className:"h-5 w-5 animate-spin text-purple-600"})]}),m.jsx("input",{type:"file",ref:o,onChange:d,accept:".json",className:"hidden"})]})]})]})})})}const RC="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";async function IC(){try{const t=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${RC}`,"Content-Type":"application/json"},body:JSON.stringify({model:"x-ai/grok-4.1-fast:free",messages:[{role:"user",content:"Give me a short, inspiring quote for a university student. Format it as JSON with 'quote' and 'author' fields. Do not include any markdown formatting."}],reasoning:{enabled:!0}})});if(!t.ok)throw new Error(`API call failed: ${t.statusText}`);const r=(await t.json()).choices[0].message.content;try{const n=r.replace(/```json\n?|\n?```/g,"").trim();return JSON.parse(n)}catch(n){return console.warn("Failed to parse JSON from AI response, returning raw text",n),{quote:r,author:"AI Assistant"}}}catch(t){throw console.error("Error fetching AI quote:",t),t}}const DC=[{name:"Purple",value:"purple",class:"bg-purple-500"},{name:"Blue",value:"blue",class:"bg-blue-500"},{name:"Green",value:"green",class:"bg-emerald-500"},{name:"Orange",value:"orange",class:"bg-orange-500"},{name:"Pink",value:"pink",class:"bg-pink-500"}];function FC(){var H;const{user:t}=Rs(),e=ji(),[r,n]=ee.useState(null),[i,s]=ee.useState(!0),[a,o]=ee.useState(!1),[l,u]=ee.useState(!1),[d,p]=ee.useState(null),[g,f]=ee.useState(!1),[k,S]=ee.useState(!1),x=async()=>{try{f(!0);const F=await IC();p(F)}catch(F){console.error("Failed to load quote",F)}finally{f(!1)}};ee.useEffect(()=>{x()},[]);const y=async()=>{if(t)try{const{data:F,error:R}=await pt.from("profiles").select("*").eq("id",t.id).single();R&&R.code!=="PGRST116"&&console.error("Error fetching profile:",R);const Y=F||{full_name:"",university:"",branch:"",semester:"",theme_preference:"light",attendance_goal:75,accent_color:"purple",cgpa:0,credits:0,avatar_url:null};n(Y),document.documentElement.setAttribute("data-theme",Y.accent_color||"purple")}catch(F){console.error("Error:",F)}finally{s(!1)}};ee.useEffect(()=>{y()},[t]);const _=async()=>{await pt.auth.signOut(),e("/login")},b=async F=>{!t||!r||(n({...r,accent_color:F}),document.documentElement.setAttribute("data-theme",F),await pt.from("profiles").update({accent_color:F}).eq("id",t.id))},A=async F=>{if(!t||!r)return;const R=parseInt(F.target.value);n({...r,attendance_goal:R}),await pt.from("profiles").update({attendance_goal:R}).eq("id",t.id)},M=async F=>{try{if(S(!0),!F.target.files||F.target.files.length===0)throw new Error("You must select an image to upload.");const R=F.target.files[0],Y=R.name.split(".").pop(),I=`${`${Math.random()}.${Y}`}`,{error:J}=await pt.storage.from("avatars").upload(I,R);if(J)throw J;const{data:K}=pt.storage.from("avatars").getPublicUrl(I),ue=K.publicUrl;if(t&&r){const{error:ce}=await pt.from("profiles").update({avatar_url:ue}).eq("id",t.id);if(ce)throw ce;n({...r,avatar_url:ue})}}catch(R){alert("Error uploading avatar!"),console.error(R)}finally{S(!1)}},G=async()=>{if(!(!t||!confirm("Are you sure you want to delete all timetable and attendance data? This action cannot be undone.")))try{s(!0),await pt.from("timetable_entries").delete().eq("user_id",t.id),await pt.from("smart_timetable_entries").delete().eq("user_id",t.id),await pt.from("attendance_logs").delete().eq("user_id",t.id),alert("All data has been reset successfully.")}catch(F){console.error("Error resetting data:",F),alert("Failed to reset data.")}finally{s(!1)}};return i?m.jsx("div",{className:"flex h-full items-center justify-center pt-20",children:m.jsx(ql,{className:"h-8 w-8 animate-spin text-primary-600"})}):m.jsxs("div",{className:"p-6 space-y-8 pb-32",children:[m.jsx("h1",{className:"text-2xl font-bold text-slate-800 mt-4",children:"Profile"}),m.jsxs("div",{className:"glass-card rounded-3xl p-6 flex items-center gap-4",children:[m.jsxs("div",{className:"relative group",children:[m.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-pink-500 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-lg overflow-hidden",children:r!=null&&r.avatar_url?m.jsx("img",{src:r.avatar_url,alt:"Avatar",className:"w-full h-full object-cover"}):r!=null&&r.full_name?r.full_name[0].toUpperCase():(H=t==null?void 0:t.email)==null?void 0:H[0].toUpperCase()}),m.jsxs("label",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:[m.jsx("span",{className:"text-white text-xs font-medium",children:k?"...":"Edit"}),m.jsx("input",{type:"file",accept:"image/*",onChange:M,disabled:k,className:"hidden"})]})]}),m.jsxs("div",{className:"overflow-hidden flex-1",children:[m.jsx("h2",{className:"text-lg font-bold text-slate-800 truncate",children:(r==null?void 0:r.full_name)||"Student"}),m.jsx("p",{className:"text-sm text-slate-500 truncate",children:t==null?void 0:t.email}),((r==null?void 0:r.university)||(r==null?void 0:r.branch))&&m.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-slate-400",children:[m.jsx(i_,{className:"h-3 w-3"}),m.jsxs("span",{className:"truncate",children:[r.university," ",r.branch&&` ${r.branch}`," ",r.semester&&` ${r.semester}`]})]}),((r==null?void 0:r.cgpa)||(r==null?void 0:r.credits))&&m.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs font-medium",children:[r.cgpa>0&&m.jsxs("span",{className:"bg-emerald-100 text-emerald-700 px-2 py-0.5 rounded-md",children:["CGPA: ",r.cgpa]}),r.credits>0&&m.jsxs("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded-md",children:["Credits: ",r.credits]})]})]}),m.jsx("button",{onClick:()=>o(!0),className:"p-2 bg-white/50 rounded-full hover:bg-white transition-colors",children:m.jsx(Gv,{className:"h-5 w-5 text-slate-600"})})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-center justify-between ml-2",children:[m.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Daily Inspiration"}),m.jsx("button",{onClick:x,disabled:g,className:"p-1.5 rounded-full hover:bg-slate-100 text-slate-400 hover:text-primary-600 transition-colors disabled:opacity-50",children:m.jsx(XA,{className:Wt("h-4 w-4",g&&"animate-spin")})})]}),m.jsxs("div",{className:"glass-card rounded-3xl p-6 relative overflow-hidden group",children:[m.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:m.jsx(ZA,{className:"h-24 w-24 text-primary-500"})}),g&&!d?m.jsxs("div",{className:"flex flex-col gap-2 animate-pulse",children:[m.jsx("div",{className:"h-4 bg-slate-200 rounded w-3/4"}),m.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2"}),m.jsx("div",{className:"h-3 bg-slate-200 rounded w-1/4 mt-2 ml-auto"})]}):m.jsxs("div",{className:"relative z-10",children:[m.jsxs("p",{className:"text-lg font-medium text-slate-700 italic leading-relaxed",children:['"',(d==null?void 0:d.quote)||"Believe you can and you're halfway there.",'"']}),m.jsxs("p",{className:"text-sm text-primary-600 font-semibold mt-3 text-right",children:[" ",(d==null?void 0:d.author)||"Theodore Roosevelt"]})]})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider ml-2",children:"Appearance"}),m.jsxs("div",{className:"glass-card rounded-3xl p-5 space-y-4",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center text-primary-600",children:m.jsx(GA,{className:"h-4 w-4"})}),m.jsx("span",{className:"font-medium text-slate-700",children:"Accent Color"})]}),m.jsx("div",{className:"flex justify-between gap-2",children:DC.map(F=>m.jsx("button",{onClick:()=>b(F.value),className:Wt("w-10 h-10 rounded-full transition-all flex items-center justify-center",F.class,(r==null?void 0:r.accent_color)===F.value?"ring-4 ring-white shadow-lg scale-110":"opacity-70 hover:opacity-100"),title:F.name},F.value))})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider ml-2",children:"Goals"}),m.jsxs("div",{className:"glass-card rounded-3xl p-5",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-100 flex items-center justify-center text-emerald-600",children:m.jsx(ej,{className:"h-4 w-4"})}),m.jsx("span",{className:"font-medium text-slate-700",children:"Attendance Goal"})]}),m.jsxs("span",{className:"font-bold text-primary-600",children:[r==null?void 0:r.attendance_goal,"%"]})]}),m.jsx("input",{type:"range",min:"0",max:"100",value:(r==null?void 0:r.attendance_goal)||75,onChange:A,className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-primary-600"}),m.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-2",children:[m.jsx("span",{children:"0%"}),m.jsx("span",{children:"50%"}),m.jsx("span",{children:"100%"})]})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider ml-2",children:"Preferences"}),m.jsx("div",{className:"glass-card rounded-3xl overflow-hidden",children:m.jsx("div",{className:"divide-y divide-slate-100",children:m.jsxs("button",{onClick:()=>u(!0),className:"w-full p-4 flex items-center justify-between hover:bg-white/40 transition-colors",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-slate-600",children:m.jsx(Gv,{className:"h-4 w-4"})}),m.jsx("span",{className:"font-medium text-slate-700",children:"App Settings"})]}),m.jsx(r_,{className:"h-4 w-4 text-slate-400"})]})})})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider ml-2",children:"Data Management"}),m.jsx("div",{className:"glass-card rounded-3xl overflow-hidden",children:m.jsx("button",{onClick:G,className:"w-full p-4 flex items-center justify-between hover:bg-red-50 transition-colors group",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 flex items-center justify-center text-red-600 group-hover:bg-red-200 transition-colors",children:m.jsx(bo,{className:"h-4 w-4"})}),m.jsx("span",{className:"font-medium text-slate-700 group-hover:text-red-700 transition-colors",children:"Reset All Data"})]})})})]}),m.jsx("div",{className:"text-center py-6",children:m.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/30 text-slate-500 text-xs font-medium",children:[m.jsx($A,{className:"h-3 w-3"}),m.jsx("span",{children:"Version 2.9.0  Made By Ambalavanan "})]})}),m.jsxs("button",{onClick:_,className:"w-full glass-card rounded-2xl p-4 flex items-center justify-center gap-2 text-red-500 font-bold hover:bg-red-50 transition-colors",children:[m.jsx(a_,{className:"h-5 w-5"}),"Sign Out"]}),m.jsx(sE,{isOpen:a,onClose:()=>o(!1),currentProfile:r,onSuccess:y}),m.jsx(OC,{isOpen:l,onClose:()=>u(!1)})]})}function MC(){const t=ji();return m.jsxs("div",{className:"min-h-screen bg-slate-50 p-6 pb-24",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[m.jsx("button",{onClick:()=>t(-1),className:"p-2 bg-white rounded-full shadow-sm hover:bg-slate-100 transition-colors",children:m.jsx(Nf,{className:"h-6 w-6 text-slate-600"})}),m.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Developer"})]}),m.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[m.jsxs("div",{className:"glass-card rounded-3xl p-8 flex flex-col items-center text-center relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 left-0 w-full h-32 bg-gradient-to-br from-primary-500 to-purple-600 opacity-10"}),m.jsx("div",{className:"relative z-10 w-32 h-32 rounded-full p-1 bg-white shadow-xl mb-4",children:m.jsx("img",{src:"/developer.png",alt:"Ambalavanan M",className:"w-full h-full rounded-full object-cover"})}),m.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-1",children:"Ambalavanan M"}),m.jsx("p",{className:"text-primary-600 font-medium mb-6",children:"Developer"}),m.jsxs("div",{className:"w-full space-y-4",children:[m.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-xl",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600",children:m.jsx(i_,{className:"h-5 w-5"})}),m.jsxs("div",{className:"text-left",children:[m.jsx("p",{className:"text-xs text-slate-400 font-medium uppercase",children:"Degree"}),m.jsx("p",{className:"text-slate-700 font-semibold",children:"BSc Computer Science"})]})]}),m.jsxs("a",{href:"tel:+919894797490",className:"flex items-center gap-3 p-3 bg-white/50 rounded-xl hover:bg-white transition-colors",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center text-green-600",children:m.jsx(JA,{className:"h-5 w-5"})}),m.jsxs("div",{className:"text-left",children:[m.jsx("p",{className:"text-xs text-slate-400 font-medium uppercase",children:"Phone"}),m.jsx("p",{className:"text-slate-700 font-semibold",children:"+91 9894797490"})]})]}),m.jsxs("a",{href:"mailto:ambalavanan275@gmail.com",className:"flex items-center gap-3 p-3 bg-white/50 rounded-xl hover:bg-white transition-colors",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center text-red-600",children:m.jsx(VA,{className:"h-5 w-5"})}),m.jsxs("div",{className:"text-left overflow-hidden",children:[m.jsx("p",{className:"text-xs text-slate-400 font-medium uppercase",children:"Email"}),m.jsx("p",{className:"text-slate-700 font-semibold truncate",children:"ambalavanan275@gmail.com"})]})]})]}),m.jsxs("div",{className:"flex gap-4 mt-8",children:[m.jsx("a",{href:"https://github.com/ambalavanan01",target:"_blank",rel:"noopener noreferrer",className:"p-3 bg-slate-800 text-white rounded-full hover:bg-slate-700 transition-colors",children:m.jsx(UA,{className:"h-5 w-5"})}),m.jsx("a",{href:"https://instagram.com/iam_ambalavanan",target:"_blank",rel:"noopener noreferrer",className:"p-3 bg-pink-600 text-white rounded-full hover:bg-pink-500 transition-colors",children:m.jsx(qA,{className:"h-5 w-5"})}),m.jsx("a",{href:"https://ambalavanan-m.netlify.app/",target:"_blank",rel:"noopener noreferrer",className:"p-3 bg-emerald-500 text-white rounded-full hover:bg-emerald-400 transition-colors",children:m.jsx(zA,{className:"h-5 w-5"})})]})]}),m.jsx("div",{className:"text-center text-slate-400 text-sm",children:m.jsx("p",{children:"Designed & Built By Ambalavanan"})})]})]})}function BC(){const t=ji(),[e,r]=ee.useState([]),[n,i]=ee.useState(!0);ee.useEffect(()=>{s()},[]);const s=async()=>{try{const g=await xr.getAllNotes();r(g.sort((f,k)=>k.updatedAt.getTime()-f.updatedAt.getTime()))}catch(g){console.error("Failed to load notes",g)}finally{i(!1)}},a=async()=>{const g={id:crypto.randomUUID(),content:"",updatedAt:new Date};await xr.saveNote(g),r([g,...e])},o=async(g,f)=>{const k=e.find(S=>S.id===g);if(k){const S={...k,content:f,updatedAt:new Date};await xr.saveNote(S),r(e.map(x=>x.id===g?S:x))}},l=async g=>{confirm("Delete this note?")&&(await xr.deleteNote(g),r(e.filter(f=>f.id!==g)))},u=()=>{const g=JSON.stringify(e,null,2),f=new Blob([g],{type:"application/json"}),k=URL.createObjectURL(f),S=document.createElement("a");S.href=k,S.download="sticky_notes.json",document.body.appendChild(S),S.click(),document.body.removeChild(S)},d=()=>{const g=new Be;g.text("Sticky Notes",14,15);const f=e.map(k=>[k.updatedAt.toLocaleDateString(),k.content]);Of(g,{head:[["Date","Content"]],body:f,startY:20}),g.save("sticky_notes.pdf")},p=g=>{var S;const f=(S=g.target.files)==null?void 0:S[0];if(!f)return;const k=new FileReader;k.onload=async x=>{var y;try{const _=JSON.parse((y=x.target)==null?void 0:y.result);if(Array.isArray(_)){for(const b of _){const A={...b,updatedAt:new Date(b.updatedAt)};await xr.saveNote(A)}s(),alert("Notes imported successfully!")}}catch(_){console.error("Import failed",_),alert("Failed to import notes. Invalid format.")}},k.readAsText(f)};return m.jsxs("div",{className:"min-h-screen bg-slate-50 p-6 pb-24",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:()=>t(-1),className:"p-2 bg-white rounded-full shadow-sm hover:bg-slate-100 transition-colors",children:m.jsx(Nf,{className:"h-6 w-6 text-slate-600"})}),m.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Sticky Notes"})]}),m.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[m.jsxs("button",{onClick:u,className:"flex items-center gap-2 bg-white text-slate-600 px-3 py-2 rounded-lg hover:bg-slate-50 transition-colors shadow-sm text-sm font-medium",title:"Export JSON",children:[m.jsx(Af,{className:"h-4 w-4"}),m.jsx("span",{className:"hidden sm:inline",children:"JSON"})]}),m.jsxs("button",{onClick:d,className:"flex items-center gap-2 bg-white text-slate-600 px-3 py-2 rounded-lg hover:bg-slate-50 transition-colors shadow-sm text-sm font-medium",title:"Export PDF",children:[m.jsx(jf,{className:"h-4 w-4"}),m.jsx("span",{className:"hidden sm:inline",children:"PDF"})]}),m.jsxs("label",{className:"flex items-center gap-2 bg-white text-slate-600 px-3 py-2 rounded-lg hover:bg-slate-50 transition-colors shadow-sm text-sm font-medium cursor-pointer",children:[m.jsx(Ef,{className:"h-4 w-4"}),m.jsx("span",{className:"hidden sm:inline",children:"Import"}),m.jsx("input",{type:"file",accept:".json",onChange:p,className:"hidden"})]}),m.jsxs("button",{onClick:a,className:"flex items-center gap-2 bg-primary-600 text-white px-4 py-2 rounded-full hover:bg-primary-700 transition-colors shadow-md ml-2",children:[m.jsx(Tc,{className:"h-5 w-5"}),m.jsx("span",{children:"New Note"})]})]})]}),n?m.jsx("div",{className:"text-center py-10 text-slate-500",children:"Loading notes..."}):e.length===0?m.jsx("div",{className:"text-center py-20 text-slate-400",children:m.jsx("p",{children:"No notes yet. Create one to get started!"})}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(g=>m.jsxs("div",{className:"glass-card p-4 rounded-2xl flex flex-col h-64 relative group transition-all hover:shadow-lg bg-yellow-50/50 border-yellow-100",children:[m.jsx("textarea",{value:g.content,onChange:f=>o(g.id,f.target.value),placeholder:"Type your note here...",className:"flex-1 bg-transparent border-none resize-none focus:ring-0 text-slate-700 placeholder:text-slate-400 p-0 text-lg leading-relaxed"}),m.jsxs("div",{className:"flex justify-between items-center mt-4 opacity-0 group-hover:opacity-100 transition-opacity",children:[m.jsx("span",{className:"text-xs text-slate-400",children:g.updatedAt.toLocaleDateString()}),m.jsx("button",{onClick:()=>l(g.id),className:"p-2 hover:bg-red-50 text-slate-400 hover:text-red-500 rounded-full transition-colors",children:m.jsx(bo,{className:"h-4 w-4"})})]})]},g.id))})]})}function UC(){const t=ji(),[e,r]=ee.useState([]),[n,i]=ee.useState(!0),[s,a]=ee.useState(!1),[o,l]=ee.useState(""),[u,d]=ee.useState("");ee.useEffect(()=>{p();const _=setInterval(()=>{r(b=>[...b])},1e3);return()=>clearInterval(_)},[]);const p=async()=>{try{const _=await xr.getAllCountdowns();r(_.sort((b,A)=>b.targetDate.getTime()-A.targetDate.getTime()))}catch(_){console.error("Failed to load countdowns",_)}finally{i(!1)}},g=async _=>{if(_.preventDefault(),!o||!u)return;const b={id:crypto.randomUUID(),title:o,targetDate:new Date(u)};await xr.saveCountdown(b),r([...e,b].sort((A,M)=>A.targetDate.getTime()-M.targetDate.getTime())),a(!1),l(""),d("")},f=async _=>{confirm("Delete this countdown?")&&(await xr.deleteCountdown(_),r(e.filter(b=>b.id!==_)))},k=_=>{const b=_.getTime()-new Date().getTime();if(b<=0)return{days:0,hours:0,minutes:0,seconds:0,expired:!0};const A=Math.floor(b/1e3%60),M=Math.floor(b/1e3/60%60),G=Math.floor(b/(1e3*60*60)%24);return{days:Math.floor(b/(1e3*60*60*24)),hours:G,minutes:M,seconds:A,expired:!1}},S=()=>{const _=JSON.stringify(e,null,2),b=new Blob([_],{type:"application/json"}),A=URL.createObjectURL(b),M=document.createElement("a");M.href=A,M.download="countdowns.json",document.body.appendChild(M),M.click(),document.body.removeChild(M)},x=()=>{const _=new Be;_.text("Countdowns",14,15);const b=e.map(A=>[A.title,A.targetDate.toLocaleString()]);Of(_,{head:[["Title","Target Date"]],body:b,startY:20}),_.save("countdowns.pdf")},y=_=>{var M;const b=(M=_.target.files)==null?void 0:M[0];if(!b)return;const A=new FileReader;A.onload=async G=>{var H;try{const F=JSON.parse((H=G.target)==null?void 0:H.result);if(Array.isArray(F)){for(const R of F){const Y={...R,targetDate:new Date(R.targetDate)};await xr.saveCountdown(Y)}p(),alert("Countdowns imported successfully!")}}catch(F){console.error("Import failed",F),alert("Failed to import. Invalid format.")}},A.readAsText(b)};return m.jsxs("div",{className:"min-h-screen bg-slate-50 p-6 pb-24",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:()=>t(-1),className:"p-2 bg-white rounded-full shadow-sm hover:bg-slate-100 transition-colors",children:m.jsx(Nf,{className:"h-6 w-6 text-slate-600"})}),m.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Countdowns"})]}),m.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[m.jsxs("button",{onClick:S,className:"flex items-center gap-2 bg-white text-slate-600 px-3 py-2 rounded-lg hover:bg-slate-50 transition-colors shadow-sm text-sm font-medium",title:"Export JSON",children:[m.jsx(Af,{className:"h-4 w-4"}),m.jsx("span",{className:"hidden sm:inline",children:"JSON"})]}),m.jsxs("button",{onClick:x,className:"flex items-center gap-2 bg-white text-slate-600 px-3 py-2 rounded-lg hover:bg-slate-50 transition-colors shadow-sm text-sm font-medium",title:"Export PDF",children:[m.jsx(jf,{className:"h-4 w-4"}),m.jsx("span",{className:"hidden sm:inline",children:"PDF"})]}),m.jsxs("label",{className:"flex items-center gap-2 bg-white text-slate-600 px-3 py-2 rounded-lg hover:bg-slate-50 transition-colors shadow-sm text-sm font-medium cursor-pointer",children:[m.jsx(Ef,{className:"h-4 w-4"}),m.jsx("span",{className:"hidden sm:inline",children:"Import"}),m.jsx("input",{type:"file",accept:".json",onChange:y,className:"hidden"})]}),m.jsxs("button",{onClick:()=>a(!s),className:"flex items-center gap-2 bg-primary-600 text-white px-4 py-2 rounded-full hover:bg-primary-700 transition-colors shadow-md ml-2",children:[m.jsx(Tc,{className:"h-5 w-5"}),m.jsx("span",{children:"New Timer"})]})]})]}),s&&m.jsx("div",{className:"glass-card p-6 rounded-2xl mb-8 animate-in slide-in-from-top-4 fade-in",children:m.jsxs("form",{onSubmit:g,className:"flex flex-col md:flex-row gap-4 items-end",children:[m.jsxs("div",{className:"flex-1 w-full",children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Title"}),m.jsx("input",{type:"text",value:o,onChange:_=>l(_.target.value),placeholder:"e.g., Final Exams",className:"w-full rounded-xl border-slate-200 focus:border-primary-500 focus:ring-primary-500",required:!0})]}),m.jsxs("div",{className:"flex-1 w-full",children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Target Date"}),m.jsx("input",{type:"datetime-local",value:u,onChange:_=>d(_.target.value),className:"w-full rounded-xl border-slate-200 focus:border-primary-500 focus:ring-primary-500",required:!0})]}),m.jsx("button",{type:"submit",className:"w-full md:w-auto bg-slate-800 text-white px-6 py-2.5 rounded-xl hover:bg-slate-700 transition-colors",children:"Start"})]})}),n?m.jsx("div",{className:"text-center py-10 text-slate-500",children:"Loading timers..."}):e.length===0?m.jsx("div",{className:"text-center py-20 text-slate-400",children:m.jsx("p",{children:"No active countdowns. Add one to track important dates!"})}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(_=>{const b=k(_.targetDate);return m.jsxs("div",{className:"glass-card p-6 rounded-3xl relative group overflow-hidden",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600",children:m.jsx(fa,{className:"h-5 w-5"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-slate-800",children:_.title}),m.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-1",children:[m.jsx(xc,{className:"h-3 w-3"}),_.targetDate.toLocaleDateString()]})]})]}),m.jsx("button",{onClick:()=>f(_.id),className:"p-2 hover:bg-red-50 text-slate-300 hover:text-red-500 rounded-full transition-colors",children:m.jsx(bo,{className:"h-4 w-4"})})]}),m.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[m.jsxs("div",{className:"bg-slate-50 rounded-xl p-2",children:[m.jsx("div",{className:"text-xl font-bold text-slate-800",children:b.days}),m.jsx("div",{className:"text-[10px] uppercase text-slate-400 font-bold",children:"Days"})]}),m.jsxs("div",{className:"bg-slate-50 rounded-xl p-2",children:[m.jsx("div",{className:"text-xl font-bold text-slate-800",children:b.hours}),m.jsx("div",{className:"text-[10px] uppercase text-slate-400 font-bold",children:"Hrs"})]}),m.jsxs("div",{className:"bg-slate-50 rounded-xl p-2",children:[m.jsx("div",{className:"text-xl font-bold text-slate-800",children:b.minutes}),m.jsx("div",{className:"text-[10px] uppercase text-slate-400 font-bold",children:"Mins"})]}),m.jsxs("div",{className:"bg-slate-50 rounded-xl p-2",children:[m.jsx("div",{className:"text-xl font-bold text-slate-800",children:b.seconds}),m.jsx("div",{className:"text-[10px] uppercase text-slate-400 font-bold",children:"Secs"})]})]}),b.expired&&m.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center",children:m.jsx("span",{className:"text-red-500 font-bold text-lg",children:"Time's Up!"})})]},_.id)})})]})}function zC(){const t=ji(),[e,r]=ee.useState([]),[n,i]=ee.useState(!0),[s,a]=ee.useState("");ee.useEffect(()=>{o()},[]);const o=async()=>{try{const x=await xr.getAllTasks();r(x.sort((y,_)=>_.createdAt.getTime()-y.createdAt.getTime()))}catch(x){console.error("Failed to load tasks",x)}finally{i(!1)}},l=async x=>{if(x.preventDefault(),!s.trim())return;const y={id:crypto.randomUUID(),text:s.trim(),completed:!1,createdAt:new Date};await xr.saveTask(y),r([y,...e]),a("")},u=async x=>{const y=e.find(_=>_.id===x);if(y){const _={...y,completed:!y.completed};await xr.saveTask(_),r(e.map(b=>b.id===x?_:b))}},d=async x=>{await xr.deleteTask(x),r(e.filter(y=>y.id!==x))},p=()=>{const x=JSON.stringify(e,null,2),y=new Blob([x],{type:"application/json"}),_=URL.createObjectURL(y),b=document.createElement("a");b.href=_,b.download="tasks.json",document.body.appendChild(b),b.click(),document.body.removeChild(b)},g=()=>{const x=new Be;x.text("Tasks",14,15);const y=e.map(_=>[_.text,_.completed?"Completed":"Pending",_.createdAt.toLocaleDateString()]);Of(x,{head:[["Task","Status","Created At"]],body:y,startY:20}),x.save("tasks.pdf")},f=x=>{var b;const y=(b=x.target.files)==null?void 0:b[0];if(!y)return;const _=new FileReader;_.onload=async A=>{var M;try{const G=JSON.parse((M=A.target)==null?void 0:M.result);if(Array.isArray(G)){for(const H of G){const F={...H,createdAt:new Date(H.createdAt)};await xr.saveTask(F)}o(),alert("Tasks imported successfully!")}}catch(G){console.error("Import failed",G),alert("Failed to import. Invalid format.")}},_.readAsText(y)},k=e.filter(x=>!x.completed),S=e.filter(x=>x.completed);return m.jsxs("div",{className:"min-h-screen bg-slate-50 p-6 pb-24",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:()=>t(-1),className:"p-2 bg-white rounded-full shadow-sm hover:bg-slate-100 transition-colors",children:m.jsx(Nf,{className:"h-6 w-6 text-slate-600"})}),m.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Tasks"})]}),m.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[m.jsxs("button",{onClick:p,className:"flex items-center gap-2 bg-white text-slate-600 px-3 py-2 rounded-lg hover:bg-slate-50 transition-colors shadow-sm text-sm font-medium",title:"Export JSON",children:[m.jsx(Af,{className:"h-4 w-4"}),m.jsx("span",{className:"hidden sm:inline",children:"JSON"})]}),m.jsxs("button",{onClick:g,className:"flex items-center gap-2 bg-white text-slate-600 px-3 py-2 rounded-lg hover:bg-slate-50 transition-colors shadow-sm text-sm font-medium",title:"Export PDF",children:[m.jsx(jf,{className:"h-4 w-4"}),m.jsx("span",{className:"hidden sm:inline",children:"PDF"})]}),m.jsxs("label",{className:"flex items-center gap-2 bg-white text-slate-600 px-3 py-2 rounded-lg hover:bg-slate-50 transition-colors shadow-sm text-sm font-medium cursor-pointer",children:[m.jsx(Ef,{className:"h-4 w-4"}),m.jsx("span",{className:"hidden sm:inline",children:"Import"}),m.jsx("input",{type:"file",accept:".json",onChange:f,className:"hidden"})]})]})]}),m.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[m.jsxs("form",{onSubmit:l,className:"relative",children:[m.jsx("input",{type:"text",value:s,onChange:x=>a(x.target.value),placeholder:"Add a new task...",className:"w-full pl-6 pr-14 py-4 rounded-2xl border-none shadow-sm focus:ring-2 focus:ring-primary-500 text-lg"}),m.jsx("button",{type:"submit",disabled:!s.trim(),className:"absolute right-2 top-2 bottom-2 aspect-square bg-primary-600 text-white rounded-xl flex items-center justify-center hover:bg-primary-700 transition-colors disabled:opacity-50",children:m.jsx(Tc,{className:"h-6 w-6"})})]}),n?m.jsx("div",{className:"text-center py-10 text-slate-500",children:"Loading tasks..."}):e.length===0?m.jsx("div",{className:"text-center py-20 text-slate-400",children:m.jsx("p",{children:"No tasks yet. Stay organized by adding one!"})}):m.jsxs("div",{className:"space-y-6",children:[k.length>0&&m.jsxs("div",{className:"space-y-3",children:[m.jsx("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider ml-2",children:"To Do"}),k.map(x=>m.jsxs("div",{className:"glass-card p-4 rounded-2xl flex items-center gap-4 group",children:[m.jsx("button",{onClick:()=>u(x.id),className:"text-slate-400 hover:text-primary-600 transition-colors",children:m.jsx(n_,{className:"h-6 w-6"})}),m.jsx("span",{className:"flex-1 text-slate-700 font-medium",children:x.text}),m.jsx("button",{onClick:()=>d(x.id),className:"opacity-0 group-hover:opacity-100 p-2 text-slate-300 hover:text-red-500 transition-all",children:m.jsx(bo,{className:"h-5 w-5"})})]},x.id))]}),S.length>0&&m.jsxs("div",{className:"space-y-3",children:[m.jsx("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider ml-2",children:"Completed"}),S.map(x=>m.jsxs("div",{className:"bg-slate-100/50 p-4 rounded-2xl flex items-center gap-4 opacity-75",children:[m.jsx("button",{onClick:()=>u(x.id),className:"text-emerald-500",children:m.jsx(hg,{className:"h-6 w-6"})}),m.jsx("span",{className:"flex-1 text-slate-500 line-through",children:x.text}),m.jsx("button",{onClick:()=>d(x.id),className:"p-2 text-slate-300 hover:text-red-500 transition-colors",children:m.jsx(bo,{className:"h-5 w-5"})})]},x.id))]})]})]})]})}function $C(){const{user:t}=Rs(),[e,r]=ee.useState("mark"),[n,i]=ee.useState(new Date),[s,a]=ee.useState([]),[o,l]=ee.useState([]),[u,d]=ee.useState([]),p=x=>x.toISOString().split("T")[0],g=x=>x.toLocaleDateString("en-US",{weekday:"long"}),f=async()=>{if(t)try{if(e==="mark"){const x=g(n),y=p(n),[_,b]=await Promise.all([pt.from("timetable_entries").select("*").eq("user_id",t.id).eq("day",x),pt.from("smart_timetable_entries").select("*").eq("user_id",t.id).eq("day",x)]),A=[..._.data||[],...b.data||[]];A.sort((G,H)=>G.start_time.localeCompare(H.start_time)),a(A);const{data:M}=await pt.from("attendance_logs").select("subject_code, status").eq("user_id",t.id).eq("date",y);l(M||[])}else{const[x,y]=await Promise.all([pt.from("timetable_entries").select("subject_name, subject_code").eq("user_id",t.id),pt.from("smart_timetable_entries").select("subject_name, subject_code").eq("user_id",t.id)]),_=new Map;[...x.data||[],...y.data||[]].forEach(M=>{_.has(M.subject_code)||_.set(M.subject_code,M.subject_name)});const{data:b}=await pt.from("attendance_logs").select("subject_code, status").eq("user_id",t.id),A=[];_.forEach((M,G)=>{const H=(b==null?void 0:b.filter(T=>T.subject_code===G))||[],F=H.filter(T=>T.status==="present").length,R=H.filter(T=>T.status==="absent").length,Y=F+R;A.push({subject_name:M,subject_code:G,total_classes:Y,present:F,absent:R,percentage:Y>0?Math.round(F/Y*100):0})}),d(A)}}catch(x){console.error("Error fetching data:",x)}finally{}};ee.useEffect(()=>{f()},[n,t,e]);const k=async(x,y)=>{if(!t)return;const _=p(n);l(b=>[...b.filter(M=>M.subject_code!==x),{subject_code:x,status:y}]);try{const{error:b}=await pt.from("attendance_logs").upsert({user_id:t.id,date:_,subject_code:x,status:y},{onConflict:"user_id, date, subject_code"});if(b)throw b}catch(b){console.error("Error marking attendance:",b),f()}},S=x=>{const y=new Date(n);y.setDate(n.getDate()+x),i(y)};return m.jsxs("div",{className:"p-6 space-y-6 pb-24",children:[m.jsx("h1",{className:"text-2xl font-bold text-slate-800 mt-4",children:"Attendance"}),m.jsxs("div",{className:"flex p-1 bg-slate-200/50 rounded-xl",children:[m.jsxs("button",{onClick:()=>r("mark"),className:Wt("flex-1 flex items-center justify-center gap-2 py-2.5 rounded-lg text-sm font-bold transition-all",e==="mark"?"bg-white text-primary-600 shadow-sm":"text-slate-500 hover:text-slate-700"),children:[m.jsx(s_,{className:"h-4 w-4"}),"Mark Attendance"]}),m.jsxs("button",{onClick:()=>r("stats"),className:Wt("flex-1 flex items-center justify-center gap-2 py-2.5 rounded-lg text-sm font-bold transition-all",e==="stats"?"bg-white text-primary-600 shadow-sm":"text-slate-500 hover:text-slate-700"),children:[m.jsx(t_,{className:"h-4 w-4"}),"Statistics"]})]}),e==="mark"?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"glass-card p-4 rounded-2xl flex items-center justify-between",children:[m.jsx("button",{onClick:()=>S(-1),className:"p-2 hover:bg-white/50 rounded-full transition-colors",children:m.jsx(BA,{className:"h-5 w-5 text-slate-600"})}),m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("span",{className:"text-sm font-medium text-slate-500",children:g(n)}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(xc,{className:"h-4 w-4 text-primary-600"}),m.jsx("span",{className:"text-lg font-bold text-slate-800",children:n.toLocaleDateString()})]})]}),m.jsx("button",{onClick:()=>S(1),className:"p-2 hover:bg-white/50 rounded-full transition-colors",children:m.jsx(r_,{className:"h-5 w-5 text-slate-600"})})]}),m.jsx("div",{className:"space-y-4",children:s.length===0?m.jsx("div",{className:"text-center py-10 text-slate-400",children:m.jsx("p",{children:"No classes scheduled for this day."})}):s.map(x=>{const y=o.find(A=>A.subject_code===x.subject_code),_=(y==null?void 0:y.status)==="present",b=(y==null?void 0:y.status)==="absent";return m.jsxs("div",{className:"glass-card p-5 rounded-2xl",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-slate-800 text-lg",children:x.subject_name}),m.jsx("p",{className:"text-sm text-slate-500 font-medium",children:x.subject_code})]}),m.jsx("span",{className:Wt("text-[10px] px-2 py-1 rounded-full font-bold uppercase tracking-wide",x.type==="theory"?"bg-primary-100 text-primary-600":"bg-pink-100 text-pink-600"),children:x.type})]}),m.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500 mb-6",children:[m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx(fa,{className:"h-4 w-4 text-primary-400"}),m.jsxs("span",{className:"font-medium",children:[x.start_time.slice(0,5)," - ",x.end_time.slice(0,5)]})]}),x.room_number&&m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx(Yh,{className:"h-4 w-4 text-primary-400"}),m.jsx("span",{className:"font-medium",children:x.room_number})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("button",{onClick:()=>k(x.subject_code,"present"),className:Wt("flex items-center justify-center gap-2 py-3 rounded-xl font-bold transition-all",_?"bg-green-500 text-white shadow-lg shadow-green-200 scale-[1.02]":"bg-slate-100 text-slate-500 hover:bg-green-50 hover:text-green-600"),children:[m.jsx(MA,{className:"h-5 w-5"}),"Present"]}),m.jsxs("button",{onClick:()=>k(x.subject_code,"absent"),className:Wt("flex items-center justify-center gap-2 py-3 rounded-xl font-bold transition-all",b?"bg-red-500 text-white shadow-lg shadow-red-200 scale-[1.02]":"bg-slate-100 text-slate-500 hover:bg-red-50 hover:text-red-600"),children:[m.jsx(Oc,{className:"h-5 w-5"}),"Absent"]})]})]},x.id)})})]}):m.jsx("div",{className:"space-y-4",children:u.length===0?m.jsx("div",{className:"text-center py-10 text-slate-400",children:m.jsx("p",{children:"No attendance data recorded yet."})}):u.map(x=>m.jsxs("div",{className:"glass-card p-5 rounded-2xl",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-slate-800",children:x.subject_name}),m.jsx("p",{className:"text-xs text-slate-500 font-medium",children:x.subject_code})]}),m.jsxs("div",{className:Wt("text-lg font-bold",x.percentage>=75?"text-green-600":"text-red-600"),children:[x.percentage,"%"]})]}),m.jsx("div",{className:"h-2 w-full bg-slate-100 rounded-full overflow-hidden mb-4",children:m.jsx("div",{className:Wt("h-full rounded-full transition-all duration-500",x.percentage>=75?"bg-green-500":"bg-red-500"),style:{width:`${x.percentage}%`}})}),m.jsxs("div",{className:"flex justify-between items-center text-sm",children:[m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-xs text-slate-400",children:"Present"}),m.jsx("span",{className:"font-bold text-green-600",children:x.present})]}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-xs text-slate-400",children:"Absent"}),m.jsx("span",{className:"font-bold text-red-600",children:x.absent})]}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-xs text-slate-400",children:"Total"}),m.jsx("span",{className:"font-bold text-slate-700",children:x.total_classes})]})]}),x.percentage<75&&m.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-amber-600 bg-amber-50 px-2 py-1 rounded-lg",children:[m.jsx(FA,{className:"h-3 w-3"}),"Low Attendance"]})]})]},x.subject_code))})]})}function qC(t){const[e,r]=ee.useState(!1);return ee.useEffect(()=>{const n=window.matchMedia(t);n.matches!==e&&r(n.matches);const i=()=>r(n.matches);return n.addEventListener("change",i),()=>n.removeEventListener("change",i)},[e,t]),e}function ia({children:t}){const e=Is(),r=qC("(min-width: 768px)"),{signOut:n}=Rs(),i=a=>e.pathname===a,s=({to:a,icon:o,label:l})=>m.jsxs(no,{to:a,className:Wt("flex items-center gap-3 p-3 rounded-xl transition-all duration-300",i(a)?"bg-primary-100 text-primary-600 shadow-sm":"text-slate-400 hover:text-primary-400 hover:bg-white/50"),children:[m.jsx(o,{className:"h-6 w-6"}),r&&m.jsx("span",{className:"font-bold text-sm",children:l})]});return m.jsxs("div",{className:"min-h-screen bg-slate-50 relative overflow-hidden font-sans",children:[m.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[m.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[500px] h-[500px] bg-primary-300/30 rounded-full blur-3xl animate-blob mix-blend-multiply filter"}),m.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[500px] h-[500px] bg-yellow-300/30 rounded-full blur-3xl animate-blob animation-delay-2000 mix-blend-multiply filter"}),m.jsx("div",{className:"absolute bottom-[-20%] left-[20%] w-[500px] h-[500px] bg-pink-300/30 rounded-full blur-3xl animate-blob animation-delay-4000 mix-blend-multiply filter"})]}),r&&m.jsxs("aside",{className:"fixed left-0 top-0 h-screen w-64 glass border-r border-white/20 z-50 p-6 flex flex-col",children:[m.jsxs("div",{className:"mb-10 flex items-center gap-3 px-2",children:[m.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center text-white font-bold",children:"A"}),m.jsx("span",{className:"text-xl font-bold text-slate-800",children:"Attendance"})]}),m.jsxs("nav",{className:"space-y-2 flex-1",children:[m.jsx(s,{to:"/",icon:Vv,label:"Dashboard"}),m.jsx(s,{to:"/schedule",icon:xc,label:"Schedule"}),m.jsx(s,{to:"/attendance",icon:Wv,label:"Attendance"}),m.jsx(s,{to:"/profile",icon:Rm,label:"Profile"})]}),m.jsxs("button",{onClick:()=>n(),className:"flex items-center gap-3 p-3 rounded-xl text-slate-400 hover:text-red-500 hover:bg-red-50 transition-all",children:[m.jsx(a_,{className:"h-6 w-6"}),m.jsx("span",{className:"font-bold text-sm",children:"Sign Out"})]})]}),m.jsx("div",{className:Wt("relative z-10 min-h-screen transition-all duration-300",r?"ml-64 p-8":"pb-24 max-w-md mx-auto"),children:m.jsx("div",{className:Wt("mx-auto",r?"max-w-5xl":""),children:t})}),!r&&m.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 w-[90%] max-w-[380px] z-50",children:m.jsxs("nav",{className:"glass-nav rounded-2xl px-6 py-4 flex justify-between items-center",children:[m.jsx(no,{to:"/",className:Wt("p-2 rounded-xl transition-all duration-300",i("/")?"bg-primary-100 text-primary-600 scale-110":"text-slate-400 hover:text-primary-400"),children:m.jsx(Vv,{className:"h-6 w-6"})}),m.jsx(no,{to:"/schedule",className:Wt("p-2 rounded-xl transition-all duration-300",i("/schedule")?"bg-primary-100 text-primary-600 scale-110":"text-slate-400 hover:text-primary-400"),children:m.jsx(xc,{className:"h-6 w-6"})}),m.jsx(no,{to:"/attendance",className:Wt("p-2 rounded-xl transition-all duration-300",i("/attendance")?"bg-primary-100 text-primary-600 scale-110":"text-slate-400 hover:text-primary-400"),children:m.jsx(Wv,{className:"h-6 w-6"})}),m.jsx(no,{to:"/profile",className:Wt("p-2 rounded-xl transition-all duration-300",i("/profile")?"bg-primary-100 text-primary-600 scale-110":"text-slate-400 hover:text-primary-400"),children:m.jsx(Rm,{className:"h-6 w-6"})})]})})]})}function sa({children:t}){const{user:e,loading:r}=Rs();return r?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:"Loading..."}):e?m.jsx(m.Fragment,{children:t}):m.jsx(eA,{to:"/login"})}function WC(){return m.jsx(NA,{children:m.jsx(c8,{children:m.jsxs(rA,{children:[m.jsx($i,{path:"/login",element:m.jsx(tj,{})}),m.jsx($i,{path:"/",element:m.jsx(sa,{children:m.jsx(ia,{children:m.jsx(iE,{})})})}),m.jsx($i,{path:"/schedule",element:m.jsx(sa,{children:m.jsx(ia,{children:m.jsx(Uj,{})})})}),m.jsx($i,{path:"/attendance",element:m.jsx(sa,{children:m.jsx(ia,{children:m.jsx($C,{})})})}),m.jsx($i,{path:"/profile",element:m.jsx(sa,{children:m.jsx(ia,{children:m.jsx(FC,{})})})}),m.jsx($i,{path:"/developer",element:m.jsx(sa,{children:m.jsx(ia,{children:m.jsx(MC,{})})})}),m.jsx($i,{path:"/notes",element:m.jsx(sa,{children:m.jsx(ia,{children:m.jsx(BC,{})})})}),m.jsx($i,{path:"/countdown",element:m.jsx(sa,{children:m.jsx(ia,{children:m.jsx(UC,{})})})}),m.jsx($i,{path:"/tasks",element:m.jsx(sa,{children:m.jsx(ia,{children:m.jsx(zC,{})})})})]})})})}A0.createRoot(document.getElementById("root")).render(m.jsx(s1.StrictMode,{children:m.jsx(WC,{})}));export{It as _,VC as c,l3 as g};
