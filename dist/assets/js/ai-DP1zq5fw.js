async function t(t,a="google/gemini-2.0-flash-exp:free"){try{const s=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:"Bearer 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","Content-Type":"application/json","HTTP-Referer":"http://localhost:5173","X-Title":"CGPA Calculator"},body:JSON.stringify({model:a,messages:t})});if(!s.ok){const t=await s.text();throw new Error(`API call failed: ${s.status} ${s.statusText} - ${t}`)}const r=await s.json();if(!r.choices||!r.choices[0]||!r.choices[0].message)throw new Error("Invalid response format from AI provider");const n=r.choices[0].message.content;try{const t=n.replace(/```json\n?|\n?```/g,"").trim();return JSON.parse(t)}catch(e){return n}}catch(s){throw s}}async function a(){try{const a=await t([{role:"user",content:"Give me a short, inspiring quote for a university student. Format it as JSON with 'quote' and 'author' fields. Do not include any markdown formatting."}]);return a.quote?a:{quote:a,author:"AI Assistant"}}catch(a){throw a}}async function e(a){try{const e=await t([{role:"user",content:`Break down the task "${a}" into 3-5 smaller, actionable sub-tasks. Return ONLY a JSON object with a "steps" key containing an array of strings. Example: { "steps": ["Step 1", "Step 2"] }`}]);return e&&Array.isArray(e.steps)?e.steps:Array.isArray(e)?e:["Could not generate subtasks. Try again."]}catch(e){return["Could not generate subtasks. Try again."]}}async function s(a,e){try{const s=await t([{role:"system",content:"You are a smart academic scheduler. Assign subjects to free time slots based on a balanced schedule."},{role:"user",content:`I have these free slots: ${JSON.stringify(a)}. My subjects are: ${JSON.stringify(e)}. Create a study plan in JSON format. Return a JSON object with a "plan" key containing an array of sessions. Example: { "plan": [{"day": "Monday", "time": "10:00", "subject": "Math", "focus": "Topic..."}] }`}]);return s&&Array.isArray(s.plan)?s.plan:Array.isArray(s)?s:[]}catch(s){return[]}}export{e as b,a as f,s as g};
