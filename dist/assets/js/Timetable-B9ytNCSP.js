import{j as e,g as s,X as a,T as t,h as d,A as i,C as r,i as n,k as l,l as m}from"./ui-vendor-yoAZ-FXJ.js";import{R as o,r as c}from"./react-vendor-DR97ylRc.js";import{c as y,u,s as T}from"./index-DAQF3p40.js";import{S as x}from"./SEO-Cj0rsF6y.js";import"./pdf-vendor-D0-bFhii.js";import"./supabase-vendor-C9Ts7tiD.js";const h=o.forwardRef(({className:a,children:t,isLoading:d,variant:i="primary",size:r="md",disabled:n,...l},m)=>e.jsxs("button",{ref:m,className:y("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{primary:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90"}[i],{sm:"h-9 px-3 text-xs",md:"h-10 px-4 py-2",lg:"h-11 px-8",icon:"h-10 w-10"}[r],a),disabled:n||d,...l,children:[d&&e.jsx(s,{className:"mr-2 h-4 w-4 animate-spin"}),t]}));function p({isOpen:s,onClose:t,title:d,children:i,className:r}){const n=c.useRef(null);return c.useEffect(()=>{const e=e=>{"Escape"===e.key&&t()};return s&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[s,t]),s?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:e.jsxs("div",{ref:n,className:y("relative w-full max-w-lg rounded-lg border bg-background p-6 shadow-lg animate-in fade-in zoom-in duration-200",r),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:d}),e.jsx(h,{variant:"ghost",size:"sm",onClick:t,className:"h-8 w-8 p-0",children:e.jsx(a,{className:"h-4 w-4"})})]}),i]})}):null}h.displayName="Button";const b=o.forwardRef(({className:s,type:a,label:t,error:d,...i},r)=>e.jsxs("div",{className:"w-full space-y-2",children:[t&&e.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:t}),e.jsx("input",{type:a,className:y("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",d&&"border-destructive focus-visible:ring-destructive",s),ref:r,...i}),d&&e.jsx("p",{className:"text-sm text-destructive",children:d})]}));b.displayName="Input";const f={A1:[{day:"Monday",startTime:"08:00",endTime:"08:50"},{day:"Wednesday",startTime:"09:00",endTime:"09:50"}],A2:[{day:"Monday",startTime:"14:00",endTime:"14:50"},{day:"Wednesday",startTime:"15:00",endTime:"15:50"}],B1:[{day:"Tuesday",startTime:"08:00",endTime:"08:50"},{day:"Thursday",startTime:"09:00",endTime:"09:50"}],B2:[{day:"Tuesday",startTime:"14:00",endTime:"14:50"},{day:"Thursday",startTime:"15:00",endTime:"15:50"}],C1:[{day:"Wednesday",startTime:"08:00",endTime:"08:50"},{day:"Friday",startTime:"09:00",endTime:"09:50"}],C2:[{day:"Wednesday",startTime:"14:00",endTime:"14:50"},{day:"Friday",startTime:"15:00",endTime:"15:50"}],D1:[{day:"Thursday",startTime:"08:00",endTime:"08:50"},{day:"Monday",startTime:"10:00",endTime:"10:50"}],D2:[{day:"Thursday",startTime:"14:00",endTime:"14:50"},{day:"Monday",startTime:"16:00",endTime:"16:50"}],E1:[{day:"Friday",startTime:"08:00",endTime:"08:50"},{day:"Tuesday",startTime:"10:00",endTime:"10:50"}],E2:[{day:"Friday",startTime:"14:00",endTime:"14:50"},{day:"Tuesday",startTime:"16:00",endTime:"16:50"}],F1:[{day:"Monday",startTime:"09:00",endTime:"09:50"},{day:"Wednesday",startTime:"10:00",endTime:"10:50"}],F2:[{day:"Monday",startTime:"15:00",endTime:"15:50"},{day:"Wednesday",startTime:"16:00",endTime:"16:50"}],G1:[{day:"Tuesday",startTime:"09:00",endTime:"09:50"},{day:"Thursday",startTime:"10:00",endTime:"10:50"}],G2:[{day:"Tuesday",startTime:"15:00",endTime:"15:50"},{day:"Thursday",startTime:"16:00",endTime:"16:50"}],TA1:[{day:"Friday",startTime:"10:00",endTime:"10:50"}],TA2:[{day:"Friday",startTime:"16:00",endTime:"16:50"}],TB1:[{day:"Monday",startTime:"11:00",endTime:"11:50"}],TB2:[{day:"Monday",startTime:"17:00",endTime:"17:50"}],TC1:[{day:"Tuesday",startTime:"11:00",endTime:"11:50"}],TC2:[{day:"Tuesday",startTime:"17:00",endTime:"17:50"}],TD1:[{day:"Friday",startTime:"12:00",endTime:"12:50"}],TD2:[{day:"Wednesday",startTime:"17:00",endTime:"17:50"}],TE1:[{day:"Thursday",startTime:"11:00",endTime:"11:50"}],TE2:[{day:"Thursday",startTime:"17:00",endTime:"17:50"},{day:"Friday",startTime:"17:00",endTime:"17:50"}],TF1:[{day:"Friday",startTime:"11:00",endTime:"11:50"}],TF2:[{day:"Friday",startTime:"17:00",endTime:"17:50"}],TG1:[{day:"Monday",startTime:"12:00",endTime:"12:50"}],TG2:[{day:"Monday",startTime:"18:00",endTime:"18:50"}],TAA1:[{day:"Tuesday",startTime:"12:00",endTime:"12:50"}],TAA2:[{day:"Tuesday",startTime:"18:00",endTime:"18:50"}],V1:[{day:"Wednesday",startTime:"11:00",endTime:"11:50"}],V2:[{day:"Wednesday",startTime:"12:00",endTime:"12:50"}],TBB2:[{day:"Wednesday",startTime:"18:00",endTime:"18:50"}],TCC1:[{day:"Thursday",startTime:"12:00",endTime:"12:50"}],TCC2:[{day:"Thursday",startTime:"18:00",endTime:"18:50"}],TDD2:[{day:"Friday",startTime:"18:00",endTime:"18:50"}],L1:[{day:"Monday",startTime:"08:00",endTime:"08:50"}],L2:[{day:"Monday",startTime:"08:51",endTime:"09:40"}],L3:[{day:"Monday",startTime:"09:51",endTime:"10:40"}],L4:[{day:"Monday",startTime:"10:41",endTime:"11:30"}],L5:[{day:"Monday",startTime:"11:40",endTime:"12:30"}],L6:[{day:"Monday",startTime:"12:31",endTime:"13:20"}],L7:[{day:"Tuesday",startTime:"08:00",endTime:"08:50"}],L8:[{day:"Tuesday",startTime:"08:51",endTime:"09:40"}],L9:[{day:"Tuesday",startTime:"09:51",endTime:"10:40"}],L10:[{day:"Tuesday",startTime:"10:41",endTime:"11:30"}],L11:[{day:"Tuesday",startTime:"11:40",endTime:"12:30"}],L12:[{day:"Tuesday",startTime:"12:31",endTime:"13:20"}],L13:[{day:"Wednesday",startTime:"08:00",endTime:"08:50"}],L14:[{day:"Wednesday",startTime:"08:51",endTime:"09:40"}],L15:[{day:"Wednesday",startTime:"09:51",endTime:"10:40"}],L16:[{day:"Wednesday",startTime:"10:41",endTime:"11:30"}],L17:[{day:"Wednesday",startTime:"11:40",endTime:"12:30"}],L18:[{day:"Wednesday",startTime:"12:31",endTime:"13:20"}],L19:[{day:"Thursday",startTime:"08:00",endTime:"08:50"}],L20:[{day:"Thursday",startTime:"08:51",endTime:"09:40"}],L21:[{day:"Thursday",startTime:"09:51",endTime:"10:40"}],L22:[{day:"Thursday",startTime:"10:41",endTime:"11:30"}],L23:[{day:"Thursday",startTime:"11:40",endTime:"12:30"}],L24:[{day:"Thursday",startTime:"12:31",endTime:"13:20"}],L25:[{day:"Friday",startTime:"08:00",endTime:"08:50"}],L26:[{day:"Friday",startTime:"08:51",endTime:"09:40"}],L27:[{day:"Friday",startTime:"09:51",endTime:"10:40"}],L28:[{day:"Friday",startTime:"10:41",endTime:"11:30"}],L29:[{day:"Friday",startTime:"11:40",endTime:"12:30"}],L30:[{day:"Friday",startTime:"12:31",endTime:"13:20"}],L31:[{day:"Monday",startTime:"14:00",endTime:"14:50"}],L32:[{day:"Monday",startTime:"14:51",endTime:"15:40"}],L33:[{day:"Monday",startTime:"15:51",endTime:"16:40"}],L34:[{day:"Monday",startTime:"16:41",endTime:"17:30"}],L35:[{day:"Monday",startTime:"17:40",endTime:"18:30"}],L36:[{day:"Monday",startTime:"18:31",endTime:"19:20"}],L37:[{day:"Tuesday",startTime:"14:00",endTime:"14:50"}],L38:[{day:"Tuesday",startTime:"14:51",endTime:"15:40"}],L39:[{day:"Tuesday",startTime:"15:51",endTime:"16:40"}],L40:[{day:"Tuesday",startTime:"16:41",endTime:"17:30"}],L41:[{day:"Tuesday",startTime:"17:40",endTime:"18:30"}],L42:[{day:"Tuesday",startTime:"18:31",endTime:"19:20"}],L43:[{day:"Wednesday",startTime:"14:00",endTime:"14:50"}],L44:[{day:"Wednesday",startTime:"14:51",endTime:"15:40"}],L45:[{day:"Wednesday",startTime:"15:51",endTime:"16:40"}],L46:[{day:"Wednesday",startTime:"16:41",endTime:"17:30"}],L47:[{day:"Wednesday",startTime:"17:40",endTime:"18:30"}],L48:[{day:"Wednesday",startTime:"18:31",endTime:"19:20"}],L49:[{day:"Thursday",startTime:"14:00",endTime:"14:50"}],L50:[{day:"Thursday",startTime:"14:51",endTime:"15:40"}],L51:[{day:"Thursday",startTime:"15:51",endTime:"16:40"}],L52:[{day:"Thursday",startTime:"16:41",endTime:"17:30"}],L53:[{day:"Thursday",startTime:"17:40",endTime:"18:30"}],L54:[{day:"Thursday",startTime:"18:31",endTime:"19:20"}],L55:[{day:"Friday",startTime:"14:00",endTime:"14:50"}],L56:[{day:"Friday",startTime:"14:51",endTime:"15:40"}],L57:[{day:"Friday",startTime:"15:51",endTime:"16:40"}],L58:[{day:"Friday",startTime:"16:41",endTime:"17:30"}],L59:[{day:"Friday",startTime:"17:40",endTime:"18:30"}],L60:[{day:"Friday",startTime:"18:31",endTime:"19:20"}]};function j({isOpen:s,onClose:a,onSuccess:n}){const{user:l}=u(),[m,o]=c.useState(!1),[y,x]=c.useState([{subject_name:"",subject_code:"",type:"theory",slot:"",room_number:"",credit:0}]),[j,g]=c.useState(null),v=(e,s,a)=>{const t=[...y];t[e]={...t[e],[s]:a},x(t),g(null)};return e.jsxs(p,{isOpen:s,onClose:a,title:"Smart Add (FFCS Slots)",className:"max-w-4xl",children:[e.jsxs("div",{className:"space-y-6 py-4 max-h-[70vh] overflow-y-auto pr-2",children:[e.jsx("div",{className:"space-y-4",children:y.map((s,a)=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 items-end p-4 border rounded-lg bg-card",children:[e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Subject Name"}),e.jsx(b,{value:s.subject_name,onChange:e=>v(a,"subject_name",e.target.value),placeholder:"e.g. Python",className:"mt-2"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Code"}),e.jsx(b,{value:s.subject_code,onChange:e=>v(a,"subject_code",e.target.value),placeholder:"CSE1001",className:"mt-2"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Type"}),e.jsxs("select",{className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 mt-2",value:s.type,onChange:e=>v(a,"type",e.target.value),children:[e.jsx("option",{value:"theory",children:"Theory"}),e.jsx("option",{value:"lab",children:"Lab"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Slot(s)"}),e.jsx(b,{value:s.slot,onChange:e=>v(a,"slot",e.target.value),placeholder:"A1+TA1",className:"mt-2"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Room"}),e.jsx(b,{value:s.room_number,onChange:e=>v(a,"room_number",e.target.value),placeholder:"SJT 101",className:"mt-2"})]}),e.jsx("div",{className:"md:col-span-1 flex justify-end",children:e.jsx(h,{variant:"ghost",size:"sm",onClick:()=>(e=>{if(1===y.length)return;const s=y.filter((s,a)=>a!==e);x(s),g(null)})(a),disabled:1===y.length,className:"text-destructive hover:text-destructive h-10 w-10 p-0",children:e.jsx(t,{className:"h-4 w-4"})})})]},a))}),e.jsxs(h,{variant:"outline",onClick:()=>{x([...y,{subject_name:"",subject_code:"",type:"theory",slot:"",room_number:"",credit:0}])},className:"w-full",children:[e.jsx(d,{className:"mr-2 h-4 w-4"})," Add Another Course"]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(h,{onClick:()=>{const e=function(e){const s=[],a=[];return e.forEach(e=>{e.slot.toUpperCase().split("+").map(e=>e.trim()).forEach(t=>{const d=f[t];d?d.forEach(a=>{s.push({subject_name:e.subject_name,subject_code:e.subject_code,type:e.type,slot_code:t,slot_label:e.slot,room_number:e.room_number,credit:e.credit,day:a.day,start_time:a.startTime,end_time:a.endTime})}):a.push(`Invalid slot "${t}" for subject "${e.subject_name}"`)})}),{entries:s,errors:a}}(y);g(e)},disabled:y.some(e=>!e.slot||!e.subject_name),children:"Generate Preview"})}),j&&e.jsxs("div",{className:"space-y-4 border-t pt-4",children:[e.jsx("h3",{className:"font-semibold",children:"Preview"}),j.errors.length>0?e.jsxs("div",{className:"p-4 bg-destructive/10 text-destructive rounded-md space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[e.jsx(i,{className:"h-4 w-4"}),"Errors Found"]}),e.jsx("ul",{className:"list-disc list-inside text-sm",children:j.errors.map((s,a)=>e.jsx("li",{children:s},a))})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 rounded-md flex items-center gap-2",children:[e.jsx(r,{className:"h-4 w-4"}),j.entries.length," sessions generated successfully."]}),e.jsx("div",{className:"border rounded-md overflow-hidden",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-muted",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-2 text-left",children:"Subject"}),e.jsx("th",{className:"p-2 text-left",children:"Slot"}),e.jsx("th",{className:"p-2 text-left",children:"Day"}),e.jsx("th",{className:"p-2 text-left",children:"Time"}),e.jsx("th",{className:"p-2 text-left",children:"Room"})]})}),e.jsx("tbody",{children:j.entries.map((s,a)=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-2",children:s.subject_name}),e.jsx("td",{className:"p-2",children:s.slot_code}),e.jsx("td",{className:"p-2",children:s.day}),e.jsxs("td",{className:"p-2",children:[s.start_time," - ",s.end_time]}),e.jsx("td",{className:"p-2",children:s.room_number})]},a))})]})})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx(h,{variant:"outline",onClick:a,children:"Cancel"}),e.jsx(h,{onClick:async()=>{if(l&&j&&!(j.errors.length>0)){o(!0);try{const e=j.entries.map(e=>({user_id:l.id,day:e.day,start_time:e.start_time,end_time:e.end_time,subject_name:e.subject_name,subject_code:e.subject_code,type:e.type,room_number:e.room_number,slot_code:e.slot_code,slot_label:e.slot_label,credit:e.credit})),{error:s}=await T.from("smart_timetable_entries").insert(e);if(s)throw s;n(),a(),x([{subject_name:"",subject_code:"",type:"theory",slot:"",room_number:"",credit:0}]),g(null)}catch(e){alert("Failed to save timetable entries.")}finally{o(!1)}}},disabled:!j||j.errors.length>0||m,isLoading:m,children:"Save Timetable"})]})]})}function g(){const{user:s}=u(),[a,t]=c.useState(!1),[i,r]=c.useState("Monday"),[o,h]=c.useState([]),[p,b]=c.useState({}),[f,g]=c.useState(!0),v=["Monday","Tuesday","Wednesday","Thursday","Friday"];c.useEffect(()=>{const e=(new Date).toLocaleDateString("en-US",{weekday:"long"});v.includes(e)&&r(e)},[]);const N=async()=>{if(s){g(!0);try{const{data:e}=await T.from("timetable_entries").select("*").eq("user_id",s.id).eq("day",i),{data:a}=await T.from("smart_timetable_entries").select("*").eq("user_id",s.id).eq("day",i),{data:t}=await T.from("attendance_logs").select("subject_code, status").eq("user_id",s.id),d={};if(t){const e={};t.forEach(s=>{e[s.subject_code]||(e[s.subject_code]={present:0,total:0}),e[s.subject_code].total++,"present"===s.status&&e[s.subject_code].present++}),Object.keys(e).forEach(s=>{const{present:a,total:t}=e[s];d[s]=t>0?Math.round(a/t*100):0})}b(d);const r=[...e||[],...a||[]];r.sort((e,s)=>e.start_time.localeCompare(s.start_time)),h(r)}catch(e){}finally{g(!1)}}};c.useEffect(()=>{N()},[s,i]);const w=e=>{const[s,a]=e.split(":"),t=parseInt(s);return`${t%12||12}:${a} ${t>=12?"PM":"AM"}`};return e.jsxs("div",{className:"min-h-screen pb-24 relative overflow-hidden",children:[e.jsx(x,{title:"Schedule",description:"Manage your class timetable and track attendance."}),e.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-[#2e1065] via-[#4c1d95] to-[#1e1b4b] z-0"}),e.jsx("div",{className:"fixed top-[-10%] right-[-10%] w-[300px] h-[300px] bg-purple-500/30 rounded-full blur-[100px] pointer-events-none z-0"}),e.jsx("div",{className:"fixed bottom-[10%] left-[-10%] w-[250px] h-[250px] bg-indigo-500/30 rounded-full blur-[100px] pointer-events-none z-0"}),e.jsxs("div",{className:"p-6 relative z-10 space-y-8",children:[e.jsxs("div",{className:"mt-4",children:[e.jsx("h1",{className:"text-4xl font-bold text-white tracking-tight",children:"Schedule"}),e.jsx("p",{className:"text-purple-200/80 text-lg font-medium",children:"Manage your classes"})]}),e.jsx("div",{className:"flex overflow-x-auto pb-2 gap-4 no-scrollbar snap-x",children:v.map(s=>e.jsx("button",{onClick:()=>r(s),className:y("flex flex-col items-center justify-center min-w-[60px] py-2 rounded-2xl transition-all snap-center",i===s?"bg-primary-600 text-white shadow-[0_0_20px_rgba(124,58,237,0.5)] scale-110":"text-purple-200/60 hover:text-white"),children:e.jsx("span",{className:"text-sm font-bold capitalize tracking-wide",children:s.slice(0,3)})},s))}),e.jsx("div",{className:"space-y-4 md:grid md:grid-cols-2 lg:grid-cols-3 md:gap-6 md:space-y-0",children:f?e.jsxs("div",{className:"col-span-full text-center py-20",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),e.jsx("p",{className:"text-purple-200",children:"Loading schedule..."})]}):0===o.length?e.jsxs("div",{className:"col-span-full text-center py-20 flex flex-col items-center justify-center",children:[e.jsx("div",{className:"w-20 h-20 bg-white/10 backdrop-blur-md rounded-full flex items-center justify-center mb-6 border border-white/20",children:e.jsx(n,{className:"h-10 w-10 text-purple-200"})}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:"No classes today"}),e.jsx("p",{className:"text-purple-200/60 mb-6",children:"Enjoy your free time!"}),e.jsx("button",{onClick:()=>t(!0),className:"text-white font-bold hover:underline bg-white/10 px-6 py-2 rounded-full backdrop-blur-sm",children:"Add a class"})]}):o.map((s,a)=>e.jsx("div",{className:"relative group animate-fade-in-up opacity-0",style:{animationDelay:.1*a+"s"},children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-xl p-5 rounded-3xl shadow-lg border border-white/50 flex flex-col gap-3 relative overflow-hidden",children:[e.jsx("div",{className:y("absolute left-0 top-0 bottom-0 w-2","theory"===s.type?"bg-blue-500":"bg-pink-500")}),e.jsxs("div",{className:"flex justify-between items-start pl-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"bg-slate-100 text-slate-600 px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider border border-slate-200",children:s.subject_code}),e.jsx("span",{className:y("text-[10px] px-2 py-0.5 rounded font-bold uppercase tracking-wide","theory"===s.type?"text-blue-600 bg-blue-50":"text-pink-600 bg-pink-50"),children:s.type})]}),e.jsx("h3",{className:"font-bold text-slate-900 text-lg leading-tight line-clamp-2",children:s.subject_name})]}),void 0!==p[s.subject_code]&&e.jsx("div",{className:"flex flex-col items-end",children:e.jsxs("div",{className:y("px-2 py-1 rounded-lg text-xs font-bold flex items-center gap-1 shadow-sm border",p[s.subject_code]>=75?"bg-green-50 text-green-700 border-green-200":p[s.subject_code]>=65?"bg-yellow-50 text-yellow-700 border-yellow-200":"bg-red-50 text-red-700 border-red-200"),children:[p[s.subject_code],"%",e.jsx("span",{className:"text-[10px] font-normal opacity-70",children:"Att."})]})})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600 pl-3 mt-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5 bg-slate-50 px-3 py-1.5 rounded-lg",children:[e.jsx(l,{className:"h-3.5 w-3.5 text-slate-400"}),e.jsxs("span",{className:"font-bold text-slate-700",children:[w(s.start_time)," - ",w(s.end_time)]})]}),s.room_number&&e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(m,{className:"h-3.5 w-3.5 text-slate-400"}),e.jsx("span",{className:"font-medium text-slate-500",children:s.room_number})]})]})]})},s.id))})]}),e.jsx("button",{onClick:()=>t(!0),className:"fixed bottom-24 right-6 bg-white hover:bg-slate-50 text-slate-900 p-5 rounded-full shadow-[0_0_30px_rgba(255,255,255,0.3)] transition-all active:scale-95 z-50 flex items-center justify-center",children:e.jsx(d,{className:"h-8 w-8"})}),e.jsx(j,{isOpen:a,onClose:()=>t(!1),onSuccess:N})]})}export{g as Timetable};
