import{j as e,T as a,P as t,A as s,C as d,a as i,b as r,c as n,d as l,M as m}from"./ui-vendor-cRf8bXM2.js";import{r as o}from"./react-vendor-UBAF-OWM.js";import{M as c,I as y,B as T}from"./input-unlgE82K.js";import{u,s as h,a as x,c as p}from"./index-BHdFRAsM.js";import{S as b}from"./SEO-CM7liykF.js";import"./pdf-vendor-0-8C3xHX.js";import"./supabase-vendor-B9h0k0q2.js";const j={A1:[{day:"Monday",startTime:"08:00",endTime:"08:50"},{day:"Wednesday",startTime:"09:00",endTime:"09:50"}],A2:[{day:"Monday",startTime:"14:00",endTime:"14:50"},{day:"Wednesday",startTime:"15:00",endTime:"15:50"}],B1:[{day:"Tuesday",startTime:"08:00",endTime:"08:50"},{day:"Thursday",startTime:"09:00",endTime:"09:50"}],B2:[{day:"Tuesday",startTime:"14:00",endTime:"14:50"},{day:"Thursday",startTime:"15:00",endTime:"15:50"}],C1:[{day:"Wednesday",startTime:"08:00",endTime:"08:50"},{day:"Friday",startTime:"09:00",endTime:"09:50"}],C2:[{day:"Wednesday",startTime:"14:00",endTime:"14:50"},{day:"Friday",startTime:"15:00",endTime:"15:50"}],D1:[{day:"Thursday",startTime:"08:00",endTime:"08:50"},{day:"Monday",startTime:"10:00",endTime:"10:50"}],D2:[{day:"Thursday",startTime:"14:00",endTime:"14:50"},{day:"Monday",startTime:"16:00",endTime:"16:50"}],E1:[{day:"Friday",startTime:"08:00",endTime:"08:50"},{day:"Tuesday",startTime:"10:00",endTime:"10:50"}],E2:[{day:"Friday",startTime:"14:00",endTime:"14:50"},{day:"Tuesday",startTime:"16:00",endTime:"16:50"}],F1:[{day:"Monday",startTime:"09:00",endTime:"09:50"},{day:"Wednesday",startTime:"10:00",endTime:"10:50"}],F2:[{day:"Monday",startTime:"15:00",endTime:"15:50"},{day:"Wednesday",startTime:"16:00",endTime:"16:50"}],G1:[{day:"Tuesday",startTime:"09:00",endTime:"09:50"},{day:"Thursday",startTime:"10:00",endTime:"10:50"}],G2:[{day:"Tuesday",startTime:"15:00",endTime:"15:50"},{day:"Thursday",startTime:"16:00",endTime:"16:50"}],TA1:[{day:"Friday",startTime:"10:00",endTime:"10:50"}],TA2:[{day:"Friday",startTime:"16:00",endTime:"16:50"}],TB1:[{day:"Monday",startTime:"11:00",endTime:"11:50"}],TB2:[{day:"Monday",startTime:"17:00",endTime:"17:50"}],TC1:[{day:"Tuesday",startTime:"11:00",endTime:"11:50"}],TC2:[{day:"Tuesday",startTime:"17:00",endTime:"17:50"}],TD1:[{day:"Friday",startTime:"12:00",endTime:"12:50"}],TD2:[{day:"Wednesday",startTime:"17:00",endTime:"17:50"}],TE1:[{day:"Thursday",startTime:"11:00",endTime:"11:50"}],TE2:[{day:"Thursday",startTime:"17:00",endTime:"17:50"},{day:"Friday",startTime:"17:00",endTime:"17:50"}],TF1:[{day:"Friday",startTime:"11:00",endTime:"11:50"}],TF2:[{day:"Friday",startTime:"17:00",endTime:"17:50"}],TG1:[{day:"Monday",startTime:"12:00",endTime:"12:50"}],TG2:[{day:"Monday",startTime:"18:00",endTime:"18:50"}],TAA1:[{day:"Tuesday",startTime:"12:00",endTime:"12:50"}],TAA2:[{day:"Tuesday",startTime:"18:00",endTime:"18:50"}],V1:[{day:"Wednesday",startTime:"11:00",endTime:"11:50"}],V2:[{day:"Wednesday",startTime:"12:00",endTime:"12:50"}],TBB2:[{day:"Wednesday",startTime:"18:00",endTime:"18:50"}],TCC1:[{day:"Thursday",startTime:"12:00",endTime:"12:50"}],TCC2:[{day:"Thursday",startTime:"18:00",endTime:"18:50"}],TDD2:[{day:"Friday",startTime:"18:00",endTime:"18:50"}],L1:[{day:"Monday",startTime:"08:00",endTime:"08:50"}],L2:[{day:"Monday",startTime:"08:51",endTime:"09:40"}],L3:[{day:"Monday",startTime:"09:51",endTime:"10:40"}],L4:[{day:"Monday",startTime:"10:41",endTime:"11:30"}],L5:[{day:"Monday",startTime:"11:40",endTime:"12:30"}],L6:[{day:"Monday",startTime:"12:31",endTime:"13:20"}],L7:[{day:"Tuesday",startTime:"08:00",endTime:"08:50"}],L8:[{day:"Tuesday",startTime:"08:51",endTime:"09:40"}],L9:[{day:"Tuesday",startTime:"09:51",endTime:"10:40"}],L10:[{day:"Tuesday",startTime:"10:41",endTime:"11:30"}],L11:[{day:"Tuesday",startTime:"11:40",endTime:"12:30"}],L12:[{day:"Tuesday",startTime:"12:31",endTime:"13:20"}],L13:[{day:"Wednesday",startTime:"08:00",endTime:"08:50"}],L14:[{day:"Wednesday",startTime:"08:51",endTime:"09:40"}],L15:[{day:"Wednesday",startTime:"09:51",endTime:"10:40"}],L16:[{day:"Wednesday",startTime:"10:41",endTime:"11:30"}],L17:[{day:"Wednesday",startTime:"11:40",endTime:"12:30"}],L18:[{day:"Wednesday",startTime:"12:31",endTime:"13:20"}],L19:[{day:"Thursday",startTime:"08:00",endTime:"08:50"}],L20:[{day:"Thursday",startTime:"08:51",endTime:"09:40"}],L21:[{day:"Thursday",startTime:"09:51",endTime:"10:40"}],L22:[{day:"Thursday",startTime:"10:41",endTime:"11:30"}],L23:[{day:"Thursday",startTime:"11:40",endTime:"12:30"}],L24:[{day:"Thursday",startTime:"12:31",endTime:"13:20"}],L25:[{day:"Friday",startTime:"08:00",endTime:"08:50"}],L26:[{day:"Friday",startTime:"08:51",endTime:"09:40"}],L27:[{day:"Friday",startTime:"09:51",endTime:"10:40"}],L28:[{day:"Friday",startTime:"10:41",endTime:"11:30"}],L29:[{day:"Friday",startTime:"11:40",endTime:"12:30"}],L30:[{day:"Friday",startTime:"12:31",endTime:"13:20"}],L31:[{day:"Monday",startTime:"14:00",endTime:"14:50"}],L32:[{day:"Monday",startTime:"14:51",endTime:"15:40"}],L33:[{day:"Monday",startTime:"15:51",endTime:"16:40"}],L34:[{day:"Monday",startTime:"16:41",endTime:"17:30"}],L35:[{day:"Monday",startTime:"17:40",endTime:"18:30"}],L36:[{day:"Monday",startTime:"18:31",endTime:"19:20"}],L37:[{day:"Tuesday",startTime:"14:00",endTime:"14:50"}],L38:[{day:"Tuesday",startTime:"14:51",endTime:"15:40"}],L39:[{day:"Tuesday",startTime:"15:51",endTime:"16:40"}],L40:[{day:"Tuesday",startTime:"16:41",endTime:"17:30"}],L41:[{day:"Tuesday",startTime:"17:40",endTime:"18:30"}],L42:[{day:"Tuesday",startTime:"18:31",endTime:"19:20"}],L43:[{day:"Wednesday",startTime:"14:00",endTime:"14:50"}],L44:[{day:"Wednesday",startTime:"14:51",endTime:"15:40"}],L45:[{day:"Wednesday",startTime:"15:51",endTime:"16:40"}],L46:[{day:"Wednesday",startTime:"16:41",endTime:"17:30"}],L47:[{day:"Wednesday",startTime:"17:40",endTime:"18:30"}],L48:[{day:"Wednesday",startTime:"18:31",endTime:"19:20"}],L49:[{day:"Thursday",startTime:"14:00",endTime:"14:50"}],L50:[{day:"Thursday",startTime:"14:51",endTime:"15:40"}],L51:[{day:"Thursday",startTime:"15:51",endTime:"16:40"}],L52:[{day:"Thursday",startTime:"16:41",endTime:"17:30"}],L53:[{day:"Thursday",startTime:"17:40",endTime:"18:30"}],L54:[{day:"Thursday",startTime:"18:31",endTime:"19:20"}],L55:[{day:"Friday",startTime:"14:00",endTime:"14:50"}],L56:[{day:"Friday",startTime:"14:51",endTime:"15:40"}],L57:[{day:"Friday",startTime:"15:51",endTime:"16:40"}],L58:[{day:"Friday",startTime:"16:41",endTime:"17:30"}],L59:[{day:"Friday",startTime:"17:40",endTime:"18:30"}],L60:[{day:"Friday",startTime:"18:31",endTime:"19:20"}]};function f({isOpen:i,onClose:r,onSuccess:n}){const{user:l}=u(),[m,x]=o.useState(!1),[p,b]=o.useState([{subject_name:"",subject_code:"",type:"theory",slot:"",room_number:"",credit:0}]),[f,g]=o.useState(null),N=(e,a,t)=>{const s=[...p];s[e]={...s[e],[a]:t},b(s),g(null)};return e.jsxs(c,{isOpen:i,onClose:r,title:"Smart Add (FFCS Slots)",className:"max-w-4xl",children:[e.jsxs("div",{className:"space-y-6 py-4 max-h-[70vh] overflow-y-auto pr-2",children:[e.jsx("div",{className:"space-y-4",children:p.map((t,s)=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 items-end p-4 border rounded-lg bg-card",children:[e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Subject Name"}),e.jsx(y,{value:t.subject_name,onChange:e=>N(s,"subject_name",e.target.value),placeholder:"e.g. Python",className:"mt-2"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Code"}),e.jsx(y,{value:t.subject_code,onChange:e=>N(s,"subject_code",e.target.value),placeholder:"CSE1001",className:"mt-2"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Type"}),e.jsxs("select",{className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 mt-2",value:t.type,onChange:e=>N(s,"type",e.target.value),children:[e.jsx("option",{value:"theory",children:"Theory"}),e.jsx("option",{value:"lab",children:"Lab"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Slot(s)"}),e.jsx(y,{value:t.slot,onChange:e=>N(s,"slot",e.target.value),placeholder:"A1+TA1",className:"mt-2"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Room"}),e.jsx(y,{value:t.room_number,onChange:e=>N(s,"room_number",e.target.value),placeholder:"SJT 101",className:"mt-2"})]}),e.jsx("div",{className:"md:col-span-1 flex justify-end",children:e.jsx(T,{variant:"ghost",size:"sm",onClick:()=>(e=>{if(1===p.length)return;const a=p.filter((a,t)=>t!==e);b(a),g(null)})(s),disabled:1===p.length,className:"text-destructive hover:text-destructive h-10 w-10 p-0",children:e.jsx(a,{className:"h-4 w-4"})})})]},s))}),e.jsxs(T,{variant:"outline",onClick:()=>{b([...p,{subject_name:"",subject_code:"",type:"theory",slot:"",room_number:"",credit:0}])},className:"w-full",children:[e.jsx(t,{className:"mr-2 h-4 w-4"})," Add Another Course"]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(T,{onClick:()=>{const e=function(e){const a=[],t=[];return e.forEach(e=>{e.slot.toUpperCase().split("+").map(e=>e.trim()).forEach(s=>{const d=j[s];d?d.forEach(t=>{a.push({subject_name:e.subject_name,subject_code:e.subject_code,type:e.type,slot_code:s,slot_label:e.slot,room_number:e.room_number,credit:e.credit,day:t.day,start_time:t.startTime,end_time:t.endTime})}):t.push(`Invalid slot "${s}" for subject "${e.subject_name}"`)})}),{entries:a,errors:t}}(p);g(e)},disabled:p.some(e=>!e.slot||!e.subject_name),children:"Generate Preview"})}),f&&e.jsxs("div",{className:"space-y-4 border-t pt-4",children:[e.jsx("h3",{className:"font-semibold",children:"Preview"}),f.errors.length>0?e.jsxs("div",{className:"p-4 bg-destructive/10 text-destructive rounded-md space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[e.jsx(s,{className:"h-4 w-4"}),"Errors Found"]}),e.jsx("ul",{className:"list-disc list-inside text-sm",children:f.errors.map((a,t)=>e.jsx("li",{children:a},t))})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 rounded-md flex items-center gap-2",children:[e.jsx(d,{className:"h-4 w-4"}),f.entries.length," sessions generated successfully."]}),e.jsx("div",{className:"border rounded-md overflow-hidden",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-muted",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-2 text-left",children:"Subject"}),e.jsx("th",{className:"p-2 text-left",children:"Slot"}),e.jsx("th",{className:"p-2 text-left",children:"Day"}),e.jsx("th",{className:"p-2 text-left",children:"Time"}),e.jsx("th",{className:"p-2 text-left",children:"Room"})]})}),e.jsx("tbody",{children:f.entries.map((a,t)=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-2",children:a.subject_name}),e.jsx("td",{className:"p-2",children:a.slot_code}),e.jsx("td",{className:"p-2",children:a.day}),e.jsxs("td",{className:"p-2",children:[a.start_time," - ",a.end_time]}),e.jsx("td",{className:"p-2",children:a.room_number})]},t))})]})})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx(T,{variant:"outline",onClick:r,children:"Cancel"}),e.jsx(T,{onClick:async()=>{if(l&&f&&!(f.errors.length>0)){x(!0);try{const e=f.entries.map(e=>({user_id:l.id,day:e.day,start_time:e.start_time,end_time:e.end_time,subject_name:e.subject_name,subject_code:e.subject_code,type:e.type,room_number:e.room_number,slot_code:e.slot_code,slot_label:e.slot_label,credit:e.credit})),{error:a}=await h.from("smart_timetable_entries").insert(e);if(a)throw a;n(),r(),b([{subject_name:"",subject_code:"",type:"theory",slot:"",room_number:"",credit:0}]),g(null)}catch(e){alert("Failed to save timetable entries.")}finally{x(!1)}}},disabled:!f||f.errors.length>0||m,isLoading:m,children:"Save Timetable"})]})]})}const g={Sunday:"SU",Monday:"MO",Tuesday:"TU",Wednesday:"WE",Thursday:"TH",Friday:"FR",Saturday:"SA"},N={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};function v(e,a){const[t,s]=a.split(":").map(Number),d=new Date(e);return d.setHours(t,s,0,0),d.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z"}function _(e){const a=(new Date).toISOString().replace(/[-:]/g,"").split(".")[0]+"Z";let t=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//CGPA Calculator//Student Timetable//EN","CALSCALE:GREGORIAN","METHOD:PUBLISH"];return e.forEach(e=>{const s=function(e){const a=new Date,t=new Date(a);let s=N[e]-a.getDay();return s<=0&&(s+=7),t.setDate(a.getDate()+s),t}(e.day),d=v(s,e.start_time),i=v(s,e.end_time),r=g[e.day];t=t.concat(["BEGIN:VEVENT",`UID:${crypto.randomUUID()}`,`DTSTAMP:${a}`,`DTSTART:${d}`,`DTEND:${i}`,`RRULE:FREQ=WEEKLY;BYDAY=${r}`,`SUMMARY:${e.subject_name} (${e.subject_code})`,`DESCRIPTION:Class Type: ${e.type||"Class"}`,e.location?`LOCATION:${e.location}`:"","STATUS:CONFIRMED","END:VEVENT"])}),t.push("END:VCALENDAR"),t.filter(e=>e).join("\r\n")}function w(){const{user:a}=u(),{addToast:t}=x(),[s,d]=o.useState(!1);return e.jsxs("button",{onClick:async()=>{if(a){d(!0);try{const{data:e,error:s}=await h.from("timetable_entries").select("*").eq("user_id",a.id);if(s)throw s;const{data:d,error:i}=await h.from("smart_timetable_entries").select("*").eq("user_id",a.id);if(i)throw i;const r=[...e||[],...d||[]];if(0===r.length)return void t("No classes to export!","info");const n=r.map(e=>({subject_name:e.subject_name,subject_code:e.subject_code,day:e.day,start_time:e.start_time,end_time:e.end_time,location:e.room_number||void 0,type:e.type}));!function(e,a="timetable.ics"){const t=new Blob([e],{type:"text/calendar;charset=utf-8"}),s=document.createElement("a");s.href=window.URL.createObjectURL(t),s.setAttribute("download",a),document.body.appendChild(s),s.click(),document.body.removeChild(s)}(_(n),"my-timetable.ics"),t("Calendar exported successfully!","success")}catch(e){t("Failed to export calendar","error")}finally{d(!1)}}},disabled:s,className:p("glass-button px-4 py-2 rounded-full flex items-center gap-2 text-sm font-bold text-slate-600 hover:text-indigo-600 hover:bg-white/40 transition-all",s&&"opacity-70 cursor-not-allowed"),title:"Export to Calendar",children:[s?e.jsx(i,{className:"h-4 w-4 animate-spin"}):e.jsx(r,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden md:inline",children:"Sync Calendar"})]})}function L(){const{user:a}=u(),[s,d]=o.useState(!1),[i,r]=o.useState("Monday"),[c,y]=o.useState([]),[T,x]=o.useState({}),[j,g]=o.useState(!0),N=["Monday","Tuesday","Wednesday","Thursday","Friday"];o.useEffect(()=>{const e=(new Date).toLocaleDateString("en-US",{weekday:"long"});N.includes(e)&&r(e)},[]);const v=async()=>{if(a){g(!0);try{const{data:e,error:t}=await h.from("timetable_entries").select("*").eq("user_id",a.id).eq("day",i),{data:s,error:d}=await h.from("smart_timetable_entries").select("*").eq("user_id",a.id).eq("day",i),{data:r}=await h.from("attendance_logs").select("subject_code, status").eq("user_id",a.id),n={};if(r){const e={};r.forEach(a=>{e[a.subject_code]||(e[a.subject_code]={present:0,total:0}),e[a.subject_code].total++,"present"===a.status&&e[a.subject_code].present++}),Object.keys(e).forEach(a=>{const{present:t,total:s}=e[a];n[a]=s>0?Math.round(t/s*100):0})}x(n);const l=[...e||[],...s||[]];l.sort((e,a)=>e.start_time.localeCompare(a.start_time)),y(l)}catch(e){}finally{g(!1)}}else g(!1)};o.useEffect(()=>{v()},[a,i]);const _=e=>{const[a,t]=e.split(":"),s=parseInt(a);return`${s%12||12}:${t} ${s>=12?"PM":"AM"}`};return e.jsxs("div",{className:"pb-32 space-y-10 animate-fade-in-up",children:[e.jsx(b,{title:"Schedule",description:"Manage your class timetable and track attendance."}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4 mt-4 px-2",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-semibold text-slate-900 tracking-tighter leading-none",children:"Schedule"}),e.jsx("p",{className:"text-lg text-slate-500 font-medium font-display tracking-wide",children:"Your week at a glance."})]}),e.jsx(w,{})]}),e.jsx("div",{className:"sticky top-4 z-40 mx-auto max-w-fit",children:e.jsx("div",{className:"glass-vision rounded-full p-2 flex gap-1 shadow-2xl backdrop-blur-3xl border border-white/60",children:N.map(a=>e.jsxs("button",{onClick:()=>r(a),className:p("relative px-6 py-3 rounded-full text-sm font-bold transition-all duration-300 ease-out flex-shrink-0",i===a?"text-white shadow-lg scale-105":"text-slate-500 hover:text-slate-900 hover:bg-white/40"),children:[i===a&&e.jsx("div",{className:"absolute inset-0 bg-slate-900 rounded-full -z-10 animate-breathe"}),e.jsx("span",{className:"tracking-wide",children:a.slice(0,3)})]},a))})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 min-h-[50vh]",children:j?e.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center py-20",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-slate-200 border-t-slate-800 rounded-full animate-spin mb-6"}),e.jsx("p",{className:"font-bold text-slate-400 animate-pulse tracking-widest uppercase text-xs",children:"Loading..."})]}):0===c.length?e.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center py-20 text-center",children:[e.jsx("div",{className:"w-32 h-32 glass-vision rounded-[2.5rem] flex items-center justify-center mb-8 shadow-xl animate-float",children:e.jsx(n,{className:"h-12 w-12 text-slate-300"})}),e.jsx("h3",{className:"text-3xl font-bold text-slate-800 mb-2 tracking-tight",children:"No classes"}),e.jsx("p",{className:"text-slate-400 font-medium mb-10 text-lg",children:"Enjoy your free time!"}),e.jsxs("button",{onClick:()=>d(!0),className:"glass-button px-8 py-4 rounded-full text-slate-700 font-bold hover:scale-105 transition-transform flex items-center gap-3",children:[e.jsx(t,{className:"h-5 w-5"}),e.jsx("span",{children:"Add Class"})]})]}):c.map((a,t)=>e.jsx("div",{className:"group animate-fade-in-up opacity-0",style:{animationDelay:.1*t+"s"},children:e.jsxs("div",{className:"glass-vision p-5 rounded-[1.5rem] h-full flex flex-col relative overflow-hidden group-hover:bg-white/50 transition-all duration-500 hover:shadow-2xl hover:-translate-y-2",children:[e.jsx("div",{className:p("absolute left-0 top-0 bottom-0 w-3","theory"===a.type?"bg-indigo-500":"bg-pink-500")}),e.jsxs("div",{className:"flex justify-between items-start mb-6 pl-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex gap-2",children:e.jsx("span",{className:"glass-panel px-3 py-1 rounded-lg text-[10px] font-black text-slate-500 uppercase tracking-widest",children:a.subject_code})}),e.jsx("h3",{className:"font-bold text-xl text-slate-800 leading-tight tracking-tight",children:a.subject_name}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:p("text-xs font-bold uppercase tracking-wider","theory"===a.type?"text-indigo-500":"text-pink-500"),children:a.type})})]}),void 0!==T[a.subject_code]&&e.jsxs("div",{className:p("px-3 py-1.5 rounded-full text-xs font-bold shadow-sm border border-white/50 backdrop-blur-md",T[a.subject_code]>=75?"bg-emerald-100/50 text-emerald-700":T[a.subject_code]>=65?"bg-amber-100/50 text-amber-700":"bg-red-100/50 text-red-700"),children:[T[a.subject_code],"%"]})]}),e.jsxs("div",{className:"mt-auto pl-4 pt-6 border-t border-white/20 flex items-center justify-between text-slate-500",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{className:"h-4 w-4 text-slate-400"}),e.jsx("span",{className:"font-bold text-sm bg-white/40 px-3 py-1 rounded-lg",children:_(a.start_time)})]}),a.room_number&&e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-widest text-slate-400",children:[e.jsx(m,{className:"h-4 w-4"}),a.room_number]})]})]})},a.id))}),e.jsx("button",{onClick:()=>d(!0),className:"fixed bottom-24 right-8 w-14 h-14 glass-vision bg-slate-900/90 text-white rounded-[1.5rem] shadow-2xl z-50 flex items-center justify-center hover:scale-110 active:scale-95 transition-all duration-300 group ring-1 ring-white/20",children:e.jsx(t,{className:"h-6 w-6 group-hover:rotate-90 transition-transform duration-500"})}),e.jsx(f,{isOpen:s,onClose:()=>d(!1),onSuccess:v})]})}export{L as Timetable};
