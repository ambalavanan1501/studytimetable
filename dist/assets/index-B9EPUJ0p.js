var zN=Object.defineProperty;var $N=(t,e,r)=>e in t?zN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Nt=(t,e,r)=>$N(t,typeof e!="symbol"?e+"":e,r);function qN(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var mD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function WN(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var yb={exports:{}},Zf={},wb={exports:{}},kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var td=Symbol.for("react.element"),HN=Symbol.for("react.portal"),VN=Symbol.for("react.fragment"),GN=Symbol.for("react.strict_mode"),KN=Symbol.for("react.profiler"),JN=Symbol.for("react.provider"),YN=Symbol.for("react.context"),XN=Symbol.for("react.forward_ref"),QN=Symbol.for("react.suspense"),ZN=Symbol.for("react.memo"),ek=Symbol.for("react.lazy"),E2=Symbol.iterator;function tk(t){return t===null||typeof t!="object"?null:(t=E2&&t[E2]||t["@@iterator"],typeof t=="function"?t:null)}var bb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xb=Object.assign,_b={};function ru(t,e,r){this.props=t,this.context=e,this.refs=_b,this.updater=r||bb}ru.prototype.isReactComponent={};ru.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ru.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Sb(){}Sb.prototype=ru.prototype;function y1(t,e,r){this.props=t,this.context=e,this.refs=_b,this.updater=r||bb}var w1=y1.prototype=new Sb;w1.constructor=y1;xb(w1,ru.prototype);w1.isPureReactComponent=!0;var C2=Array.isArray,Nb=Object.prototype.hasOwnProperty,b1={current:null},kb={key:!0,ref:!0,__self:!0,__source:!0};function jb(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)Nb.call(e,n)&&!kb.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:td,type:t,key:s,ref:a,props:i,_owner:b1.current}}function rk(t,e){return{$$typeof:td,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function x1(t){return typeof t=="object"&&t!==null&&t.$$typeof===td}function nk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var T2=/\/+/g;function d0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?nk(""+t.key):e.toString(36)}function Fh(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case td:case HN:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+d0(a,0):n,C2(i)?(r="",t!=null&&(r=t.replace(T2,"$&/")+"/"),Fh(i,e,r,"",function(u){return u})):i!=null&&(x1(i)&&(i=rk(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(T2,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",C2(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+d0(s,o);a+=Fh(s,e,r,l,i)}else if(l=tk(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+d0(s,o++),a+=Fh(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Qd(t,e,r){if(t==null)return t;var n=[],i=0;return Fh(t,n,"","",function(s){return e.call(r,s,i++)}),n}function ik(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kn={current:null},Bh={transition:null},sk={ReactCurrentDispatcher:kn,ReactCurrentBatchConfig:Bh,ReactCurrentOwner:b1};function Ab(){throw Error("act(...) is not supported in production builds of React.")}kt.Children={map:Qd,forEach:function(t,e,r){Qd(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Qd(t,function(){e++}),e},toArray:function(t){return Qd(t,function(e){return e})||[]},only:function(t){if(!x1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};kt.Component=ru;kt.Fragment=VN;kt.Profiler=KN;kt.PureComponent=y1;kt.StrictMode=GN;kt.Suspense=QN;kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sk;kt.act=Ab;kt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=xb({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=b1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)Nb.call(e,l)&&!kb.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:td,type:t.type,key:i,ref:s,props:n,_owner:a}};kt.createContext=function(t){return t={$$typeof:YN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:JN,_context:t},t.Consumer=t};kt.createElement=jb;kt.createFactory=function(t){var e=jb.bind(null,t);return e.type=t,e};kt.createRef=function(){return{current:null}};kt.forwardRef=function(t){return{$$typeof:XN,render:t}};kt.isValidElement=x1;kt.lazy=function(t){return{$$typeof:ek,_payload:{_status:-1,_result:t},_init:ik}};kt.memo=function(t,e){return{$$typeof:ZN,type:t,compare:e===void 0?null:e}};kt.startTransition=function(t){var e=Bh.transition;Bh.transition={};try{t()}finally{Bh.transition=e}};kt.unstable_act=Ab;kt.useCallback=function(t,e){return kn.current.useCallback(t,e)};kt.useContext=function(t){return kn.current.useContext(t)};kt.useDebugValue=function(){};kt.useDeferredValue=function(t){return kn.current.useDeferredValue(t)};kt.useEffect=function(t,e){return kn.current.useEffect(t,e)};kt.useId=function(){return kn.current.useId()};kt.useImperativeHandle=function(t,e,r){return kn.current.useImperativeHandle(t,e,r)};kt.useInsertionEffect=function(t,e){return kn.current.useInsertionEffect(t,e)};kt.useLayoutEffect=function(t,e){return kn.current.useLayoutEffect(t,e)};kt.useMemo=function(t,e){return kn.current.useMemo(t,e)};kt.useReducer=function(t,e,r){return kn.current.useReducer(t,e,r)};kt.useRef=function(t){return kn.current.useRef(t)};kt.useState=function(t){return kn.current.useState(t)};kt.useSyncExternalStore=function(t,e,r){return kn.current.useSyncExternalStore(t,e,r)};kt.useTransition=function(){return kn.current.useTransition()};kt.version="18.3.1";wb.exports=kt;var L=wb.exports;const Ct=Qf(L);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ak=L,ok=Symbol.for("react.element"),lk=Symbol.for("react.fragment"),uk=Object.prototype.hasOwnProperty,ck=ak.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dk={key:!0,ref:!0,__self:!0,__source:!0};function Eb(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)uk.call(e,n)&&!dk.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:ok,type:t,key:s,ref:a,props:i,_owner:ck.current}}Zf.Fragment=lk;Zf.jsx=Eb;Zf.jsxs=Eb;yb.exports=Zf;var f=yb.exports,Rm={},Cb={exports:{}},ti={},Tb={exports:{}},Lb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,re){var me=K.length;K.push(re);e:for(;0<me;){var he=me-1>>>1,T=K[he];if(0<i(T,re))K[he]=re,K[me]=T,me=he;else break e}}function r(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var re=K[0],me=K.pop();if(me!==re){K[0]=me;e:for(var he=0,T=K.length,z=T>>>1;he<z;){var J=2*(he+1)-1,Q=K[J],ee=J+1,se=K[ee];if(0>i(Q,me))ee<T&&0>i(se,Q)?(K[he]=se,K[ee]=me,he=ee):(K[he]=Q,K[J]=me,he=J);else if(ee<T&&0>i(se,me))K[he]=se,K[ee]=me,he=ee;else break e}}return re}function i(K,re){var me=K.sortIndex-re.sortIndex;return me!==0?me:K.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,m=null,g=3,h=!1,S=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(K){for(var re=r(u);re!==null;){if(re.callback===null)n(u);else if(re.startTime<=K)n(u),re.sortIndex=re.expirationTime,e(l,re);else break;re=r(u)}}function j(K){if(w=!1,x(K),!S)if(r(l)!==null)S=!0,de(D);else{var re=r(u);re!==null&&ce(j,re.startTime-K)}}function D(K,re){S=!1,w&&(w=!1,v(F),F=-1),h=!0;var me=g;try{for(x(re),m=r(l);m!==null&&(!(m.expirationTime>re)||K&&!C());){var he=m.callback;if(typeof he=="function"){m.callback=null,g=m.priorityLevel;var T=he(m.expirationTime<=re);re=t.unstable_now(),typeof T=="function"?m.callback=T:m===r(l)&&n(l),x(re)}else n(l);m=r(l)}if(m!==null)var z=!0;else{var J=r(u);J!==null&&ce(j,J.startTime-re),z=!1}return z}finally{m=null,g=me,h=!1}}var G=!1,W=null,F=-1,O=5,V=-1;function C(){return!(t.unstable_now()-V<O)}function I(){if(W!==null){var K=t.unstable_now();V=K;var re=!0;try{re=W(!0,K)}finally{re?Y():(G=!1,W=null)}}else G=!1}var Y;if(typeof N=="function")Y=function(){N(I)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ue=X.port2;X.port1.onmessage=I,Y=function(){ue.postMessage(null)}}else Y=function(){b(I,0)};function de(K){W=K,G||(G=!0,Y())}function ce(K,re){F=b(function(){K(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){S||h||(S=!0,de(D))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(K){switch(g){case 1:case 2:case 3:var re=3;break;default:re=g}var me=g;g=re;try{return K()}finally{g=me}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,re){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var me=g;g=K;try{return re()}finally{g=me}},t.unstable_scheduleCallback=function(K,re,me){var he=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?he+me:he):me=he,K){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=me+T,K={id:c++,callback:re,priorityLevel:K,startTime:me,expirationTime:T,sortIndex:-1},me>he?(K.sortIndex=me,e(u,K),r(l)===null&&K===r(u)&&(w?(v(F),F=-1):w=!0,ce(j,me-he))):(K.sortIndex=T,e(l,K),S||h||(S=!0,de(D))),K},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(K){var re=g;return function(){var me=g;g=re;try{return K.apply(this,arguments)}finally{g=me}}}})(Lb);Tb.exports=Lb;var hk=Tb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fk=L,ei=hk;function je(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Pb=new Set,Ec={};function Fo(t,e){Kl(t,e),Kl(t+"Capture",e)}function Kl(t,e){for(Ec[t]=e,t=0;t<e.length;t++)Pb.add(e[t])}var Gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Im=Object.prototype.hasOwnProperty,pk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,L2={},P2={};function mk(t){return Im.call(P2,t)?!0:Im.call(L2,t)?!1:pk.test(t)?P2[t]=!0:(L2[t]=!0,!1)}function gk(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vk(t,e,r,n){if(e===null||typeof e>"u"||gk(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jn(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var on={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){on[t]=new jn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];on[e]=new jn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){on[t]=new jn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){on[t]=new jn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){on[t]=new jn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){on[t]=new jn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){on[t]=new jn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){on[t]=new jn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){on[t]=new jn(t,5,!1,t.toLowerCase(),null,!1,!1)});var _1=/[\-:]([a-z])/g;function S1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_1,S1);on[e]=new jn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_1,S1);on[e]=new jn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_1,S1);on[e]=new jn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){on[t]=new jn(t,1,!1,t.toLowerCase(),null,!1,!1)});on.xlinkHref=new jn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){on[t]=new jn(t,1,!1,t.toLowerCase(),null,!0,!0)});function N1(t,e,r,n){var i=on.hasOwnProperty(e)?on[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vk(e,r,i,n)&&(r=null),n||i===null?mk(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Zs=fk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zd=Symbol.for("react.element"),wl=Symbol.for("react.portal"),bl=Symbol.for("react.fragment"),k1=Symbol.for("react.strict_mode"),Dm=Symbol.for("react.profiler"),Ob=Symbol.for("react.provider"),Rb=Symbol.for("react.context"),j1=Symbol.for("react.forward_ref"),Mm=Symbol.for("react.suspense"),Fm=Symbol.for("react.suspense_list"),A1=Symbol.for("react.memo"),_a=Symbol.for("react.lazy"),Ib=Symbol.for("react.offscreen"),O2=Symbol.iterator;function Wu(t){return t===null||typeof t!="object"?null:(t=O2&&t[O2]||t["@@iterator"],typeof t=="function"?t:null)}var vr=Object.assign,h0;function sc(t){if(h0===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);h0=e&&e[1]||""}return`
`+h0+t}var f0=!1;function p0(t,e){if(!t||f0)return"";f0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{f0=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?sc(t):""}function yk(t){switch(t.tag){case 5:return sc(t.type);case 16:return sc("Lazy");case 13:return sc("Suspense");case 19:return sc("SuspenseList");case 0:case 2:case 15:return t=p0(t.type,!1),t;case 11:return t=p0(t.type.render,!1),t;case 1:return t=p0(t.type,!0),t;default:return""}}function Bm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case bl:return"Fragment";case wl:return"Portal";case Dm:return"Profiler";case k1:return"StrictMode";case Mm:return"Suspense";case Fm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Rb:return(t.displayName||"Context")+".Consumer";case Ob:return(t._context.displayName||"Context")+".Provider";case j1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case A1:return e=t.displayName||null,e!==null?e:Bm(t.type)||"Memo";case _a:e=t._payload,t=t._init;try{return Bm(t(e))}catch{}}return null}function wk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bm(e);case 8:return e===k1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ua(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Db(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bk(t){var e=Db(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function eh(t){t._valueTracker||(t._valueTracker=bk(t))}function Mb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Db(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function lf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Um(t,e){var r=e.checked;return vr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function R2(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ua(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Fb(t,e){e=e.checked,e!=null&&N1(t,"checked",e,!1)}function zm(t,e){Fb(t,e);var r=Ua(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$m(t,e.type,r):e.hasOwnProperty("defaultValue")&&$m(t,e.type,Ua(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function I2(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function $m(t,e,r){(e!=="number"||lf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ac=Array.isArray;function Pl(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ua(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function qm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(je(91));return vr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function D2(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(je(92));if(ac(r)){if(1<r.length)throw Error(je(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ua(r)}}function Bb(t,e){var r=Ua(e.value),n=Ua(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function M2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ub(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ub(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var th,zb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(th=th||document.createElement("div"),th.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=th.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Cc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var dc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xk=["Webkit","ms","Moz","O"];Object.keys(dc).forEach(function(t){xk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dc[e]=dc[t]})});function $b(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||dc.hasOwnProperty(t)&&dc[t]?(""+e).trim():e+"px"}function qb(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=$b(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var _k=vr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hm(t,e){if(e){if(_k[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(je(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(je(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(je(61))}if(e.style!=null&&typeof e.style!="object")throw Error(je(62))}}function Vm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gm=null;function E1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Km=null,Ol=null,Rl=null;function F2(t){if(t=id(t)){if(typeof Km!="function")throw Error(je(280));var e=t.stateNode;e&&(e=ip(e),Km(t.stateNode,t.type,e))}}function Wb(t){Ol?Rl?Rl.push(t):Rl=[t]:Ol=t}function Hb(){if(Ol){var t=Ol,e=Rl;if(Rl=Ol=null,F2(t),e)for(t=0;t<e.length;t++)F2(e[t])}}function Vb(t,e){return t(e)}function Gb(){}var m0=!1;function Kb(t,e,r){if(m0)return t(e,r);m0=!0;try{return Vb(t,e,r)}finally{m0=!1,(Ol!==null||Rl!==null)&&(Gb(),Hb())}}function Tc(t,e){var r=t.stateNode;if(r===null)return null;var n=ip(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(je(231,e,typeof r));return r}var Jm=!1;if(Gs)try{var Hu={};Object.defineProperty(Hu,"passive",{get:function(){Jm=!0}}),window.addEventListener("test",Hu,Hu),window.removeEventListener("test",Hu,Hu)}catch{Jm=!1}function Sk(t,e,r,n,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var hc=!1,uf=null,cf=!1,Ym=null,Nk={onError:function(t){hc=!0,uf=t}};function kk(t,e,r,n,i,s,a,o,l){hc=!1,uf=null,Sk.apply(Nk,arguments)}function jk(t,e,r,n,i,s,a,o,l){if(kk.apply(this,arguments),hc){if(hc){var u=uf;hc=!1,uf=null}else throw Error(je(198));cf||(cf=!0,Ym=u)}}function Bo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Jb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function B2(t){if(Bo(t)!==t)throw Error(je(188))}function Ak(t){var e=t.alternate;if(!e){if(e=Bo(t),e===null)throw Error(je(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return B2(i),t;if(s===n)return B2(i),e;s=s.sibling}throw Error(je(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(je(189))}}if(r.alternate!==n)throw Error(je(190))}if(r.tag!==3)throw Error(je(188));return r.stateNode.current===r?t:e}function Yb(t){return t=Ak(t),t!==null?Xb(t):null}function Xb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Xb(t);if(e!==null)return e;t=t.sibling}return null}var Qb=ei.unstable_scheduleCallback,U2=ei.unstable_cancelCallback,Ek=ei.unstable_shouldYield,Ck=ei.unstable_requestPaint,Er=ei.unstable_now,Tk=ei.unstable_getCurrentPriorityLevel,C1=ei.unstable_ImmediatePriority,Zb=ei.unstable_UserBlockingPriority,df=ei.unstable_NormalPriority,Lk=ei.unstable_LowPriority,ex=ei.unstable_IdlePriority,ep=null,hs=null;function Pk(t){if(hs&&typeof hs.onCommitFiberRoot=="function")try{hs.onCommitFiberRoot(ep,t,void 0,(t.current.flags&128)===128)}catch{}}var Ui=Math.clz32?Math.clz32:Ik,Ok=Math.log,Rk=Math.LN2;function Ik(t){return t>>>=0,t===0?32:31-(Ok(t)/Rk|0)|0}var rh=64,nh=4194304;function oc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hf(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=oc(o):(s&=a,s!==0&&(n=oc(s)))}else a=r&~i,a!==0?n=oc(a):s!==0&&(n=oc(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ui(e),i=1<<r,n|=t[r],e&=~i;return n}function Dk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mk(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Ui(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=Dk(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function Xm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tx(){var t=rh;return rh<<=1,!(rh&4194240)&&(rh=64),t}function g0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function rd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ui(e),t[e]=r}function Fk(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Ui(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function T1(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ui(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var $t=0;function rx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nx,L1,ix,sx,ax,Qm=!1,ih=[],Pa=null,Oa=null,Ra=null,Lc=new Map,Pc=new Map,ka=[],Bk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function z2(t,e){switch(t){case"focusin":case"focusout":Pa=null;break;case"dragenter":case"dragleave":Oa=null;break;case"mouseover":case"mouseout":Ra=null;break;case"pointerover":case"pointerout":Lc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(e.pointerId)}}function Vu(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=id(e),e!==null&&L1(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Uk(t,e,r,n,i){switch(e){case"focusin":return Pa=Vu(Pa,t,e,r,n,i),!0;case"dragenter":return Oa=Vu(Oa,t,e,r,n,i),!0;case"mouseover":return Ra=Vu(Ra,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Lc.set(s,Vu(Lc.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Pc.set(s,Vu(Pc.get(s)||null,t,e,r,n,i)),!0}return!1}function ox(t){var e=_o(t.target);if(e!==null){var r=Bo(e);if(r!==null){if(e=r.tag,e===13){if(e=Jb(r),e!==null){t.blockedOn=e,ax(t.priority,function(){ix(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Zm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Gm=n,r.target.dispatchEvent(n),Gm=null}else return e=id(r),e!==null&&L1(e),t.blockedOn=r,!1;e.shift()}return!0}function $2(t,e,r){Uh(t)&&r.delete(e)}function zk(){Qm=!1,Pa!==null&&Uh(Pa)&&(Pa=null),Oa!==null&&Uh(Oa)&&(Oa=null),Ra!==null&&Uh(Ra)&&(Ra=null),Lc.forEach($2),Pc.forEach($2)}function Gu(t,e){t.blockedOn===e&&(t.blockedOn=null,Qm||(Qm=!0,ei.unstable_scheduleCallback(ei.unstable_NormalPriority,zk)))}function Oc(t){function e(i){return Gu(i,t)}if(0<ih.length){Gu(ih[0],t);for(var r=1;r<ih.length;r++){var n=ih[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Pa!==null&&Gu(Pa,t),Oa!==null&&Gu(Oa,t),Ra!==null&&Gu(Ra,t),Lc.forEach(e),Pc.forEach(e),r=0;r<ka.length;r++)n=ka[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ka.length&&(r=ka[0],r.blockedOn===null);)ox(r),r.blockedOn===null&&ka.shift()}var Il=Zs.ReactCurrentBatchConfig,ff=!0;function $k(t,e,r,n){var i=$t,s=Il.transition;Il.transition=null;try{$t=1,P1(t,e,r,n)}finally{$t=i,Il.transition=s}}function qk(t,e,r,n){var i=$t,s=Il.transition;Il.transition=null;try{$t=4,P1(t,e,r,n)}finally{$t=i,Il.transition=s}}function P1(t,e,r,n){if(ff){var i=Zm(t,e,r,n);if(i===null)j0(t,e,n,pf,r),z2(t,n);else if(Uk(i,t,e,r,n))n.stopPropagation();else if(z2(t,n),e&4&&-1<Bk.indexOf(t)){for(;i!==null;){var s=id(i);if(s!==null&&nx(s),s=Zm(t,e,r,n),s===null&&j0(t,e,n,pf,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else j0(t,e,n,null,r)}}var pf=null;function Zm(t,e,r,n){if(pf=null,t=E1(n),t=_o(t),t!==null)if(e=Bo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Jb(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pf=t,null}function lx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tk()){case C1:return 1;case Zb:return 4;case df:case Lk:return 16;case ex:return 536870912;default:return 16}default:return 16}}var Ea=null,O1=null,zh=null;function ux(){if(zh)return zh;var t,e=O1,r=e.length,n,i="value"in Ea?Ea.value:Ea.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return zh=i.slice(t,1<n?1-n:void 0)}function $h(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sh(){return!0}function q2(){return!1}function ri(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sh:q2,this.isPropagationStopped=q2,this}return vr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=sh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=sh)},persist:function(){},isPersistent:sh}),e}var nu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},R1=ri(nu),nd=vr({},nu,{view:0,detail:0}),Wk=ri(nd),v0,y0,Ku,tp=vr({},nd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:I1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ku&&(Ku&&t.type==="mousemove"?(v0=t.screenX-Ku.screenX,y0=t.screenY-Ku.screenY):y0=v0=0,Ku=t),v0)},movementY:function(t){return"movementY"in t?t.movementY:y0}}),W2=ri(tp),Hk=vr({},tp,{dataTransfer:0}),Vk=ri(Hk),Gk=vr({},nd,{relatedTarget:0}),w0=ri(Gk),Kk=vr({},nu,{animationName:0,elapsedTime:0,pseudoElement:0}),Jk=ri(Kk),Yk=vr({},nu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xk=ri(Yk),Qk=vr({},nu,{data:0}),H2=ri(Qk),Zk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},e6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=t6[t])?!!e[t]:!1}function I1(){return r6}var n6=vr({},nd,{key:function(t){if(t.key){var e=Zk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$h(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?e6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:I1,charCode:function(t){return t.type==="keypress"?$h(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$h(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),i6=ri(n6),s6=vr({},tp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V2=ri(s6),a6=vr({},nd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:I1}),o6=ri(a6),l6=vr({},nu,{propertyName:0,elapsedTime:0,pseudoElement:0}),u6=ri(l6),c6=vr({},tp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),d6=ri(c6),h6=[9,13,27,32],D1=Gs&&"CompositionEvent"in window,fc=null;Gs&&"documentMode"in document&&(fc=document.documentMode);var f6=Gs&&"TextEvent"in window&&!fc,cx=Gs&&(!D1||fc&&8<fc&&11>=fc),G2=" ",K2=!1;function dx(t,e){switch(t){case"keyup":return h6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xl=!1;function p6(t,e){switch(t){case"compositionend":return hx(e);case"keypress":return e.which!==32?null:(K2=!0,G2);case"textInput":return t=e.data,t===G2&&K2?null:t;default:return null}}function m6(t,e){if(xl)return t==="compositionend"||!D1&&dx(t,e)?(t=ux(),zh=O1=Ea=null,xl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cx&&e.locale!=="ko"?null:e.data;default:return null}}var g6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function J2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!g6[t.type]:e==="textarea"}function fx(t,e,r,n){Wb(n),e=mf(e,"onChange"),0<e.length&&(r=new R1("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var pc=null,Rc=null;function v6(t){Nx(t,0)}function rp(t){var e=Nl(t);if(Mb(e))return t}function y6(t,e){if(t==="change")return e}var px=!1;if(Gs){var b0;if(Gs){var x0="oninput"in document;if(!x0){var Y2=document.createElement("div");Y2.setAttribute("oninput","return;"),x0=typeof Y2.oninput=="function"}b0=x0}else b0=!1;px=b0&&(!document.documentMode||9<document.documentMode)}function X2(){pc&&(pc.detachEvent("onpropertychange",mx),Rc=pc=null)}function mx(t){if(t.propertyName==="value"&&rp(Rc)){var e=[];fx(e,Rc,t,E1(t)),Kb(v6,e)}}function w6(t,e,r){t==="focusin"?(X2(),pc=e,Rc=r,pc.attachEvent("onpropertychange",mx)):t==="focusout"&&X2()}function b6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rp(Rc)}function x6(t,e){if(t==="click")return rp(e)}function _6(t,e){if(t==="input"||t==="change")return rp(e)}function S6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $i=typeof Object.is=="function"?Object.is:S6;function Ic(t,e){if($i(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Im.call(e,i)||!$i(t[i],e[i]))return!1}return!0}function Q2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Z2(t,e){var r=Q2(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Q2(r)}}function gx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vx(){for(var t=window,e=lf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=lf(t.document)}return e}function M1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function N6(t){var e=vx(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&gx(r.ownerDocument.documentElement,r)){if(n!==null&&M1(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=Z2(r,s);var a=Z2(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var k6=Gs&&"documentMode"in document&&11>=document.documentMode,_l=null,eg=null,mc=null,tg=!1;function ey(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;tg||_l==null||_l!==lf(n)||(n=_l,"selectionStart"in n&&M1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),mc&&Ic(mc,n)||(mc=n,n=mf(eg,"onSelect"),0<n.length&&(e=new R1("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=_l)))}function ah(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Sl={animationend:ah("Animation","AnimationEnd"),animationiteration:ah("Animation","AnimationIteration"),animationstart:ah("Animation","AnimationStart"),transitionend:ah("Transition","TransitionEnd")},_0={},yx={};Gs&&(yx=document.createElement("div").style,"AnimationEvent"in window||(delete Sl.animationend.animation,delete Sl.animationiteration.animation,delete Sl.animationstart.animation),"TransitionEvent"in window||delete Sl.transitionend.transition);function np(t){if(_0[t])return _0[t];if(!Sl[t])return t;var e=Sl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in yx)return _0[t]=e[r];return t}var wx=np("animationend"),bx=np("animationiteration"),xx=np("animationstart"),_x=np("transitionend"),Sx=new Map,ty="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wa(t,e){Sx.set(t,e),Fo(e,[t])}for(var S0=0;S0<ty.length;S0++){var N0=ty[S0],j6=N0.toLowerCase(),A6=N0[0].toUpperCase()+N0.slice(1);Wa(j6,"on"+A6)}Wa(wx,"onAnimationEnd");Wa(bx,"onAnimationIteration");Wa(xx,"onAnimationStart");Wa("dblclick","onDoubleClick");Wa("focusin","onFocus");Wa("focusout","onBlur");Wa(_x,"onTransitionEnd");Kl("onMouseEnter",["mouseout","mouseover"]);Kl("onMouseLeave",["mouseout","mouseover"]);Kl("onPointerEnter",["pointerout","pointerover"]);Kl("onPointerLeave",["pointerout","pointerover"]);Fo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E6=new Set("cancel close invalid load scroll toggle".split(" ").concat(lc));function ry(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,jk(n,e,void 0,t),t.currentTarget=null}function Nx(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;ry(i,o,u),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;ry(i,o,u),s=l}}}if(cf)throw t=Ym,cf=!1,Ym=null,t}function nr(t,e){var r=e[ag];r===void 0&&(r=e[ag]=new Set);var n=t+"__bubble";r.has(n)||(kx(e,t,2,!1),r.add(n))}function k0(t,e,r){var n=0;e&&(n|=4),kx(r,t,n,e)}var oh="_reactListening"+Math.random().toString(36).slice(2);function Dc(t){if(!t[oh]){t[oh]=!0,Pb.forEach(function(r){r!=="selectionchange"&&(E6.has(r)||k0(r,!1,t),k0(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[oh]||(e[oh]=!0,k0("selectionchange",!1,e))}}function kx(t,e,r,n){switch(lx(e)){case 1:var i=$k;break;case 4:i=qk;break;default:i=P1}r=i.bind(null,e,r,t),i=void 0,!Jm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function j0(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=_o(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}Kb(function(){var u=s,c=E1(r),m=[];e:{var g=Sx.get(t);if(g!==void 0){var h=R1,S=t;switch(t){case"keypress":if($h(r)===0)break e;case"keydown":case"keyup":h=i6;break;case"focusin":S="focus",h=w0;break;case"focusout":S="blur",h=w0;break;case"beforeblur":case"afterblur":h=w0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=W2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Vk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=o6;break;case wx:case bx:case xx:h=Jk;break;case _x:h=u6;break;case"scroll":h=Wk;break;case"wheel":h=d6;break;case"copy":case"cut":case"paste":h=Xk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=V2}var w=(e&4)!==0,b=!w&&t==="scroll",v=w?g!==null?g+"Capture":null:g;w=[];for(var N=u,x;N!==null;){x=N;var j=x.stateNode;if(x.tag===5&&j!==null&&(x=j,v!==null&&(j=Tc(N,v),j!=null&&w.push(Mc(N,j,x)))),b)break;N=N.return}0<w.length&&(g=new h(g,S,null,r,c),m.push({event:g,listeners:w}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",g&&r!==Gm&&(S=r.relatedTarget||r.fromElement)&&(_o(S)||S[Ks]))break e;if((h||g)&&(g=c.window===c?c:(g=c.ownerDocument)?g.defaultView||g.parentWindow:window,h?(S=r.relatedTarget||r.toElement,h=u,S=S?_o(S):null,S!==null&&(b=Bo(S),S!==b||S.tag!==5&&S.tag!==6)&&(S=null)):(h=null,S=u),h!==S)){if(w=W2,j="onMouseLeave",v="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(w=V2,j="onPointerLeave",v="onPointerEnter",N="pointer"),b=h==null?g:Nl(h),x=S==null?g:Nl(S),g=new w(j,N+"leave",h,r,c),g.target=b,g.relatedTarget=x,j=null,_o(c)===u&&(w=new w(v,N+"enter",S,r,c),w.target=x,w.relatedTarget=b,j=w),b=j,h&&S)t:{for(w=h,v=S,N=0,x=w;x;x=il(x))N++;for(x=0,j=v;j;j=il(j))x++;for(;0<N-x;)w=il(w),N--;for(;0<x-N;)v=il(v),x--;for(;N--;){if(w===v||v!==null&&w===v.alternate)break t;w=il(w),v=il(v)}w=null}else w=null;h!==null&&ny(m,g,h,w,!1),S!==null&&b!==null&&ny(m,b,S,w,!0)}}e:{if(g=u?Nl(u):window,h=g.nodeName&&g.nodeName.toLowerCase(),h==="select"||h==="input"&&g.type==="file")var D=y6;else if(J2(g))if(px)D=_6;else{D=b6;var G=w6}else(h=g.nodeName)&&h.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(D=x6);if(D&&(D=D(t,u))){fx(m,D,r,c);break e}G&&G(t,g,u),t==="focusout"&&(G=g._wrapperState)&&G.controlled&&g.type==="number"&&$m(g,"number",g.value)}switch(G=u?Nl(u):window,t){case"focusin":(J2(G)||G.contentEditable==="true")&&(_l=G,eg=u,mc=null);break;case"focusout":mc=eg=_l=null;break;case"mousedown":tg=!0;break;case"contextmenu":case"mouseup":case"dragend":tg=!1,ey(m,r,c);break;case"selectionchange":if(k6)break;case"keydown":case"keyup":ey(m,r,c)}var W;if(D1)e:{switch(t){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else xl?dx(t,r)&&(F="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(F="onCompositionStart");F&&(cx&&r.locale!=="ko"&&(xl||F!=="onCompositionStart"?F==="onCompositionEnd"&&xl&&(W=ux()):(Ea=c,O1="value"in Ea?Ea.value:Ea.textContent,xl=!0)),G=mf(u,F),0<G.length&&(F=new H2(F,t,null,r,c),m.push({event:F,listeners:G}),W?F.data=W:(W=hx(r),W!==null&&(F.data=W)))),(W=f6?p6(t,r):m6(t,r))&&(u=mf(u,"onBeforeInput"),0<u.length&&(c=new H2("onBeforeInput","beforeinput",null,r,c),m.push({event:c,listeners:u}),c.data=W))}Nx(m,e)})}function Mc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function mf(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Tc(t,r),s!=null&&n.unshift(Mc(t,s,i)),s=Tc(t,e),s!=null&&n.push(Mc(t,s,i))),t=t.return}return n}function il(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ny(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=Tc(r,s),l!=null&&a.unshift(Mc(r,l,o))):i||(l=Tc(r,s),l!=null&&a.push(Mc(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var C6=/\r\n?/g,T6=/\u0000|\uFFFD/g;function iy(t){return(typeof t=="string"?t:""+t).replace(C6,`
`).replace(T6,"")}function lh(t,e,r){if(e=iy(e),iy(t)!==e&&r)throw Error(je(425))}function gf(){}var rg=null,ng=null;function ig(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sg=typeof setTimeout=="function"?setTimeout:void 0,L6=typeof clearTimeout=="function"?clearTimeout:void 0,sy=typeof Promise=="function"?Promise:void 0,P6=typeof queueMicrotask=="function"?queueMicrotask:typeof sy<"u"?function(t){return sy.resolve(null).then(t).catch(O6)}:sg;function O6(t){setTimeout(function(){throw t})}function A0(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Oc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Oc(e)}function Ia(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ay(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var iu=Math.random().toString(36).slice(2),cs="__reactFiber$"+iu,Fc="__reactProps$"+iu,Ks="__reactContainer$"+iu,ag="__reactEvents$"+iu,R6="__reactListeners$"+iu,I6="__reactHandles$"+iu;function _o(t){var e=t[cs];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ks]||r[cs]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=ay(t);t!==null;){if(r=t[cs])return r;t=ay(t)}return e}t=r,r=t.parentNode}return null}function id(t){return t=t[cs]||t[Ks],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Nl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(je(33))}function ip(t){return t[Fc]||null}var og=[],kl=-1;function Ha(t){return{current:t}}function sr(t){0>kl||(t.current=og[kl],og[kl]=null,kl--)}function er(t,e){kl++,og[kl]=t.current,t.current=e}var za={},vn=Ha(za),On=Ha(!1),Lo=za;function Jl(t,e){var r=t.type.contextTypes;if(!r)return za;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Rn(t){return t=t.childContextTypes,t!=null}function vf(){sr(On),sr(vn)}function oy(t,e,r){if(vn.current!==za)throw Error(je(168));er(vn,e),er(On,r)}function jx(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(je(108,wk(t)||"Unknown",i));return vr({},r,n)}function yf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||za,Lo=vn.current,er(vn,t),er(On,On.current),!0}function ly(t,e,r){var n=t.stateNode;if(!n)throw Error(je(169));r?(t=jx(t,e,Lo),n.__reactInternalMemoizedMergedChildContext=t,sr(On),sr(vn),er(vn,t)):sr(On),er(On,r)}var Fs=null,sp=!1,E0=!1;function Ax(t){Fs===null?Fs=[t]:Fs.push(t)}function D6(t){sp=!0,Ax(t)}function Va(){if(!E0&&Fs!==null){E0=!0;var t=0,e=$t;try{var r=Fs;for($t=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Fs=null,sp=!1}catch(i){throw Fs!==null&&(Fs=Fs.slice(t+1)),Qb(C1,Va),i}finally{$t=e,E0=!1}}return null}var jl=[],Al=0,wf=null,bf=0,pi=[],mi=0,Po=null,Us=1,zs="";function fo(t,e){jl[Al++]=bf,jl[Al++]=wf,wf=t,bf=e}function Ex(t,e,r){pi[mi++]=Us,pi[mi++]=zs,pi[mi++]=Po,Po=t;var n=Us;t=zs;var i=32-Ui(n)-1;n&=~(1<<i),r+=1;var s=32-Ui(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Us=1<<32-Ui(e)+i|r<<i|n,zs=s+t}else Us=1<<s|r<<i|n,zs=t}function F1(t){t.return!==null&&(fo(t,1),Ex(t,1,0))}function B1(t){for(;t===wf;)wf=jl[--Al],jl[Al]=null,bf=jl[--Al],jl[Al]=null;for(;t===Po;)Po=pi[--mi],pi[mi]=null,zs=pi[--mi],pi[mi]=null,Us=pi[--mi],pi[mi]=null}var Zn=null,Xn=null,ur=!1,Fi=null;function Cx(t,e){var r=gi(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function uy(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zn=t,Xn=Ia(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zn=t,Xn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Po!==null?{id:Us,overflow:zs}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=gi(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Zn=t,Xn=null,!0):!1;default:return!1}}function lg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ug(t){if(ur){var e=Xn;if(e){var r=e;if(!uy(t,e)){if(lg(t))throw Error(je(418));e=Ia(r.nextSibling);var n=Zn;e&&uy(t,e)?Cx(n,r):(t.flags=t.flags&-4097|2,ur=!1,Zn=t)}}else{if(lg(t))throw Error(je(418));t.flags=t.flags&-4097|2,ur=!1,Zn=t}}}function cy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zn=t}function uh(t){if(t!==Zn)return!1;if(!ur)return cy(t),ur=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ig(t.type,t.memoizedProps)),e&&(e=Xn)){if(lg(t))throw Tx(),Error(je(418));for(;e;)Cx(t,e),e=Ia(e.nextSibling)}if(cy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(je(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Xn=Ia(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Xn=null}}else Xn=Zn?Ia(t.stateNode.nextSibling):null;return!0}function Tx(){for(var t=Xn;t;)t=Ia(t.nextSibling)}function Yl(){Xn=Zn=null,ur=!1}function U1(t){Fi===null?Fi=[t]:Fi.push(t)}var M6=Zs.ReactCurrentBatchConfig;function Ju(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(je(309));var n=r.stateNode}if(!n)throw Error(je(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(je(284));if(!r._owner)throw Error(je(290,t))}return t}function ch(t,e){throw t=Object.prototype.toString.call(e),Error(je(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function dy(t){var e=t._init;return e(t._payload)}function Lx(t){function e(v,N){if(t){var x=v.deletions;x===null?(v.deletions=[N],v.flags|=16):x.push(N)}}function r(v,N){if(!t)return null;for(;N!==null;)e(v,N),N=N.sibling;return null}function n(v,N){for(v=new Map;N!==null;)N.key!==null?v.set(N.key,N):v.set(N.index,N),N=N.sibling;return v}function i(v,N){return v=Ba(v,N),v.index=0,v.sibling=null,v}function s(v,N,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<N?(v.flags|=2,N):x):(v.flags|=2,N)):(v.flags|=1048576,N)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function o(v,N,x,j){return N===null||N.tag!==6?(N=I0(x,v.mode,j),N.return=v,N):(N=i(N,x),N.return=v,N)}function l(v,N,x,j){var D=x.type;return D===bl?c(v,N,x.props.children,j,x.key):N!==null&&(N.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===_a&&dy(D)===N.type)?(j=i(N,x.props),j.ref=Ju(v,N,x),j.return=v,j):(j=Jh(x.type,x.key,x.props,null,v.mode,j),j.ref=Ju(v,N,x),j.return=v,j)}function u(v,N,x,j){return N===null||N.tag!==4||N.stateNode.containerInfo!==x.containerInfo||N.stateNode.implementation!==x.implementation?(N=D0(x,v.mode,j),N.return=v,N):(N=i(N,x.children||[]),N.return=v,N)}function c(v,N,x,j,D){return N===null||N.tag!==7?(N=Eo(x,v.mode,j,D),N.return=v,N):(N=i(N,x),N.return=v,N)}function m(v,N,x){if(typeof N=="string"&&N!==""||typeof N=="number")return N=I0(""+N,v.mode,x),N.return=v,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Zd:return x=Jh(N.type,N.key,N.props,null,v.mode,x),x.ref=Ju(v,null,N),x.return=v,x;case wl:return N=D0(N,v.mode,x),N.return=v,N;case _a:var j=N._init;return m(v,j(N._payload),x)}if(ac(N)||Wu(N))return N=Eo(N,v.mode,x,null),N.return=v,N;ch(v,N)}return null}function g(v,N,x,j){var D=N!==null?N.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return D!==null?null:o(v,N,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Zd:return x.key===D?l(v,N,x,j):null;case wl:return x.key===D?u(v,N,x,j):null;case _a:return D=x._init,g(v,N,D(x._payload),j)}if(ac(x)||Wu(x))return D!==null?null:c(v,N,x,j,null);ch(v,x)}return null}function h(v,N,x,j,D){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(x)||null,o(N,v,""+j,D);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Zd:return v=v.get(j.key===null?x:j.key)||null,l(N,v,j,D);case wl:return v=v.get(j.key===null?x:j.key)||null,u(N,v,j,D);case _a:var G=j._init;return h(v,N,x,G(j._payload),D)}if(ac(j)||Wu(j))return v=v.get(x)||null,c(N,v,j,D,null);ch(N,j)}return null}function S(v,N,x,j){for(var D=null,G=null,W=N,F=N=0,O=null;W!==null&&F<x.length;F++){W.index>F?(O=W,W=null):O=W.sibling;var V=g(v,W,x[F],j);if(V===null){W===null&&(W=O);break}t&&W&&V.alternate===null&&e(v,W),N=s(V,N,F),G===null?D=V:G.sibling=V,G=V,W=O}if(F===x.length)return r(v,W),ur&&fo(v,F),D;if(W===null){for(;F<x.length;F++)W=m(v,x[F],j),W!==null&&(N=s(W,N,F),G===null?D=W:G.sibling=W,G=W);return ur&&fo(v,F),D}for(W=n(v,W);F<x.length;F++)O=h(W,v,F,x[F],j),O!==null&&(t&&O.alternate!==null&&W.delete(O.key===null?F:O.key),N=s(O,N,F),G===null?D=O:G.sibling=O,G=O);return t&&W.forEach(function(C){return e(v,C)}),ur&&fo(v,F),D}function w(v,N,x,j){var D=Wu(x);if(typeof D!="function")throw Error(je(150));if(x=D.call(x),x==null)throw Error(je(151));for(var G=D=null,W=N,F=N=0,O=null,V=x.next();W!==null&&!V.done;F++,V=x.next()){W.index>F?(O=W,W=null):O=W.sibling;var C=g(v,W,V.value,j);if(C===null){W===null&&(W=O);break}t&&W&&C.alternate===null&&e(v,W),N=s(C,N,F),G===null?D=C:G.sibling=C,G=C,W=O}if(V.done)return r(v,W),ur&&fo(v,F),D;if(W===null){for(;!V.done;F++,V=x.next())V=m(v,V.value,j),V!==null&&(N=s(V,N,F),G===null?D=V:G.sibling=V,G=V);return ur&&fo(v,F),D}for(W=n(v,W);!V.done;F++,V=x.next())V=h(W,v,F,V.value,j),V!==null&&(t&&V.alternate!==null&&W.delete(V.key===null?F:V.key),N=s(V,N,F),G===null?D=V:G.sibling=V,G=V);return t&&W.forEach(function(I){return e(v,I)}),ur&&fo(v,F),D}function b(v,N,x,j){if(typeof x=="object"&&x!==null&&x.type===bl&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Zd:e:{for(var D=x.key,G=N;G!==null;){if(G.key===D){if(D=x.type,D===bl){if(G.tag===7){r(v,G.sibling),N=i(G,x.props.children),N.return=v,v=N;break e}}else if(G.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===_a&&dy(D)===G.type){r(v,G.sibling),N=i(G,x.props),N.ref=Ju(v,G,x),N.return=v,v=N;break e}r(v,G);break}else e(v,G);G=G.sibling}x.type===bl?(N=Eo(x.props.children,v.mode,j,x.key),N.return=v,v=N):(j=Jh(x.type,x.key,x.props,null,v.mode,j),j.ref=Ju(v,N,x),j.return=v,v=j)}return a(v);case wl:e:{for(G=x.key;N!==null;){if(N.key===G)if(N.tag===4&&N.stateNode.containerInfo===x.containerInfo&&N.stateNode.implementation===x.implementation){r(v,N.sibling),N=i(N,x.children||[]),N.return=v,v=N;break e}else{r(v,N);break}else e(v,N);N=N.sibling}N=D0(x,v.mode,j),N.return=v,v=N}return a(v);case _a:return G=x._init,b(v,N,G(x._payload),j)}if(ac(x))return S(v,N,x,j);if(Wu(x))return w(v,N,x,j);ch(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,N!==null&&N.tag===6?(r(v,N.sibling),N=i(N,x),N.return=v,v=N):(r(v,N),N=I0(x,v.mode,j),N.return=v,v=N),a(v)):r(v,N)}return b}var Xl=Lx(!0),Px=Lx(!1),xf=Ha(null),_f=null,El=null,z1=null;function $1(){z1=El=_f=null}function q1(t){var e=xf.current;sr(xf),t._currentValue=e}function cg(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Dl(t,e){_f=t,z1=El=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pn=!0),t.firstContext=null)}function yi(t){var e=t._currentValue;if(z1!==t)if(t={context:t,memoizedValue:e,next:null},El===null){if(_f===null)throw Error(je(308));El=t,_f.dependencies={lanes:0,firstContext:t}}else El=El.next=t;return e}var So=null;function W1(t){So===null?So=[t]:So.push(t)}function Ox(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,W1(e)):(r.next=i.next,i.next=r),e.interleaved=r,Js(t,n)}function Js(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Sa=!1;function H1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ws(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Da(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Rt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Js(t,r)}return i=n.interleaved,i===null?(e.next=e,W1(n)):(e.next=i.next,i.next=e),n.interleaved=e,Js(t,r)}function qh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,T1(t,r)}}function hy(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Sf(t,e,r,n){var i=t.updateQueue;Sa=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(s!==null){var m=i.baseState;a=0,c=u=l=null,o=s;do{var g=o.lane,h=o.eventTime;if((n&g)===g){c!==null&&(c=c.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var S=t,w=o;switch(g=e,h=r,w.tag){case 1:if(S=w.payload,typeof S=="function"){m=S.call(h,m,g);break e}m=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=w.payload,g=typeof S=="function"?S.call(h,m,g):S,g==null)break e;m=vr({},m,g);break e;case 2:Sa=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[o]:g.push(o))}else h={eventTime:h,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=h,l=m):c=c.next=h,a|=g;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;g=o,o=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(c===null&&(l=m),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ro|=a,t.lanes=a,t.memoizedState=m}}function fy(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(je(191,i));i.call(n)}}}var sd={},fs=Ha(sd),Bc=Ha(sd),Uc=Ha(sd);function No(t){if(t===sd)throw Error(je(174));return t}function V1(t,e){switch(er(Uc,e),er(Bc,t),er(fs,sd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wm(e,t)}sr(fs),er(fs,e)}function Ql(){sr(fs),sr(Bc),sr(Uc)}function Ix(t){No(Uc.current);var e=No(fs.current),r=Wm(e,t.type);e!==r&&(er(Bc,t),er(fs,r))}function G1(t){Bc.current===t&&(sr(fs),sr(Bc))}var mr=Ha(0);function Nf(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var C0=[];function K1(){for(var t=0;t<C0.length;t++)C0[t]._workInProgressVersionPrimary=null;C0.length=0}var Wh=Zs.ReactCurrentDispatcher,T0=Zs.ReactCurrentBatchConfig,Oo=0,gr=null,Wr=null,Kr=null,kf=!1,gc=!1,zc=0,F6=0;function cn(){throw Error(je(321))}function J1(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!$i(t[r],e[r]))return!1;return!0}function Y1(t,e,r,n,i,s){if(Oo=s,gr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wh.current=t===null||t.memoizedState===null?$6:q6,t=r(n,i),gc){s=0;do{if(gc=!1,zc=0,25<=s)throw Error(je(301));s+=1,Kr=Wr=null,e.updateQueue=null,Wh.current=W6,t=r(n,i)}while(gc)}if(Wh.current=jf,e=Wr!==null&&Wr.next!==null,Oo=0,Kr=Wr=gr=null,kf=!1,e)throw Error(je(300));return t}function X1(){var t=zc!==0;return zc=0,t}function us(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kr===null?gr.memoizedState=Kr=t:Kr=Kr.next=t,Kr}function wi(){if(Wr===null){var t=gr.alternate;t=t!==null?t.memoizedState:null}else t=Wr.next;var e=Kr===null?gr.memoizedState:Kr.next;if(e!==null)Kr=e,Wr=t;else{if(t===null)throw Error(je(310));Wr=t,t={memoizedState:Wr.memoizedState,baseState:Wr.baseState,baseQueue:Wr.baseQueue,queue:Wr.queue,next:null},Kr===null?gr.memoizedState=Kr=t:Kr=Kr.next=t}return Kr}function $c(t,e){return typeof e=="function"?e(t):e}function L0(t){var e=wi(),r=e.queue;if(r===null)throw Error(je(311));r.lastRenderedReducer=t;var n=Wr,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,u=s;do{var c=u.lane;if((Oo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var m={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=m,a=n):l=l.next=m,gr.lanes|=c,Ro|=c}u=u.next}while(u!==null&&u!==s);l===null?a=n:l.next=o,$i(n,e.memoizedState)||(Pn=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,gr.lanes|=s,Ro|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function P0(t){var e=wi(),r=e.queue;if(r===null)throw Error(je(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);$i(s,e.memoizedState)||(Pn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function Dx(){}function Mx(t,e){var r=gr,n=wi(),i=e(),s=!$i(n.memoizedState,i);if(s&&(n.memoizedState=i,Pn=!0),n=n.queue,Q1(Ux.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Kr!==null&&Kr.memoizedState.tag&1){if(r.flags|=2048,qc(9,Bx.bind(null,r,n,i,e),void 0,null),Xr===null)throw Error(je(349));Oo&30||Fx(r,e,i)}return i}function Fx(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=gr.updateQueue,e===null?(e={lastEffect:null,stores:null},gr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Bx(t,e,r,n){e.value=r,e.getSnapshot=n,zx(e)&&$x(t)}function Ux(t,e,r){return r(function(){zx(e)&&$x(t)})}function zx(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!$i(t,r)}catch{return!0}}function $x(t){var e=Js(t,1);e!==null&&zi(e,t,1,-1)}function py(t){var e=us();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$c,lastRenderedState:t},e.queue=t,t=t.dispatch=z6.bind(null,gr,t),[e.memoizedState,t]}function qc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=gr.updateQueue,e===null?(e={lastEffect:null,stores:null},gr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function qx(){return wi().memoizedState}function Hh(t,e,r,n){var i=us();gr.flags|=t,i.memoizedState=qc(1|e,r,void 0,n===void 0?null:n)}function ap(t,e,r,n){var i=wi();n=n===void 0?null:n;var s=void 0;if(Wr!==null){var a=Wr.memoizedState;if(s=a.destroy,n!==null&&J1(n,a.deps)){i.memoizedState=qc(e,r,s,n);return}}gr.flags|=t,i.memoizedState=qc(1|e,r,s,n)}function my(t,e){return Hh(8390656,8,t,e)}function Q1(t,e){return ap(2048,8,t,e)}function Wx(t,e){return ap(4,2,t,e)}function Hx(t,e){return ap(4,4,t,e)}function Vx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Gx(t,e,r){return r=r!=null?r.concat([t]):null,ap(4,4,Vx.bind(null,e,t),r)}function Z1(){}function Kx(t,e){var r=wi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&J1(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Jx(t,e){var r=wi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&J1(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Yx(t,e,r){return Oo&21?($i(r,e)||(r=tx(),gr.lanes|=r,Ro|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pn=!0),t.memoizedState=r)}function B6(t,e){var r=$t;$t=r!==0&&4>r?r:4,t(!0);var n=T0.transition;T0.transition={};try{t(!1),e()}finally{$t=r,T0.transition=n}}function Xx(){return wi().memoizedState}function U6(t,e,r){var n=Fa(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Qx(t))Zx(e,r);else if(r=Ox(t,e,r,n),r!==null){var i=Nn();zi(r,t,n,i),e_(r,e,n)}}function z6(t,e,r){var n=Fa(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qx(t))Zx(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,$i(o,a)){var l=e.interleaved;l===null?(i.next=i,W1(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=Ox(t,e,i,n),r!==null&&(i=Nn(),zi(r,t,n,i),e_(r,e,n))}}function Qx(t){var e=t.alternate;return t===gr||e!==null&&e===gr}function Zx(t,e){gc=kf=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function e_(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,T1(t,r)}}var jf={readContext:yi,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useInsertionEffect:cn,useLayoutEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useMutableSource:cn,useSyncExternalStore:cn,useId:cn,unstable_isNewReconciler:!1},$6={readContext:yi,useCallback:function(t,e){return us().memoizedState=[t,e===void 0?null:e],t},useContext:yi,useEffect:my,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Hh(4194308,4,Vx.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Hh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hh(4,2,t,e)},useMemo:function(t,e){var r=us();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=us();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=U6.bind(null,gr,t),[n.memoizedState,t]},useRef:function(t){var e=us();return t={current:t},e.memoizedState=t},useState:py,useDebugValue:Z1,useDeferredValue:function(t){return us().memoizedState=t},useTransition:function(){var t=py(!1),e=t[0];return t=B6.bind(null,t[1]),us().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=gr,i=us();if(ur){if(r===void 0)throw Error(je(407));r=r()}else{if(r=e(),Xr===null)throw Error(je(349));Oo&30||Fx(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,my(Ux.bind(null,n,s,t),[t]),n.flags|=2048,qc(9,Bx.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=us(),e=Xr.identifierPrefix;if(ur){var r=zs,n=Us;r=(n&~(1<<32-Ui(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=zc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=F6++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},q6={readContext:yi,useCallback:Kx,useContext:yi,useEffect:Q1,useImperativeHandle:Gx,useInsertionEffect:Wx,useLayoutEffect:Hx,useMemo:Jx,useReducer:L0,useRef:qx,useState:function(){return L0($c)},useDebugValue:Z1,useDeferredValue:function(t){var e=wi();return Yx(e,Wr.memoizedState,t)},useTransition:function(){var t=L0($c)[0],e=wi().memoizedState;return[t,e]},useMutableSource:Dx,useSyncExternalStore:Mx,useId:Xx,unstable_isNewReconciler:!1},W6={readContext:yi,useCallback:Kx,useContext:yi,useEffect:Q1,useImperativeHandle:Gx,useInsertionEffect:Wx,useLayoutEffect:Hx,useMemo:Jx,useReducer:P0,useRef:qx,useState:function(){return P0($c)},useDebugValue:Z1,useDeferredValue:function(t){var e=wi();return Wr===null?e.memoizedState=t:Yx(e,Wr.memoizedState,t)},useTransition:function(){var t=P0($c)[0],e=wi().memoizedState;return[t,e]},useMutableSource:Dx,useSyncExternalStore:Mx,useId:Xx,unstable_isNewReconciler:!1};function Ri(t,e){if(t&&t.defaultProps){e=vr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function dg(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:vr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var op={isMounted:function(t){return(t=t._reactInternals)?Bo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Nn(),i=Fa(t),s=Ws(n,i);s.payload=e,r!=null&&(s.callback=r),e=Da(t,s,i),e!==null&&(zi(e,t,i,n),qh(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Nn(),i=Fa(t),s=Ws(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Da(t,s,i),e!==null&&(zi(e,t,i,n),qh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Nn(),n=Fa(t),i=Ws(r,n);i.tag=2,e!=null&&(i.callback=e),e=Da(t,i,n),e!==null&&(zi(e,t,n,r),qh(e,t,n))}};function gy(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Ic(r,n)||!Ic(i,s):!0}function t_(t,e,r){var n=!1,i=za,s=e.contextType;return typeof s=="object"&&s!==null?s=yi(s):(i=Rn(e)?Lo:vn.current,n=e.contextTypes,s=(n=n!=null)?Jl(t,i):za),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=op,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function vy(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&op.enqueueReplaceState(e,e.state,null)}function hg(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},H1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=yi(s):(s=Rn(e)?Lo:vn.current,i.context=Jl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(dg(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&op.enqueueReplaceState(i,i.state,null),Sf(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Zl(t,e){try{var r="",n=e;do r+=yk(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function O0(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function fg(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var H6=typeof WeakMap=="function"?WeakMap:Map;function r_(t,e,r){r=Ws(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ef||(Ef=!0,Sg=n),fg(t,e)},r}function n_(t,e,r){r=Ws(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){fg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){fg(t,e),typeof n!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function yy(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new H6;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=sj.bind(null,t,e,r),e.then(t,t))}function wy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function by(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ws(-1,1),e.tag=2,Da(r,e,1))),r.lanes|=1),t)}var V6=Zs.ReactCurrentOwner,Pn=!1;function _n(t,e,r,n){e.child=t===null?Px(e,null,r,n):Xl(e,t.child,r,n)}function xy(t,e,r,n,i){r=r.render;var s=e.ref;return Dl(e,i),n=Y1(t,e,r,n,s,i),r=X1(),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ys(t,e,i)):(ur&&r&&F1(e),e.flags|=1,_n(t,e,n,i),e.child)}function _y(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!ov(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,i_(t,e,s,n,i)):(t=Jh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Ic,r(a,n)&&t.ref===e.ref)return Ys(t,e,i)}return e.flags|=1,t=Ba(s,n),t.ref=e.ref,t.return=e,e.child=t}function i_(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Ic(s,n)&&t.ref===e.ref)if(Pn=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Pn=!0);else return e.lanes=t.lanes,Ys(t,e,i)}return pg(t,e,r,n,i)}function s_(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},er(Tl,Kn),Kn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,er(Tl,Kn),Kn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,er(Tl,Kn),Kn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,er(Tl,Kn),Kn|=n;return _n(t,e,i,r),e.child}function a_(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function pg(t,e,r,n,i){var s=Rn(r)?Lo:vn.current;return s=Jl(e,s),Dl(e,i),r=Y1(t,e,r,n,s,i),n=X1(),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ys(t,e,i)):(ur&&n&&F1(e),e.flags|=1,_n(t,e,r,i),e.child)}function Sy(t,e,r,n,i){if(Rn(r)){var s=!0;yf(e)}else s=!1;if(Dl(e,i),e.stateNode===null)Vh(t,e),t_(e,r,n),hg(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=yi(u):(u=Rn(r)?Lo:vn.current,u=Jl(e,u));var c=r.getDerivedStateFromProps,m=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&vy(e,a,n,u),Sa=!1;var g=e.memoizedState;a.state=g,Sf(e,n,a,i),l=e.memoizedState,o!==n||g!==l||On.current||Sa?(typeof c=="function"&&(dg(e,r,c,n),l=e.memoizedState),(o=Sa||gy(e,r,o,n,g,l,u))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Rx(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Ri(e.type,o),a.props=u,m=e.pendingProps,g=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=yi(l):(l=Rn(r)?Lo:vn.current,l=Jl(e,l));var h=r.getDerivedStateFromProps;(c=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==m||g!==l)&&vy(e,a,n,l),Sa=!1,g=e.memoizedState,a.state=g,Sf(e,n,a,i);var S=e.memoizedState;o!==m||g!==S||On.current||Sa?(typeof h=="function"&&(dg(e,r,h,n),S=e.memoizedState),(u=Sa||gy(e,r,u,n,g,S,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,S,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,S,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=S),a.props=n,a.state=S,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),n=!1)}return mg(t,e,r,n,s,i)}function mg(t,e,r,n,i,s){a_(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&ly(e,r,!1),Ys(t,e,s);n=e.stateNode,V6.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Xl(e,t.child,null,s),e.child=Xl(e,null,o,s)):_n(t,e,o,s),e.memoizedState=n.state,i&&ly(e,r,!0),e.child}function o_(t){var e=t.stateNode;e.pendingContext?oy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&oy(t,e.context,!1),V1(t,e.containerInfo)}function Ny(t,e,r,n,i){return Yl(),U1(i),e.flags|=256,_n(t,e,r,n),e.child}var gg={dehydrated:null,treeContext:null,retryLane:0};function vg(t){return{baseLanes:t,cachePool:null,transitions:null}}function l_(t,e,r){var n=e.pendingProps,i=mr.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),er(mr,i&1),t===null)return ug(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=cp(a,n,0,null),t=Eo(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=vg(r),e.memoizedState=gg,t):ev(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return G6(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Ba(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Ba(o,s):(s=Eo(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?vg(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=gg,n}return s=t.child,t=s.sibling,n=Ba(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function ev(t,e){return e=cp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function dh(t,e,r,n){return n!==null&&U1(n),Xl(e,t.child,null,r),t=ev(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function G6(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=O0(Error(je(422))),dh(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=cp({mode:"visible",children:n.children},i,0,null),s=Eo(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Xl(e,t.child,null,a),e.child.memoizedState=vg(a),e.memoizedState=gg,s);if(!(e.mode&1))return dh(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(je(419)),n=O0(s,n,void 0),dh(t,e,a,n)}if(o=(a&t.childLanes)!==0,Pn||o){if(n=Xr,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Js(t,i),zi(n,t,i,-1))}return av(),n=O0(Error(je(421))),dh(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=aj.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Xn=Ia(i.nextSibling),Zn=e,ur=!0,Fi=null,t!==null&&(pi[mi++]=Us,pi[mi++]=zs,pi[mi++]=Po,Us=t.id,zs=t.overflow,Po=e),e=ev(e,n.children),e.flags|=4096,e)}function ky(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),cg(t.return,e,r)}function R0(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function u_(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(_n(t,e,n.children,r),n=mr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ky(t,r,e);else if(t.tag===19)ky(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(er(mr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Nf(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),R0(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Nf(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}R0(e,!0,r,null,s);break;case"together":R0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ys(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ro|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(je(153));if(e.child!==null){for(t=e.child,r=Ba(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ba(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function K6(t,e,r){switch(e.tag){case 3:o_(e),Yl();break;case 5:Ix(e);break;case 1:Rn(e.type)&&yf(e);break;case 4:V1(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;er(xf,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(er(mr,mr.current&1),e.flags|=128,null):r&e.child.childLanes?l_(t,e,r):(er(mr,mr.current&1),t=Ys(t,e,r),t!==null?t.sibling:null);er(mr,mr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return u_(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),er(mr,mr.current),n)break;return null;case 22:case 23:return e.lanes=0,s_(t,e,r)}return Ys(t,e,r)}var c_,yg,d_,h_;c_=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};yg=function(){};d_=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,No(fs.current);var s=null;switch(r){case"input":i=Um(t,i),n=Um(t,n),s=[];break;case"select":i=vr({},i,{value:void 0}),n=vr({},n,{value:void 0}),s=[];break;case"textarea":i=qm(t,i),n=qm(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=gf)}Hm(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ec.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ec.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&nr("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};h_=function(t,e,r,n){r!==n&&(e.flags|=4)};function Yu(t,e){if(!ur)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function dn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function J6(t,e,r){var n=e.pendingProps;switch(B1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(e),null;case 1:return Rn(e.type)&&vf(),dn(e),null;case 3:return n=e.stateNode,Ql(),sr(On),sr(vn),K1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(uh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fi!==null&&(jg(Fi),Fi=null))),yg(t,e),dn(e),null;case 5:G1(e);var i=No(Uc.current);if(r=e.type,t!==null&&e.stateNode!=null)d_(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(je(166));return dn(e),null}if(t=No(fs.current),uh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[cs]=e,n[Fc]=s,t=(e.mode&1)!==0,r){case"dialog":nr("cancel",n),nr("close",n);break;case"iframe":case"object":case"embed":nr("load",n);break;case"video":case"audio":for(i=0;i<lc.length;i++)nr(lc[i],n);break;case"source":nr("error",n);break;case"img":case"image":case"link":nr("error",n),nr("load",n);break;case"details":nr("toggle",n);break;case"input":R2(n,s),nr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},nr("invalid",n);break;case"textarea":D2(n,s),nr("invalid",n)}Hm(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&lh(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&lh(n.textContent,o,t),i=["children",""+o]):Ec.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&nr("scroll",n)}switch(r){case"input":eh(n),I2(n,s,!0);break;case"textarea":eh(n),M2(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=gf)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ub(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[cs]=e,t[Fc]=n,c_(t,e,!1,!1),e.stateNode=t;e:{switch(a=Vm(r,n),r){case"dialog":nr("cancel",t),nr("close",t),i=n;break;case"iframe":case"object":case"embed":nr("load",t),i=n;break;case"video":case"audio":for(i=0;i<lc.length;i++)nr(lc[i],t);i=n;break;case"source":nr("error",t),i=n;break;case"img":case"image":case"link":nr("error",t),nr("load",t),i=n;break;case"details":nr("toggle",t),i=n;break;case"input":R2(t,n),i=Um(t,n),nr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=vr({},n,{value:void 0}),nr("invalid",t);break;case"textarea":D2(t,n),i=qm(t,n),nr("invalid",t);break;default:i=n}Hm(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?qb(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&zb(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Cc(t,l):typeof l=="number"&&Cc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ec.hasOwnProperty(s)?l!=null&&s==="onScroll"&&nr("scroll",t):l!=null&&N1(t,s,l,a))}switch(r){case"input":eh(t),I2(t,n,!1);break;case"textarea":eh(t),M2(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ua(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Pl(t,!!n.multiple,s,!1):n.defaultValue!=null&&Pl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=gf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dn(e),null;case 6:if(t&&e.stateNode!=null)h_(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(je(166));if(r=No(Uc.current),No(fs.current),uh(e)){if(n=e.stateNode,r=e.memoizedProps,n[cs]=e,(s=n.nodeValue!==r)&&(t=Zn,t!==null))switch(t.tag){case 3:lh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&lh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[cs]=e,e.stateNode=n}return dn(e),null;case 13:if(sr(mr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ur&&Xn!==null&&e.mode&1&&!(e.flags&128))Tx(),Yl(),e.flags|=98560,s=!1;else if(s=uh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(je(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(je(317));s[cs]=e}else Yl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dn(e),s=!1}else Fi!==null&&(jg(Fi),Fi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||mr.current&1?Vr===0&&(Vr=3):av())),e.updateQueue!==null&&(e.flags|=4),dn(e),null);case 4:return Ql(),yg(t,e),t===null&&Dc(e.stateNode.containerInfo),dn(e),null;case 10:return q1(e.type._context),dn(e),null;case 17:return Rn(e.type)&&vf(),dn(e),null;case 19:if(sr(mr),s=e.memoizedState,s===null)return dn(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)Yu(s,!1);else{if(Vr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Nf(t),a!==null){for(e.flags|=128,Yu(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return er(mr,mr.current&1|2),e.child}t=t.sibling}s.tail!==null&&Er()>eu&&(e.flags|=128,n=!0,Yu(s,!1),e.lanes=4194304)}else{if(!n)if(t=Nf(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Yu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!ur)return dn(e),null}else 2*Er()-s.renderingStartTime>eu&&r!==1073741824&&(e.flags|=128,n=!0,Yu(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Er(),e.sibling=null,r=mr.current,er(mr,n?r&1|2:r&1),e):(dn(e),null);case 22:case 23:return sv(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Kn&1073741824&&(dn(e),e.subtreeFlags&6&&(e.flags|=8192)):dn(e),null;case 24:return null;case 25:return null}throw Error(je(156,e.tag))}function Y6(t,e){switch(B1(e),e.tag){case 1:return Rn(e.type)&&vf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ql(),sr(On),sr(vn),K1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return G1(e),null;case 13:if(sr(mr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(je(340));Yl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return sr(mr),null;case 4:return Ql(),null;case 10:return q1(e.type._context),null;case 22:case 23:return sv(),null;case 24:return null;default:return null}}var hh=!1,gn=!1,X6=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Cl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){_r(t,e,n)}else r.current=null}function wg(t,e,r){try{r()}catch(n){_r(t,e,n)}}var jy=!1;function Q6(t,e){if(rg=ff,t=vx(),M1(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,c=0,m=t,g=null;t:for(;;){for(var h;m!==r||i!==0&&m.nodeType!==3||(o=a+i),m!==s||n!==0&&m.nodeType!==3||(l=a+n),m.nodeType===3&&(a+=m.nodeValue.length),(h=m.firstChild)!==null;)g=m,m=h;for(;;){if(m===t)break t;if(g===r&&++u===i&&(o=a),g===s&&++c===n&&(l=a),(h=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=h}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ng={focusedElem:t,selectionRange:r},ff=!1,Oe=e;Oe!==null;)if(e=Oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Oe=t;else for(;Oe!==null;){e=Oe;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var w=S.memoizedProps,b=S.memoizedState,v=e.stateNode,N=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:Ri(e.type,w),b);v.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(je(163))}}catch(j){_r(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,Oe=t;break}Oe=e.return}return S=jy,jy=!1,S}function vc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&wg(e,r,s)}i=i.next}while(i!==n)}}function lp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function bg(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function f_(t){var e=t.alternate;e!==null&&(t.alternate=null,f_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cs],delete e[Fc],delete e[ag],delete e[R6],delete e[I6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function p_(t){return t.tag===5||t.tag===3||t.tag===4}function Ay(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||p_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xg(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=gf));else if(n!==4&&(t=t.child,t!==null))for(xg(t,e,r),t=t.sibling;t!==null;)xg(t,e,r),t=t.sibling}function _g(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(_g(t,e,r),t=t.sibling;t!==null;)_g(t,e,r),t=t.sibling}var sn=null,Di=!1;function ga(t,e,r){for(r=r.child;r!==null;)m_(t,e,r),r=r.sibling}function m_(t,e,r){if(hs&&typeof hs.onCommitFiberUnmount=="function")try{hs.onCommitFiberUnmount(ep,r)}catch{}switch(r.tag){case 5:gn||Cl(r,e);case 6:var n=sn,i=Di;sn=null,ga(t,e,r),sn=n,Di=i,sn!==null&&(Di?(t=sn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):sn.removeChild(r.stateNode));break;case 18:sn!==null&&(Di?(t=sn,r=r.stateNode,t.nodeType===8?A0(t.parentNode,r):t.nodeType===1&&A0(t,r),Oc(t)):A0(sn,r.stateNode));break;case 4:n=sn,i=Di,sn=r.stateNode.containerInfo,Di=!0,ga(t,e,r),sn=n,Di=i;break;case 0:case 11:case 14:case 15:if(!gn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&wg(r,e,a),i=i.next}while(i!==n)}ga(t,e,r);break;case 1:if(!gn&&(Cl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){_r(r,e,o)}ga(t,e,r);break;case 21:ga(t,e,r);break;case 22:r.mode&1?(gn=(n=gn)||r.memoizedState!==null,ga(t,e,r),gn=n):ga(t,e,r);break;default:ga(t,e,r)}}function Ey(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new X6),e.forEach(function(n){var i=oj.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Li(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:sn=o.stateNode,Di=!1;break e;case 3:sn=o.stateNode.containerInfo,Di=!0;break e;case 4:sn=o.stateNode.containerInfo,Di=!0;break e}o=o.return}if(sn===null)throw Error(je(160));m_(s,a,i),sn=null,Di=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){_r(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)g_(e,t),e=e.sibling}function g_(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Li(e,t),is(t),n&4){try{vc(3,t,t.return),lp(3,t)}catch(w){_r(t,t.return,w)}try{vc(5,t,t.return)}catch(w){_r(t,t.return,w)}}break;case 1:Li(e,t),is(t),n&512&&r!==null&&Cl(r,r.return);break;case 5:if(Li(e,t),is(t),n&512&&r!==null&&Cl(r,r.return),t.flags&32){var i=t.stateNode;try{Cc(i,"")}catch(w){_r(t,t.return,w)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Fb(i,s),Vm(o,a);var u=Vm(o,s);for(a=0;a<l.length;a+=2){var c=l[a],m=l[a+1];c==="style"?qb(i,m):c==="dangerouslySetInnerHTML"?zb(i,m):c==="children"?Cc(i,m):N1(i,c,m,u)}switch(o){case"input":zm(i,s);break;case"textarea":Bb(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Pl(i,!!s.multiple,h,!1):g!==!!s.multiple&&(s.defaultValue!=null?Pl(i,!!s.multiple,s.defaultValue,!0):Pl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Fc]=s}catch(w){_r(t,t.return,w)}}break;case 6:if(Li(e,t),is(t),n&4){if(t.stateNode===null)throw Error(je(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){_r(t,t.return,w)}}break;case 3:if(Li(e,t),is(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Oc(e.containerInfo)}catch(w){_r(t,t.return,w)}break;case 4:Li(e,t),is(t);break;case 13:Li(e,t),is(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(nv=Er())),n&4&&Ey(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(gn=(u=gn)||c,Li(e,t),gn=u):Li(e,t),is(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Oe=t,c=t.child;c!==null;){for(m=Oe=c;Oe!==null;){switch(g=Oe,h=g.child,g.tag){case 0:case 11:case 14:case 15:vc(4,g,g.return);break;case 1:Cl(g,g.return);var S=g.stateNode;if(typeof S.componentWillUnmount=="function"){n=g,r=g.return;try{e=n,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(w){_r(n,r,w)}}break;case 5:Cl(g,g.return);break;case 22:if(g.memoizedState!==null){Ty(m);continue}}h!==null?(h.return=g,Oe=h):Ty(m)}c=c.sibling}e:for(c=null,m=t;;){if(m.tag===5){if(c===null){c=m;try{i=m.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=m.stateNode,l=m.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=$b("display",a))}catch(w){_r(t,t.return,w)}}}else if(m.tag===6){if(c===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(w){_r(t,t.return,w)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;c===m&&(c=null),m=m.return}c===m&&(c=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Li(e,t),is(t),n&4&&Ey(t);break;case 21:break;default:Li(e,t),is(t)}}function is(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(p_(r)){var n=r;break e}r=r.return}throw Error(je(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Cc(i,""),n.flags&=-33);var s=Ay(t);_g(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Ay(t);xg(t,o,a);break;default:throw Error(je(161))}}catch(l){_r(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Z6(t,e,r){Oe=t,v_(t)}function v_(t,e,r){for(var n=(t.mode&1)!==0;Oe!==null;){var i=Oe,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||hh;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||gn;o=hh;var u=gn;if(hh=a,(gn=l)&&!u)for(Oe=i;Oe!==null;)a=Oe,l=a.child,a.tag===22&&a.memoizedState!==null?Ly(i):l!==null?(l.return=a,Oe=l):Ly(i);for(;s!==null;)Oe=s,v_(s),s=s.sibling;Oe=i,hh=o,gn=u}Cy(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Oe=s):Cy(t)}}function Cy(t){for(;Oe!==null;){var e=Oe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gn||lp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!gn)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Ri(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&fy(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}fy(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var m=c.dehydrated;m!==null&&Oc(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(je(163))}gn||e.flags&512&&bg(e)}catch(g){_r(e,e.return,g)}}if(e===t){Oe=null;break}if(r=e.sibling,r!==null){r.return=e.return,Oe=r;break}Oe=e.return}}function Ty(t){for(;Oe!==null;){var e=Oe;if(e===t){Oe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Oe=r;break}Oe=e.return}}function Ly(t){for(;Oe!==null;){var e=Oe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{lp(4,e)}catch(l){_r(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){_r(e,i,l)}}var s=e.return;try{bg(e)}catch(l){_r(e,s,l)}break;case 5:var a=e.return;try{bg(e)}catch(l){_r(e,a,l)}}}catch(l){_r(e,e.return,l)}if(e===t){Oe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Oe=o;break}Oe=e.return}}var ej=Math.ceil,Af=Zs.ReactCurrentDispatcher,tv=Zs.ReactCurrentOwner,vi=Zs.ReactCurrentBatchConfig,Rt=0,Xr=null,Dr=null,an=0,Kn=0,Tl=Ha(0),Vr=0,Wc=null,Ro=0,up=0,rv=0,yc=null,Ln=null,nv=0,eu=1/0,Is=null,Ef=!1,Sg=null,Ma=null,fh=!1,Ca=null,Cf=0,wc=0,Ng=null,Gh=-1,Kh=0;function Nn(){return Rt&6?Er():Gh!==-1?Gh:Gh=Er()}function Fa(t){return t.mode&1?Rt&2&&an!==0?an&-an:M6.transition!==null?(Kh===0&&(Kh=tx()),Kh):(t=$t,t!==0||(t=window.event,t=t===void 0?16:lx(t.type)),t):1}function zi(t,e,r,n){if(50<wc)throw wc=0,Ng=null,Error(je(185));rd(t,r,n),(!(Rt&2)||t!==Xr)&&(t===Xr&&(!(Rt&2)&&(up|=r),Vr===4&&ja(t,an)),In(t,n),r===1&&Rt===0&&!(e.mode&1)&&(eu=Er()+500,sp&&Va()))}function In(t,e){var r=t.callbackNode;Mk(t,e);var n=hf(t,t===Xr?an:0);if(n===0)r!==null&&U2(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&U2(r),e===1)t.tag===0?D6(Py.bind(null,t)):Ax(Py.bind(null,t)),P6(function(){!(Rt&6)&&Va()}),r=null;else{switch(rx(n)){case 1:r=C1;break;case 4:r=Zb;break;case 16:r=df;break;case 536870912:r=ex;break;default:r=df}r=k_(r,y_.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function y_(t,e){if(Gh=-1,Kh=0,Rt&6)throw Error(je(327));var r=t.callbackNode;if(Ml()&&t.callbackNode!==r)return null;var n=hf(t,t===Xr?an:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Tf(t,n);else{e=n;var i=Rt;Rt|=2;var s=b_();(Xr!==t||an!==e)&&(Is=null,eu=Er()+500,Ao(t,e));do try{nj();break}catch(o){w_(t,o)}while(!0);$1(),Af.current=s,Rt=i,Dr!==null?e=0:(Xr=null,an=0,e=Vr)}if(e!==0){if(e===2&&(i=Xm(t),i!==0&&(n=i,e=kg(t,i))),e===1)throw r=Wc,Ao(t,0),ja(t,n),In(t,Er()),r;if(e===6)ja(t,n);else{if(i=t.current.alternate,!(n&30)&&!tj(i)&&(e=Tf(t,n),e===2&&(s=Xm(t),s!==0&&(n=s,e=kg(t,s))),e===1))throw r=Wc,Ao(t,0),ja(t,n),In(t,Er()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(je(345));case 2:po(t,Ln,Is);break;case 3:if(ja(t,n),(n&130023424)===n&&(e=nv+500-Er(),10<e)){if(hf(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Nn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=sg(po.bind(null,t,Ln,Is),e);break}po(t,Ln,Is);break;case 4:if(ja(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-Ui(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=Er()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ej(n/1960))-n,10<n){t.timeoutHandle=sg(po.bind(null,t,Ln,Is),n);break}po(t,Ln,Is);break;case 5:po(t,Ln,Is);break;default:throw Error(je(329))}}}return In(t,Er()),t.callbackNode===r?y_.bind(null,t):null}function kg(t,e){var r=yc;return t.current.memoizedState.isDehydrated&&(Ao(t,e).flags|=256),t=Tf(t,e),t!==2&&(e=Ln,Ln=r,e!==null&&jg(e)),t}function jg(t){Ln===null?Ln=t:Ln.push.apply(Ln,t)}function tj(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!$i(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ja(t,e){for(e&=~rv,e&=~up,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ui(e),n=1<<r;t[r]=-1,e&=~n}}function Py(t){if(Rt&6)throw Error(je(327));Ml();var e=hf(t,0);if(!(e&1))return In(t,Er()),null;var r=Tf(t,e);if(t.tag!==0&&r===2){var n=Xm(t);n!==0&&(e=n,r=kg(t,n))}if(r===1)throw r=Wc,Ao(t,0),ja(t,e),In(t,Er()),r;if(r===6)throw Error(je(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,po(t,Ln,Is),In(t,Er()),null}function iv(t,e){var r=Rt;Rt|=1;try{return t(e)}finally{Rt=r,Rt===0&&(eu=Er()+500,sp&&Va())}}function Io(t){Ca!==null&&Ca.tag===0&&!(Rt&6)&&Ml();var e=Rt;Rt|=1;var r=vi.transition,n=$t;try{if(vi.transition=null,$t=1,t)return t()}finally{$t=n,vi.transition=r,Rt=e,!(Rt&6)&&Va()}}function sv(){Kn=Tl.current,sr(Tl)}function Ao(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,L6(r)),Dr!==null)for(r=Dr.return;r!==null;){var n=r;switch(B1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&vf();break;case 3:Ql(),sr(On),sr(vn),K1();break;case 5:G1(n);break;case 4:Ql();break;case 13:sr(mr);break;case 19:sr(mr);break;case 10:q1(n.type._context);break;case 22:case 23:sv()}r=r.return}if(Xr=t,Dr=t=Ba(t.current,null),an=Kn=e,Vr=0,Wc=null,rv=up=Ro=0,Ln=yc=null,So!==null){for(e=0;e<So.length;e++)if(r=So[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}So=null}return t}function w_(t,e){do{var r=Dr;try{if($1(),Wh.current=jf,kf){for(var n=gr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}kf=!1}if(Oo=0,Kr=Wr=gr=null,gc=!1,zc=0,tv.current=null,r===null||r.return===null){Vr=1,Wc=e,Dr=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=an,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,m=c.tag;if(!(c.mode&1)&&(m===0||m===11||m===15)){var g=c.alternate;g?(c.updateQueue=g.updateQueue,c.memoizedState=g.memoizedState,c.lanes=g.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=wy(a);if(h!==null){h.flags&=-257,by(h,a,o,s,e),h.mode&1&&yy(s,u,e),e=h,l=u;var S=e.updateQueue;if(S===null){var w=new Set;w.add(l),e.updateQueue=w}else S.add(l);break e}else{if(!(e&1)){yy(s,u,e),av();break e}l=Error(je(426))}}else if(ur&&o.mode&1){var b=wy(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),by(b,a,o,s,e),U1(Zl(l,o));break e}}s=l=Zl(l,o),Vr!==4&&(Vr=2),yc===null?yc=[s]:yc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=r_(s,l,e);hy(s,v);break e;case 1:o=l;var N=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof N.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ma===null||!Ma.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var j=n_(s,o,e);hy(s,j);break e}}s=s.return}while(s!==null)}__(r)}catch(D){e=D,Dr===r&&r!==null&&(Dr=r=r.return);continue}break}while(!0)}function b_(){var t=Af.current;return Af.current=jf,t===null?jf:t}function av(){(Vr===0||Vr===3||Vr===2)&&(Vr=4),Xr===null||!(Ro&268435455)&&!(up&268435455)||ja(Xr,an)}function Tf(t,e){var r=Rt;Rt|=2;var n=b_();(Xr!==t||an!==e)&&(Is=null,Ao(t,e));do try{rj();break}catch(i){w_(t,i)}while(!0);if($1(),Rt=r,Af.current=n,Dr!==null)throw Error(je(261));return Xr=null,an=0,Vr}function rj(){for(;Dr!==null;)x_(Dr)}function nj(){for(;Dr!==null&&!Ek();)x_(Dr)}function x_(t){var e=N_(t.alternate,t,Kn);t.memoizedProps=t.pendingProps,e===null?__(t):Dr=e,tv.current=null}function __(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Y6(r,e),r!==null){r.flags&=32767,Dr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Vr=6,Dr=null;return}}else if(r=J6(r,e,Kn),r!==null){Dr=r;return}if(e=e.sibling,e!==null){Dr=e;return}Dr=e=t}while(e!==null);Vr===0&&(Vr=5)}function po(t,e,r){var n=$t,i=vi.transition;try{vi.transition=null,$t=1,ij(t,e,r,n)}finally{vi.transition=i,$t=n}return null}function ij(t,e,r,n){do Ml();while(Ca!==null);if(Rt&6)throw Error(je(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(je(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(Fk(t,s),t===Xr&&(Dr=Xr=null,an=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||fh||(fh=!0,k_(df,function(){return Ml(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=vi.transition,vi.transition=null;var a=$t;$t=1;var o=Rt;Rt|=4,tv.current=null,Q6(t,r),g_(r,t),N6(ng),ff=!!rg,ng=rg=null,t.current=r,Z6(r),Ck(),Rt=o,$t=a,vi.transition=s}else t.current=r;if(fh&&(fh=!1,Ca=t,Cf=i),s=t.pendingLanes,s===0&&(Ma=null),Pk(r.stateNode),In(t,Er()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ef)throw Ef=!1,t=Sg,Sg=null,t;return Cf&1&&t.tag!==0&&Ml(),s=t.pendingLanes,s&1?t===Ng?wc++:(wc=0,Ng=t):wc=0,Va(),null}function Ml(){if(Ca!==null){var t=rx(Cf),e=vi.transition,r=$t;try{if(vi.transition=null,$t=16>t?16:t,Ca===null)var n=!1;else{if(t=Ca,Ca=null,Cf=0,Rt&6)throw Error(je(331));var i=Rt;for(Rt|=4,Oe=t.current;Oe!==null;){var s=Oe,a=s.child;if(Oe.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Oe=u;Oe!==null;){var c=Oe;switch(c.tag){case 0:case 11:case 15:vc(8,c,s)}var m=c.child;if(m!==null)m.return=c,Oe=m;else for(;Oe!==null;){c=Oe;var g=c.sibling,h=c.return;if(f_(c),c===u){Oe=null;break}if(g!==null){g.return=h,Oe=g;break}Oe=h}}}var S=s.alternate;if(S!==null){var w=S.child;if(w!==null){S.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}Oe=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Oe=a;else e:for(;Oe!==null;){if(s=Oe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:vc(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Oe=v;break e}Oe=s.return}}var N=t.current;for(Oe=N;Oe!==null;){a=Oe;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,Oe=x;else e:for(a=N;Oe!==null;){if(o=Oe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:lp(9,o)}}catch(D){_r(o,o.return,D)}if(o===a){Oe=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,Oe=j;break e}Oe=o.return}}if(Rt=i,Va(),hs&&typeof hs.onPostCommitFiberRoot=="function")try{hs.onPostCommitFiberRoot(ep,t)}catch{}n=!0}return n}finally{$t=r,vi.transition=e}}return!1}function Oy(t,e,r){e=Zl(r,e),e=r_(t,e,1),t=Da(t,e,1),e=Nn(),t!==null&&(rd(t,1,e),In(t,e))}function _r(t,e,r){if(t.tag===3)Oy(t,t,r);else for(;e!==null;){if(e.tag===3){Oy(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ma===null||!Ma.has(n))){t=Zl(r,t),t=n_(e,t,1),e=Da(e,t,1),t=Nn(),e!==null&&(rd(e,1,t),In(e,t));break}}e=e.return}}function sj(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Nn(),t.pingedLanes|=t.suspendedLanes&r,Xr===t&&(an&r)===r&&(Vr===4||Vr===3&&(an&130023424)===an&&500>Er()-nv?Ao(t,0):rv|=r),In(t,e)}function S_(t,e){e===0&&(t.mode&1?(e=nh,nh<<=1,!(nh&130023424)&&(nh=4194304)):e=1);var r=Nn();t=Js(t,e),t!==null&&(rd(t,e,r),In(t,r))}function aj(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),S_(t,r)}function oj(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(je(314))}n!==null&&n.delete(e),S_(t,r)}var N_;N_=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||On.current)Pn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Pn=!1,K6(t,e,r);Pn=!!(t.flags&131072)}else Pn=!1,ur&&e.flags&1048576&&Ex(e,bf,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Vh(t,e),t=e.pendingProps;var i=Jl(e,vn.current);Dl(e,r),i=Y1(null,e,n,t,i,r);var s=X1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rn(n)?(s=!0,yf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,H1(e),i.updater=op,e.stateNode=i,i._reactInternals=e,hg(e,n,t,r),e=mg(null,e,n,!0,s,r)):(e.tag=0,ur&&s&&F1(e),_n(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Vh(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=uj(n),t=Ri(n,t),i){case 0:e=pg(null,e,n,t,r);break e;case 1:e=Sy(null,e,n,t,r);break e;case 11:e=xy(null,e,n,t,r);break e;case 14:e=_y(null,e,n,Ri(n.type,t),r);break e}throw Error(je(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ri(n,i),pg(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ri(n,i),Sy(t,e,n,i,r);case 3:e:{if(o_(e),t===null)throw Error(je(387));n=e.pendingProps,s=e.memoizedState,i=s.element,Rx(t,e),Sf(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Zl(Error(je(423)),e),e=Ny(t,e,n,r,i);break e}else if(n!==i){i=Zl(Error(je(424)),e),e=Ny(t,e,n,r,i);break e}else for(Xn=Ia(e.stateNode.containerInfo.firstChild),Zn=e,ur=!0,Fi=null,r=Px(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Yl(),n===i){e=Ys(t,e,r);break e}_n(t,e,n,r)}e=e.child}return e;case 5:return Ix(e),t===null&&ug(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,ig(n,i)?a=null:s!==null&&ig(n,s)&&(e.flags|=32),a_(t,e),_n(t,e,a,r),e.child;case 6:return t===null&&ug(e),null;case 13:return l_(t,e,r);case 4:return V1(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Xl(e,null,n,r):_n(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ri(n,i),xy(t,e,n,i,r);case 7:return _n(t,e,e.pendingProps,r),e.child;case 8:return _n(t,e,e.pendingProps.children,r),e.child;case 12:return _n(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,er(xf,n._currentValue),n._currentValue=a,s!==null)if($i(s.value,a)){if(s.children===i.children&&!On.current){e=Ys(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Ws(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),cg(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(je(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),cg(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}_n(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Dl(e,r),i=yi(i),n=n(i),e.flags|=1,_n(t,e,n,r),e.child;case 14:return n=e.type,i=Ri(n,e.pendingProps),i=Ri(n.type,i),_y(t,e,n,i,r);case 15:return i_(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ri(n,i),Vh(t,e),e.tag=1,Rn(n)?(t=!0,yf(e)):t=!1,Dl(e,r),t_(e,n,i),hg(e,n,i,r),mg(null,e,n,!0,t,r);case 19:return u_(t,e,r);case 22:return s_(t,e,r)}throw Error(je(156,e.tag))};function k_(t,e){return Qb(t,e)}function lj(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gi(t,e,r,n){return new lj(t,e,r,n)}function ov(t){return t=t.prototype,!(!t||!t.isReactComponent)}function uj(t){if(typeof t=="function")return ov(t)?1:0;if(t!=null){if(t=t.$$typeof,t===j1)return 11;if(t===A1)return 14}return 2}function Ba(t,e){var r=t.alternate;return r===null?(r=gi(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Jh(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")ov(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case bl:return Eo(r.children,i,s,e);case k1:a=8,i|=8;break;case Dm:return t=gi(12,r,e,i|2),t.elementType=Dm,t.lanes=s,t;case Mm:return t=gi(13,r,e,i),t.elementType=Mm,t.lanes=s,t;case Fm:return t=gi(19,r,e,i),t.elementType=Fm,t.lanes=s,t;case Ib:return cp(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ob:a=10;break e;case Rb:a=9;break e;case j1:a=11;break e;case A1:a=14;break e;case _a:a=16,n=null;break e}throw Error(je(130,t==null?t:typeof t,""))}return e=gi(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Eo(t,e,r,n){return t=gi(7,t,n,e),t.lanes=r,t}function cp(t,e,r,n){return t=gi(22,t,n,e),t.elementType=Ib,t.lanes=r,t.stateNode={isHidden:!1},t}function I0(t,e,r){return t=gi(6,t,null,e),t.lanes=r,t}function D0(t,e,r){return e=gi(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function cj(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=g0(0),this.expirationTimes=g0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=g0(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function lv(t,e,r,n,i,s,a,o,l){return t=new cj(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=gi(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},H1(s),t}function dj(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function j_(t){if(!t)return za;t=t._reactInternals;e:{if(Bo(t)!==t||t.tag!==1)throw Error(je(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(je(171))}if(t.tag===1){var r=t.type;if(Rn(r))return jx(t,r,e)}return e}function A_(t,e,r,n,i,s,a,o,l){return t=lv(r,n,!0,t,i,s,a,o,l),t.context=j_(null),r=t.current,n=Nn(),i=Fa(r),s=Ws(n,i),s.callback=e??null,Da(r,s,i),t.current.lanes=i,rd(t,i,n),In(t,n),t}function dp(t,e,r,n){var i=e.current,s=Nn(),a=Fa(i);return r=j_(r),e.context===null?e.context=r:e.pendingContext=r,e=Ws(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Da(i,e,a),t!==null&&(zi(t,i,a,s),qh(t,i,a)),a}function Lf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ry(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function uv(t,e){Ry(t,e),(t=t.alternate)&&Ry(t,e)}function hj(){return null}var E_=typeof reportError=="function"?reportError:function(t){console.error(t)};function cv(t){this._internalRoot=t}hp.prototype.render=cv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(je(409));dp(t,e,null,null)};hp.prototype.unmount=cv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Io(function(){dp(null,t,null,null)}),e[Ks]=null}};function hp(t){this._internalRoot=t}hp.prototype.unstable_scheduleHydration=function(t){if(t){var e=sx();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ka.length&&e!==0&&e<ka[r].priority;r++);ka.splice(r,0,t),r===0&&ox(t)}};function dv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Iy(){}function fj(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=Lf(a);s.call(u)}}var a=A_(e,n,t,0,null,!1,!1,"",Iy);return t._reactRootContainer=a,t[Ks]=a.current,Dc(t.nodeType===8?t.parentNode:t),Io(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=Lf(l);o.call(u)}}var l=lv(t,0,!1,null,null,!1,!1,"",Iy);return t._reactRootContainer=l,t[Ks]=l.current,Dc(t.nodeType===8?t.parentNode:t),Io(function(){dp(e,l,r,n)}),l}function pp(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Lf(a);o.call(l)}}dp(e,a,t,i)}else a=fj(r,e,t,i,n);return Lf(a)}nx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=oc(e.pendingLanes);r!==0&&(T1(e,r|1),In(e,Er()),!(Rt&6)&&(eu=Er()+500,Va()))}break;case 13:Io(function(){var n=Js(t,1);if(n!==null){var i=Nn();zi(n,t,1,i)}}),uv(t,1)}};L1=function(t){if(t.tag===13){var e=Js(t,134217728);if(e!==null){var r=Nn();zi(e,t,134217728,r)}uv(t,134217728)}};ix=function(t){if(t.tag===13){var e=Fa(t),r=Js(t,e);if(r!==null){var n=Nn();zi(r,t,e,n)}uv(t,e)}};sx=function(){return $t};ax=function(t,e){var r=$t;try{return $t=t,e()}finally{$t=r}};Km=function(t,e,r){switch(e){case"input":if(zm(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=ip(n);if(!i)throw Error(je(90));Mb(n),zm(n,i)}}}break;case"textarea":Bb(t,r);break;case"select":e=r.value,e!=null&&Pl(t,!!r.multiple,e,!1)}};Vb=iv;Gb=Io;var pj={usingClientEntryPoint:!1,Events:[id,Nl,ip,Wb,Hb,iv]},Xu={findFiberByHostInstance:_o,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mj={bundleType:Xu.bundleType,version:Xu.version,rendererPackageName:Xu.rendererPackageName,rendererConfig:Xu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Yb(t),t===null?null:t.stateNode},findFiberByHostInstance:Xu.findFiberByHostInstance||hj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ph.isDisabled&&ph.supportsFiber)try{ep=ph.inject(mj),hs=ph}catch{}}ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pj;ti.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dv(e))throw Error(je(200));return dj(t,e,null,r)};ti.createRoot=function(t,e){if(!dv(t))throw Error(je(299));var r=!1,n="",i=E_;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=lv(t,1,!1,null,null,r,!1,n,i),t[Ks]=e.current,Dc(t.nodeType===8?t.parentNode:t),new cv(e)};ti.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(je(188)):(t=Object.keys(t).join(","),Error(je(268,t)));return t=Yb(e),t=t===null?null:t.stateNode,t};ti.flushSync=function(t){return Io(t)};ti.hydrate=function(t,e,r){if(!fp(e))throw Error(je(200));return pp(null,t,e,!0,r)};ti.hydrateRoot=function(t,e,r){if(!dv(t))throw Error(je(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=E_;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=A_(e,null,t,1,r??null,i,!1,s,a),t[Ks]=e.current,Dc(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new hp(e)};ti.render=function(t,e,r){if(!fp(e))throw Error(je(200));return pp(null,t,e,!1,r)};ti.unmountComponentAtNode=function(t){if(!fp(t))throw Error(je(40));return t._reactRootContainer?(Io(function(){pp(null,null,t,!1,function(){t._reactRootContainer=null,t[Ks]=null})}),!0):!1};ti.unstable_batchedUpdates=iv;ti.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!fp(r))throw Error(je(200));if(t==null||t._reactInternals===void 0)throw Error(je(38));return pp(t,e,r,!1,n)};ti.version="18.3.1-next-f1338f8080-20240426";function C_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(C_)}catch(t){console.error(t)}}C_(),Cb.exports=ti;var Ta=Cb.exports,Dy=Ta;Rm.createRoot=Dy.createRoot,Rm.hydrateRoot=Dy.hydrateRoot;var Ag=function(t,e){return Ag=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Ag(t,e)};function T_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ag(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Pf=function(){return Pf=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Pf.apply(this,arguments)};function su(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function L_(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(e,r,s):a(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function P_(t,e){return function(r,n){e(r,n,t)}}function O_(t,e,r,n,i,s){function a(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var o=n.kind,l=o==="getter"?"get":o==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,c=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),m,g=!1,h=r.length-1;h>=0;h--){var S={};for(var w in n)S[w]=w==="access"?{}:n[w];for(var w in n.access)S.access[w]=n.access[w];S.addInitializer=function(v){if(g)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(v||null))};var b=(0,r[h])(o==="accessor"?{get:c.get,set:c.set}:c[l],S);if(o==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(m=a(b.get))&&(c.get=m),(m=a(b.set))&&(c.set=m),(m=a(b.init))&&i.unshift(m)}else(m=a(b))&&(o==="field"?i.unshift(m):c[l]=m)}u&&Object.defineProperty(u,n.name,c),g=!0}function R_(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function I_(t){return typeof t=="symbol"?t:"".concat(t)}function D_(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function M_(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Me(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(c){try{u(n.next(c))}catch(m){a(m)}}function l(c){try{u(n.throw(c))}catch(m){a(m)}}function u(c){c.done?s(c.value):i(c.value).then(o,l)}u((n=n.apply(t,e||[])).next())})}function F_(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(c){u=[6,c],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var mp=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function B_(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&mp(e,t,r)}function Of(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function hv(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return s}function U_(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(hv(arguments[e]));return t}function z_(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n}function $_(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function tu(t){return this instanceof tu?(this.v=t,this):new tu(t)}function q_(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(h){return function(S){return Promise.resolve(S).then(h,m)}}function o(h,S){n[h]&&(i[h]=function(w){return new Promise(function(b,v){s.push([h,w,b,v])>1||l(h,w)})},S&&(i[h]=S(i[h])))}function l(h,S){try{u(n[h](S))}catch(w){g(s[0][3],w)}}function u(h){h.value instanceof tu?Promise.resolve(h.value.v).then(c,m):g(s[0][2],h)}function c(h){l("next",h)}function m(h){l("throw",h)}function g(h,S){h(S),s.shift(),s.length&&l(s[0][0],s[0][1])}}function W_(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(a){return(r=!r)?{value:tu(t[i](a)),done:!1}:s?s(a):a}:s}}function H_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Of=="function"?Of(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(a){return new Promise(function(o,l){a=t[s](a),i(o,l,a.done,a.value)})}}function i(s,a,o,l){Promise.resolve(l).then(function(u){s({value:u,done:o})},a)}}function V_(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var gj=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Eg=function(t){return Eg=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Eg(t)};function G_(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Eg(t),n=0;n<r.length;n++)r[n]!=="default"&&mp(e,t,r[n]);return gj(e,t),e}function K_(t){return t&&t.__esModule?t:{default:t}}function J_(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function Y_(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function X_(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Q_(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var vj=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function Z_(t){function e(s){t.error=t.hasError?new vj(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,function(a){return e(a),i()})}else n|=1}catch(a){e(a)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function e4(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,s,a){return n?e?".jsx":".js":i&&(!s||!a)?r:i+s+"."+a.toLowerCase()+"js"}):t}const yj={__extends:T_,__assign:Pf,__rest:su,__decorate:L_,__param:P_,__esDecorate:O_,__runInitializers:R_,__propKey:I_,__setFunctionName:D_,__metadata:M_,__awaiter:Me,__generator:F_,__createBinding:mp,__exportStar:B_,__values:Of,__read:hv,__spread:U_,__spreadArrays:z_,__spreadArray:$_,__await:tu,__asyncGenerator:q_,__asyncDelegator:W_,__asyncValues:H_,__makeTemplateObject:V_,__importStar:G_,__importDefault:K_,__classPrivateFieldGet:J_,__classPrivateFieldSet:Y_,__classPrivateFieldIn:X_,__addDisposableResource:Q_,__disposeResources:Z_,__rewriteRelativeImportExtension:e4},wj=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Q_,get __assign(){return Pf},__asyncDelegator:W_,__asyncGenerator:q_,__asyncValues:H_,__await:tu,__awaiter:Me,__classPrivateFieldGet:J_,__classPrivateFieldIn:X_,__classPrivateFieldSet:Y_,__createBinding:mp,__decorate:L_,__disposeResources:Z_,__esDecorate:O_,__exportStar:B_,__extends:T_,__generator:F_,__importDefault:K_,__importStar:G_,__makeTemplateObject:V_,__metadata:M_,__param:P_,__propKey:I_,__read:hv,__rest:su,__rewriteRelativeImportExtension:e4,__runInitializers:R_,__setFunctionName:D_,__spread:U_,__spreadArray:$_,__spreadArrays:z_,__values:Of,default:yj},Symbol.toStringTag,{value:"Module"})),bj=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class fv extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class xj extends fv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class My extends fv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Fy extends fv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Cg;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Cg||(Cg={}));class _j{constructor(e,{headers:r={},customFetch:n,region:i=Cg.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=bj(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Me(this,arguments,void 0,function*(r,n={}){var i;let s,a;try{const{headers:o,method:l,body:u,signal:c,timeout:m}=n;let g={},{region:h}=n;h||(h=this.region);const S=new URL(`${this.url}/${r}`);h&&h!=="any"&&(g["x-region"]=h,S.searchParams.set("forceFunctionRegion",h));let w;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(g["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(g["Content-Type"]="application/json",w=JSON.stringify(u)):w=u;let b=c;m&&(a=new AbortController,s=setTimeout(()=>a.abort(),m),c?(b=a.signal,c.addEventListener("abort",()=>a.abort())):b=a.signal);const v=yield this.fetch(S.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),o),body:w,signal:b}).catch(D=>{throw new xj(D)}),N=v.headers.get("x-relay-error");if(N&&N==="true")throw new My(v);if(!v.ok)throw new Fy(v);let x=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),j;return x==="application/json"?j=yield v.json():x==="application/octet-stream"||x==="application/pdf"?j=yield v.blob():x==="text/event-stream"?j=v:x==="multipart/form-data"?j=yield v.formData():j=yield v.text(),{data:j,error:null,response:v}}catch(o){return{data:null,error:o,response:o instanceof Fy||o instanceof My?o.context:void 0}}finally{s&&clearTimeout(s)}})}}var Sn={};const au=WN(wj);var mh={},gh={},vh={},yh={},wh={},bh={},By;function t4(){if(By)return bh;By=1,Object.defineProperty(bh,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return bh.default=t,bh}var Uy;function r4(){if(Uy)return wh;Uy=1,Object.defineProperty(wh,"__esModule",{value:!0});const e=au.__importDefault(t4());class r{constructor(i){var s,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,c,m,g;let h=null,S=null,w=null,b=l.status,v=l.statusText;if(l.ok){if(this.method!=="HEAD"){const D=await l.text();D===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?S=D:S=JSON.parse(D))}const x=(c=this.headers.get("Prefer"))===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),j=(m=l.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");x&&j&&j.length>1&&(w=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(h={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,w=null,b=406,v="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const x=await l.text();try{h=JSON.parse(x),Array.isArray(h)&&l.status===404&&(S=[],h=null,b=200,v="OK")}catch{l.status===404&&x===""?(b=204,v="No Content"):h={message:x}}if(h&&this.isMaybeSingle&&(!((g=h==null?void 0:h.details)===null||g===void 0)&&g.includes("0 rows"))&&(h=null,b=200,v="OK"),h&&this.shouldThrowOnError)throw new e.default(h)}return{error:h,data:S,count:w,status:b,statusText:v}});return this.shouldThrowOnError||(o=o.catch(l=>{var u,c,m,g,h,S;let w="";const b=l==null?void 0:l.cause;if(b){const v=(u=b==null?void 0:b.message)!==null&&u!==void 0?u:"",N=(c=b==null?void 0:b.code)!==null&&c!==void 0?c:"";w=`${(m=l==null?void 0:l.name)!==null&&m!==void 0?m:"FetchError"}: ${l==null?void 0:l.message}`,w+=`

Caused by: ${(g=b==null?void 0:b.name)!==null&&g!==void 0?g:"Error"}: ${v}`,N&&(w+=` (${N})`),b!=null&&b.stack&&(w+=`
${b.stack}`)}else w=(h=l==null?void 0:l.stack)!==null&&h!==void 0?h:"";return{error:{message:`${(S=l==null?void 0:l.name)!==null&&S!==void 0?S:"FetchError"}: ${l==null?void 0:l.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(i,s)}returns(){return this}overrideTypes(){return this}}return wh.default=r,wh}var zy;function n4(){if(zy)return yh;zy=1,Object.defineProperty(yh,"__esModule",{value:!0});const e=au.__importDefault(r4());class r extends e.default{select(i){let s=!1;const a=(i??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:a,foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${i}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:a=s}={}){const o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,s,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:a=!1,buffers:o=!1,wal:l=!1,format:u="text"}={}){var c;const m=[i?"analyze":null,s?"verbose":null,a?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),g=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${g}"; options=${m};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return yh.default=r,yh}var $y;function pv(){if($y)return vh;$y=1,Object.defineProperty(vh,"__esModule",{value:!0});const e=au.__importDefault(n4()),r=new RegExp("[,()]");class n extends e.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}regexMatch(s,a){return this.url.searchParams.append(s,`match.${a}`),this}regexIMatch(s,a){return this.url.searchParams.append(s,`imatch.${a}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}isDistinct(s,a){return this.url.searchParams.append(s,`isdistinct.${a}`),this}in(s,a){const o=Array.from(new Set(a)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:o,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${u}fts${c}.${a}`),this}match(s){return Object.entries(s).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(s,a,o){return this.url.searchParams.append(s,`not.${a}.${o}`),this}or(s,{foreignTable:a,referencedTable:o=a}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,a,o){return this.url.searchParams.append(s,`${a}.${o}`),this}}return vh.default=n,vh}var qy;function i4(){if(qy)return gh;qy=1,Object.defineProperty(gh,"__esModule",{value:!0});const e=au.__importDefault(pv());class r{constructor(i,{headers:s={},schema:a,fetch:o}){this.url=i,this.headers=new Headers(s),this.schema=a,this.fetch=o}select(i,s){const{head:a=!1,count:o}=s??{},l=a?"HEAD":"GET";let u=!1;const c=(i??"*").split("").map(m=>/\s/.test(m)&&!u?"":(m==='"'&&(u=!u),m)).join("");return this.url.searchParams.set("select",c),o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:a=!0}={}){var o;const l="POST";if(s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((c,m)=>c.concat(Object.keys(m)),[]);if(u.length>0){const c=[...new Set(u)].map(m=>`"${m}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:a=!1,count:o,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((g,h)=>g.concat(Object.keys(h)),[]);if(m.length>0){const g=[...new Set(m)].map(h=>`"${h}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:s}={}){var a;const o="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var s;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return gh.default=r,gh}var Wy;function Sj(){if(Wy)return mh;Wy=1,Object.defineProperty(mh,"__esModule",{value:!0});const t=au,e=t.__importDefault(i4()),r=t.__importDefault(pv());class n{constructor(s,{headers:a={},schema:o,fetch:l}={}){this.url=s,this.headers=new Headers(a),this.schemaName=o,this.fetch=l}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const a=new URL(`${this.url}/${s}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:o=!1,get:l=!1,count:u}={}){var c;let m;const g=new URL(`${this.url}/rpc/${s}`);let h;o||l?(m=o?"HEAD":"GET",Object.entries(a).filter(([w,b])=>b!==void 0).map(([w,b])=>[w,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([w,b])=>{g.searchParams.append(w,b)})):(m="POST",h=a);const S=new Headers(this.headers);return u&&S.set("Prefer",`count=${u}`),new r.default({method:m,url:g,headers:S,schema:this.schemaName,body:h,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return mh.default=n,mh}Object.defineProperty(Sn,"__esModule",{value:!0});var s4=Sn.PostgrestError=m4=Sn.PostgrestBuilder=f4=Sn.PostgrestTransformBuilder=d4=Sn.PostgrestFilterBuilder=u4=Sn.PostgrestQueryBuilder=o4=Sn.PostgrestClient=void 0;const ou=au,a4=ou.__importDefault(Sj());var o4=Sn.PostgrestClient=a4.default;const l4=ou.__importDefault(i4());var u4=Sn.PostgrestQueryBuilder=l4.default;const c4=ou.__importDefault(pv());var d4=Sn.PostgrestFilterBuilder=c4.default;const h4=ou.__importDefault(n4());var f4=Sn.PostgrestTransformBuilder=h4.default;const p4=ou.__importDefault(r4());var m4=Sn.PostgrestBuilder=p4.default;const g4=ou.__importDefault(t4());s4=Sn.PostgrestError=g4.default;var v4=Sn.default={PostgrestClient:a4.default,PostgrestQueryBuilder:l4.default,PostgrestFilterBuilder:c4.default,PostgrestTransformBuilder:h4.default,PostgrestBuilder:p4.default,PostgrestError:g4.default};const Nj=qN({__proto__:null,get PostgrestBuilder(){return m4},get PostgrestClient(){return o4},get PostgrestError(){return s4},get PostgrestFilterBuilder(){return d4},get PostgrestQueryBuilder(){return u4},get PostgrestTransformBuilder(){return f4},default:v4},[Sn]),{PostgrestClient:kj,PostgrestQueryBuilder:gD,PostgrestFilterBuilder:vD,PostgrestTransformBuilder:yD,PostgrestBuilder:wD,PostgrestError:bD}=v4||Nj;class jj{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Aj="2.86.0",Ej=`realtime-js/${Aj}`,y4="1.0.0",Cj="2.0.0",Hy=y4,Tg=1e4,Tj=1e3,Lj=100;var vo;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(vo||(vo={}));var qr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(qr||(qr={}));var Mi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Mi||(Mi={}));var Lg;(function(t){t.websocket="websocket"})(Lg||(Lg={}));var yo;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(yo||(yo={}));class Pj{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,r,n){var i,s;const a=e.topic,o=(i=e.ref)!==null&&i!==void 0?i:"",l=(s=e.join_ref)!==null&&s!==void 0?s:"",u=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},m=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+u.length+m.length,h=new ArrayBuffer(this.HEADER_LENGTH+g);let S=new DataView(h),w=0;S.setUint8(w++,this.KINDS.userBroadcastPush),S.setUint8(w++,l.length),S.setUint8(w++,o.length),S.setUint8(w++,a.length),S.setUint8(w++,u.length),S.setUint8(w++,m.length),S.setUint8(w++,r),Array.from(l,v=>S.setUint8(w++,v.charCodeAt(0))),Array.from(o,v=>S.setUint8(w++,v.charCodeAt(0))),Array.from(a,v=>S.setUint8(w++,v.charCodeAt(0))),Array.from(u,v=>S.setUint8(w++,v.charCodeAt(0))),Array.from(m,v=>S.setUint8(w++,v.charCodeAt(0)));var b=new Uint8Array(h.byteLength+n.byteLength);return b.set(new Uint8Array(h),0),b.set(new Uint8Array(n),h.byteLength),b.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,s,a,o,l]=n;return r({join_ref:i,ref:s,topic:a,event:o,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),a=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+i));l=l+i;const c=n.decode(e.slice(l,l+s));l=l+s;const m=n.decode(e.slice(l,l+a));l=l+a;const g=e.slice(l,e.byteLength),h=o===this.JSON_ENCODING?JSON.parse(n.decode(g)):g,S={type:this.BROADCAST_EVENT,event:c,payload:h};return a>0&&(S.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class w4{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Zt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Zt||(Zt={}));const Vy=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=Oj(a,t,e,i),s),{}):{}},Oj=(t,e,r,n)=>{const i=e.find(o=>o.name===t),s=i==null?void 0:i.type,a=r[t];return s&&!n.includes(s)?b4(s,a):Pg(a)},b4=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Mj(e,r)}switch(t){case Zt.bool:return Rj(e);case Zt.float4:case Zt.float8:case Zt.int2:case Zt.int4:case Zt.int8:case Zt.numeric:case Zt.oid:return Ij(e);case Zt.json:case Zt.jsonb:return Dj(e);case Zt.timestamp:return Fj(e);case Zt.abstime:case Zt.date:case Zt.daterange:case Zt.int4range:case Zt.int8range:case Zt.money:case Zt.reltime:case Zt.text:case Zt.time:case Zt.timestamptz:case Zt.timetz:case Zt.tsrange:case Zt.tstzrange:return Pg(e);default:return Pg(e)}},Pg=t=>t,Rj=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Ij=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Dj=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Mj=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const a=t.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>b4(e,o))}return t},Fj=t=>typeof t=="string"?t.replace(" ","T"):t,x4=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class M0{constructor(e,r,n={},i=Tg){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Gy;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Gy||(Gy={}));class bc{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bc.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=bc.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=bc.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),a=this.transformState(r),o={},l={};return this.map(s,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const m=s[u];if(m){const g=c.map(b=>b.presence_ref),h=m.map(b=>b.presence_ref),S=c.filter(b=>h.indexOf(b.presence_ref)<0),w=m.filter(b=>g.indexOf(b.presence_ref)<0);S.length>0&&(o[u]=S),w.length>0&&(l[u]=w)}else o[u]=c}),this.syncDiff(s,{joins:o,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var u;const c=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),c.length>0){const m=e[o].map(h=>h.presence_ref),g=c.filter(h=>m.indexOf(h.presence_ref)<0);e[o].unshift(...g)}n(o,c,l)}),this.map(a,(o,l)=>{let u=e[o];if(!u)return;const c=l.map(m=>m.presence_ref);u=u.filter(m=>c.indexOf(m.presence_ref)<0),e[o]=u,i(o,u,l),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ky;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ky||(Ky={}));var xc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(xc||(xc={}));var Ds;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ds||(Ds={}));class mv{constructor(e,r={config:{}},n){var i,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=qr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new M0(this,Mi.join,this.params,this.timeout),this.rejoinTimer=new w4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=qr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=qr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mi.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new bc(this),this.broadcastEndpointURL=x4(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==qr.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[xc.PRESENCE]&&this.bindings[xc.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,m={},g={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(Ds.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(Ds.CLOSED)),this.updateJoinPayload(Object.assign({config:g},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var S;if(this.socket.setAuth(),h===void 0){e==null||e(Ds.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,b=(S=w==null?void 0:w.length)!==null&&S!==void 0?S:0,v=[];for(let N=0;N<b;N++){const x=w[N],{filter:{event:j,schema:D,table:G,filter:W}}=x,F=h&&h[N];if(F&&F.event===j&&F.schema===D&&F.table===G&&F.filter===W)v.push(Object.assign(Object.assign({},x),{id:F.id}));else{this.unsubscribe(),this.state=qr.errored,e==null||e(Ds.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(Ds.SUBSCRIBED);return}}).receive("error",h=>{this.state=qr.errored,e==null||e(Ds.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ds.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===qr.joined&&e===xc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=qr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mi.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new M0(this,Mi.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=qr.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new M0(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Lj){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:c}=Mi;if(n&&[o,l,u,c].indexOf(a)>=0&&n!==this._joinRef())return;let g=this._onMessage(a,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var S,w,b;return((S=h.filter)===null||S===void 0?void 0:S.event)==="*"||((b=(w=h.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(h=>h.callback(g,n)):(s=this.bindings[a])===null||s===void 0||s.filter(h=>{var S,w,b,v,N,x;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in h){const j=h.id,D=(S=h.filter)===null||S===void 0?void 0:S.event;return j&&((w=r.ids)===null||w===void 0?void 0:w.includes(j))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const j=(N=(v=h==null?void 0:h.filter)===null||v===void 0?void 0:v.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return j==="*"||j===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===a}).map(h=>{if(typeof g=="object"&&"ids"in g){const S=g.data,{schema:w,table:b,commit_timestamp:v,type:N,errors:x}=S;g=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:v,eventType:N,new:{},old:{},errors:x}),this._getPayloadRecords(S))}h.callback(g,n)})}_isClosed(){return this.state===qr.closed}_isJoined(){return this.state===qr.joined}_isJoining(){return this.state===qr.joining}_isLeaving(){return this.state===qr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&mv.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Mi.close,{},e)}_onError(e){this._on(Mi.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Vy(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Vy(e.columns,e.old_record)),r}}const F0=()=>{},xh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Bj=[1e3,2e3,5e3,1e4],Uj=1e4,zj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $j{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Tg,this.transport=null,this.heartbeatIntervalMs=xh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=F0,this.ref=0,this.reconnectTimer=null,this.vsn=Hy,this.logger=F0,this.conn=null,this.sendBuffer=[],this.serializer=new Pj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Lg.websocket}`,this.httpEndpoint=x4(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jj.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case vo.connecting:return yo.Connecting;case vo.open:return yo.Open;case vo.closing:return yo.Closing;default:return yo.Closed}}isConnected(){return this.connectionState()===yo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new mv(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Tj,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},xh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:a}=r,o=a?`(${a})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,s,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===vo.open||this.conn.readyState===vo.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Mi.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([zj],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:Ej};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Mi.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new w4(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},xh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,a,o,l,u,c,m,g,h;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Tg,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:xh.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:F0,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Hy,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:S=>Bj[S-1]||Uj,this.vsn){case y4:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(S,w)=>w(JSON.stringify(S)),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:(S,w)=>w(JSON.parse(S));break;case Cj:this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class gp extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function pr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class qj extends gp{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Og extends gp{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const gv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Wj=()=>Response,Rg=t=>{if(Array.isArray(t))return t.map(r=>Rg(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Rg(n)}),e},Hj=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Vj=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),B0=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Gj=(t,e,r)=>Me(void 0,void 0,void 0,function*(){const n=yield Wj();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const s=t.status||500,a=(i==null?void 0:i.statusCode)||s+"";e(new qj(B0(i),s,a))}).catch(i=>{e(new Og(B0(i),i))}):e(new Og(B0(t),t))}),Kj=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(Hj(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function ad(t,e,r,n,i,s){return Me(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,Kj(e,n,i,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>Gj(l,o,n))})})}function Hc(t,e,r,n){return Me(this,void 0,void 0,function*(){return ad(t,"GET",e,r,n)})}function Ii(t,e,r,n,i){return Me(this,void 0,void 0,function*(){return ad(t,"POST",e,n,i,r)})}function Ig(t,e,r,n,i){return Me(this,void 0,void 0,function*(){return ad(t,"PUT",e,n,i,r)})}function Jj(t,e,r,n){return Me(this,void 0,void 0,function*(){return ad(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function vv(t,e,r,n,i){return Me(this,void 0,void 0,function*(){return ad(t,"DELETE",e,n,i,r)})}class Yj{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Me(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pr(e))return{data:null,error:e};throw e}})}}var _4;class Xj{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[_4]="BlobDownloadBuilder",this.promise=null}asStream(){return new Yj(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Me(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pr(e))return{data:null,error:e};throw e}})}}_4=Symbol.toStringTag;const Qj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Jy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Zj{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=gv(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return Me(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},Jy),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),l&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(l))):(s=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),m=yield(e=="PUT"?Ig:Ii)(this.fetch,`${this.url}/object/${c}`,s,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:m.Id,fullPath:m.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pr(s))return{data:null,error:s};throw s}})}upload(e,r,n){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return Me(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:Jy.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const m=yield Ig(this.fetch,o.toString(),l,{headers:c});return{data:{path:s,fullPath:m.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(pr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return Me(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield Ii(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new gp("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pr(n))return{data:null,error:n};throw n}})}update(e,r,n){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Me(this,void 0,void 0,function*(){try{return{data:yield Ii(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pr(i))return{data:null,error:i};throw i}})}copy(e,r,n){return Me(this,void 0,void 0,function*(){try{return{data:{path:(yield Ii(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pr(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return Me(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Ii(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pr(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return Me(this,void 0,void 0,function*(){try{const i=yield Ii(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pr(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"",o=this._getFinalPath(e),l=()=>Hc(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0});return new Xj(l,this.shouldThrowOnError)}info(e){return Me(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Hc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Rg(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pr(n))return{data:null,error:n};throw n}})}exists(e){return Me(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Jj(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pr(n)&&n instanceof Og){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(e){return Me(this,void 0,void 0,function*(){try{return{data:yield vv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}list(e,r,n){return Me(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Qj),r),{prefix:e||""});return{data:yield Ii(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pr(i))return{data:null,error:i};throw i}})}listV2(e,r){return Me(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Ii(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pr(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const S4="2.86.0",N4={"X-Client-Info":`storage-js/${S4}`};class eA{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},N4),r),this.fetch=gv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Me(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Hc(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}getBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Hc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}createBucket(e){return Me(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ii(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pr(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return Me(this,void 0,void 0,function*(){try{return{data:yield Ig(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pr(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Ii(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield vv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Vc=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function tA(t,e,r){const n=new URL(e,t);if(r)for(const[i,s]of Object.entries(r))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function rA(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function nA(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:s,headers:a}){const o=tA(t.baseUrl,n,i),l=await rA(t.auth),u=await e(o,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...l,...a},body:s?JSON.stringify(s):void 0}),c=await u.text(),m=(u.headers.get("content-type")||"").includes("application/json"),g=m&&c?JSON.parse(c):c;if(!u.ok){const h=m?g:void 0,S=h==null?void 0:h.error;throw new Vc((S==null?void 0:S.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:S==null?void 0:S.type,icebergCode:S==null?void 0:S.code,details:h})}return{status:u.status,headers:u.headers,data:g}}}}function _h(t){return t.join("")}var iA=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:_h(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${_h(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_h(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${_h(t.namespace)}`}),!0}catch(e){if(e instanceof Vc&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Vc&&r.status===409)return;throw r}}};function sl(t){return t.join("")}var sA=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${sl(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${sl(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${sl(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${sl(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${sl(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${sl(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Vc&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Vc&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},aA=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=nA({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new iA(this.client,e),this.tableOps=new sA(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class oA{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},N4),r),this.fetch=gv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Ii(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}listBuckets(e){return Me(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Hc(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield vv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}from(e){if(!Vj(e))throw new gp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new aA({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>Me(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const yv={"X-Client-Info":`storage-js/${S4}`,"Content-Type":"application/json"};class k4 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Jn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class U0 extends k4{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class lA extends k4{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Yy;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Yy||(Yy={}));const wv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),uA=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Xy=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),cA=(t,e,r)=>Me(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t.status||500,s=t;if(typeof s.json=="function")s.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";e(new U0(Xy(a),i,o))}).catch(()=>{const a=i+"",o=s.statusText||`HTTP ${i} error`;e(new U0(o,i,a))});else{const a=i+"",o=s.statusText||`HTTP ${i} error`;e(new U0(o,i,a))}}else e(new lA(Xy(t),t))}),dA=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(uA(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function hA(t,e,r,n,i,s){return Me(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,dA(e,n,i,s)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>cA(l,o,n))})})}function Yn(t,e,r,n,i){return Me(this,void 0,void 0,function*(){return hA(t,"POST",e,n,i,r)})}class fA{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yv),r),this.fetch=wv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Me(this,void 0,void 0,function*(){try{return{data:(yield Yn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jn(r))return{data:null,error:r};throw r}})}getIndex(e,r){return Me(this,void 0,void 0,function*(){try{return{data:yield Yn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jn(n))return{data:null,error:n};throw n}})}listIndexes(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Yn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jn(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return Me(this,void 0,void 0,function*(){try{return{data:(yield Yn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jn(n))return{data:null,error:n};throw n}})}}class pA{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yv),r),this.fetch=wv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Me(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Yn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jn(r))return{data:null,error:r};throw r}})}getVectors(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Yn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jn(r))return{data:null,error:r};throw r}})}listVectors(e){return Me(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Yn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jn(r))return{data:null,error:r};throw r}})}queryVectors(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Yn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jn(r))return{data:null,error:r};throw r}})}deleteVectors(e){return Me(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Yn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jn(r))return{data:null,error:r};throw r}})}}class mA{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yv),r),this.fetch=wv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:(yield Yn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jn(r))return{data:null,error:r};throw r}})}getBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Yn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jn(r))return{data:null,error:r};throw r}})}listBuckets(){return Me(this,arguments,void 0,function*(e={}){try{return{data:yield Yn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:(yield Yn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jn(r))return{data:null,error:r};throw r}})}}class gA extends mA{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new vA(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Me(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Me(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Me(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Me(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class vA extends fA{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Me(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Me(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Me(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Me(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new yA(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class yA extends pA{constructor(e,r,n,i,s){super(e,r,s),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Me(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Me(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Me(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Me(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Me(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class wA extends eA{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new Zj(this.url,this.headers,e,this.fetch)}get vectors(){return new gA(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new oA(this.url+"/iceberg",this.headers,this.fetch)}}const bA="2.86.0";let uc="";typeof Deno<"u"?uc="deno":typeof document<"u"?uc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?uc="react-native":uc="node";const xA={"X-Client-Info":`supabase-js-${uc}/${bA}`},_A={headers:xA},SA={schema:"public"},NA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},kA={},jA=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),AA=()=>Headers,EA=(t,e,r)=>{const n=jA(r),i=AA();return async(s,a)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},a),{headers:u}))}};function CA(t){return t.endsWith("/")?t:t+"/"}function TA(t,e){var r,n;const{db:i,auth:s,realtime:a,global:o}=t,{db:l,auth:u,realtime:c,global:m}=e,g={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},c),a),storage:{},global:Object.assign(Object.assign(Object.assign({},m),o),{headers:Object.assign(Object.assign({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function LA(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(CA(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const j4="2.86.0",ml=30*1e3,Dg=3,z0=Dg*ml,PA="http://localhost:9999",OA="supabase.auth.token",RA={"X-Client-Info":`gotrue-js/${j4}`},Mg="X-Supabase-Api-Version",A4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},IA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,DA=10*60*1e3;class Gc extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ge(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class MA extends Gc{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function FA(t){return Ge(t)&&t.name==="AuthApiError"}class wo extends Gc{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Ga extends Gc{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Gn extends Ga{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function BA(t){return Ge(t)&&t.name==="AuthSessionMissingError"}class al extends Ga{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Sh extends Ga{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Nh extends Ga{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function UA(t){return Ge(t)&&t.name==="AuthImplicitGrantRedirectError"}class Qy extends Ga{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fg extends Ga{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function $0(t){return Ge(t)&&t.name==="AuthRetryableFetchError"}class Zy extends Ga{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Bg extends Ga{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Rf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),e5=` 	
\r=`.split(""),zA=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<e5.length;e+=1)t[e5[e].charCodeAt(0)]=-2;for(let e=0;e<Rf.length;e+=1)t[Rf[e].charCodeAt(0)]=e;return t})();function t5(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Rf[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Rf[n]),e.queuedBits-=6}}function E4(t,e,r){const n=zA[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function r5(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{WA(a,n,r)};for(let a=0;a<t.length;a+=1)E4(t.charCodeAt(a),i,s);return e.join("")}function $A(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function qA(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}$A(n,e)}}function WA(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Fl(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)E4(t.charCodeAt(i),r,n);return new Uint8Array(e)}function HA(t){const e=[];return qA(t,r=>e.push(r)),new Uint8Array(e)}function ko(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>t5(i,r,n)),t5(null,r,n),e.join("")}function VA(t){return Math.round(Date.now()/1e3)+t}function GA(){return Symbol("auth-callback")}const nn=()=>typeof window<"u"&&typeof document<"u",co={tested:!1,writable:!1},C4=()=>{if(!nn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(co.tested)return co.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),co.tested=!0,co.writable=!0}catch{co.tested=!0,co.writable=!1}return co.writable};function KA(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const T4=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),JA=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",gl=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ho=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},va=async(t,e)=>{await t.removeItem(e)};class vp{constructor(){this.promise=new vp.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}vp.promiseConstructor=Promise;function q0(t){const e=t.split(".");if(e.length!==3)throw new Bg("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!IA.test(e[n]))throw new Bg("JWT not in base64url format");return{header:JSON.parse(r5(e[0])),payload:JSON.parse(r5(e[1])),signature:Fl(e[2]),raw:{header:e[0],payload:e[1]}}}async function YA(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function XA(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){n(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function QA(t){return("0"+t.toString(16)).substr(-2)}function ZA(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,QA).join("")}async function e8(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function t8(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await e8(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ol(t,e,r=!1){const n=ZA();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await gl(t,`${e}-code-verifier`,i);const s=await t8(n);return[s,n===s?"plain":"s256"]}const r8=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function n8(t){const e=t.headers.get(Mg);if(!e||!e.match(r8))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function i8(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function s8(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const a8=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ll(t){if(!a8.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function W0(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function o8(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function n5(t){return JSON.parse(JSON.stringify(t))}const mo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),l8=[502,503,504];async function i5(t){var e;if(!JA(t))throw new Fg(mo(t),0);if(l8.includes(t.status))throw new Fg(mo(t),t.status);let r;try{r=await t.json()}catch(s){throw new wo(mo(s),s)}let n;const i=n8(t);if(i&&i.getTime()>=A4["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Zy(mo(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Gn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new Zy(mo(r),t.status,r.weak_password.reasons);throw new MA(mo(r),t.status||500,n)}const u8=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function nt(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[Mg]||(s[Mg]=A4["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await c8(t,e,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function c8(t,e,r,n,i,s){const a=u8(e,n,i,s);let o;try{o=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new Fg(mo(l),0)}if(o.ok||await i5(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await i5(l)}}function Oi(t){var e;let r=null;f8(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=VA(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function s5(t){const e=Oi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Aa(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function d8(t){return{data:t,error:null}}function h8(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,a=su(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function a5(t){return t}function f8(t){return t.access_token&&t.refresh_token&&t.expires_in}const H0=["global","local","others"];class p8{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=T4(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=H0[0]){if(H0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${H0.join(", ")}`);try{return await nt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await nt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Aa})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=su(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await nt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:h8,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ge(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await nt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Aa})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await nt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:a5});if(c.error)throw c.error;const m=await c.json(),g=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(S=>{const w=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(S.split(";")[1].split("=")[1]);u[`${b}Page`]=w}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(Ge(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){ll(e);try{return await nt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Aa})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){ll(e);try{return await nt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Aa})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){ll(e);try{return await nt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Aa})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){ll(e.userId);try{const{data:r,error:n}=await nt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _deleteFactor(e){ll(e.userId),ll(e.id);try{return{data:await nt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,s,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await nt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:a5});if(c.error)throw c.error;const m=await c.json(),g=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(S=>{const w=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(S.split(";")[1].split("=")[1]);u[`${b}Page`]=w}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(Ge(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await nt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await nt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await nt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await nt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await nt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ge(r))return{data:null,error:r};throw r}}}function o5(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ul={debug:!!(globalThis&&C4()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class L4 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class m8 extends L4{}async function g8(t,e,r){ul.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ul.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){ul.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{ul.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ul.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new m8(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ul.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function v8(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function P4(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function y8(t){return parseInt(t,16)}function w8(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function b8(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:l,resources:u,scheme:c,uri:m,version:g}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const h=P4(t.address),S=c?`${c}://${n}`:n,w=t.statement?`${t.statement}
`:"",b=`${S} wants you to sign in with your Ethereum account:
${h}

${w}`;let v=`URI: ${m}
Version: ${g}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),o&&(v+=`
Not Before: ${o.toISOString()}`),l&&(v+=`
Request ID: ${l}`),u){let N=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);N+=`
- ${x}`}v+=N}return`${b}
${v}`}class Ir extends Error{constructor({message:e,code:r,cause:n,name:i}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class If extends Ir{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function x8({error:t,options:e}){var r,n,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ir({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ir({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ir({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ir({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ir({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ir({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Ir({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ir({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(O4(a)){if(s.rp.id!==a)return new Ir({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ir({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Ir({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ir({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ir({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function _8({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ir({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ir({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(O4(n)){if(r.rpId!==n)return new Ir({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ir({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ir({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ir({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class S8{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const N8=new S8;function k8(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=su(t,["challenge","user","excludeCredentials"]),s=Fl(e).buffer,a=Object.assign(Object.assign({},r),{id:Fl(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:s,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Fl(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function j8(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=su(t,["challenge","allowCredentials"]),i=Fl(e).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:Fl(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function A8(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:ko(new Uint8Array(t.response.attestationObject)),clientDataJSON:ko(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function E8(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ko(new Uint8Array(i.authenticatorData)),clientDataJSON:ko(new Uint8Array(i.clientDataJSON)),signature:ko(new Uint8Array(i.signature)),userHandle:i.userHandle?ko(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function O4(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function l5(){var t,e;return!!(nn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function C8(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new If("Browser returned unexpected credential type",e)}:{data:null,error:new If("Empty credential response",e)}}catch(e){return{data:null,error:x8({error:e,options:t})}}}async function T8(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new If("Browser returned unexpected credential type",e)}:{data:null,error:new If("Empty credential response",e)}}catch(e){return{data:null,error:_8({error:e,options:t})}}}const L8={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},P8={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Df(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))n[s]=a;else if(r(a))n[s]=a;else if(e(a)){const o=n[s];e(o)?n[s]=Df(o,a):n[s]=Df(a)}else n[s]=a}return n}function O8(t,e){return Df(L8,t,e||{})}function R8(t,e){return Df(P8,t,e||{})}class I8{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},s){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:o};const l=i??N8.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=O8(a.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:c,error:m}=await C8({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:m}}case"request":{const u=R8(a.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:c,error:m}=await T8(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:m}}}}catch(a){return Ge(a)?{data:null,error:a}:{data:null,error:new wo("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Gc("rpId is required for WebAuthn authentication")};try{if(!l5())return{data:null,error:new wo("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return Ge(a)?{data:null,error:a}:{data:null,error:new wo("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Gc("rpId is required for WebAuthn registration")};try{if(!l5())return{data:null,error:new wo("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(c=>{var m;return(m=c.data)===null||m===void 0?void 0:m.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return Ge(a)?{data:null,error:a}:{data:null,error:new wo("Unexpected error in register",a)}}}}v8();const D8={url:PA,storageKey:OA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:RA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function u5(t,e,r){return await r()}const cl={};class Kc{get jwks(){var e,r;return(r=(e=cl[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){cl[this.storageKey]=Object.assign(Object.assign({},cl[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=cl[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){cl[this.storageKey]=Object.assign(Object.assign({},cl[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},D8),e);if(this.storageKey=s.storageKey,this.instanceID=(r=Kc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Kc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&nn()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new p8({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=T4(s.fetch),this.lock=s.lock||u5,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:nn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=g8:this.lock=u5,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new I8(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:C4()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=o5(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=o5(this.memoryStorage)),nn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${j4}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(nn()&&(r=KA(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),nn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),UA(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ge(r)?this._returnResult({error:r}):this._returnResult({error:new wo("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Oi}),{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(Ge(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:c,password:m,options:g}=e;let h=null,S=null;this.flowType==="pkce"&&([h,S]=await ol(this.storage,this.storageKey)),s=await nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:c,password:m,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:h,code_challenge_method:S},xform:Oi})}else if("phone"in e){const{phone:c,password:m,options:g}=e;s=await nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:m,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Oi})}else throw new Sh("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(Ge(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:a,options:o}=e;r=await nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:s5})}else if("phone"in e){const{phone:s,password:a,options:o}=e;r=await nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:s5})}else throw new Sh("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new al;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,s,a,o,l,u,c,m,g;let h,S;if("message"in e)h=e.message,S=e.signature;else{const{chain:w,wallet:b,statement:v,options:N}=e;let x;if(nn())if(typeof b=="object")x=b;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")x=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=b}const j=new URL((r=N==null?void 0:N.url)!==null&&r!==void 0?r:window.location.href),D=await x.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const G=P4(D[0]);let W=(n=N==null?void 0:N.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!W){const O=await x.request({method:"eth_chainId"});W=y8(O)}const F={domain:j.host,address:G,statement:v,uri:j.href,version:"1",chainId:W,nonce:(i=N==null?void 0:N.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=N==null?void 0:N.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=N==null?void 0:N.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=N==null?void 0:N.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=N==null?void 0:N.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=N==null?void 0:N.signInWithEthereum)===null||c===void 0?void 0:c.resources};h=b8(F),S=await x.request({method:"personal_sign",params:[w8(h),G]})}try{const{data:w,error:b}=await nt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:S},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Oi});if(b)throw b;if(!w||!w.session||!w.user){const v=new al;return this._returnResult({data:{user:null,session:null},error:v})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:b})}catch(w){if(Ge(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var r,n,i,s,a,o,l,u,c,m,g,h;let S,w;if("message"in e)S=e.message,w=e.signature;else{const{chain:b,wallet:v,statement:N,options:x}=e;let j;if(nn())if(typeof v=="object")j=v;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))j=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=v}const D=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const G=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),N?{statement:N}:null));let W;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")W=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)W=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in W&&"signature"in W&&(typeof W.signedMessage=="string"||W.signedMessage instanceof Uint8Array)&&W.signature instanceof Uint8Array)S=typeof W.signedMessage=="string"?W.signedMessage:new TextDecoder().decode(W.signedMessage),w=W.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${D.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(i=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=x==null?void 0:x.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((m=(c=x==null?void 0:x.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||m===void 0)&&m.length?["Resources",...x.signInWithSolana.resources.map(W=>`- ${W}`)]:[]].join(`
`);const G=await j.signMessage(new TextEncoder().encode(S),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=G}}try{const{data:b,error:v}=await nt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:ko(w)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Oi});if(v)throw v;if(!b||!b.session||!b.user){const N=new al;return this._returnResult({data:{user:null,session:null},error:N})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:v})}catch(b){if(Ge(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const r=await ho(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await nt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Oi});if(await va(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const o=new al;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(Ge(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=e,o=await nt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Oi}),{data:l,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new al;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(Ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,s,a;try{if("email"in e){const{email:o,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await ol(this.storage,this.storageKey));const{error:m}=await nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:c}=await nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Sh("You must provide either an email or phone number.")}catch(o){if(Ge(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await nt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Oi});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(Ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,s,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await ol(this.storage,this.storageKey));const u=await nt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:d8});return!((s=u.data)===null||s===void 0)&&s.url&&nn()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(Ge(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Gn;const{error:i}=await nt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Ge(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:a}=await nt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:a,error:o}=await nt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new Sh("You must provide either an email or phone number and a type")}catch(r){if(Ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ho(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<z0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await ho(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=W0()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=o8(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Aa}):await this._useSession(async r=>{var n,i,s;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Gn}:await nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Aa})})}catch(r){if(Ge(r))return BA(r)&&(await this._removeSession(),await va(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Gn;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await ol(this.storage,this.storageKey));const{data:u,error:c}=await nt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Aa});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(Ge(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Gn;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=q0(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Ge(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Gn;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!nn())throw new Nh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Nh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Qy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Nh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Qy("No code detected.");const{data:N,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=e;if(!s||!o||!a||!u)throw new Nh("No session defined in URL");const c=Math.round(Date.now()/1e3),m=parseInt(o);let g=c+m;l&&(g=parseInt(l));const h=g-c;h*1e3<=ml&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${m}s`);const S=g-m;c-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,g,c):c-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,g,c);const{data:w,error:b}=await this._getUser(s);if(b)throw b;const v={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:m,expires_at:g,refresh_token:a,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:e.type},error:null})}catch(n){if(Ge(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ho(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({error:s});const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(FA(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await va(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=GA(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await ol(this.storage,this.storageKey,!0));try{return await nt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Ge(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,o,l,u,c;const{data:m,error:g}=s;if(g)throw g;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await nt(this.fetch,"GET",h,{headers:this.headers,jwt:(c=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return nn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ge(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:a,provider:o,token:l,access_token:u,nonce:c}=e,m=await nt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Oi}),{data:g,error:h}=m;return h?this._returnResult({data:{user:null,session:null},error:h}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new al}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:h}))}catch(i){if(Ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await nt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await XA(async i=>(i>0&&await YA(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await nt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Oi})),(i,s)=>{const a=200*Math.pow(2,i);return s&&$0(s)&&Date.now()+a-n<ml})}catch(n){if(this._debug(r,"error",n),Ge(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),nn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await ho(this.storage,this.storageKey);if(i&&this.userStorage){let a=await ho(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await gl(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:W0()}else if(i&&!i.user&&!i.user){const a=await ho(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await va(this.storage,this.storageKey+"-user"),await gl(this.storage,this.storageKey,i)):i.user=W0()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<z0;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${z0}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),$0(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Gn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new vp;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new Gn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),Ge(s)){const a={data:null,error:s};return $0(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await gl(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=n5(i);await gl(this.storage,this.storageKey,s)}else{const i=n5(r);await gl(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await va(this.storage,this.storageKey),await va(this.storage,this.storageKey+"-code-verifier"),await va(this.storage,this.storageKey+"-user"),this.userStorage&&await va(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&nn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ml);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/ml);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ml}ms, refresh threshold is ${Dg} ticks`),i<=Dg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof L4)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await ol(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await nt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await nt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?A8(e.webauthn.credential_response):E8(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await nt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=await nt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:k8(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:j8(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=q0(n.access_token);let a=null;s.aal&&(a=s.aal);let o=a;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const u=s.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await nt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Gn})})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Gn});const a=await nt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&nn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Gn});const a=await nt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&nn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await nt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Gn})})}catch(e){if(Ge(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await nt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Gn})})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+DA>i)return n;const{data:s,error:a}=await nt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:h,error:S}=await this.getSession();if(S||!h.session)return this._returnResult({data:null,error:S});n=h.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=q0(n);r!=null&&r.allowExpired||i8(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:s,header:i,signature:a},error:null}}const c=s8(i.alg),m=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,m,a,HA(`${o}.${l}`)))throw new Bg("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}}Kc.nextInstanceID={};const M8=Kc;class F8 extends M8{constructor(e){super(e)}}class B8{constructor(e,r,n){var i,s,a;this.supabaseUrl=e,this.supabaseKey=r;const o=LA(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:SA,realtime:kA,auth:Object.assign(Object.assign({},NA),{storageKey:l}),global:_A},c=TA(n??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(m,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=c.auth)!==null&&a!==void 0?a:{},this.headers,c.global.fetch),this.fetch=EA(r,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new kj(new URL("rest/v1",o).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new wA(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new _j(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:a,flowType:o,lock:l,debug:u,throwOnError:c},m,g){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new F8({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),m),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:o,lock:l,debug:u,throwOnError:c,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new $j(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const U8=(t,e,r)=>new B8(t,e,r);function z8(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}z8()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const $8="https://jpcyqojysjgpybikfgcd.supabase.co",q8="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpwY3lxb2p5c2pncHliaWtmZ2NkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQzNjc4OTQsImV4cCI6MjA3OTk0Mzg5NH0.3y70J292fK8tchUZcp-lm2yKhrjp9bWtdzH8uCnW8Ls",rt=U8($8,q8),R4=L.createContext({user:null,loading:!0,signOut:async()=>{}}),_i=()=>L.useContext(R4);function W8({children:t}){const[e,r]=L.useState(null),[n,i]=L.useState(!0);L.useEffect(()=>{rt.auth.getSession().then(({data:{session:o}})=>{r((o==null?void 0:o.user)??null)}).catch(o=>{console.error("Auth initialization error:",o)}).finally(()=>{i(!1)});const{data:{subscription:a}}=rt.auth.onAuthStateChange((o,l)=>{r((l==null?void 0:l.user)??null),i(!1)});return()=>a.unsubscribe()},[]),L.useEffect(()=>{if(!e)return;const a=new Date,l=new Date(a.getFullYear(),a.getMonth(),a.getDate()+1,0,0,0).getTime()-a.getTime(),u=setTimeout(()=>{s()},l);return()=>clearTimeout(u)},[e]);const s=async()=>{await rt.auth.signOut()};return f.jsx(R4.Provider,{value:{user:e,loading:n,signOut:s},children:t})}const I4=L.createContext(void 0);function H8({children:t}){const{user:e}=_i(),[r,n]=L.useState(localStorage.getItem("app-theme")||"purple"),[i,s]=L.useState(localStorage.getItem("app-mode")||"light");L.useEffect(()=>{const l=window.document.documentElement;l.classList.remove("light","dark"),l.classList.add(i),l.setAttribute("data-theme",r),localStorage.setItem("app-theme",r),localStorage.setItem("app-mode",i)},[r,i]),L.useEffect(()=>{e&&(async()=>{const{data:u}=await rt.from("profiles").select("accent_color, theme_preference").eq("id",e.id).single();u&&u.accent_color&&n(u.accent_color)})()},[e]);const a=l=>{n(l),e&&rt.from("profiles").update({accent_color:l}).eq("id",e.id).then()},o=l=>{s(l)};return f.jsx(I4.Provider,{value:{theme:r,mode:i,setTheme:a,setMode:o},children:t})}function V8(){const t=L.useContext(I4);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var G8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K8=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Xe=(t,e)=>{const r=L.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...u},c)=>L.createElement("svg",{ref:c,...G8,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${K8(t)}`,o].join(" "),...u},[...e.map(([m,g])=>L.createElement(m,g)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=Xe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=Xe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=Xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=Xe("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=Xe("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=Xe("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=Xe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=Xe("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=Xe("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=Xe("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=Xe("CalendarCheck",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=Xe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=Xe("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=Xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=Xe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=Xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=Xe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=Xe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=Xe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=Xe("FileJson",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=Xe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=Xe("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=Xe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=Xe("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=Xe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=Xe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=Xe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=Xe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=Xe("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=Xe("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=Xe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=Xe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=Xe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=Xe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=Xe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=Xe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=Xe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=Xe("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=Xe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=Xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=Xe("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=Xe("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=Xe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=Xe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=Xe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=Xe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=Xe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=Xe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=Xe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=Xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=Xe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=Xe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=Xe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=Xe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=Xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=Xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function V4(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=V4(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function gE(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=V4(t))&&(n&&(n+=" "),n+=e);return n}const Nv="-",vE=t=>{const e=wE(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const o=a.split(Nv);return o[0]===""&&o.length!==1&&o.shift(),G4(o,e)||yE(a)},getConflictingClassGroupIds:(a,o)=>{const l=r[a]||[];return o&&n[a]?[...l,...n[a]]:l}}},G4=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?G4(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Nv);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},g5=/^\[(.+)\]$/,yE=t=>{if(g5.test(t)){const e=g5.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},wE=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return xE(Object.entries(t.classGroups),r).forEach(([s,a])=>{qg(a,n,s,e)}),n},qg=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:v5(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(bE(i)){qg(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,a])=>{qg(a,v5(e,s),r,n)})})},v5=(t,e)=>{let r=t;return e.split(Nv).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},bE=t=>t.isThemeGetter,xE=(t,e)=>e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[e+a,o])):s);return[r,i]}):t,_E=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,a)=>{r.set(s,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let a=r.get(s);if(a!==void 0)return a;if((a=n.get(s))!==void 0)return i(s,a),a},set(s,a){r.has(s)?r.set(s,a):i(s,a)}}},K4="!",SE=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,a=o=>{const l=[];let u=0,c=0,m;for(let b=0;b<o.length;b++){let v=o[b];if(u===0){if(v===i&&(n||o.slice(b,b+s)===e)){l.push(o.slice(c,b)),c=b+s;continue}if(v==="/"){m=b;continue}}v==="["?u++:v==="]"&&u--}const g=l.length===0?o:o.substring(c),h=g.startsWith(K4),S=h?g.substring(1):g,w=m&&m>c?m-c:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:S,maybePostfixModifierPosition:w}};return r?o=>r({className:o,parseClassName:a}):a},NE=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},kE=t=>({cache:_E(t.cacheSize),parseClassName:SE(t),...vE(t)}),jE=/\s+/,AE=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(jE);let o="";for(let l=a.length-1;l>=0;l-=1){const u=a[l],{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:h}=r(u);let S=!!h,w=n(S?g.substring(0,h):g);if(!w){if(!S){o=u+(o.length>0?" "+o:o);continue}if(w=n(g),!w){o=u+(o.length>0?" "+o:o);continue}S=!1}const b=NE(c).join(":"),v=m?b+K4:b,N=v+w;if(s.includes(N))continue;s.push(N);const x=i(w,S);for(let j=0;j<x.length;++j){const D=x[j];s.push(v+D)}o=u+(o.length>0?" "+o:o)}return o};function EE(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=J4(e))&&(n&&(n+=" "),n+=r);return n}const J4=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=J4(t[n]))&&(r&&(r+=" "),r+=e);return r};function CE(t,...e){let r,n,i,s=a;function a(l){const u=e.reduce((c,m)=>m(c),t());return r=kE(u),n=r.cache.get,i=r.cache.set,s=o,o(l)}function o(l){const u=n(l);if(u)return u;const c=AE(l,r);return i(l,c),c}return function(){return s(EE.apply(null,arguments))}}const rr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},Y4=/^\[(?:([a-z-]+):)?(.+)\]$/i,TE=/^\d+\/\d+$/,LE=new Set(["px","full","screen"]),PE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,OE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,RE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,IE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,DE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ps=t=>Bl(t)||LE.has(t)||TE.test(t),ya=t=>lu(t,"length",WE),Bl=t=>!!t&&!Number.isNaN(Number(t)),V0=t=>lu(t,"number",Bl),Qu=t=>!!t&&Number.isInteger(Number(t)),ME=t=>t.endsWith("%")&&Bl(t.slice(0,-1)),_t=t=>Y4.test(t),wa=t=>PE.test(t),FE=new Set(["length","size","percentage"]),BE=t=>lu(t,FE,X4),UE=t=>lu(t,"position",X4),zE=new Set(["image","url"]),$E=t=>lu(t,zE,VE),qE=t=>lu(t,"",HE),Zu=()=>!0,lu=(t,e,r)=>{const n=Y4.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},WE=t=>OE.test(t)&&!RE.test(t),X4=()=>!1,HE=t=>IE.test(t),VE=t=>DE.test(t),GE=()=>{const t=rr("colors"),e=rr("spacing"),r=rr("blur"),n=rr("brightness"),i=rr("borderColor"),s=rr("borderRadius"),a=rr("borderSpacing"),o=rr("borderWidth"),l=rr("contrast"),u=rr("grayscale"),c=rr("hueRotate"),m=rr("invert"),g=rr("gap"),h=rr("gradientColorStops"),S=rr("gradientColorStopPositions"),w=rr("inset"),b=rr("margin"),v=rr("opacity"),N=rr("padding"),x=rr("saturate"),j=rr("scale"),D=rr("sepia"),G=rr("skew"),W=rr("space"),F=rr("translate"),O=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto",_t,e],I=()=>[_t,e],Y=()=>["",Ps,ya],X=()=>["auto",Bl,_t],ue=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],de=()=>["solid","dashed","dotted","double","none"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>["start","end","center","between","around","evenly","stretch"],re=()=>["","0",_t],me=()=>["auto","avoid","all","avoid-page","page","left","right","column"],he=()=>[Bl,_t];return{cacheSize:500,separator:":",theme:{colors:[Zu],spacing:[Ps,ya],blur:["none","",wa,_t],brightness:he(),borderColor:[t],borderRadius:["none","","full",wa,_t],borderSpacing:I(),borderWidth:Y(),contrast:he(),grayscale:re(),hueRotate:he(),invert:re(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[ME,ya],inset:C(),margin:C(),opacity:he(),padding:I(),saturate:he(),scale:he(),sepia:re(),skew:he(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",_t]}],container:["container"],columns:[{columns:[wa]}],"break-after":[{"break-after":me()}],"break-before":[{"break-before":me()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ue(),_t]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Qu,_t]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_t]}],grow:[{grow:re()}],shrink:[{shrink:re()}],order:[{order:["first","last","none",Qu,_t]}],"grid-cols":[{"grid-cols":[Zu]}],"col-start-end":[{col:["auto",{span:["full",Qu,_t]},_t]}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":[Zu]}],"row-start-end":[{row:["auto",{span:[Qu,_t]},_t]}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_t]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_t]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[N]}],px:[{px:[N]}],py:[{py:[N]}],ps:[{ps:[N]}],pe:[{pe:[N]}],pt:[{pt:[N]}],pr:[{pr:[N]}],pb:[{pb:[N]}],pl:[{pl:[N]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[W]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[W]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_t,e]}],"min-w":[{"min-w":[_t,e,"min","max","fit"]}],"max-w":[{"max-w":[_t,e,"none","full","min","max","fit","prose",{screen:[wa]},wa]}],h:[{h:[_t,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_t,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_t,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_t,e,"auto","min","max","fit"]}],"font-size":[{text:["base",wa,ya]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",V0]}],"font-family":[{font:[Zu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_t]}],"line-clamp":[{"line-clamp":["none",Bl,V0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ps,_t]}],"list-image":[{"list-image":["none",_t]}],"list-style-type":[{list:["none","disc","decimal",_t]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...de(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ps,ya]}],"underline-offset":[{"underline-offset":["auto",Ps,_t]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_t]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_t]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ue(),UE]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",BE]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$E]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...de(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:de()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...de()]}],"outline-offset":[{"outline-offset":[Ps,_t]}],"outline-w":[{outline:[Ps,ya]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Ps,ya]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",wa,qE]}],"shadow-color":[{shadow:[Zu]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...ce(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ce()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",wa,_t]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[m]}],saturate:[{saturate:[x]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_t]}],duration:[{duration:he()}],ease:[{ease:["linear","in","out","in-out",_t]}],delay:[{delay:he()}],animate:[{animate:["none","spin","ping","pulse","bounce",_t]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Qu,_t]}],"translate-x":[{"translate-x":[F]}],"translate-y":[{"translate-y":[F]}],"skew-x":[{"skew-x":[G]}],"skew-y":[{"skew-y":[G]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_t]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_t]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_t]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ps,ya,V0]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},KE=CE(GE);function st(...t){return KE(gE(t))}function JE({toast:t,onRemove:e}){const[r,n]=L.useState(!1),i=()=>{n(!0),setTimeout(()=>e(t.id),300)},s={success:f.jsx(xv,{className:"h-5 w-5 text-emerald-500"}),error:f.jsx(bv,{className:"h-5 w-5 text-red-500"}),info:f.jsx(U4,{className:"h-5 w-5 text-blue-500"})},a={success:"bg-emerald-50 border-emerald-100",error:"bg-red-50 border-red-100",info:"bg-blue-50 border-blue-100"};return f.jsxs("div",{className:st("flex items-center gap-3 p-4 rounded-xl shadow-lg border backdrop-blur-md transition-all duration-300 transform translate-x-0 opacity-100 mb-3 w-full max-w-sm","bg-white dark:bg-slate-800 dark:border-slate-700",r?"translate-x-full opacity-0":"animate-in slide-in-from-right-full fade-in"),role:"alert",children:[f.jsx("div",{className:st("p-2 rounded-full bg-opacity-20",a[t.type].replace("bg-","bg-").split(" ")[0]),children:s[t.type]}),f.jsx("div",{className:"flex-1",children:f.jsx("p",{className:"text-sm font-medium text-slate-800 dark:text-slate-100",children:t.message})}),f.jsx("button",{onClick:i,className:"p-1 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-400 dark:text-slate-500 transition-colors",children:f.jsx(ea,{className:"h-4 w-4"})})]})}function YE({toasts:t,onRemove:e}){return Ta.createPortal(f.jsx("div",{className:"fixed top-4 right-4 z-[100] flex flex-col items-end w-full max-w-sm pointer-events-none",children:f.jsx("div",{className:"pointer-events-auto w-full",children:t.map(r=>f.jsx(JE,{toast:r,onRemove:e},r.id))})}),document.body)}const Q4=L.createContext(void 0);function XE({children:t}){const[e,r]=L.useState([]),n=L.useCallback((s,a)=>{const o=Math.random().toString(36).substr(2,9);r(l=>[...l,{id:o,message:s,type:a}]),setTimeout(()=>{r(l=>l.filter(u=>u.id!==o))},5e3)},[]),i=L.useCallback(s=>{r(a=>a.filter(o=>o.id!==s))},[]);return f.jsxs(Q4.Provider,{value:{addToast:n,removeToast:i},children:[t,f.jsx(YE,{toasts:e,onRemove:i})]})}function ld(){const t=L.useContext(Q4);if(t===void 0)throw new Error("useToast must be used within a ToastProvider");return t}const Z4=L.createContext(void 0);function QE({children:t}){const[e,r]=L.useState(0),[n,i]=L.useState(1),{addToast:s}=ld();L.useEffect(()=>{const l=parseInt(localStorage.getItem("student_xp")||"0");r(l),a(l)},[]);const a=l=>{const u=Math.floor(Math.sqrt(l/100))+1;i(u)},o=(l,u)=>{r(c=>{const m=c+l;localStorage.setItem("student_xp",m.toString());const g=Math.floor(Math.sqrt(c/100))+1,h=Math.floor(Math.sqrt(m/100))+1;return h>g?(s(` Level Up! You are now Level ${h}`,"success"),i(h)):s(`+${l} XP: ${u}`,"info"),m})};return f.jsx(Z4.Provider,{value:{xp:e,level:n,addXP:o},children:t})}const e3=()=>{const t=L.useContext(Z4);if(!t)throw new Error("useGamification must be used within a GamificationProvider");return t};var ZE=typeof Element<"u",eC=typeof Map=="function",tC=typeof Set=="function",rC=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Yh(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var r,n,i;if(Array.isArray(t)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(!Yh(t[n],e[n]))return!1;return!0}var s;if(eC&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(n=s.next()).done;)if(!e.has(n.value[0]))return!1;for(s=t.entries();!(n=s.next()).done;)if(!Yh(n.value[1],e.get(n.value[0])))return!1;return!0}if(tC&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(n=s.next()).done;)if(!e.has(n.value[0]))return!1;return!0}if(rC&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(t[n]!==e[n])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[n]))return!1;if(ZE&&t instanceof Element)return!1;for(n=r;n--!==0;)if(!((i[n]==="_owner"||i[n]==="__v"||i[n]==="__o")&&t.$$typeof)&&!Yh(t[i[n]],e[i[n]]))return!1;return!0}return t!==t&&e!==e}var nC=function(e,r){try{return Yh(e,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const iC=Qf(nC);var sC=function(t,e,r,n,i,s,a,o){if(!t){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,i,s,a,o],c=0;l=new Error(e.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},aC=sC;const y5=Qf(aC);var oC=function(e,r,n,i){var s=n?n.call(i,e,r):void 0;if(s!==void 0)return!!s;if(e===r)return!0;if(typeof e!="object"||!e||typeof r!="object"||!r)return!1;var a=Object.keys(e),o=Object.keys(r);if(a.length!==o.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(r),u=0;u<a.length;u++){var c=a[u];if(!l(c))return!1;var m=e[c],g=r[c];if(s=n?n.call(i,m,g,c):void 0,s===!1||s===void 0&&m!==g)return!1}return!0};const lC=Qf(oC);var t3=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(t3||{}),G0={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},w5=Object.values(t3),kv={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},uC=Object.entries(kv).reduce((t,[e,r])=>(t[r]=e,t),{}),Bi="data-rh",Ul={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},zl=(t,e)=>{for(let r=t.length-1;r>=0;r-=1){const n=t[r];if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}return null},cC=t=>{let e=zl(t,"title");const r=zl(t,Ul.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),r&&e)return r.replace(/%s/g,()=>e);const n=zl(t,Ul.DEFAULT_TITLE);return e||n||void 0},dC=t=>zl(t,Ul.ON_CHANGE_CLIENT_STATE)||(()=>{}),K0=(t,e)=>e.filter(r=>typeof r[t]<"u").map(r=>r[t]).reduce((r,n)=>({...r,...n}),{}),hC=(t,e)=>e.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,n)=>{if(!r.length){const i=Object.keys(n);for(let s=0;s<i.length;s+=1){const o=i[s].toLowerCase();if(t.indexOf(o)!==-1&&n[o])return r.concat(n)}}return r},[]),fC=t=>console&&typeof console.warn=="function"&&console.warn(t),ec=(t,e,r)=>{const n={};return r.filter(i=>Array.isArray(i[t])?!0:(typeof i[t]<"u"&&fC(`Helmet: ${t} should be of type "Array". Instead found type "${typeof i[t]}"`),!1)).map(i=>i[t]).reverse().reduce((i,s)=>{const a={};s.filter(l=>{let u;const c=Object.keys(l);for(let g=0;g<c.length;g+=1){const h=c[g],S=h.toLowerCase();e.indexOf(S)!==-1&&!(u==="rel"&&l[u].toLowerCase()==="canonical")&&!(S==="rel"&&l[S].toLowerCase()==="stylesheet")&&(u=S),e.indexOf(h)!==-1&&(h==="innerHTML"||h==="cssText"||h==="itemprop")&&(u=h)}if(!u||!l[u])return!1;const m=l[u].toLowerCase();return n[u]||(n[u]={}),a[u]||(a[u]={}),n[u][m]?!1:(a[u][m]=!0,!0)}).reverse().forEach(l=>i.push(l));const o=Object.keys(a);for(let l=0;l<o.length;l+=1){const u=o[l],c={...n[u],...a[u]};n[u]=c}return i},[]).reverse()},pC=(t,e)=>{if(Array.isArray(t)&&t.length){for(let r=0;r<t.length;r+=1)if(t[r][e])return!0}return!1},mC=t=>({baseTag:hC(["href"],t),bodyAttributes:K0("bodyAttributes",t),defer:zl(t,Ul.DEFER),encode:zl(t,Ul.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:K0("htmlAttributes",t),linkTags:ec("link",["rel","href"],t),metaTags:ec("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:ec("noscript",["innerHTML"],t),onChangeClientState:dC(t),scriptTags:ec("script",["src","innerHTML"],t),styleTags:ec("style",["cssText"],t),title:cC(t),titleAttributes:K0("titleAttributes",t),prioritizeSeoTags:pC(t,Ul.PRIORITIZE_SEO_TAGS)}),r3=t=>Array.isArray(t)?t.join(""):t,gC=(t,e)=>{const r=Object.keys(t);for(let n=0;n<r.length;n+=1)if(e[r[n]]&&e[r[n]].includes(t[r[n]]))return!0;return!1},J0=(t,e)=>Array.isArray(t)?t.reduce((r,n)=>(gC(n,e)?r.priority.push(n):r.default.push(n),r),{priority:[],default:[]}):{default:t,priority:[]},b5=(t,e)=>({...t,[e]:void 0}),vC=["noscript","script","style"],Wg=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),n3=t=>Object.keys(t).reduce((e,r)=>{const n=typeof t[r]<"u"?`${r}="${t[r]}"`:`${r}`;return e?`${e} ${n}`:n},""),yC=(t,e,r,n)=>{const i=n3(r),s=r3(e);return i?`<${t} ${Bi}="true" ${i}>${Wg(s,n)}</${t}>`:`<${t} ${Bi}="true">${Wg(s,n)}</${t}>`},wC=(t,e,r=!0)=>e.reduce((n,i)=>{const s=i,a=Object.keys(s).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,c)=>{const m=typeof s[c]>"u"?c:`${c}="${Wg(s[c],r)}"`;return u?`${u} ${m}`:m},""),o=s.innerHTML||s.cssText||"",l=vC.indexOf(t)===-1;return`${n}<${t} ${Bi}="true" ${a}${l?"/>":`>${o}</${t}>`}`},""),i3=(t,e={})=>Object.keys(t).reduce((r,n)=>{const i=kv[n];return r[i||n]=t[n],r},e),bC=(t,e,r)=>{const n={key:e,[Bi]:!0},i=i3(r,n);return[Ct.createElement("title",i,e)]},Xh=(t,e)=>e.map((r,n)=>{const i={key:n,[Bi]:!0};return Object.keys(r).forEach(s=>{const o=kv[s]||s;if(o==="innerHTML"||o==="cssText"){const l=r.innerHTML||r.cssText;i.dangerouslySetInnerHTML={__html:l}}else i[o]=r[s]}),Ct.createElement(t,i)}),hi=(t,e,r=!0)=>{switch(t){case"title":return{toComponent:()=>bC(t,e.title,e.titleAttributes),toString:()=>yC(t,e.title,e.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>i3(e),toString:()=>n3(e)};default:return{toComponent:()=>Xh(t,e),toString:()=>wC(t,e,r)}}},xC=({metaTags:t,linkTags:e,scriptTags:r,encode:n})=>{const i=J0(t,G0.meta),s=J0(e,G0.link),a=J0(r,G0.script);return{priorityMethods:{toComponent:()=>[...Xh("meta",i.priority),...Xh("link",s.priority),...Xh("script",a.priority)],toString:()=>`${hi("meta",i.priority,n)} ${hi("link",s.priority,n)} ${hi("script",a.priority,n)}`},metaTags:i.default,linkTags:s.default,scriptTags:a.default}},_C=t=>{const{baseTag:e,bodyAttributes:r,encode:n=!0,htmlAttributes:i,noscriptTags:s,styleTags:a,title:o="",titleAttributes:l,prioritizeSeoTags:u}=t;let{linkTags:c,metaTags:m,scriptTags:g}=t,h={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:h,linkTags:c,metaTags:m,scriptTags:g}=xC(t)),{priority:h,base:hi("base",e,n),bodyAttributes:hi("bodyAttributes",r,n),htmlAttributes:hi("htmlAttributes",i,n),link:hi("link",c,n),meta:hi("meta",m,n),noscript:hi("noscript",s,n),script:hi("script",g,n),style:hi("style",a,n),title:hi("title",{title:o,titleAttributes:l},n)}},Hg=_C,kh=[],s3=!!(typeof window<"u"&&window.document&&window.document.createElement),Vg=class{constructor(t,e){Nt(this,"instances",[]);Nt(this,"canUseDOM",s3);Nt(this,"context");Nt(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?kh:this.instances,add:t=>{(this.canUseDOM?kh:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?kh:this.instances).indexOf(t);(this.canUseDOM?kh:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=Hg({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},SC={},a3=Ct.createContext(SC),jo,o3=(jo=class extends L.Component{constructor(r){super(r);Nt(this,"helmetData");this.helmetData=new Vg(this.props.context||{},jo.canUseDOM)}render(){return Ct.createElement(a3.Provider,{value:this.helmetData.value},this.props.children)}},Nt(jo,"canUseDOM",s3),jo),dl=(t,e)=>{const r=document.head||document.querySelector("head"),n=r.querySelectorAll(`${t}[${Bi}]`),i=[].slice.call(n),s=[];let a;return e&&e.length&&e.forEach(o=>{const l=document.createElement(t);for(const u in o)if(Object.prototype.hasOwnProperty.call(o,u))if(u==="innerHTML")l.innerHTML=o.innerHTML;else if(u==="cssText")l.styleSheet?l.styleSheet.cssText=o.cssText:l.appendChild(document.createTextNode(o.cssText));else{const c=u,m=typeof o[c]>"u"?"":o[c];l.setAttribute(u,m)}l.setAttribute(Bi,"true"),i.some((u,c)=>(a=c,l.isEqualNode(u)))?i.splice(a,1):s.push(l)}),i.forEach(o=>{var l;return(l=o.parentNode)==null?void 0:l.removeChild(o)}),s.forEach(o=>r.appendChild(o)),{oldTags:i,newTags:s}},Gg=(t,e)=>{const r=document.getElementsByTagName(t)[0];if(!r)return;const n=r.getAttribute(Bi),i=n?n.split(","):[],s=[...i],a=Object.keys(e);for(const o of a){const l=e[o]||"";r.getAttribute(o)!==l&&r.setAttribute(o,l),i.indexOf(o)===-1&&i.push(o);const u=s.indexOf(o);u!==-1&&s.splice(u,1)}for(let o=s.length-1;o>=0;o-=1)r.removeAttribute(s[o]);i.length===s.length?r.removeAttribute(Bi):r.getAttribute(Bi)!==a.join(",")&&r.setAttribute(Bi,a.join(","))},NC=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=r3(t)),Gg("title",e)},x5=(t,e)=>{const{baseTag:r,bodyAttributes:n,htmlAttributes:i,linkTags:s,metaTags:a,noscriptTags:o,onChangeClientState:l,scriptTags:u,styleTags:c,title:m,titleAttributes:g}=t;Gg("body",n),Gg("html",i),NC(m,g);const h={baseTag:dl("base",r),linkTags:dl("link",s),metaTags:dl("meta",a),noscriptTags:dl("noscript",o),scriptTags:dl("script",u),styleTags:dl("style",c)},S={},w={};Object.keys(h).forEach(b=>{const{newTags:v,oldTags:N}=h[b];v.length&&(S[b]=v),N.length&&(w[b]=h[b].oldTags)}),e&&e(),l(t,S,w)},tc=null,kC=t=>{tc&&cancelAnimationFrame(tc),t.defer?tc=requestAnimationFrame(()=>{x5(t,()=>{tc=null})}):(x5(t),tc=null)},jC=kC,_5=class extends L.Component{constructor(){super(...arguments);Nt(this,"rendered",!1)}shouldComponentUpdate(e){return!lC(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:r}=this.props.context;let n=null;const i=mC(e.get().map(s=>{const a={...s.props};return delete a.context,a}));o3.canUseDOM?jC(i):Hg&&(n=Hg(i)),r(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Om,AC=(Om=class extends L.Component{shouldComponentUpdate(t){return!iC(b5(this.props,"helmetData"),b5(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,r,n){return{...e,[t.type]:[...e[t.type]||[],{...r,...this.mapNestedChildrenToProps(t,n)}]}}mapObjectTypeChildren(t,e,r,n){switch(t.type){case"title":return{...e,[t.type]:n,titleAttributes:{...r}};case"body":return{...e,bodyAttributes:{...r}};case"html":return{...e,htmlAttributes:{...r}};default:return{...e,[t.type]:{...r}}}}mapArrayTypeChildrenToProps(t,e){let r={...e};return Object.keys(t).forEach(n=>{r={...r,[n]:t[n]}}),r}warnOnInvalidChildren(t,e){return y5(w5.some(r=>t.type===r),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${w5.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),y5(!e||typeof e=="string"||Array.isArray(e)&&!e.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let r={};return Ct.Children.forEach(t,n=>{if(!n||!n.props)return;const{children:i,...s}=n.props,a=Object.keys(s).reduce((l,u)=>(l[uC[u]||u]=s[u],l),{});let{type:o}=n;switch(typeof o=="symbol"?o=o.toString():this.warnOnInvalidChildren(n,i),o){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(n,r,a,i);break;default:e=this.mapObjectTypeChildren(n,e,a,i);break}}),this.mapArrayTypeChildrenToProps(r,e)}render(){const{children:t,...e}=this.props;let r={...e},{helmetData:n}=e;if(t&&(r=this.mapChildrenToProps(t,r)),n&&!(n instanceof Vg)){const i=n;n=new Vg(i.context,!0),delete r.helmetData}return n?Ct.createElement(_5,{...r,context:n.value}):Ct.createElement(a3.Consumer,null,i=>Ct.createElement(_5,{...r,context:i}))}},Nt(Om,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Om);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var S5="popstate";function EC(t={}){function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return Kg("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Yc(i)}return TC(e,r,null,t)}function cr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CC(){return Math.random().toString(36).substring(2,10)}function N5(t,e){return{usr:t.state,key:t.key,idx:e}}function Kg(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?uu(e):e,state:r,key:e&&e.key||n||CC()}}function Yc({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function uu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function TC(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o="POP",l=null,u=c();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function c(){return(a.state||{idx:null}).idx}function m(){o="POP";let b=c(),v=b==null?null:b-u;u=b,l&&l({action:o,location:w.location,delta:v})}function g(b,v){o="PUSH";let N=Kg(w.location,b,v);u=c()+1;let x=N5(N,u),j=w.createHref(N);try{a.pushState(x,"",j)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(j)}s&&l&&l({action:o,location:w.location,delta:1})}function h(b,v){o="REPLACE";let N=Kg(w.location,b,v);u=c();let x=N5(N,u),j=w.createHref(N);a.replaceState(x,"",j),s&&l&&l({action:o,location:w.location,delta:0})}function S(b){return LC(b)}let w={get action(){return o},get location(){return t(i,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(S5,m),l=b,()=>{i.removeEventListener(S5,m),l=null}},createHref(b){return e(i,b)},createURL:S,encodeLocation(b){let v=S(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:g,replace:h,go(b){return a.go(b)}};return w}function LC(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),cr(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Yc(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function l3(t,e,r="/"){return PC(t,e,r,!1)}function PC(t,e,r,n){let i=typeof e=="string"?uu(e):e,s=Xs(i.pathname||"/",r);if(s==null)return null;let a=u3(t);OC(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=WC(s);o=$C(a[l],u,n)}return o}function u3(t,e=[],r=[],n="",i=!1){let s=(a,o,l=i,u)=>{let c={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(n)&&l)return;cr(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length)}let m=Vs([n,c.relativePath]),g=r.concat(c);a.children&&a.children.length>0&&(cr(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),u3(a.children,e,g,m,l)),!(a.path==null&&!a.index)&&e.push({path:m,score:UC(m,a.index),routesMeta:g})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let u of c3(a.path))s(a,o,!0,u)}),e}function c3(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=c3(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function OC(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:zC(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var RC=/^:[\w-]+$/,IC=3,DC=2,MC=1,FC=10,BC=-2,k5=t=>t==="*";function UC(t,e){let r=t.split("/"),n=r.length;return r.some(k5)&&(n+=BC),e&&(n+=DC),r.filter(i=>!k5(i)).reduce((i,s)=>i+(RC.test(s)?IC:s===""?MC:FC),n)}function zC(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function $C(t,e,r=!1){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",m=Bf({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),g=l.route;if(!m&&u&&r&&!n[n.length-1].route.index&&(m=Bf({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:Vs([s,m.pathname]),pathnameBase:JC(Vs([s,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(s=Vs([s,m.pathnameBase]))}return a}function Bf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=qC(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,{paramName:c,isOptional:m},g)=>{if(c==="*"){let S=o[g]||"";a=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const h=o[g];return m&&!h?u[c]=void 0:u[c]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function qC(t,e=!1,r=!0){bi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function WC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Xs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}var HC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VC=t=>HC.test(t);function GC(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?uu(t):t,s;if(r)if(VC(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),bi(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${r}`)}r.startsWith("/")?s=j5(r.substring(1),"/"):s=j5(r,e)}else s=e;return{pathname:s,search:YC(n),hash:XC(i)}}function j5(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Y0(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KC(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function jv(t){let e=KC(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function Av(t,e,r,n=!1){let i;typeof t=="string"?i=uu(t):(i={...t},cr(!i.pathname||!i.pathname.includes("?"),Y0("?","pathname","search",i)),cr(!i.pathname||!i.pathname.includes("#"),Y0("#","pathname","hash",i)),cr(!i.search||!i.search.includes("#"),Y0("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let m=e.length-1;if(!n&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}o=m>=0?e[m]:"/"}let l=GC(i,o),u=a&&a!=="/"&&a.endsWith("/"),c=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var Vs=t=>t.join("/").replace(/\/\/+/g,"/"),JC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),YC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,XC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function QC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var d3=["POST","PUT","PATCH","DELETE"];new Set(d3);var ZC=["GET",...d3];new Set(ZC);var cu=L.createContext(null);cu.displayName="DataRouter";var xp=L.createContext(null);xp.displayName="DataRouterState";L.createContext(!1);var h3=L.createContext({isTransitioning:!1});h3.displayName="ViewTransition";var eT=L.createContext(new Map);eT.displayName="Fetchers";var tT=L.createContext(null);tT.displayName="Await";var Vi=L.createContext(null);Vi.displayName="Navigation";var ud=L.createContext(null);ud.displayName="Location";var ps=L.createContext({outlet:null,matches:[],isDataRoute:!1});ps.displayName="Route";var Ev=L.createContext(null);Ev.displayName="RouteError";function rT(t,{relative:e}={}){cr(du(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=L.useContext(Vi),{hash:i,pathname:s,search:a}=cd(t,{relative:e}),o=s;return r!=="/"&&(o=s==="/"?r:Vs([r,s])),n.createHref({pathname:o,search:a,hash:i})}function du(){return L.useContext(ud)!=null}function ms(){return cr(du(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(ud).location}var f3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function p3(t){L.useContext(Vi).static||L.useLayoutEffect(t)}function Gi(){let{isDataRoute:t}=L.useContext(ps);return t?mT():nT()}function nT(){cr(du(),"useNavigate() may be used only in the context of a <Router> component.");let t=L.useContext(cu),{basename:e,navigator:r}=L.useContext(Vi),{matches:n}=L.useContext(ps),{pathname:i}=ms(),s=JSON.stringify(jv(n)),a=L.useRef(!1);return p3(()=>{a.current=!0}),L.useCallback((l,u={})=>{if(bi(a.current,f3),!a.current)return;if(typeof l=="number"){r.go(l);return}let c=Av(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Vs([e,c.pathname])),(u.replace?r.replace:r.push)(c,u.state,u)},[e,r,s,i,t])}L.createContext(null);function cd(t,{relative:e}={}){let{matches:r}=L.useContext(ps),{pathname:n}=ms(),i=JSON.stringify(jv(r));return L.useMemo(()=>Av(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function iT(t,e){return m3(t,e)}function m3(t,e,r,n,i){var N;cr(du(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=L.useContext(Vi),{matches:a}=L.useContext(ps),o=a[a.length-1],l=o?o.params:{},u=o?o.pathname:"/",c=o?o.pathnameBase:"/",m=o&&o.route;{let x=m&&m.path||"";g3(u,!m||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let g=ms(),h;if(e){let x=typeof e=="string"?uu(e):e;cr(c==="/"||((N=x.pathname)==null?void 0:N.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${x.pathname}" was given in the \`location\` prop.`),h=x}else h=g;let S=h.pathname||"/",w=S;if(c!=="/"){let x=c.replace(/^\//,"").split("/");w="/"+S.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=l3(t,{pathname:w});bi(m||b!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),bi(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=uT(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Vs([c,s.encodeLocation?s.encodeLocation(x.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Vs([c,s.encodeLocation?s.encodeLocation(x.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathnameBase])})),a,r,n,i);return e&&v?L.createElement(ud.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},v):v}function sT(){let t=pT(),e=QC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:s},"ErrorBoundary")," or"," ",L.createElement("code",{style:s},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),r?L.createElement("pre",{style:i},r):null,a)}var aT=L.createElement(sT,null),oT=class extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?L.createElement(ps.Provider,{value:this.props.routeContext},L.createElement(Ev.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lT({routeContext:t,match:e,children:r}){let n=L.useContext(cu);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(ps.Provider,{value:t},r)}function uT(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,a=r==null?void 0:r.errors;if(a!=null){let c=s.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);cr(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let o=!1,l=-1;if(r)for(let c=0;c<s.length;c++){let m=s[c];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(l=c),m.route.id){let{loaderData:g,errors:h}=r,S=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!h||h[m.route.id]===void 0);if(m.route.lazy||S){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let u=r&&n?(c,m)=>{var g,h;n(c,{location:r.location,params:((h=(g=r.matches)==null?void 0:g[0])==null?void 0:h.params)??{},errorInfo:m})}:void 0;return s.reduceRight((c,m,g)=>{let h,S=!1,w=null,b=null;r&&(h=a&&m.route.id?a[m.route.id]:void 0,w=m.route.errorElement||aT,o&&(l<0&&g===0?(g3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,b=null):l===g&&(S=!0,b=m.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,g+1)),N=()=>{let x;return h?x=w:S?x=b:m.route.Component?x=L.createElement(m.route.Component,null):m.route.element?x=m.route.element:x=c,L.createElement(lT,{match:m,routeContext:{outlet:c,matches:v,isDataRoute:r!=null},children:x})};return r&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?L.createElement(oT,{location:r.location,revalidation:r.revalidation,component:w,error:h,children:N(),routeContext:{outlet:null,matches:v,isDataRoute:!0},onError:u}):N()},null)}function Cv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cT(t){let e=L.useContext(cu);return cr(e,Cv(t)),e}function dT(t){let e=L.useContext(xp);return cr(e,Cv(t)),e}function hT(t){let e=L.useContext(ps);return cr(e,Cv(t)),e}function Tv(t){let e=hT(t),r=e.matches[e.matches.length-1];return cr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function fT(){return Tv("useRouteId")}function pT(){var n;let t=L.useContext(Ev),e=dT("useRouteError"),r=Tv("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function mT(){let{router:t}=cT("useNavigate"),e=Tv("useNavigate"),r=L.useRef(!1);return p3(()=>{r.current=!0}),L.useCallback(async(i,s={})=>{bi(r.current,f3),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var A5={};function g3(t,e,r){!e&&!A5[t]&&(A5[t]=!0,bi(!1,r))}L.memo(gT);function gT({routes:t,future:e,state:r,unstable_onError:n}){return m3(t,void 0,r,n,e)}function vT({to:t,replace:e,state:r,relative:n}){cr(du(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=L.useContext(Vi);bi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=L.useContext(ps),{pathname:a}=ms(),o=Gi(),l=Av(t,jv(s),a,n==="path"),u=JSON.stringify(l);return L.useEffect(()=>{o(JSON.parse(u),{replace:e,state:r,relative:n})},[o,u,n,e,r]),null}function di(t){cr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yT({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){cr(!du(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),o=L.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof r=="string"&&(r=uu(r));let{pathname:l="/",search:u="",hash:c="",state:m=null,key:g="default"}=r,h=L.useMemo(()=>{let S=Xs(l,a);return S==null?null:{location:{pathname:S,search:u,hash:c,state:m,key:g},navigationType:n}},[a,l,u,c,m,g,n]);return bi(h!=null,`<Router basename="${a}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:L.createElement(Vi.Provider,{value:o},L.createElement(ud.Provider,{children:e,value:h}))}function wT({children:t,location:e}){return iT(Jg(t),e)}function Jg(t,e=[]){let r=[];return L.Children.forEach(t,(n,i)=>{if(!L.isValidElement(n))return;let s=[...e,i];if(n.type===L.Fragment){r.push.apply(r,Jg(n.props.children,s));return}cr(n.type===di,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),cr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Jg(n.props.children,s)),r.push(a)}),r}var Qh="get",Zh="application/x-www-form-urlencoded";function _p(t){return t!=null&&typeof t.tagName=="string"}function bT(t){return _p(t)&&t.tagName.toLowerCase()==="button"}function xT(t){return _p(t)&&t.tagName.toLowerCase()==="form"}function _T(t){return _p(t)&&t.tagName.toLowerCase()==="input"}function ST(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function NT(t,e){return t.button===0&&(!e||e==="_self")&&!ST(t)}var jh=null;function kT(){if(jh===null)try{new FormData(document.createElement("form"),0),jh=!1}catch{jh=!0}return jh}var jT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function X0(t){return t!=null&&!jT.has(t)?(bi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zh}"`),null):t}function AT(t,e){let r,n,i,s,a;if(xT(t)){let o=t.getAttribute("action");n=o?Xs(o,e):null,r=t.getAttribute("method")||Qh,i=X0(t.getAttribute("enctype"))||Zh,s=new FormData(t)}else if(bT(t)||_T(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(n=l?Xs(l,e):null,r=t.getAttribute("formmethod")||o.getAttribute("method")||Qh,i=X0(t.getAttribute("formenctype"))||X0(o.getAttribute("enctype"))||Zh,s=new FormData(o,t),!kT()){let{name:u,type:c,value:m}=t;if(c==="image"){let g=u?`${u}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else u&&s.append(u,m)}}else{if(_p(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Qh,n=null,i=Zh,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Lv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ET(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&Xs(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function CT(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TT(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function LT(t,e,r){let n=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await CT(s,r);return a.links?a.links():[]}return[]}));return IT(n.flat(1).filter(TT).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function E5(t,e,r,n,i,s){let a=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,o=(l,u)=>{var c;return r[u].pathname!==l.pathname||((c=r[u].route.path)==null?void 0:c.endsWith("*"))&&r[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>a(l,u)||o(l,u)):s==="data"?e.filter((l,u)=>{var m;let c=n.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(a(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function PT(t,e,{includeHydrateFallback:r}={}){return OT(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function OT(t){return[...new Set(t)]}function RT(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function IT(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let s=JSON.stringify(RT(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function v3(){let t=L.useContext(cu);return Lv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function DT(){let t=L.useContext(xp);return Lv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Pv=L.createContext(void 0);Pv.displayName="FrameworkContext";function y3(){let t=L.useContext(Pv);return Lv(t,"You must render this element inside a <HydratedRouter> element"),t}function MT(t,e){let r=L.useContext(Pv),[n,i]=L.useState(!1),[s,a]=L.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:m}=e,g=L.useRef(null);L.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let w=v=>{v.forEach(N=>{a(N.isIntersecting)})},b=new IntersectionObserver(w,{threshold:.5});return g.current&&b.observe(g.current),()=>{b.disconnect()}}},[t]),L.useEffect(()=>{if(n){let w=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(w)}}},[n]);let h=()=>{i(!0)},S=()=>{i(!1),a(!1)};return r?t!=="intent"?[s,g,{}]:[s,g,{onFocus:rc(o,h),onBlur:rc(l,S),onMouseEnter:rc(u,h),onMouseLeave:rc(c,S),onTouchStart:rc(m,h)}]:[!1,g,{}]}function rc(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function FT({page:t,...e}){let{router:r}=v3(),n=L.useMemo(()=>l3(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?L.createElement(UT,{page:t,matches:n,...e}):null}function BT(t){let{manifest:e,routeModules:r}=y3(),[n,i]=L.useState([]);return L.useEffect(()=>{let s=!1;return LT(t,e,r).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,r]),n}function UT({page:t,matches:e,...r}){let n=ms(),{manifest:i,routeModules:s}=y3(),{basename:a}=v3(),{loaderData:o,matches:l}=DT(),u=L.useMemo(()=>E5(t,e,l,i,n,"data"),[t,e,l,i,n]),c=L.useMemo(()=>E5(t,e,l,i,n,"assets"),[t,e,l,i,n]),m=L.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let S=new Set,w=!1;if(e.forEach(v=>{var x;let N=i.routes[v.route.id];!N||!N.hasLoader||(!u.some(j=>j.route.id===v.route.id)&&v.route.id in o&&((x=s[v.route.id])!=null&&x.shouldRevalidate)||N.hasClientLoader?w=!0:S.add(v.route.id))}),S.size===0)return[];let b=ET(t,a,"data");return w&&S.size>0&&b.searchParams.set("_routes",e.filter(v=>S.has(v.route.id)).map(v=>v.route.id).join(",")),[b.pathname+b.search]},[a,o,n,i,u,e,t,s]),g=L.useMemo(()=>PT(c,i),[c,i]),h=BT(c);return L.createElement(L.Fragment,null,m.map(S=>L.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),g.map(S=>L.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),h.map(({key:S,link:w})=>L.createElement("link",{key:S,nonce:r.nonce,...w})))}function zT(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var w3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{w3&&(window.__reactRouterVersion="7.9.6")}catch{}function $T({basename:t,children:e,window:r}){let n=L.useRef();n.current==null&&(n.current=EC({window:r,v5Compat:!0}));let i=n.current,[s,a]=L.useState({action:i.action,location:i.location}),o=L.useCallback(l=>{L.startTransition(()=>a(l))},[a]);return L.useLayoutEffect(()=>i.listen(o),[i,o]),L.createElement(yT,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var b3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ms=L.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:c,viewTransition:m,...g},h){let{basename:S}=L.useContext(Vi),w=typeof u=="string"&&b3.test(u),b,v=!1;if(typeof u=="string"&&w&&(b=u,w3))try{let O=new URL(window.location.href),V=u.startsWith("//")?new URL(O.protocol+u):new URL(u),C=Xs(V.pathname,S);V.origin===O.origin&&C!=null?u=C+V.search+V.hash:v=!0}catch{bi(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=rT(u,{relative:i}),[x,j,D]=MT(n,g),G=VT(u,{replace:a,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:m});function W(O){e&&e(O),O.defaultPrevented||G(O)}let F=L.createElement("a",{...g,...D,href:b||N,onClick:v||s?e:W,ref:zT(h,j),target:l,"data-discover":!w&&r==="render"?"true":void 0});return x&&!w?L.createElement(L.Fragment,null,F,L.createElement(FT,{page:N})):F});Ms.displayName="Link";var qT=L.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:a,viewTransition:o,children:l,...u},c){let m=cd(a,{relative:u.relative}),g=ms(),h=L.useContext(xp),{navigator:S,basename:w}=L.useContext(Vi),b=h!=null&&XT(m)&&o===!0,v=S.encodeLocation?S.encodeLocation(m).pathname:m.pathname,N=g.pathname,x=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;r||(N=N.toLowerCase(),x=x?x.toLowerCase():null,v=v.toLowerCase()),x&&w&&(x=Xs(x,w)||x);const j=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let D=N===v||!i&&N.startsWith(v)&&N.charAt(j)==="/",G=x!=null&&(x===v||!i&&x.startsWith(v)&&x.charAt(v.length)==="/"),W={isActive:D,isPending:G,isTransitioning:b},F=D?e:void 0,O;typeof n=="function"?O=n(W):O=[n,D?"active":null,G?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let V=typeof s=="function"?s(W):s;return L.createElement(Ms,{...u,"aria-current":F,className:O,ref:c,style:V,to:a,viewTransition:o},typeof l=="function"?l(W):l)});qT.displayName="NavLink";var WT=L.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:s,method:a=Qh,action:o,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:m,...g},h)=>{let S=JT(),w=YT(o,{relative:u}),b=a.toLowerCase()==="get"?"get":"post",v=typeof o=="string"&&b3.test(o),N=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let j=x.nativeEvent.submitter,D=(j==null?void 0:j.getAttribute("formmethod"))||a;S(j||x.currentTarget,{fetcherKey:e,method:D,navigate:r,replace:i,state:s,relative:u,preventScrollReset:c,viewTransition:m})};return L.createElement("form",{ref:h,method:b,action:w,onSubmit:n?l:N,...g,"data-discover":!v&&t==="render"?"true":void 0})});WT.displayName="Form";function HT(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x3(t){let e=L.useContext(cu);return cr(e,HT(t)),e}function VT(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:a}={}){let o=Gi(),l=ms(),u=cd(t,{relative:s});return L.useCallback(c=>{if(NT(c,e)){c.preventDefault();let m=r!==void 0?r:Yc(l)===Yc(u);o(t,{replace:m,state:n,preventScrollReset:i,relative:s,viewTransition:a})}},[l,o,u,r,n,e,t,i,s,a])}var GT=0,KT=()=>`__${String(++GT)}__`;function JT(){let{router:t}=x3("useSubmit"),{basename:e}=L.useContext(Vi),r=fT();return L.useCallback(async(n,i={})=>{let{action:s,method:a,encType:o,formData:l,body:u}=AT(n,e);if(i.navigate===!1){let c=i.fetcherKey||KT();await t.fetch(c,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function YT(t,{relative:e}={}){let{basename:r}=L.useContext(Vi),n=L.useContext(ps);cr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...cd(t||".",{relative:e})},a=ms();if(t==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(c=>c==="")){o.delete("index"),l.filter(m=>m).forEach(m=>o.append("index",m));let c=o.toString();s.search=c?`?${c}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Vs([r,s.pathname])),Yc(s)}function XT(t,{relative:e}={}){let r=L.useContext(h3);cr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=x3("useViewTransitionState"),i=cd(t,{relative:e});if(!r.isTransitioning)return!1;let s=Xs(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=Xs(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Bf(i.pathname,a)!=null||Bf(i.pathname,s)!=null}function QT(){const[t,e]=L.useState(""),[r,n]=L.useState(""),[i,s]=L.useState(!1),[a,o]=L.useState(!1),[l,u]=L.useState(null),c=Gi(),m=async g=>{g.preventDefault(),s(!0),u(null);try{if(a){const{error:h}=await rt.auth.signUp({email:t,password:r});if(h)throw h;alert("Check your email for the login link!")}else{const{error:h}=await rt.auth.signInWithPassword({email:t,password:r});if(h)throw h;c("/")}}catch(h){u(h.message)}finally{s(!1)}};return f.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-[#021B20] to-[#052E35] font-sans",children:f.jsxs("div",{className:"w-full max-w-sm px-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-white text-center mb-12 tracking-wider",children:"USER LOGIN"}),f.jsxs("form",{onSubmit:m,className:"space-y-6",children:[f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-12 bg-white rounded-l-full flex items-center justify-center z-10",children:f.jsx($g,{className:"h-6 w-6 text-black"})}),f.jsx("input",{type:"email",placeholder:"Username",value:t,onChange:g=>e(g.target.value),className:"w-full bg-white/10 text-white placeholder:text-white/50 h-12 rounded-full pl-16 pr-6 outline-none focus:bg-white/20 transition-all border-none",required:!0})]}),f.jsxs("div",{className:"relative group",children:[f.jsx("input",{type:"password",placeholder:"Password",value:r,onChange:g=>n(g.target.value),className:"w-full bg-white/10 text-white placeholder:text-white/50 h-12 rounded-full pl-6 pr-16 outline-none focus:bg-white/20 transition-all border-none",required:!0}),f.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-12 bg-white rounded-r-full flex items-center justify-center z-10",children:f.jsx(iE,{className:"h-5 w-5 text-black"})})]}),l&&f.jsx("div",{className:"text-sm text-red-400 text-center bg-red-900/20 p-2 rounded",children:l}),f.jsx("button",{type:"submit",disabled:i,className:"w-full bg-white text-black font-bold h-12 rounded-full hover:bg-gray-100 transition-colors mt-8 uppercase tracking-wide flex items-center justify-center",children:i?f.jsx(Hs,{className:"h-5 w-5 animate-spin"}):a?"Sign Up":"LOGIN"}),f.jsx("div",{className:"text-center mt-6",children:f.jsx("button",{type:"button",onClick:()=>o(!a),className:"text-white/60 text-sm hover:text-white transition-colors",children:a?"Already have an account? Login":"Don't have an account? Sign Up"})})]})]})})}const bo=Ct.forwardRef(({className:t,children:e,isLoading:r,variant:n="primary",size:i="md",disabled:s,...a},o)=>{const l={primary:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90"},u={sm:"h-9 px-3 text-xs",md:"h-10 px-4 py-2",lg:"h-11 px-8",icon:"h-10 w-10"};return f.jsxs("button",{ref:o,className:st("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",l[n],u[i],t),disabled:s||r,...a,children:[r&&f.jsx(Hs,{className:"mr-2 h-4 w-4 animate-spin"}),e]})});bo.displayName="Button";function ZT({isOpen:t,onClose:e,title:r,children:n,className:i}){const s=L.useRef(null);return L.useEffect(()=>{const a=o=>{o.key==="Escape"&&e()};return t&&(document.addEventListener("keydown",a),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",a),document.body.style.overflow="unset"}},[t,e]),t?f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:f.jsxs("div",{ref:s,className:st("relative w-full max-w-lg rounded-lg border bg-background p-6 shadow-lg animate-in fade-in zoom-in duration-200",i),children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h2",{className:"text-lg font-semibold",children:r}),f.jsx(bo,{variant:"ghost",size:"sm",onClick:e,className:"h-8 w-8 p-0",children:f.jsx(ea,{className:"h-4 w-4"})})]}),n]})}):null}const cc=Ct.forwardRef(({className:t,type:e,label:r,error:n,...i},s)=>f.jsxs("div",{className:"w-full space-y-2",children:[r&&f.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:r}),f.jsx("input",{type:e,className:st("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n&&"border-destructive focus-visible:ring-destructive",t),ref:s,...i}),n&&f.jsx("p",{className:"text-sm text-destructive",children:n})]}));cc.displayName="Input";const eL={A1:[{day:"Monday",startTime:"08:00",endTime:"08:50"},{day:"Wednesday",startTime:"09:00",endTime:"09:50"}],A2:[{day:"Monday",startTime:"14:00",endTime:"14:50"},{day:"Wednesday",startTime:"15:00",endTime:"15:50"}],B1:[{day:"Tuesday",startTime:"08:00",endTime:"08:50"},{day:"Thursday",startTime:"09:00",endTime:"09:50"}],B2:[{day:"Tuesday",startTime:"14:00",endTime:"14:50"},{day:"Thursday",startTime:"15:00",endTime:"15:50"}],C1:[{day:"Wednesday",startTime:"08:00",endTime:"08:50"},{day:"Friday",startTime:"09:00",endTime:"09:50"}],C2:[{day:"Wednesday",startTime:"14:00",endTime:"14:50"},{day:"Friday",startTime:"15:00",endTime:"15:50"}],D1:[{day:"Thursday",startTime:"08:00",endTime:"08:50"},{day:"Monday",startTime:"10:00",endTime:"10:50"}],D2:[{day:"Thursday",startTime:"14:00",endTime:"14:50"},{day:"Monday",startTime:"16:00",endTime:"16:50"}],E1:[{day:"Friday",startTime:"08:00",endTime:"08:50"},{day:"Tuesday",startTime:"10:00",endTime:"10:50"}],E2:[{day:"Friday",startTime:"14:00",endTime:"14:50"},{day:"Tuesday",startTime:"16:00",endTime:"16:50"}],F1:[{day:"Monday",startTime:"09:00",endTime:"09:50"},{day:"Wednesday",startTime:"10:00",endTime:"10:50"}],F2:[{day:"Monday",startTime:"15:00",endTime:"15:50"},{day:"Wednesday",startTime:"16:00",endTime:"16:50"}],G1:[{day:"Tuesday",startTime:"09:00",endTime:"09:50"},{day:"Thursday",startTime:"10:00",endTime:"10:50"}],G2:[{day:"Tuesday",startTime:"15:00",endTime:"15:50"},{day:"Thursday",startTime:"16:00",endTime:"16:50"}],TA1:[{day:"Friday",startTime:"10:00",endTime:"10:50"}],TA2:[{day:"Friday",startTime:"16:00",endTime:"16:50"}],TB1:[{day:"Monday",startTime:"11:00",endTime:"11:50"}],TB2:[{day:"Monday",startTime:"17:00",endTime:"17:50"}],TC1:[{day:"Tuesday",startTime:"11:00",endTime:"11:50"}],TC2:[{day:"Tuesday",startTime:"17:00",endTime:"17:50"}],TD1:[{day:"Friday",startTime:"12:00",endTime:"12:50"}],TD2:[{day:"Wednesday",startTime:"17:00",endTime:"17:50"}],TE1:[{day:"Thursday",startTime:"11:00",endTime:"11:50"}],TE2:[{day:"Thursday",startTime:"17:00",endTime:"17:50"},{day:"Friday",startTime:"17:00",endTime:"17:50"}],TF1:[{day:"Friday",startTime:"11:00",endTime:"11:50"}],TF2:[{day:"Friday",startTime:"17:00",endTime:"17:50"}],TG1:[{day:"Monday",startTime:"12:00",endTime:"12:50"}],TG2:[{day:"Monday",startTime:"18:00",endTime:"18:50"}],TAA1:[{day:"Tuesday",startTime:"12:00",endTime:"12:50"}],TAA2:[{day:"Tuesday",startTime:"18:00",endTime:"18:50"}],V1:[{day:"Wednesday",startTime:"11:00",endTime:"11:50"}],V2:[{day:"Wednesday",startTime:"12:00",endTime:"12:50"}],TBB2:[{day:"Wednesday",startTime:"18:00",endTime:"18:50"}],TCC1:[{day:"Thursday",startTime:"12:00",endTime:"12:50"}],TCC2:[{day:"Thursday",startTime:"18:00",endTime:"18:50"}],TDD2:[{day:"Friday",startTime:"18:00",endTime:"18:50"}],L1:[{day:"Monday",startTime:"08:00",endTime:"08:50"}],L2:[{day:"Monday",startTime:"08:51",endTime:"09:40"}],L3:[{day:"Monday",startTime:"09:51",endTime:"10:40"}],L4:[{day:"Monday",startTime:"10:41",endTime:"11:30"}],L5:[{day:"Monday",startTime:"11:40",endTime:"12:30"}],L6:[{day:"Monday",startTime:"12:31",endTime:"13:20"}],L7:[{day:"Tuesday",startTime:"08:00",endTime:"08:50"}],L8:[{day:"Tuesday",startTime:"08:51",endTime:"09:40"}],L9:[{day:"Tuesday",startTime:"09:51",endTime:"10:40"}],L10:[{day:"Tuesday",startTime:"10:41",endTime:"11:30"}],L11:[{day:"Tuesday",startTime:"11:40",endTime:"12:30"}],L12:[{day:"Tuesday",startTime:"12:31",endTime:"13:20"}],L13:[{day:"Wednesday",startTime:"08:00",endTime:"08:50"}],L14:[{day:"Wednesday",startTime:"08:51",endTime:"09:40"}],L15:[{day:"Wednesday",startTime:"09:51",endTime:"10:40"}],L16:[{day:"Wednesday",startTime:"10:41",endTime:"11:30"}],L17:[{day:"Wednesday",startTime:"11:40",endTime:"12:30"}],L18:[{day:"Wednesday",startTime:"12:31",endTime:"13:20"}],L19:[{day:"Thursday",startTime:"08:00",endTime:"08:50"}],L20:[{day:"Thursday",startTime:"08:51",endTime:"09:40"}],L21:[{day:"Thursday",startTime:"09:51",endTime:"10:40"}],L22:[{day:"Thursday",startTime:"10:41",endTime:"11:30"}],L23:[{day:"Thursday",startTime:"11:40",endTime:"12:30"}],L24:[{day:"Thursday",startTime:"12:31",endTime:"13:20"}],L25:[{day:"Friday",startTime:"08:00",endTime:"08:50"}],L26:[{day:"Friday",startTime:"08:51",endTime:"09:40"}],L27:[{day:"Friday",startTime:"09:51",endTime:"10:40"}],L28:[{day:"Friday",startTime:"10:41",endTime:"11:30"}],L29:[{day:"Friday",startTime:"11:40",endTime:"12:30"}],L30:[{day:"Friday",startTime:"12:31",endTime:"13:20"}],L31:[{day:"Monday",startTime:"14:00",endTime:"14:50"}],L32:[{day:"Monday",startTime:"14:51",endTime:"15:40"}],L33:[{day:"Monday",startTime:"15:51",endTime:"16:40"}],L34:[{day:"Monday",startTime:"16:41",endTime:"17:30"}],L35:[{day:"Monday",startTime:"17:40",endTime:"18:30"}],L36:[{day:"Monday",startTime:"18:31",endTime:"19:20"}],L37:[{day:"Tuesday",startTime:"14:00",endTime:"14:50"}],L38:[{day:"Tuesday",startTime:"14:51",endTime:"15:40"}],L39:[{day:"Tuesday",startTime:"15:51",endTime:"16:40"}],L40:[{day:"Tuesday",startTime:"16:41",endTime:"17:30"}],L41:[{day:"Tuesday",startTime:"17:40",endTime:"18:30"}],L42:[{day:"Tuesday",startTime:"18:31",endTime:"19:20"}],L43:[{day:"Wednesday",startTime:"14:00",endTime:"14:50"}],L44:[{day:"Wednesday",startTime:"14:51",endTime:"15:40"}],L45:[{day:"Wednesday",startTime:"15:51",endTime:"16:40"}],L46:[{day:"Wednesday",startTime:"16:41",endTime:"17:30"}],L47:[{day:"Wednesday",startTime:"17:40",endTime:"18:30"}],L48:[{day:"Wednesday",startTime:"18:31",endTime:"19:20"}],L49:[{day:"Thursday",startTime:"14:00",endTime:"14:50"}],L50:[{day:"Thursday",startTime:"14:51",endTime:"15:40"}],L51:[{day:"Thursday",startTime:"15:51",endTime:"16:40"}],L52:[{day:"Thursday",startTime:"16:41",endTime:"17:30"}],L53:[{day:"Thursday",startTime:"17:40",endTime:"18:30"}],L54:[{day:"Thursday",startTime:"18:31",endTime:"19:20"}],L55:[{day:"Friday",startTime:"14:00",endTime:"14:50"}],L56:[{day:"Friday",startTime:"14:51",endTime:"15:40"}],L57:[{day:"Friday",startTime:"15:51",endTime:"16:40"}],L58:[{day:"Friday",startTime:"16:41",endTime:"17:30"}],L59:[{day:"Friday",startTime:"17:40",endTime:"18:30"}],L60:[{day:"Friday",startTime:"18:31",endTime:"19:20"}]};function tL(t){const e=[],r=[];return t.forEach(n=>{n.slot.toUpperCase().split("+").map(s=>s.trim()).forEach(s=>{const a=eL[s];if(!a){r.push(`Invalid slot "${s}" for subject "${n.subject_name}"`);return}a.forEach(o=>{e.push({subject_name:n.subject_name,subject_code:n.subject_code,type:n.type,slot_code:s,slot_label:n.slot,room_number:n.room_number,credit:n.credit,day:o.day,start_time:o.startTime,end_time:o.endTime})})})}),{entries:e,errors:r}}function rL({isOpen:t,onClose:e,onSuccess:r}){const{user:n}=_i(),[i,s]=L.useState(!1),[a,o]=L.useState([{subject_name:"",subject_code:"",type:"theory",slot:"",room_number:"",credit:0}]),[l,u]=L.useState(null),c=(w,b,v)=>{const N=[...a];N[w]={...N[w],[b]:v},o(N),u(null)},m=()=>{o([...a,{subject_name:"",subject_code:"",type:"theory",slot:"",room_number:"",credit:0}])},g=w=>{if(a.length===1)return;const b=a.filter((v,N)=>N!==w);o(b),u(null)},h=()=>{const w=tL(a);u(w)},S=async()=>{if(!(!n||!l||l.errors.length>0)){s(!0);try{const w=l.entries.map(v=>({user_id:n.id,day:v.day,start_time:v.start_time,end_time:v.end_time,subject_name:v.subject_name,subject_code:v.subject_code,type:v.type,room_number:v.room_number,slot_code:v.slot_code,slot_label:v.slot_label,credit:v.credit})),{error:b}=await rt.from("smart_timetable_entries").insert(w);if(b)throw b;r(),e(),o([{subject_name:"",subject_code:"",type:"theory",slot:"",room_number:"",credit:0}]),u(null)}catch(w){console.error("Error saving timetable:",w),alert("Failed to save timetable entries.")}finally{s(!1)}}};return f.jsxs(ZT,{isOpen:t,onClose:e,title:"Smart Add (FFCS Slots)",className:"max-w-4xl",children:[f.jsxs("div",{className:"space-y-6 py-4 max-h-[70vh] overflow-y-auto pr-2",children:[f.jsx("div",{className:"space-y-4",children:a.map((w,b)=>f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 items-end p-4 border rounded-lg bg-card",children:[f.jsxs("div",{className:"md:col-span-3",children:[f.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Subject Name"}),f.jsx(cc,{value:w.subject_name,onChange:v=>c(b,"subject_name",v.target.value),placeholder:"e.g. Python",className:"mt-2"})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Code"}),f.jsx(cc,{value:w.subject_code,onChange:v=>c(b,"subject_code",v.target.value),placeholder:"CSE1001",className:"mt-2"})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Type"}),f.jsxs("select",{className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 mt-2",value:w.type,onChange:v=>c(b,"type",v.target.value),children:[f.jsx("option",{value:"theory",children:"Theory"}),f.jsx("option",{value:"lab",children:"Lab"})]})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Slot(s)"}),f.jsx(cc,{value:w.slot,onChange:v=>c(b,"slot",v.target.value),placeholder:"A1+TA1",className:"mt-2"})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Room"}),f.jsx(cc,{value:w.room_number,onChange:v=>c(b,"room_number",v.target.value),placeholder:"SJT 101",className:"mt-2"})]}),f.jsx("div",{className:"md:col-span-1 flex justify-end",children:f.jsx(bo,{variant:"ghost",size:"sm",onClick:()=>g(b),disabled:a.length===1,className:"text-destructive hover:text-destructive h-10 w-10 p-0",children:f.jsx(zo,{className:"h-4 w-4"})})})]},b))}),f.jsxs(bo,{variant:"outline",onClick:m,className:"w-full",children:[f.jsx(Uo,{className:"mr-2 h-4 w-4"})," Add Another Course"]}),f.jsx("div",{className:"flex justify-end",children:f.jsx(bo,{onClick:h,disabled:a.some(w=>!w.slot||!w.subject_name),children:"Generate Preview"})}),l&&f.jsxs("div",{className:"space-y-4 border-t pt-4",children:[f.jsx("h3",{className:"font-semibold",children:"Preview"}),l.errors.length>0?f.jsxs("div",{className:"p-4 bg-destructive/10 text-destructive rounded-md space-y-2",children:[f.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[f.jsx(bv,{className:"h-4 w-4"}),"Errors Found"]}),f.jsx("ul",{className:"list-disc list-inside text-sm",children:l.errors.map((w,b)=>f.jsx("li",{children:w},b))})]}):f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 rounded-md flex items-center gap-2",children:[f.jsx(xv,{className:"h-4 w-4"}),l.entries.length," sessions generated successfully."]}),f.jsx("div",{className:"border rounded-md overflow-hidden",children:f.jsxs("table",{className:"w-full text-sm",children:[f.jsx("thead",{className:"bg-muted",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-2 text-left",children:"Subject"}),f.jsx("th",{className:"p-2 text-left",children:"Slot"}),f.jsx("th",{className:"p-2 text-left",children:"Day"}),f.jsx("th",{className:"p-2 text-left",children:"Time"}),f.jsx("th",{className:"p-2 text-left",children:"Room"})]})}),f.jsx("tbody",{children:l.entries.map((w,b)=>f.jsxs("tr",{className:"border-t",children:[f.jsx("td",{className:"p-2",children:w.subject_name}),f.jsx("td",{className:"p-2",children:w.slot_code}),f.jsx("td",{className:"p-2",children:w.day}),f.jsxs("td",{className:"p-2",children:[w.start_time," - ",w.end_time]}),f.jsx("td",{className:"p-2",children:w.room_number})]},b))})]})})]})]})]}),f.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[f.jsx(bo,{variant:"outline",onClick:e,children:"Cancel"}),f.jsx(bo,{onClick:S,disabled:!l||l.errors.length>0||i,isLoading:i,children:"Save Timetable"})]})]})}function nL({isOpen:t,onClose:e,classData:r,onSuccess:n}){const[i,s]=L.useState(!1),[a,o]=L.useState({subject_name:"",subject_code:"",room_number:"",start_time:"",end_time:""});if(L.useEffect(()=>{r&&o({subject_name:r.subject_name||"",subject_code:r.subject_code||"",room_number:r.room_number||"",start_time:r.start_time||"",end_time:r.end_time||""})},[r]),!t||!r)return null;const l=async u=>{u.preventDefault(),s(!0);try{const c={subject_name:a.subject_name,subject_code:a.subject_code,room_number:a.room_number,start_time:a.start_time,end_time:a.end_time},{error:m}=await rt.from("timetable_entries").update(c).eq("id",r.id),{error:g}=await rt.from("smart_timetable_entries").update(c).eq("id",r.id);if(m&&g)throw new Error("Failed to update class");n(),e()}catch(c){console.error("Error updating class:",c)}finally{s(!1)}};return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/20 backdrop-blur-sm",children:f.jsx("div",{className:"bg-white/90 backdrop-blur-xl rounded-3xl shadow-2xl w-full max-w-md overflow-hidden border border-white/50 animate-in fade-in zoom-in duration-200",children:f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Edit Class"}),f.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:f.jsx(ea,{className:"h-5 w-5 text-slate-500"})})]}),f.jsxs("form",{onSubmit:l,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Subject Name"}),f.jsx("input",{type:"text",value:a.subject_name,onChange:u=>o({...a,subject_name:u.target.value}),className:"w-full p-3 rounded-xl bg-slate-50 border-none focus:ring-2 focus:ring-primary-500 transition-all",required:!0})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Subject Code"}),f.jsx("input",{type:"text",value:a.subject_code,onChange:u=>o({...a,subject_code:u.target.value}),className:"w-full p-3 rounded-xl bg-slate-50 border-none focus:ring-2 focus:ring-primary-500 transition-all",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Room"}),f.jsx("input",{type:"text",value:a.room_number,onChange:u=>o({...a,room_number:u.target.value}),className:"w-full p-3 rounded-xl bg-slate-50 border-none focus:ring-2 focus:ring-primary-500 transition-all"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Start Time"}),f.jsx("input",{type:"time",value:a.start_time,onChange:u=>o({...a,start_time:u.target.value}),className:"w-full p-3 rounded-xl bg-slate-50 border-none focus:ring-2 focus:ring-primary-500 transition-all",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"End Time"}),f.jsx("input",{type:"time",value:a.end_time,onChange:u=>o({...a,end_time:u.target.value}),className:"w-full p-3 rounded-xl bg-slate-50 border-none focus:ring-2 focus:ring-primary-500 transition-all",required:!0})]})]}),f.jsxs("button",{type:"submit",disabled:i,className:"w-full py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-xl font-bold shadow-lg shadow-primary-200 transition-all flex items-center justify-center gap-2 mt-4",children:[i?f.jsx(Hs,{className:"h-5 w-5 animate-spin"}):f.jsx(bp,{className:"h-5 w-5"}),"Save Changes"]}),f.jsxs("button",{type:"button",onClick:async()=>{if(confirm("Are you sure you want to delete this class?")){s(!0);try{await rt.from("timetable_entries").delete().eq("id",r.id),await rt.from("smart_timetable_entries").delete().eq("id",r.id),n(),e()}catch(u){console.error("Error deleting class:",u)}finally{s(!1)}}},disabled:i,className:"w-full py-3 bg-red-50 hover:bg-red-100 text-red-600 rounded-xl font-bold transition-all flex items-center justify-center gap-2",children:[f.jsx(zo,{className:"h-5 w-5"}),"Delete Class"]})]})]})})})}function $o({title:t="CGPA Calculator & Timetable",description:e="A comprehensive tool for students to calculate CGPA and manage their class timetables.",keywords:r="CGPA, Timetable, Student, Calculator, Education, Planner",image:n="/screenshot-desktop.png",url:i="https://studytimetable.vercel.app/"}){const s=t==="CGPA Calculator & Timetable"?t:`${t} | StudyTime`;return f.jsxs(AC,{children:[f.jsx("title",{children:s}),f.jsx("meta",{name:"description",content:e}),f.jsx("meta",{name:"keywords",content:r}),f.jsx("link",{rel:"canonical",href:i}),f.jsx("meta",{property:"og:type",content:"website"}),f.jsx("meta",{property:"og:title",content:s}),f.jsx("meta",{property:"og:description",content:e}),f.jsx("meta",{property:"og:image",content:n}),f.jsx("meta",{property:"og:url",content:i}),f.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),f.jsx("meta",{name:"twitter:creator",content:"@StudyTime"}),f.jsx("meta",{name:"twitter:title",content:s}),f.jsx("meta",{name:"twitter:description",content:e}),f.jsx("meta",{name:"twitter:image",content:n})]})}function iL(){const{user:t}=_i(),[e,r]=L.useState(!1),[n,i]=L.useState("Monday"),[s,a]=L.useState([]),[o,l]=L.useState({}),[u,c]=L.useState(!0),[m,g]=L.useState(null),[h,S]=L.useState(!1),w=["Monday","Tuesday","Wednesday","Thursday","Friday"];L.useEffect(()=>{const x=new Date().toLocaleDateString("en-US",{weekday:"long"});w.includes(x)&&i(x)},[]);const b=async()=>{if(t){c(!0);try{const{data:x}=await rt.from("timetable_entries").select("*").eq("user_id",t.id).eq("day",n),{data:j}=await rt.from("smart_timetable_entries").select("*").eq("user_id",t.id).eq("day",n),{data:D}=await rt.from("attendance_logs").select("subject_code, status").eq("user_id",t.id),G={};if(D){const F={};D.forEach(O=>{F[O.subject_code]||(F[O.subject_code]={present:0,total:0}),F[O.subject_code].total++,O.status==="present"&&F[O.subject_code].present++}),Object.keys(F).forEach(O=>{const{present:V,total:C}=F[O];G[O]=C>0?Math.round(V/C*100):0})}l(G);const W=[...x||[],...j||[]];W.sort((F,O)=>F.start_time.localeCompare(O.start_time)),a(W)}catch(x){console.error("Error fetching entries:",x)}finally{c(!1)}}};L.useEffect(()=>{b()},[t,n]);const v=x=>{g(x),S(!0)},N=x=>{const[j,D]=x.split(":"),G=parseInt(j),W=G>=12?"PM":"AM";return`${G%12||12}:${D} ${W}`};return f.jsxs("div",{className:"min-h-screen pb-24 relative overflow-hidden",children:[f.jsx($o,{title:"Schedule",description:"Manage your class timetable and track attendance."}),f.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-[#2e1065] via-[#4c1d95] to-[#1e1b4b] z-0"}),f.jsx("div",{className:"fixed top-[-10%] right-[-10%] w-[300px] h-[300px] bg-purple-500/30 rounded-full blur-[100px] pointer-events-none z-0"}),f.jsx("div",{className:"fixed bottom-[10%] left-[-10%] w-[250px] h-[250px] bg-indigo-500/30 rounded-full blur-[100px] pointer-events-none z-0"}),f.jsxs("div",{className:"p-6 relative z-10 space-y-8",children:[f.jsxs("div",{className:"mt-4",children:[f.jsx("h1",{className:"text-4xl font-bold text-white tracking-tight",children:"Schedule"}),f.jsx("p",{className:"text-purple-200/80 text-lg font-medium",children:"Manage your classes"})]}),f.jsx("div",{className:"flex overflow-x-auto pb-2 gap-4 no-scrollbar snap-x",children:w.map(x=>f.jsx("button",{onClick:()=>i(x),className:st("flex flex-col items-center justify-center min-w-[60px] py-2 rounded-2xl transition-all snap-center",n===x?"bg-primary-600 text-white shadow-[0_0_20px_rgba(124,58,237,0.5)] scale-110":"text-purple-200/60 hover:text-white"),children:f.jsx("span",{className:"text-sm font-bold capitalize tracking-wide",children:x.slice(0,3)})},x))}),f.jsx("div",{className:"space-y-5",children:u?f.jsxs("div",{className:"text-center py-20",children:[f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),f.jsx("p",{className:"text-purple-200",children:"Loading schedule..."})]}):s.length===0?f.jsxs("div",{className:"text-center py-20 flex flex-col items-center justify-center",children:[f.jsx("div",{className:"w-20 h-20 bg-white/10 backdrop-blur-md rounded-full flex items-center justify-center mb-6 border border-white/20",children:f.jsx(Jc,{className:"h-10 w-10 text-purple-200"})}),f.jsx("h3",{className:"text-lg font-semibold text-white",children:"No classes today"}),f.jsx("p",{className:"text-purple-200/60 mb-6",children:"Enjoy your free time!"}),f.jsx("button",{onClick:()=>r(!0),className:"text-white font-bold hover:underline bg-white/10 px-6 py-2 rounded-full backdrop-blur-sm",children:"Add a class"})]}):s.map((x,j)=>f.jsxs("div",{className:"relative group animate-fade-in-up opacity-0",style:{animationDelay:`${j*.1}s`},children:[f.jsxs("div",{className:"bg-white/90 backdrop-blur-xl p-5 rounded-[2rem] shadow-lg border border-white/50 flex flex-col gap-4",children:[f.jsxs("div",{className:"flex flex-col gap-1 pr-8",children:[f.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[f.jsx("h3",{className:"font-bold text-slate-900 text-xl leading-tight",children:x.subject_name}),f.jsx("span",{className:st("text-[10px] px-3 py-1 rounded-full font-bold uppercase tracking-wide shadow-sm",x.type==="theory"?"bg-blue-500 text-white shadow-blue-200":"bg-pink-500 text-white shadow-pink-200"),children:x.type})]}),f.jsx("p",{className:"text-sm text-slate-500 font-medium uppercase tracking-wider",children:x.subject_code})]}),o[x.subject_code]!==void 0&&f.jsxs("div",{className:st("absolute top-5 right-16 px-2 py-1 rounded-lg text-xs font-bold flex items-center gap-1",o[x.subject_code]>=75?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:[o[x.subject_code]<75&&f.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-600 animate-pulse"}),o[x.subject_code],"%"]}),f.jsxs("div",{className:"flex items-center gap-6 text-sm text-slate-600",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx($s,{className:"h-4 w-4 text-slate-400"}),f.jsxs("span",{className:"font-semibold",children:[N(x.start_time)," - ",N(x.end_time)]})]}),x.room_number&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Mf,{className:"h-4 w-4 text-slate-400"}),f.jsx("span",{className:"font-semibold",children:x.room_number})]})]})]}),f.jsx("button",{onClick:()=>v(x),className:"absolute top-5 right-4 p-2 text-slate-400 hover:text-primary-600 hover:bg-primary-50 rounded-full transition-all",children:f.jsx(q4,{className:"h-5 w-5"})})]},x.id))})]}),f.jsx("button",{onClick:()=>r(!0),className:"fixed bottom-24 right-6 bg-white hover:bg-slate-50 text-slate-900 p-5 rounded-full shadow-[0_0_30px_rgba(255,255,255,0.3)] transition-all active:scale-95 z-50 flex items-center justify-center",children:f.jsx(Uo,{className:"h-8 w-8"})}),f.jsx(rL,{isOpen:e,onClose:()=>r(!1),onSuccess:b}),f.jsx(nL,{isOpen:h,onClose:()=>S(!1),classData:m,onSuccess:b})]})}const Yg=(t,e)=>e.some(r=>t instanceof r);let C5,T5;function sL(){return C5||(C5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aL(){return T5||(T5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xg=new WeakMap,Q0=new WeakMap,Sp=new WeakMap;function oL(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(Co(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return Sp.set(e,t),e}function lL(t){if(Xg.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Xg.set(t,e)}let Qg={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Xg.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Co(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _3(t){Qg=t(Qg)}function uL(t){return aL().includes(t)?function(...e){return t.apply(Zg(this),e),Co(this.request)}:function(...e){return Co(t.apply(Zg(this),e))}}function cL(t){return typeof t=="function"?uL(t):(t instanceof IDBTransaction&&lL(t),Yg(t,sL())?new Proxy(t,Qg):t)}function Co(t){if(t instanceof IDBRequest)return oL(t);if(Q0.has(t))return Q0.get(t);const e=cL(t);return e!==t&&(Q0.set(t,e),Sp.set(e,t)),e}const Zg=t=>Sp.get(t);function dL(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Co(a);return n&&a.addEventListener("upgradeneeded",l=>{n(Co(a.result),l.oldVersion,l.newVersion,Co(a.transaction),l)}),r&&a.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const hL=["get","getKey","getAll","getAllKeys","count"],fL=["put","add","delete","clear"],Z0=new Map;function L5(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Z0.get(e))return Z0.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=fL.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||hL.includes(r)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&l.done]))[0]};return Z0.set(e,s),s}_3(t=>({...t,get:(e,r,n)=>L5(e,r)||t.get(e,r,n),has:(e,r)=>!!L5(e,r)||t.has(e,r)}));const pL=["continue","continuePrimaryKey","advance"],P5={},e1=new WeakMap,S3=new WeakMap,mL={get(t,e){if(!pL.includes(e))return t[e];let r=P5[e];return r||(r=P5[e]=function(...n){e1.set(this,S3.get(this)[e](...n))}),r}};async function*gL(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const r=new Proxy(e,mL);for(S3.set(r,e),Sp.set(r,Zg(e));e;)yield r,e=await(e1.get(r)||e.continue()),e1.delete(r)}function O5(t,e){return e===Symbol.asyncIterator&&Yg(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&Yg(t,[IDBIndex,IDBObjectStore])}_3(t=>({...t,get(e,r,n){return O5(e,r)?gL:t.get(e,r,n)},has(e,r){return O5(e,r)||t.has(e,r)}}));const vL=4,yL="student-dashboard-db";let em;const Tn=()=>(em||(em=dL(yL,vL,{upgrade(t,e,r,n){if(t.objectStoreNames.contains("notes")){const s=n.objectStore("notes");s.indexNames.contains("by-subject")||s.createIndex("by-subject","subjectId")}else{const i=t.createObjectStore("notes",{keyPath:"id"});i.createIndex("by-date","updatedAt"),i.createIndex("by-subject","subjectId")}t.objectStoreNames.contains("countdowns")||t.createObjectStore("countdowns",{keyPath:"id"}),t.objectStoreNames.contains("tasks")||t.createObjectStore("tasks",{keyPath:"id"}),t.objectStoreNames.contains("simulator_subjects")||t.createObjectStore("simulator_subjects",{keyPath:"id"})}})),em),Tt={async getNote(t){return(await Tn()).get("notes",t)},async getAllNotes(){return(await Tn()).getAllFromIndex("notes","by-date")},async saveNote(t){return(await Tn()).put("notes",t)},async getNotesBySubject(t){return(await Tn()).getAllFromIndex("notes","by-subject",t)},async deleteNote(t){return(await Tn()).delete("notes",t)},async getAllCountdowns(){return(await Tn()).getAll("countdowns")},async saveCountdown(t){return(await Tn()).put("countdowns",t)},async deleteCountdown(t){return(await Tn()).delete("countdowns",t)},async getAllTasks(){return(await Tn()).getAll("tasks")},async saveTask(t){return(await Tn()).put("tasks",t)},async deleteTask(t){return(await Tn()).delete("tasks",t)},async getAllSimulatorSubjects(){return(await Tn()).getAll("simulator_subjects")},async saveSimulatorSubject(t){return(await Tn()).put("simulator_subjects",t)},async deleteSimulatorSubject(t){return(await Tn()).delete("simulator_subjects",t)}};function wL(){const t=Gi(),[e,r]=L.useState(null);L.useEffect(()=>{n()},[]);const n=async()=>{const s=await Tt.getAllNotes();if(s.length>0){const a=s.sort((o,l)=>l.updatedAt.getTime()-o.updatedAt.getTime())[0];r(a)}else{const a={id:"quick-note",title:"Quick Note",content:"",updatedAt:new Date};await Tt.saveNote(a),r(a)}},i=async s=>{if(e){const a={...e,title:e.title||"Quick Note",content:s,updatedAt:new Date};r(a),await Tt.saveNote(a)}};return f.jsxs("div",{className:"glass-card p-5 rounded-3xl relative group h-full flex flex-col bg-yellow-50/30 border-yellow-100/50",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsxs("h3",{className:"font-bold text-slate-700 flex items-center gap-2",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-400"}),"Quick Note"]}),f.jsx("button",{onClick:()=>t("/notes"),className:"p-1.5 rounded-full hover:bg-yellow-100 text-slate-400 hover:text-yellow-600 transition-colors",children:f.jsx(wp,{className:"h-4 w-4"})})]}),f.jsx("textarea",{value:(e==null?void 0:e.content)||"",onChange:s=>i(s.target.value),placeholder:"Jot something down...",className:"flex-1 w-full bg-transparent border-none resize-none focus:ring-0 text-slate-600 placeholder:text-slate-400 p-0 text-sm leading-relaxed"})]})}function bL(){const t=Gi(),[e,r]=L.useState(null),[n,i]=L.useState(null);L.useEffect(()=>{s();const l=setInterval(a,6e4);return()=>clearInterval(l)},[]);const s=async()=>{const l=await Tt.getAllCountdowns(),u=new Date().getTime(),c=l.filter(m=>m.targetDate.getTime()>u).sort((m,g)=>m.targetDate.getTime()-g.targetDate.getTime());c.length>0&&(r(c[0]),o(c[0].targetDate))},a=()=>{e&&o(e.targetDate)},o=l=>{const u=l.getTime()-new Date().getTime(),c=Math.floor(u/(1e3*60*60)%24),m=Math.floor(u/(1e3*60*60*24));i({days:m,hours:c})};return f.jsxs("div",{className:"glass-card p-5 rounded-3xl relative group h-full flex flex-col bg-blue-50/30 border-blue-100/50",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("h3",{className:"font-bold text-slate-700 flex items-center gap-2",children:[f.jsx($s,{className:"h-4 w-4 text-blue-500"}),"Countdown"]}),f.jsx("button",{onClick:()=>t("/countdown"),className:"p-1.5 rounded-full hover:bg-blue-100 text-slate-400 hover:text-blue-600 transition-colors",children:f.jsx(wp,{className:"h-4 w-4"})})]}),e&&n?f.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[f.jsx("p",{className:"text-sm text-slate-500 font-medium truncate mb-1",children:e.title}),f.jsxs("div",{className:"flex items-baseline gap-1",children:[f.jsx("span",{className:"text-3xl font-bold text-slate-800",children:n.days}),f.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase mr-2",children:"Days"}),f.jsx("span",{className:"text-xl font-bold text-slate-600",children:n.hours}),f.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase",children:"Hrs"})]})]}):f.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-400 text-sm",children:"No active timers"})]})}function xL(){const t=Gi(),[e,r]=L.useState([]);L.useEffect(()=>{n()},[]);const n=async()=>{const a=(await Tt.getAllTasks()).filter(o=>(o.status||(o.completed?"done":"todo"))!=="done").sort((o,l)=>l.createdAt.getTime()-o.createdAt.getTime());r(a.slice(0,3))},i=async s=>{if(e.find(o=>o.id===s)){const o=await Tt.getAllTasks().then(l=>l.find(u=>u.id===s));if(o){const l={...o,status:"done"};await Tt.saveTask(l),r(e.filter(u=>u.id!==s))}}};return f.jsxs("div",{className:"glass-card p-5 rounded-3xl relative group h-full flex flex-col bg-emerald-50/30 border-emerald-100/50",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("h3",{className:"font-bold text-slate-700 flex items-center gap-2",children:[f.jsx(nE,{className:"h-4 w-4 text-emerald-500"}),"Tasks"]}),f.jsx("button",{onClick:()=>t("/tasks"),className:"p-1.5 rounded-full hover:bg-emerald-100 text-slate-400 hover:text-emerald-600 transition-colors",children:f.jsx(wp,{className:"h-4 w-4"})})]}),f.jsx("div",{className:"flex-1 space-y-3",children:e.length>0?e.map(s=>f.jsxs("div",{className:"flex items-center gap-3 group/item",children:[f.jsx("button",{onClick:()=>i(s.id),className:"text-slate-400 hover:text-emerald-500 transition-colors",children:f.jsx(F4,{className:"h-4 w-4"})}),f.jsx("span",{className:"text-sm text-slate-600 truncate",children:s.text})]},s.id)):f.jsx("div",{className:"h-full flex items-center justify-center text-slate-400 text-sm",children:"No pending tasks"})})]})}function _L({noteId:t,subjectId:e,initialTitle:r="",initialContent:n="",onClose:i,onSave:s}){const[a,o]=L.useState(r),[l,u]=L.useState(n),{addToast:c}=ld(),m=async()=>{if(!a.trim()){c("Please enter a title","error");return}try{const h=t||crypto.randomUUID();await Tt.saveNote({id:h,subjectId:e,title:a,content:l,updatedAt:new Date}),c("Note saved successfully","success"),s(),i()}catch(h){console.error("Error saving note:",h),c("Failed to save note","error")}},g=async()=>{if(t&&window.confirm("Are you sure you want to delete this note?"))try{await Tt.deleteNote(t),c("Note deleted","info"),s(),i()}catch(h){console.error("Error deleting note:",h)}};return f.jsxs("div",{className:"flex flex-col h-full bg-slate-50 dark:bg-slate-900 rounded-xl overflow-hidden",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",children:[f.jsx("input",{type:"text",placeholder:"Note Title",value:a,onChange:h=>o(h.target.value),className:"text-lg font-bold bg-transparent border-none focus:outline-none flex-1 text-slate-800 dark:text-slate-100 placeholder:text-slate-400"}),f.jsxs("div",{className:"flex items-center gap-2",children:[t&&f.jsx("button",{onClick:g,className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Note",children:f.jsx(zo,{className:"h-5 w-5"})}),f.jsxs("button",{onClick:m,className:"p-2 text-primary-600 hover:bg-primary-50 rounded-lg transition-colors flex items-center gap-2",title:"Save Note",children:[f.jsx(bp,{className:"h-5 w-5"}),f.jsx("span",{className:"font-semibold text-sm",children:"Save"})]}),f.jsx("button",{onClick:i,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",children:f.jsx(ea,{className:"h-5 w-5"})})]})]}),f.jsx("div",{className:"flex-1 p-4 overflow-auto",children:f.jsx("textarea",{value:l,onChange:h=>u(h.target.value),placeholder:"Start typing your notes here...",className:"w-full h-full resize-none bg-transparent border-none focus:outline-none text-slate-700 dark:text-slate-300 leading-relaxed custom-scrollbar"})})]})}function R5({isOpen:t,onClose:e,subjectName:r,subjectCode:n}){const[i,s]=L.useState([]),[a,o]=L.useState(null),[l,u]=L.useState(!1),[c,m]=L.useState(!0),g=n,h=async()=>{try{m(!0);const b=await Tt.getNotesBySubject(g);s(b||[])}catch(b){console.error("Failed to load notes",b)}finally{m(!1)}};if(L.useEffect(()=>{t&&h()},[t,g]),!t)return null;const S=()=>{o(null),u(!0)},w=()=>{u(!1),o(null)};return Ta.createPortal(f.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6",children:[f.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",onClick:e}),f.jsxs("div",{className:"relative w-full max-w-4xl h-[80vh] bg-white dark:bg-slate-900 rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300 flex",children:[f.jsxs("div",{className:st("w-full sm:w-1/3 border-r border-slate-200 dark:border-slate-800 flex flex-col transition-all duration-300",l?"hidden sm:flex":"flex"),children:[f.jsx("div",{className:"p-5 border-b border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900/50",children:f.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-100 flex items-center justify-center text-primary-600",children:f.jsx(Ug,{className:"h-5 w-5"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"font-bold text-slate-800 dark:text-slate-100 truncate max-w-[150px]",children:r}),f.jsx("p",{className:"text-xs text-slate-500 font-mono",children:n})]})]})}),f.jsx("div",{className:"p-4 space-y-3",children:f.jsxs("button",{onClick:S,className:"w-full py-3 px-4 bg-primary-600 hover:bg-primary-700 text-white rounded-xl font-bold shadow-lg shadow-primary-500/20 transition-all flex items-center justify-center gap-2",children:[f.jsx(Uo,{className:"h-5 w-5"}),f.jsx("span",{children:"New Note"})]})}),f.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 custom-scrollbar bg-slate-50/30",children:c?f.jsx("div",{className:"space-y-3",children:[1,2,3].map(b=>f.jsx("div",{className:"h-20 bg-slate-100 rounded-xl animate-pulse"},b))}):i.length===0?f.jsxs("div",{className:"text-center py-10 text-slate-400",children:[f.jsx(od,{className:"h-12 w-12 mx-auto mb-3 opacity-20"}),f.jsx("p",{className:"text-sm",children:"No notes yet."}),f.jsx("p",{className:"text-xs",children:"Create one to get started!"})]}):i.map(b=>f.jsxs("div",{onClick:()=>{o(b),u(!0)},className:st("p-4 rounded-xl border transition-all cursor-pointer hover:shadow-md text-left group",(a==null?void 0:a.id)===b.id?"bg-white border-primary-500 shadow-md ring-1 ring-primary-500":"bg-white border-slate-200 hover:border-primary-300"),children:[f.jsx("h3",{className:"font-bold text-slate-800 mb-1 truncate group-hover:text-primary-600 transition-colors",children:b.title}),f.jsx("p",{className:"text-xs text-slate-500 line-clamp-2",children:b.content||"Empty note..."}),f.jsx("p",{className:"text-[10px] text-slate-400 mt-2 text-right",children:new Date(b.updatedAt).toLocaleDateString()})]},b.id))})]}),f.jsx("div",{className:st("flex-1 flex flex-col bg-slate-50 dark:bg-slate-950",l?"flex":"hidden sm:flex"),children:l?f.jsx(_L,{noteId:a==null?void 0:a.id,subjectId:g,initialTitle:a==null?void 0:a.title,initialContent:a==null?void 0:a.content,onClose:w,onSave:h}):f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-300 p-8 text-center bg-slate-50/50",children:[f.jsx("div",{className:"w-24 h-24 bg-slate-100 rounded-full flex items-center justify-center mb-6",children:f.jsx(Ug,{className:"h-10 w-10 text-slate-400"})}),f.jsx("h3",{className:"text-xl font-bold text-slate-400 mb-2",children:"Select a note to view"}),f.jsxs("p",{className:"max-w-xs mx-auto text-sm",children:["Or create a new one to start building your knowledge base for ",r,"."]})]})}),f.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-white/50 hover:bg-white rounded-full text-slate-500 hover:text-red-500 transition-all z-10",children:f.jsx(ea,{className:"h-5 w-5"})})]})]}),document.body)}const tm=[{text:"The capacity to learn is a gift; the ability to learn is a skill; the willingness to learn is a choice.",author:"Brian Herbert"},{text:"Education is the most powerful weapon which you can use to change the world.",author:"Nelson Mandela"},{text:"Live as if you were to die tomorrow. Learn as if you were to live forever.",author:"Mahatma Gandhi"},{text:"The beautiful thing about learning is that no one can take it away from you.",author:"B.B. King"},{text:"Education is not the filling of a pail, but the lighting of a fire.",author:"W.B. Yeats"},{text:"Develop a passion for learning. If you do, you will never cease to grow.",author:"Anthony J. D'Angelo"},{text:"The roots of education are bitter, but the fruit is sweet.",author:"Aristotle"}];function SL(){const{user:t}=_i(),[e,r]=L.useState(null),[n,i]=L.useState(null),[s,a]=L.useState("Student"),[o,l]=L.useState(0),[u,c]=L.useState(new Date),[m,g]=L.useState(tm[0]),[h,S]=L.useState(75),[w,b]=L.useState(0),[v,N]=L.useState(0),[x,j]=L.useState(null),[D,G]=L.useState(!1),[W,F]=L.useState(null),O=(V,C)=>{F({name:V,code:C}),G(!0)};return L.useEffect(()=>{const V=setInterval(()=>{c(new Date)},1e3),C=new Date().getDate();return g(tm[C%tm.length]),()=>clearInterval(V)},[]),L.useEffect(()=>{if(!t)return;const V=async()=>{const{data:I}=await rt.from("profiles").select("full_name, attendance_goal, cgpa, credits, avatar_url").eq("id",t.id).single();I&&(I.full_name&&a(I.full_name.split(" ")[0]),I.attendance_goal&&S(I.attendance_goal),I.cgpa&&b(I.cgpa),I.credits&&N(I.credits),I.avatar_url&&j(I.avatar_url));const Y=new Date().toLocaleDateString("en-US",{weekday:"long"}),X=["Saturday","Sunday"].includes(Y)?"Monday":Y,{data:ue}=await rt.from("timetable_entries").select("*").eq("user_id",t.id).eq("day",X),{data:de}=await rt.from("smart_timetable_entries").select("*").eq("user_id",t.id).eq("day",X),ce=[...ue||[],...de||[]];ce.sort((z,J)=>z.start_time.localeCompare(J.start_time));const K=new Date,re=K.getHours().toString().padStart(2,"0")+":"+K.getMinutes().toString().padStart(2,"0"),me=ce.find(z=>z.start_time<=re&&z.end_time>re),he=ce.find(z=>z.start_time>re);i(me||null),r(he||ce[0]);const{data:T}=await rt.from("attendance_logs").select("status").eq("user_id",t.id);if(T&&T.length>0){const z=T.filter(Q=>Q.status==="present").length,J=T.length;l(Math.round(z/J*100))}};V();const C=setInterval(V,6e4);return()=>clearInterval(C)},[t]),f.jsxs("div",{className:"p-6 space-y-8 pb-24 staggered-fade-in",children:[f.jsx($o,{title:"Dashboard",description:"View your daily schedule, attendance stats, and upcoming classes."}),f.jsxs("div",{className:"mt-4 flex justify-between items-end",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[x&&f.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-2 border-white shadow-md",children:f.jsx("img",{src:x,alt:"Profile",className:"w-full h-full object-cover"})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl font-bold text-slate-800",children:["Hello, ",f.jsx("span",{className:"text-primary-600",children:s})]}),f.jsx("p",{className:"text-slate-500 mt-1",children:"Ready to learn?"})]})]}),f.jsxs("div",{className:"text-right hidden sm:block",children:[f.jsx("div",{className:"text-2xl font-bold text-slate-700 font-mono",children:u.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})}),f.jsx("div",{className:"text-xs text-slate-400 font-medium",children:u.toLocaleDateString([],{weekday:"long",month:"short",day:"numeric"})})]})]}),f.jsxs("div",{className:"sm:hidden flex justify-between items-center bg-white/50 p-3 rounded-xl border border-white/50 shadow-sm",children:[f.jsx("div",{className:"text-xs text-slate-500 font-medium",children:u.toLocaleDateString([],{weekday:"long",month:"short",day:"numeric"})}),f.jsx("div",{className:"text-xl font-bold text-slate-700 font-mono",children:u.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})})]}),f.jsxs("div",{className:st("glass-card rounded-3xl p-6 relative overflow-hidden group transition-all duration-500",n?"border-primary-500/30 shadow-primary-200":""),children:[f.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary-500/10 rounded-full -mr-10 -mt-10 transition-transform group-hover:scale-150 duration-700"}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n?f.jsxs("span",{className:"bg-red-100 text-red-600 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wider flex items-center gap-1.5 animate-pulse",children:[f.jsx(cE,{className:"h-3 w-3"}),"Live Now"]}):f.jsx("span",{className:"bg-primary-100 text-primary-700 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wider",children:"Up Next"}),f.jsxs("div",{className:"flex gap-2",children:[(n||e)&&f.jsx("button",{onClick:()=>O((n||e).subject_name,(n||e).subject_code),className:"bg-white/50 hover:bg-white text-primary-600 p-2 rounded-full transition-colors",title:"Open Notes",children:f.jsx(Ug,{className:"h-4 w-4"})}),f.jsx($s,{className:st("h-5 w-5",n?"text-red-400":"text-primary-400")})]})]}),n?f.jsxs(f.Fragment,{children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-1",children:n.subject_name}),f.jsx("p",{className:"text-slate-500 font-medium mb-6",children:n.subject_code}),f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[f.jsx($s,{className:"h-4 w-4"}),f.jsxs("span",{className:"text-sm font-semibold",children:["Ends at ",n.end_time.slice(0,5)]})]}),n.room_number&&f.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[f.jsx(Mf,{className:"h-4 w-4"}),f.jsx("span",{className:"text-sm font-semibold",children:n.room_number})]})]})]}):e?f.jsxs(f.Fragment,{children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-1",children:e.subject_name}),f.jsx("p",{className:"text-slate-500 font-medium mb-6",children:e.subject_code}),f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[f.jsx($s,{className:"h-4 w-4"}),f.jsxs("span",{className:"text-sm font-semibold",children:[e.start_time.slice(0,5)," - ",e.end_time.slice(0,5)]})]}),e.room_number&&f.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[f.jsx(Mf,{className:"h-4 w-4"}),f.jsx("span",{className:"text-sm font-semibold",children:e.room_number})]})]})]}):f.jsx("div",{className:"py-8 text-center text-slate-400",children:f.jsx("p",{children:"No classes scheduled for today!"})})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"glass-card rounded-2xl p-4 flex flex-col items-center justify-center text-center",children:[f.jsx("div",{className:st("w-12 h-12 rounded-2xl flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",o<h?"bg-red-100 text-red-600":"bg-primary-100 text-primary-600"),children:f.jsx($s,{className:"h-6 w-6"})}),f.jsxs("div",{className:st("text-2xl font-bold mb-1",o<h?"text-red-600":"text-slate-800"),children:[o,"%"]}),f.jsx("div",{className:"text-xs text-slate-500 font-medium",children:"Attendance"})]}),f.jsxs("div",{className:"glass-card p-5 rounded-3xl flex flex-col items-center justify-center text-center hover:bg-white/60 transition-colors cursor-pointer group shadow-sm hover:shadow-md",children:[f.jsx("div",{className:"w-12 h-12 rounded-2xl bg-pink-100 flex items-center justify-center text-pink-600 mb-3 group-hover:scale-110 transition-transform",children:f.jsx(D4,{className:"h-6 w-6"})}),f.jsx("div",{className:"text-2xl font-bold text-slate-800 mb-1",children:w>0?w:"-"}),f.jsx("div",{className:"text-xs text-slate-500 font-medium",children:"CGPA"})]}),f.jsxs("div",{className:"glass-card p-5 rounded-3xl flex flex-col items-center justify-center text-center hover:bg-white/60 transition-colors cursor-pointer group shadow-sm hover:shadow-md",children:[f.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-100 flex items-center justify-center text-blue-600 mb-3 group-hover:scale-110 transition-transform",children:f.jsx(z4,{className:"h-6 w-6"})}),f.jsx("div",{className:"text-2xl font-bold text-slate-800 mb-1",children:v>0?v:"-"}),f.jsx("div",{className:"text-xs text-slate-500 font-medium",children:"Credits"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsx(wL,{}),f.jsx(bL,{}),f.jsx(xL,{})]}),f.jsxs("div",{className:"glass-card p-6 rounded-3xl relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary-100 rounded-full blur-3xl -mr-16 -mt-16 opacity-50"}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx(uE,{className:"h-5 w-5 text-primary-500"}),f.jsx("h3",{className:"font-bold text-slate-700",children:"Quote of the Day"})]}),f.jsxs("p",{className:"text-slate-600 italic mb-2",children:['"',m.text,'"']}),f.jsxs("p",{className:"text-sm text-primary-600 font-medium",children:["- ",m.author]})]})]}),f.jsx("div",{className:"flex justify-center",children:f.jsxs("button",{onClick:()=>window.location.href="/developer",className:"glass-card px-6 py-2 rounded-full flex items-center gap-2 text-slate-500 font-medium text-sm hover:bg-white/60 transition-all group hover:scale-105",children:[f.jsx("span",{children:"Made by Developer"}),f.jsx("div",{className:"w-5 h-5 rounded-full bg-slate-200 flex items-center justify-center group-hover:bg-primary-100 group-hover:text-primary-600 transition-colors",children:f.jsx("span",{className:"text-[10px]",children:"Dev"})})]})}),R5&&W&&f.jsx(R5,{isOpen:D,onClose:()=>G(!1),subjectName:W.name,subjectCode:W.code})]})}function NL({isOpen:t,onClose:e,currentProfile:r,onSuccess:n}){const{user:i}=_i(),[s,a]=L.useState(!1),[o,l]=L.useState({full_name:"",university:"",branch:"",semester:"",cgpa:"",credits:""});L.useEffect(()=>{var c,m;r&&l({full_name:r.full_name||"",university:r.university||"",branch:r.branch||"",semester:r.semester||"",cgpa:((c=r.cgpa)==null?void 0:c.toString())||"",credits:((m=r.credits)==null?void 0:m.toString())||""})},[r]);const u=async c=>{if(c.preventDefault(),!!i){a(!0);try{const{error:m}=await rt.from("profiles").upsert({id:i.id,full_name:o.full_name,university:o.university,branch:o.branch,semester:o.semester,cgpa:parseFloat(o.cgpa)||0,credits:parseFloat(o.credits)||0,updated_at:new Date().toISOString()});if(m)throw m;n(),e()}catch(m){console.error("Error updating profile:",m)}finally{a(!1)}}};return t?f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-md overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200",children:[f.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[f.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Edit Profile"}),f.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:f.jsx(ea,{className:"h-5 w-5 text-slate-500"})})]}),f.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Full Name"}),f.jsx("input",{type:"text",value:o.full_name,onChange:c=>l({...o,full_name:c.target.value}),className:"w-full p-3 rounded-xl bg-slate-50 border border-slate-200 focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all",placeholder:"John Doe"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-slate-700",children:"University"}),f.jsx("input",{type:"text",value:o.university,onChange:c=>l({...o,university:c.target.value}),className:"w-full p-3 rounded-xl bg-slate-50 border border-slate-200 focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all",placeholder:"VIT"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Branch"}),f.jsx("input",{type:"text",value:o.branch,onChange:c=>l({...o,branch:c.target.value}),className:"w-full p-3 rounded-xl bg-slate-50 border border-slate-200 focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all",placeholder:"CSE"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Semester"}),f.jsx("input",{type:"text",value:o.semester,onChange:c=>l({...o,semester:c.target.value}),className:"w-full p-3 rounded-xl bg-slate-50 border border-slate-200 focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all",placeholder:"Fall 2024-25"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CGPA"}),f.jsx("input",{type:"number",step:"0.01",min:"0",max:"10",value:o.cgpa,onChange:c=>l({...o,cgpa:c.target.value}),className:"w-full p-3 rounded-xl bg-slate-50 border border-slate-200 focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all",placeholder:"9.5"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Credits"}),f.jsx("input",{type:"number",step:"0.5",min:"0",value:o.credits,onChange:c=>l({...o,credits:c.target.value}),className:"w-full p-3 rounded-xl bg-slate-50 border border-slate-200 focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all",placeholder:"24.5"})]})]}),f.jsxs("button",{type:"submit",disabled:s,className:"w-full py-3 px-4 bg-primary-600 text-white rounded-xl font-bold hover:bg-primary-700 active:scale-95 transition-all flex items-center justify-center gap-2 shadow-lg shadow-primary-500/30",children:[s?f.jsx(Hs,{className:"h-5 w-5 animate-spin"}):f.jsx(bp,{className:"h-5 w-5"}),"Save Changes"]})]})]})}):null}const kL="modulepreload",jL=function(t){return"/"+t},I5={},rm=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=jL(l),l in I5)return;I5[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":kL,u||(m.as="script"),m.crossOrigin="",m.href=l,o&&m.setAttribute("nonce",o),document.head.appendChild(m),u)return new Promise((g,h)=>{m.addEventListener("load",g),m.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function zt(t){"@babel/helpers - typeof";return zt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zt(t)}var qi=Uint8Array,Qn=Uint16Array,Ov=Int32Array,Rv=new qi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Iv=new qi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),D5=new qi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),N3=function(t,e){for(var r=new Qn(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new Ov(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},k3=N3(Rv,2),AL=k3.b,t1=k3.r;AL[28]=258,t1[258]=28;var EL=N3(Iv,0),M5=EL.r,r1=new Qn(32768);for(var ir=0;ir<32768;++ir){var ba=(ir&43690)>>1|(ir&21845)<<1;ba=(ba&52428)>>2|(ba&13107)<<2,ba=(ba&61680)>>4|(ba&3855)<<4,r1[ir]=((ba&65280)>>8|(ba&255)<<8)>>1}var _c=function(t,e,r){for(var n=t.length,i=0,s=new Qn(e);i<n;++i)t[i]&&++s[t[i]-1];var a=new Qn(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(r){o=new Qn(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],m=a[t[i]-1]++<<c,g=m|(1<<c)-1;m<=g;++m)o[r1[m]>>l]=u}else for(o=new Qn(n),i=0;i<n;++i)t[i]&&(o[i]=r1[a[t[i]-1]++]>>15-t[i]);return o},Do=new qi(288);for(var ir=0;ir<144;++ir)Do[ir]=8;for(var ir=144;ir<256;++ir)Do[ir]=9;for(var ir=256;ir<280;++ir)Do[ir]=7;for(var ir=280;ir<288;++ir)Do[ir]=8;var Uf=new qi(32);for(var ir=0;ir<32;++ir)Uf[ir]=5;var CL=_c(Do,9,0),TL=_c(Uf,5,0),j3=function(t){return(t+7)/8|0},LL=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new qi(t.subarray(e,r))},Os=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},nc=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},nm=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:E3,l:0};if(i==1){var a=new qi(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(D,G){return D.f-G.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],u=0,c=1,m=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};c!=i-1;)o=r[r[u].f<r[m].f?u++:m++],l=r[u!=c&&r[u].f<r[m].f?u++:m++],r[c++]={s:-1,f:o.f+l.f,l:o,r:l};for(var g=s[0].s,n=1;n<i;++n)s[n].s>g&&(g=s[n].s);var h=new Qn(g+1),S=n1(r[c-1],h,0);if(S>e){var n=0,w=0,b=S-e,v=1<<b;for(s.sort(function(G,W){return h[W.s]-h[G.s]||G.f-W.f});n<i;++n){var N=s[n].s;if(h[N]>e)w+=v-(1<<S-h[N]),h[N]=e;else break}for(w>>=b;w>0;){var x=s[n].s;h[x]<e?w-=1<<e-h[x]++-1:++n}for(;n>=0&&w;--n){var j=s[n].s;h[j]==e&&(--h[j],++w)}S=e}return{t:new qi(h),l:S}},n1=function(t,e,r){return t.s==-1?Math.max(n1(t.l,e,r+1),n1(t.r,e,r+1)):e[t.s]=r},F5=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Qn(++e),n=0,i=t[0],s=1,a=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:r.subarray(0,n),n:e}},ic=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},A3=function(t,e,r){var n=r.length,i=j3(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},B5=function(t,e,r,n,i,s,a,o,l,u,c){Os(e,c++,r),++i[256];for(var m=nm(i,15),g=m.t,h=m.l,S=nm(s,15),w=S.t,b=S.l,v=F5(g),N=v.c,x=v.n,j=F5(w),D=j.c,G=j.n,W=new Qn(19),F=0;F<N.length;++F)++W[N[F]&31];for(var F=0;F<D.length;++F)++W[D[F]&31];for(var O=nm(W,7),V=O.t,C=O.l,I=19;I>4&&!V[D5[I-1]];--I);var Y=u+5<<3,X=ic(i,Do)+ic(s,Uf)+a,ue=ic(i,g)+ic(s,w)+a+14+3*I+ic(W,V)+2*W[16]+3*W[17]+7*W[18];if(l>=0&&Y<=X&&Y<=ue)return A3(e,c,t.subarray(l,l+u));var de,ce,K,re;if(Os(e,c,1+(ue<X)),c+=2,ue<X){de=_c(g,h,0),ce=g,K=_c(w,b,0),re=w;var me=_c(V,C,0);Os(e,c,x-257),Os(e,c+5,G-1),Os(e,c+10,I-4),c+=14;for(var F=0;F<I;++F)Os(e,c+3*F,V[D5[F]]);c+=3*I;for(var he=[N,D],T=0;T<2;++T)for(var z=he[T],F=0;F<z.length;++F){var J=z[F]&31;Os(e,c,me[J]),c+=V[J],J>15&&(Os(e,c,z[F]>>5&127),c+=z[F]>>12)}}else de=CL,ce=Do,K=TL,re=Uf;for(var F=0;F<o;++F){var Q=n[F];if(Q>255){var J=Q>>18&31;nc(e,c,de[J+257]),c+=ce[J+257],J>7&&(Os(e,c,Q>>23&31),c+=Rv[J]);var ee=Q&31;nc(e,c,K[ee]),c+=re[ee],ee>3&&(nc(e,c,Q>>5&8191),c+=Iv[ee])}else nc(e,c,de[Q]),c+=ce[Q]}return nc(e,c,de[256]),c+ce[256]},PL=new Ov([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),E3=new qi(0),OL=function(t,e,r,n,i,s){var a=s.z||t.length,o=new qi(n+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(n,o.length-i),u=s.l,c=(s.r||0)&7;if(e){c&&(l[0]=s.r>>3);for(var m=PL[e-1],g=m>>13,h=m&8191,S=(1<<r)-1,w=s.p||new Qn(32768),b=s.h||new Qn(S+1),v=Math.ceil(r/3),N=2*v,x=function(Re){return(t[Re]^t[Re+1]<<v^t[Re+2]<<N)&S},j=new Ov(25e3),D=new Qn(288),G=new Qn(32),W=0,F=0,O=s.i||0,V=0,C=s.w||0,I=0;O+2<a;++O){var Y=x(O),X=O&32767,ue=b[Y];if(w[X]=ue,b[Y]=X,C<=O){var de=a-O;if((W>7e3||V>24576)&&(de>423||!u)){c=B5(t,l,0,j,D,G,F,V,I,O-I,c),V=W=F=0,I=O;for(var ce=0;ce<286;++ce)D[ce]=0;for(var ce=0;ce<30;++ce)G[ce]=0}var K=2,re=0,me=h,he=X-ue&32767;if(de>2&&Y==x(O-he))for(var T=Math.min(g,de)-1,z=Math.min(32767,O),J=Math.min(258,de);he<=z&&--me&&X!=ue;){if(t[O+K]==t[O+K-he]){for(var Q=0;Q<J&&t[O+Q]==t[O+Q-he];++Q);if(Q>K){if(K=Q,re=he,Q>T)break;for(var ee=Math.min(he,Q-2),se=0,ce=0;ce<ee;++ce){var pe=O-he+ce&32767,ge=w[pe],fe=pe-ge&32767;fe>se&&(se=fe,ue=pe)}}}X=ue,ue=w[X],he+=X-ue&32767}if(re){j[V++]=268435456|t1[K]<<18|M5[re];var Ne=t1[K]&31,Ae=M5[re]&31;F+=Rv[Ne]+Iv[Ae],++D[257+Ne],++G[Ae],C=O+K,++W}else j[V++]=t[O],++D[t[O]]}}for(O=Math.max(O,C);O<a;++O)j[V++]=t[O],++D[t[O]];c=B5(t,l,u,j,D,G,F,V,I,O-I,c),u||(s.r=c&7|l[c/8|0]<<3,c-=7,s.h=b,s.p=w,s.i=O,s.w=C)}else{for(var O=s.w||0;O<a+u;O+=65535){var Ce=O+65535;Ce>=a&&(l[c/8|0]=u,Ce=a),c=A3(l,c+1,t.subarray(O,Ce))}s.i=a}return LL(o,0,n+j3(c)+i)},C3=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=r[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},RL=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new qi(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return OL(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},T3=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},IL=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=C3();i.p(e.dictionary),T3(t,2,i.d())}};function i1(t,e){e||(e={});var r=C3();r.p(t);var n=RL(t,e,e.dictionary?6:2,4);return IL(n,e),T3(n,n.length-4,r.d()),n}var DL=typeof TextDecoder<"u"&&new TextDecoder,ML=0;try{DL.decode(E3,{stream:!0}),ML=1}catch{}function FL(t){if(Array.isArray(t))return t}function BL(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function U5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function UL(t,e){if(t){if(typeof t=="string")return U5(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?U5(t,e):void 0}}function zL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z5(t,e){return FL(t)||BL(t,e)||UL(t,e)||zL()}function $5(t,e="utf8"){return new TextDecoder(e).decode(t)}const $L=new TextEncoder;function qL(t){return $L.encode(t)}const WL=1024*8,HL=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),im={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Dv{constructor(e=WL,r={}){Nt(this,"buffer");Nt(this,"byteLength");Nt(this,"byteOffset");Nt(this,"length");Nt(this,"offset");Nt(this,"lastWrittenByte");Nt(this,"littleEndian");Nt(this,"_data");Nt(this,"_mark");Nt(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof Dv)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=im[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===HL&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new im[r](o.buffer);return this.offset+=n,l.reverse(),l}const a=new im[r](s);return this.offset+=n,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return $5(this.readBytes(e))}decodeText(e=1,r="utf8"){return $5(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(qL(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function hu(t){let e=t.length;for(;--e>=0;)t[e]=0}const VL=3,GL=258,L3=29,KL=256,JL=KL+1+L3,P3=30,YL=512,XL=new Array((JL+2)*2);hu(XL);const QL=new Array(P3*2);hu(QL);const ZL=new Array(YL);hu(ZL);const eP=new Array(GL-VL+1);hu(eP);const tP=new Array(L3);hu(tP);const rP=new Array(P3);hu(rP);const nP=(t,e,r,n)=>{let i=t&65535|0,s=t>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do i=i+e[n++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var s1=nP;const iP=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},sP=new Uint32Array(iP()),aP=(t,e,r,n)=>{const i=sP,s=n+r;t^=-1;for(let a=n;a<s;a++)t=t>>>8^i[(t^e[a])&255];return t^-1};var ss=aP,a1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},O3={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const oP=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var lP=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)oP(r,n)&&(t[n]=r[n])}}return t},uP=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,s=t.length;n<s;n++){let a=t[n];r.set(a,i),i+=a.length}return r},R3={assign:lP,flattenChunks:uP};let I3=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{I3=!1}const Xc=new Uint8Array(256);for(let t=0;t<256;t++)Xc[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Xc[254]=Xc[254]=1;var cP=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,s,a=t.length,o=0;for(i=0;i<a;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e};const dP=(t,e)=>{if(e<65534&&t.subarray&&I3)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var hP=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let a=t[n++];if(a<128){s[i++]=a;continue}let o=Xc[a];if(o>4){s[i++]=65533,n+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&n<r;)a=a<<6|t[n++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return dP(s,i)},fP=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Xc[t[r]]>e?r:e},o1={string2buf:cP,buf2string:hP,utf8border:fP};function pP(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var mP=pP;const Ah=16209,gP=16191;var vP=function(e,r){let n,i,s,a,o,l,u,c,m,g,h,S,w,b,v,N,x,j,D,G,W,F,O,V;const C=e.state;n=e.next_in,O=e.input,i=n+(e.avail_in-5),s=e.next_out,V=e.output,a=s-(r-e.avail_out),o=s+(e.avail_out-257),l=C.dmax,u=C.wsize,c=C.whave,m=C.wnext,g=C.window,h=C.hold,S=C.bits,w=C.lencode,b=C.distcode,v=(1<<C.lenbits)-1,N=(1<<C.distbits)-1;e:do{S<15&&(h+=O[n++]<<S,S+=8,h+=O[n++]<<S,S+=8),x=w[h&v];t:for(;;){if(j=x>>>24,h>>>=j,S-=j,j=x>>>16&255,j===0)V[s++]=x&65535;else if(j&16){D=x&65535,j&=15,j&&(S<j&&(h+=O[n++]<<S,S+=8),D+=h&(1<<j)-1,h>>>=j,S-=j),S<15&&(h+=O[n++]<<S,S+=8,h+=O[n++]<<S,S+=8),x=b[h&N];r:for(;;){if(j=x>>>24,h>>>=j,S-=j,j=x>>>16&255,j&16){if(G=x&65535,j&=15,S<j&&(h+=O[n++]<<S,S+=8,S<j&&(h+=O[n++]<<S,S+=8)),G+=h&(1<<j)-1,G>l){e.msg="invalid distance too far back",C.mode=Ah;break e}if(h>>>=j,S-=j,j=s-a,G>j){if(j=G-j,j>c&&C.sane){e.msg="invalid distance too far back",C.mode=Ah;break e}if(W=0,F=g,m===0){if(W+=u-j,j<D){D-=j;do V[s++]=g[W++];while(--j);W=s-G,F=V}}else if(m<j){if(W+=u+m-j,j-=m,j<D){D-=j;do V[s++]=g[W++];while(--j);if(W=0,m<D){j=m,D-=j;do V[s++]=g[W++];while(--j);W=s-G,F=V}}}else if(W+=m-j,j<D){D-=j;do V[s++]=g[W++];while(--j);W=s-G,F=V}for(;D>2;)V[s++]=F[W++],V[s++]=F[W++],V[s++]=F[W++],D-=3;D&&(V[s++]=F[W++],D>1&&(V[s++]=F[W++]))}else{W=s-G;do V[s++]=V[W++],V[s++]=V[W++],V[s++]=V[W++],D-=3;while(D>2);D&&(V[s++]=V[W++],D>1&&(V[s++]=V[W++]))}}else if(j&64){e.msg="invalid distance code",C.mode=Ah;break e}else{x=b[(x&65535)+(h&(1<<j)-1)];continue r}break}}else if(j&64)if(j&32){C.mode=gP;break e}else{e.msg="invalid literal/length code",C.mode=Ah;break e}else{x=w[(x&65535)+(h&(1<<j)-1)];continue t}break}}while(n<i&&s<o);D=S>>3,n-=D,S-=D<<3,h&=(1<<S)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<o?257+(o-s):257-(s-o),C.hold=h,C.bits=S};const hl=15,q5=852,W5=592,H5=0,sm=1,V5=2,yP=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),wP=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),bP=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),xP=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),_P=(t,e,r,n,i,s,a,o)=>{const l=o.bits;let u=0,c=0,m=0,g=0,h=0,S=0,w=0,b=0,v=0,N=0,x,j,D,G,W,F=null,O;const V=new Uint16Array(hl+1),C=new Uint16Array(hl+1);let I=null,Y,X,ue;for(u=0;u<=hl;u++)V[u]=0;for(c=0;c<n;c++)V[e[r+c]]++;for(h=l,g=hl;g>=1&&V[g]===0;g--);if(h>g&&(h=g),g===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(m=1;m<g&&V[m]===0;m++);for(h<m&&(h=m),b=1,u=1;u<=hl;u++)if(b<<=1,b-=V[u],b<0)return-1;if(b>0&&(t===H5||g!==1))return-1;for(C[1]=0,u=1;u<hl;u++)C[u+1]=C[u]+V[u];for(c=0;c<n;c++)e[r+c]!==0&&(a[C[e[r+c]]++]=c);if(t===H5?(F=I=a,O=20):t===sm?(F=yP,I=wP,O=257):(F=bP,I=xP,O=0),N=0,c=0,u=m,W=s,S=h,w=0,D=-1,v=1<<h,G=v-1,t===sm&&v>q5||t===V5&&v>W5)return 1;for(;;){Y=u-w,a[c]+1<O?(X=0,ue=a[c]):a[c]>=O?(X=I[a[c]-O],ue=F[a[c]-O]):(X=96,ue=0),x=1<<u-w,j=1<<S,m=j;do j-=x,i[W+(N>>w)+j]=Y<<24|X<<16|ue|0;while(j!==0);for(x=1<<u-1;N&x;)x>>=1;if(x!==0?(N&=x-1,N+=x):N=0,c++,--V[u]===0){if(u===g)break;u=e[r+a[c]]}if(u>h&&(N&G)!==D){for(w===0&&(w=h),W+=m,S=u-w,b=1<<S;S+w<g&&(b-=V[S+w],!(b<=0));)S++,b<<=1;if(v+=1<<S,t===sm&&v>q5||t===V5&&v>W5)return 1;D=N&G,i[D]=h<<24|S<<16|W-s|0}}return N!==0&&(i[W+N]=u-w<<24|64<<16|0),o.bits=h,0};var Sc=_P;const SP=0,D3=1,M3=2,{Z_FINISH:G5,Z_BLOCK:NP,Z_TREES:Eh,Z_OK:Mo,Z_STREAM_END:kP,Z_NEED_DICT:jP,Z_STREAM_ERROR:xi,Z_DATA_ERROR:F3,Z_MEM_ERROR:B3,Z_BUF_ERROR:AP,Z_DEFLATED:K5}=O3,Np=16180,J5=16181,Y5=16182,X5=16183,Q5=16184,Z5=16185,ew=16186,tw=16187,rw=16188,nw=16189,zf=16190,Rs=16191,am=16192,iw=16193,om=16194,sw=16195,aw=16196,ow=16197,lw=16198,Ch=16199,Th=16200,uw=16201,cw=16202,dw=16203,hw=16204,fw=16205,lm=16206,pw=16207,mw=16208,lr=16209,U3=16210,z3=16211,EP=852,CP=592,TP=15,LP=TP,gw=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function PP(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const qo=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Np||e.mode>z3?1:0},$3=t=>{if(qo(t))return xi;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Np,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(EP),e.distcode=e.distdyn=new Int32Array(CP),e.sane=1,e.back=-1,Mo},q3=t=>{if(qo(t))return xi;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,$3(t)},W3=(t,e)=>{let r;if(qo(t))return xi;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?xi:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,q3(t))},H3=(t,e)=>{if(!t)return xi;const r=new PP;t.state=r,r.strm=t,r.window=null,r.mode=Np;const n=W3(t,e);return n!==Mo&&(t.state=null),n},OP=t=>H3(t,LP);let vw=!0,um,cm;const RP=t=>{if(vw){um=new Int32Array(512),cm=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Sc(D3,t.lens,0,288,um,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Sc(M3,t.lens,0,32,cm,0,t.work,{bits:5}),vw=!1}t.lencode=um,t.lenbits=9,t.distcode=cm,t.distbits=5},V3=(t,e,r,n)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},IP=(t,e)=>{let r,n,i,s,a,o,l,u,c,m,g,h,S,w,b=0,v,N,x,j,D,G,W,F;const O=new Uint8Array(4);let V,C;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(qo(t)||!t.output||!t.input&&t.avail_in!==0)return xi;r=t.state,r.mode===Rs&&(r.mode=am),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,u=r.hold,c=r.bits,m=o,g=l,F=Mo;e:for(;;)switch(r.mode){case Np:if(r.wrap===0){r.mode=am;break}for(;c<16;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,O[0]=u&255,O[1]=u>>>8&255,r.check=ss(r.check,O,2,0),u=0,c=0,r.mode=J5;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=lr;break}if((u&15)!==K5){t.msg="unknown compression method",r.mode=lr;break}if(u>>>=4,c-=4,W=(u&15)+8,r.wbits===0&&(r.wbits=W),W>15||W>r.wbits){t.msg="invalid window size",r.mode=lr;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=u&512?nw:Rs,u=0,c=0;break;case J5:for(;c<16;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}if(r.flags=u,(r.flags&255)!==K5){t.msg="unknown compression method",r.mode=lr;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=lr;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,r.check=ss(r.check,O,2,0)),u=0,c=0,r.mode=Y5;case Y5:for(;c<32;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,O[2]=u>>>16&255,O[3]=u>>>24&255,r.check=ss(r.check,O,4,0)),u=0,c=0,r.mode=X5;case X5:for(;c<16;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,r.check=ss(r.check,O,2,0)),u=0,c=0,r.mode=Q5;case Q5:if(r.flags&1024){for(;c<16;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,r.check=ss(r.check,O,2,0)),u=0,c=0}else r.head&&(r.head.extra=null);r.mode=Z5;case Z5:if(r.flags&1024&&(h=r.length,h>o&&(h=o),h&&(r.head&&(W=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+h),W)),r.flags&512&&r.wrap&4&&(r.check=ss(r.check,n,h,s)),o-=h,s+=h,r.length-=h),r.length))break e;r.length=0,r.mode=ew;case ew:if(r.flags&2048){if(o===0)break e;h=0;do W=n[s+h++],r.head&&W&&r.length<65536&&(r.head.name+=String.fromCharCode(W));while(W&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=ss(r.check,n,h,s)),o-=h,s+=h,W)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=tw;case tw:if(r.flags&4096){if(o===0)break e;h=0;do W=n[s+h++],r.head&&W&&r.length<65536&&(r.head.comment+=String.fromCharCode(W));while(W&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=ss(r.check,n,h,s)),o-=h,s+=h,W)break e}else r.head&&(r.head.comment=null);r.mode=rw;case rw:if(r.flags&512){for(;c<16;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}if(r.wrap&4&&u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=lr;break}u=0,c=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Rs;break;case nw:for(;c<32;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}t.adler=r.check=gw(u),u=0,c=0,r.mode=zf;case zf:if(r.havedict===0)return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=c,jP;t.adler=r.check=1,r.mode=Rs;case Rs:if(e===NP||e===Eh)break e;case am:if(r.last){u>>>=c&7,c-=c&7,r.mode=lm;break}for(;c<3;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}switch(r.last=u&1,u>>>=1,c-=1,u&3){case 0:r.mode=iw;break;case 1:if(RP(r),r.mode=Ch,e===Eh){u>>>=2,c-=2;break e}break;case 2:r.mode=aw;break;case 3:t.msg="invalid block type",r.mode=lr}u>>>=2,c-=2;break;case iw:for(u>>>=c&7,c-=c&7;c<32;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=lr;break}if(r.length=u&65535,u=0,c=0,r.mode=om,e===Eh)break e;case om:r.mode=sw;case sw:if(h=r.length,h){if(h>o&&(h=o),h>l&&(h=l),h===0)break e;i.set(n.subarray(s,s+h),a),o-=h,s+=h,l-=h,a+=h,r.length-=h;break}r.mode=Rs;break;case aw:for(;c<14;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}if(r.nlen=(u&31)+257,u>>>=5,c-=5,r.ndist=(u&31)+1,u>>>=5,c-=5,r.ncode=(u&15)+4,u>>>=4,c-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=lr;break}r.have=0,r.mode=ow;case ow:for(;r.have<r.ncode;){for(;c<3;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}r.lens[I[r.have++]]=u&7,u>>>=3,c-=3}for(;r.have<19;)r.lens[I[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,V={bits:r.lenbits},F=Sc(SP,r.lens,0,19,r.lencode,0,r.work,V),r.lenbits=V.bits,F){t.msg="invalid code lengths set",r.mode=lr;break}r.have=0,r.mode=lw;case lw:for(;r.have<r.nlen+r.ndist;){for(;b=r.lencode[u&(1<<r.lenbits)-1],v=b>>>24,N=b>>>16&255,x=b&65535,!(v<=c);){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}if(x<16)u>>>=v,c-=v,r.lens[r.have++]=x;else{if(x===16){for(C=v+2;c<C;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}if(u>>>=v,c-=v,r.have===0){t.msg="invalid bit length repeat",r.mode=lr;break}W=r.lens[r.have-1],h=3+(u&3),u>>>=2,c-=2}else if(x===17){for(C=v+3;c<C;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}u>>>=v,c-=v,W=0,h=3+(u&7),u>>>=3,c-=3}else{for(C=v+7;c<C;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}u>>>=v,c-=v,W=0,h=11+(u&127),u>>>=7,c-=7}if(r.have+h>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=lr;break}for(;h--;)r.lens[r.have++]=W}}if(r.mode===lr)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=lr;break}if(r.lenbits=9,V={bits:r.lenbits},F=Sc(D3,r.lens,0,r.nlen,r.lencode,0,r.work,V),r.lenbits=V.bits,F){t.msg="invalid literal/lengths set",r.mode=lr;break}if(r.distbits=6,r.distcode=r.distdyn,V={bits:r.distbits},F=Sc(M3,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,V),r.distbits=V.bits,F){t.msg="invalid distances set",r.mode=lr;break}if(r.mode=Ch,e===Eh)break e;case Ch:r.mode=Th;case Th:if(o>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=c,vP(t,g),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,u=r.hold,c=r.bits,r.mode===Rs&&(r.back=-1);break}for(r.back=0;b=r.lencode[u&(1<<r.lenbits)-1],v=b>>>24,N=b>>>16&255,x=b&65535,!(v<=c);){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}if(N&&!(N&240)){for(j=v,D=N,G=x;b=r.lencode[G+((u&(1<<j+D)-1)>>j)],v=b>>>24,N=b>>>16&255,x=b&65535,!(j+v<=c);){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}u>>>=j,c-=j,r.back+=j}if(u>>>=v,c-=v,r.back+=v,r.length=x,N===0){r.mode=fw;break}if(N&32){r.back=-1,r.mode=Rs;break}if(N&64){t.msg="invalid literal/length code",r.mode=lr;break}r.extra=N&15,r.mode=uw;case uw:if(r.extra){for(C=r.extra;c<C;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,c-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=cw;case cw:for(;b=r.distcode[u&(1<<r.distbits)-1],v=b>>>24,N=b>>>16&255,x=b&65535,!(v<=c);){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}if(!(N&240)){for(j=v,D=N,G=x;b=r.distcode[G+((u&(1<<j+D)-1)>>j)],v=b>>>24,N=b>>>16&255,x=b&65535,!(j+v<=c);){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}u>>>=j,c-=j,r.back+=j}if(u>>>=v,c-=v,r.back+=v,N&64){t.msg="invalid distance code",r.mode=lr;break}r.offset=x,r.extra=N&15,r.mode=dw;case dw:if(r.extra){for(C=r.extra;c<C;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,c-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=lr;break}r.mode=hw;case hw:if(l===0)break e;if(h=g-l,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=lr;break}h>r.wnext?(h-=r.wnext,S=r.wsize-h):S=r.wnext-h,h>r.length&&(h=r.length),w=r.window}else w=i,S=a-r.offset,h=r.length;h>l&&(h=l),l-=h,r.length-=h;do i[a++]=w[S++];while(--h);r.length===0&&(r.mode=Th);break;case fw:if(l===0)break e;i[a++]=r.length,l--,r.mode=Th;break;case lm:if(r.wrap){for(;c<32;){if(o===0)break e;o--,u|=n[s++]<<c,c+=8}if(g-=l,t.total_out+=g,r.total+=g,r.wrap&4&&g&&(t.adler=r.check=r.flags?ss(r.check,i,g,a-g):s1(r.check,i,g,a-g)),g=l,r.wrap&4&&(r.flags?u:gw(u))!==r.check){t.msg="incorrect data check",r.mode=lr;break}u=0,c=0}r.mode=pw;case pw:if(r.wrap&&r.flags){for(;c<32;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}if(r.wrap&4&&u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=lr;break}u=0,c=0}r.mode=mw;case mw:F=kP;break e;case lr:F=F3;break e;case U3:return B3;case z3:default:return xi}return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=c,(r.wsize||g!==t.avail_out&&r.mode<lr&&(r.mode<lm||e!==G5))&&V3(t,t.output,t.next_out,g-t.avail_out),m-=t.avail_in,g-=t.avail_out,t.total_in+=m,t.total_out+=g,r.total+=g,r.wrap&4&&g&&(t.adler=r.check=r.flags?ss(r.check,i,g,t.next_out-g):s1(r.check,i,g,t.next_out-g)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Rs?128:0)+(r.mode===Ch||r.mode===om?256:0),(m===0&&g===0||e===G5)&&F===Mo&&(F=AP),F},DP=t=>{if(qo(t))return xi;let e=t.state;return e.window&&(e.window=null),t.state=null,Mo},MP=(t,e)=>{if(qo(t))return xi;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,Mo):xi},FP=(t,e)=>{const r=e.length;let n,i,s;return qo(t)||(n=t.state,n.wrap!==0&&n.mode!==zf)?xi:n.mode===zf&&(i=1,i=s1(i,e,r,0),i!==n.check)?F3:(s=V3(t,e,r,r),s?(n.mode=U3,B3):(n.havedict=1,Mo))};var BP=q3,UP=W3,zP=$3,$P=OP,qP=H3,WP=IP,HP=DP,VP=MP,GP=FP,KP="pako inflate (from Nodeca project)",Bs={inflateReset:BP,inflateReset2:UP,inflateResetKeep:zP,inflateInit:$P,inflateInit2:qP,inflate:WP,inflateEnd:HP,inflateGetHeader:VP,inflateSetDictionary:GP,inflateInfo:KP};function JP(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var YP=JP;const G3=Object.prototype.toString,{Z_NO_FLUSH:XP,Z_FINISH:QP,Z_OK:Qc,Z_STREAM_END:dm,Z_NEED_DICT:hm,Z_STREAM_ERROR:ZP,Z_DATA_ERROR:yw,Z_MEM_ERROR:e7}=O3;function dd(t){this.options=R3.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new mP,this.strm.avail_out=0;let r=Bs.inflateInit2(this.strm,e.windowBits);if(r!==Qc)throw new Error(a1[r]);if(this.header=new YP,Bs.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=o1.string2buf(e.dictionary):G3.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Bs.inflateSetDictionary(this.strm,e.dictionary),r!==Qc)))throw new Error(a1[r])}dd.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?QP:XP,G3.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=Bs.inflate(r,a),s===hm&&i&&(s=Bs.inflateSetDictionary(r,i),s===Qc?s=Bs.inflate(r,a):s===yw&&(s=hm));r.avail_in>0&&s===dm&&r.state.wrap>0&&t[r.next_in]!==0;)Bs.inflateReset(r),s=Bs.inflate(r,a);switch(s){case ZP:case yw:case hm:case e7:return this.onEnd(s),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||s===dm))if(this.options.to==="string"){let l=o1.utf8border(r.output,r.next_out),u=r.next_out-l,c=o1.buf2string(r.output,l);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(l,l+u),0),this.onData(c)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===Qc&&o===0)){if(s===dm)return s=Bs.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};dd.prototype.onData=function(t){this.chunks.push(t)};dd.prototype.onEnd=function(t){t===Qc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=R3.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function t7(t,e){const r=new dd(e);if(r.push(t),r.err)throw r.msg||a1[r.err];return r.result}var r7=dd,n7=t7,i7={Inflate:r7,inflate:n7};const{Inflate:s7,inflate:a7}=i7;var ww=s7,o7=a7;const K3=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;K3[t]=e}const bw=4294967295;function l7(t,e,r){let n=t;for(let i=0;i<r;i++)n=K3[(n^e[i])&255]^n>>>8;return n}function u7(t,e){return(l7(bw,t,e)^bw)>>>0}function xw(t,e,r){const n=t.readUint32(),i=u7(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function J3(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function Y3(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function X3(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function Q3(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(r[s]>>1)&255;for(;s<n;s++)e[s]=t[s]+(e[s-i]+r[s]>>1)&255}}function Z3(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+r[s]&255;for(;s<n;s++)e[s]=t[s]+c7(e[s-i],r[s],r[s-i])&255}}function c7(t,e,r){const n=t+e-r,i=Math.abs(n-t),s=Math.abs(n-e),a=Math.abs(n-r);return i<=s&&i<=a?t:s<=a?e:r}function d7(t,e,r,n,i,s){switch(t){case 0:J3(e,r,i);break;case 1:Y3(e,r,i,s);break;case 2:X3(e,r,n,i);break;case 3:Q3(e,r,n,i,s);break;case 4:Z3(e,r,n,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const h7=new Uint16Array([255]),f7=new Uint8Array(h7.buffer),p7=f7[0]===255;function m7(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,l=new Uint8Array(n*r*o);let u=0;for(let c=0;c<7;c++){const m=a[c],g=Math.ceil((r-m.x)/m.xStep),h=Math.ceil((n-m.y)/m.yStep);if(g<=0||h<=0)continue;const S=g*o,w=new Uint8Array(S);for(let b=0;b<h;b++){const v=e[u++],N=e.subarray(u,u+S);u+=S;const x=new Uint8Array(S);d7(v,N,x,w,S,o),w.set(x);for(let j=0;j<g;j++){const D=m.x+j*m.xStep,G=m.y+b*m.yStep;if(!(D>=r||G>=n))for(let W=0;W<o;W++)l[(G*r+D)*o+W]=x[j*o+W]}}}if(s===16){const c=new Uint16Array(l.buffer);if(p7)for(let m=0;m<c.length;m++)c[m]=g7(c[m]);return c}else return l}function g7(t){return(t&255)<<8|t>>8&255}const v7=new Uint16Array([255]),y7=new Uint8Array(v7.buffer),w7=y7[0]===255,b7=new Uint8Array(0);function _w(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*r),l=new Uint8Array(n*o);let u=b7,c=0,m,g;for(let h=0;h<n;h++){switch(m=e.subarray(c+1,c+1+o),g=l.subarray(h*o,(h+1)*o),e[c]){case 0:J3(m,g,o);break;case 1:Y3(m,g,o,a);break;case 2:X3(m,g,u,o);break;case 3:Q3(m,g,u,o,a);break;case 4:Z3(m,g,u,o,a);break;default:throw new Error(`Unsupported filter: ${e[c]}`)}u=g,c+=o+1}if(s===16){const h=new Uint16Array(l.buffer);if(w7)for(let S=0;S<h.length;S++)h[S]=x7(h[S]);return h}else return l}function x7(t){return(t&255)<<8|t>>8&255}const ef=Uint8Array.of(137,80,78,71,13,10,26,10);function Sw(t){if(!_7(t.readBytes(ef.length)))throw new Error("wrong PNG signature")}function _7(t){if(t.length<ef.length)return!1;for(let e=0;e<ef.length;e++)if(t[e]!==ef[e])return!1;return!0}const S7="tEXt",N7=0,eS=new TextDecoder("latin1");function k7(t){if(A7(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const j7=/^[\u0000-\u00FF]*$/;function A7(t){if(!j7.test(t))throw new Error("invalid latin1 text")}function E7(t,e,r){const n=tS(e);t[n]=C7(e,r-n.length-1)}function tS(t){for(t.mark();t.readByte()!==N7;);const e=t.offset;t.reset();const r=eS.decode(t.readBytes(e-t.offset-1));return t.skip(1),k7(r),r}function C7(t,e){return eS.decode(t.readBytes(e))}const Vn={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},fm={UNKNOWN:-1,DEFLATE:0},Nw={UNKNOWN:-1,ADAPTIVE:0},pm={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Lh={NONE:0,BACKGROUND:1,PREVIOUS:2},mm={SOURCE:0,OVER:1};class T7 extends Dv{constructor(r,n={}){super(r);Nt(this,"_checkCrc");Nt(this,"_inflator");Nt(this,"_png");Nt(this,"_apng");Nt(this,"_end");Nt(this,"_hasPalette");Nt(this,"_palette");Nt(this,"_hasTransparency");Nt(this,"_transparency");Nt(this,"_compressionMethod");Nt(this,"_filterMethod");Nt(this,"_interlaceMethod");Nt(this,"_colorType");Nt(this,"_isAnimated");Nt(this,"_numberOfFrames");Nt(this,"_numberOfPlays");Nt(this,"_frames");Nt(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new ww,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=fm.UNKNOWN,this._filterMethod=Nw.UNKNOWN,this._interlaceMethod=pm.UNKNOWN,this._colorType=Vn.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Sw(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(Sw(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case S7:E7(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?xw(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?xw(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=L7(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Vn.GREYSCALE:i=1;break;case Vn.TRUECOLOUR:i=3;break;case Vn.INDEXED_COLOUR:i=1;break;case Vn.GREYSCALE_ALPHA:i=2;break;case Vn.TRUECOLOUR_ALPHA:i=4;break;case Vn.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==fm.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<n;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Vn.GREYSCALE:case Vn.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Vn.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Vn.UNKNOWN:case Vn.GREYSCALE_ALPHA:case Vn.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=tS(this),i=this.readUint8();if(i!==fm.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:o7(s)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=_w({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(i,s,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case Lh.NONE:break;case Lh.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const o=(s*r.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case Lh.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,s=(a,o)=>{const l=((a+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,u=(a*n.width+o)*this._png.channels;return{index:l,frameIndex:u}};switch(n.blendOp){case mm.SOURCE:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:u}=s(a,o);for(let c=0;c<this._png.channels;c++)r.data[l+c]=n.data[u+c]}break;case mm.OVER:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:u}=s(a,o);for(let c=0;c<this._png.channels;c++){const m=n.data[u+this._png.channels-1]/i,g=c%(this._png.channels-1)===0?1:n.data[u+c],h=Math.floor(m*g+(1-m)*r.data[l+c]);r.data[l+c]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==Nw.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===pm.NO_INTERLACE)this._png.data=_w({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===pm.ADAM7)this._png.data=m7({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Lh.NONE,blendOp:mm.SOURCE,data:r}),this._inflator=new ww,this._writingDataChunks=!1}}function L7(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var kw;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(kw||(kw={}));function P7(t,e){return new T7(t,e).decode()}var it=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function gm(){it.console&&typeof it.console.log=="function"&&it.console.log.apply(it.console,arguments)}var Kt={log:gm,warn:function(t){it.console&&(typeof it.console.warn=="function"?it.console.warn.apply(it.console,arguments):gm.call(null,arguments))},error:function(t){it.console&&(typeof it.console.error=="function"?it.console.error.apply(it.console,arguments):gm(t))}};function vm(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){go(n.response,e,r)},n.onerror=function(){Kt.error("could not download file")},n.send()}function jw(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Ph(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var go=it.saveAs||((typeof window>"u"?"undefined":zt(window))!=="object"||window!==it?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=it.URL||it.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?jw(i.href)?vm(t,e,r):Ph(i,i.target="_blank"):Ph(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Ph(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(jw(t))vm(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Ph(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:zt(s)!=="object"&&(Kt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return vm(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(it.HTMLElement)||it.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":zt(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var c=o.result;c=a?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=c:location=c,n=null},o.readAsDataURL(t)}else{var l=it.URL||it.webkitURL,u=l.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function rS(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}var tf=it.atob.bind(it),Aw=it.btoa.bind(it);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function ym(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=hn(r,n,i,s,e[0],7,-680876936),s=hn(s,r,n,i,e[1],12,-389564586),i=hn(i,s,r,n,e[2],17,606105819),n=hn(n,i,s,r,e[3],22,-1044525330),r=hn(r,n,i,s,e[4],7,-176418897),s=hn(s,r,n,i,e[5],12,1200080426),i=hn(i,s,r,n,e[6],17,-1473231341),n=hn(n,i,s,r,e[7],22,-45705983),r=hn(r,n,i,s,e[8],7,1770035416),s=hn(s,r,n,i,e[9],12,-1958414417),i=hn(i,s,r,n,e[10],17,-42063),n=hn(n,i,s,r,e[11],22,-1990404162),r=hn(r,n,i,s,e[12],7,1804603682),s=hn(s,r,n,i,e[13],12,-40341101),i=hn(i,s,r,n,e[14],17,-1502002290),r=fn(r,n=hn(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=fn(s,r,n,i,e[6],9,-1069501632),i=fn(i,s,r,n,e[11],14,643717713),n=fn(n,i,s,r,e[0],20,-373897302),r=fn(r,n,i,s,e[5],5,-701558691),s=fn(s,r,n,i,e[10],9,38016083),i=fn(i,s,r,n,e[15],14,-660478335),n=fn(n,i,s,r,e[4],20,-405537848),r=fn(r,n,i,s,e[9],5,568446438),s=fn(s,r,n,i,e[14],9,-1019803690),i=fn(i,s,r,n,e[3],14,-187363961),n=fn(n,i,s,r,e[8],20,1163531501),r=fn(r,n,i,s,e[13],5,-1444681467),s=fn(s,r,n,i,e[2],9,-51403784),i=fn(i,s,r,n,e[7],14,1735328473),r=pn(r,n=fn(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=pn(s,r,n,i,e[8],11,-2022574463),i=pn(i,s,r,n,e[11],16,1839030562),n=pn(n,i,s,r,e[14],23,-35309556),r=pn(r,n,i,s,e[1],4,-1530992060),s=pn(s,r,n,i,e[4],11,1272893353),i=pn(i,s,r,n,e[7],16,-155497632),n=pn(n,i,s,r,e[10],23,-1094730640),r=pn(r,n,i,s,e[13],4,681279174),s=pn(s,r,n,i,e[0],11,-358537222),i=pn(i,s,r,n,e[3],16,-722521979),n=pn(n,i,s,r,e[6],23,76029189),r=pn(r,n,i,s,e[9],4,-640364487),s=pn(s,r,n,i,e[12],11,-421815835),i=pn(i,s,r,n,e[15],16,530742520),r=mn(r,n=pn(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=mn(s,r,n,i,e[7],10,1126891415),i=mn(i,s,r,n,e[14],15,-1416354905),n=mn(n,i,s,r,e[5],21,-57434055),r=mn(r,n,i,s,e[12],6,1700485571),s=mn(s,r,n,i,e[3],10,-1894986606),i=mn(i,s,r,n,e[10],15,-1051523),n=mn(n,i,s,r,e[1],21,-2054922799),r=mn(r,n,i,s,e[8],6,1873313359),s=mn(s,r,n,i,e[15],10,-30611744),i=mn(i,s,r,n,e[6],15,-1560198380),n=mn(n,i,s,r,e[13],21,1309151649),r=mn(r,n,i,s,e[4],6,-145523070),s=mn(s,r,n,i,e[11],10,-1120210379),i=mn(i,s,r,n,e[2],15,718787259),n=mn(n,i,s,r,e[9],21,-343485551),t[0]=La(r,t[0]),t[1]=La(n,t[1]),t[2]=La(i,t[2]),t[3]=La(s,t[3])}function kp(t,e,r,n,i,s){return e=La(La(e,t),La(n,s)),La(e<<i|e>>>32-i,r)}function hn(t,e,r,n,i,s,a){return kp(e&r|~e&n,t,e,i,s,a)}function fn(t,e,r,n,i,s,a){return kp(e&n|r&~n,t,e,i,s,a)}function pn(t,e,r,n,i,s,a){return kp(e^r^n,t,e,i,s,a)}function mn(t,e,r,n,i,s,a){return kp(r^(e|~n),t,e,i,s,a)}function nS(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)ym(n,O7(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(ym(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,ym(n,i),n}function O7(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var Ew="0123456789abcdef".split("");function R7(t){for(var e="",r=0;r<4;r++)e+=Ew[t>>8*r+4&15]+Ew[t>>8*r&15];return e}function I7(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function l1(t){return nS(t).map(I7).join("")}var D7=function(t){for(var e=0;e<t.length;e++)t[e]=R7(t[e]);return t.join("")}(nS("hello"))!="5d41402abc4b2a76b9719d911017c592";function La(t,e){if(D7){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function u1(t,e){var r,n,i,s;if(t!==r){for(var a=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var c=o[l];u=(u+c+a.charCodeAt(l))%256,o[l]=o[u],o[u]=c}r=t,n=o}else o=n;var m=e.length,g=0,h=0,S="";for(l=0;l<m;l++)h=(h+(c=o[g=(g+1)%256]))%256,o[g]=o[h],o[h]=c,a=o[(o[g]+o[h])%256],S+=String.fromCharCode(e.charCodeAt(l)^a);return S}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Cw={print:4,modify:8,copy:16,"annot-forms":32};function vl(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(Cw.perm!==void 0)throw new Error("Invalid permission: "+o);i+=Cw[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=l1(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=u1(this.encryptionKey,this.padding)}function yl(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function Tw(t){if(zt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var a=e[r][s];try{a[0].apply(t,n)}catch(o){it.console&&Kt.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function $f(t){if(!(this instanceof $f))return new $f(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function iS(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function xo(t,e,r,n,i){if(!(this instanceof xo))return new xo(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,iS.call(this,n,i)}function Ll(t,e,r,n,i){if(!(this instanceof Ll))return new Ll(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,iS.call(this,n,i)}function qe(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,u="S",c=null;zt(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,g={},h={internal:{},__private__:{}};h.__private__.PubSub=Tw;var S="1.3",w=h.__private__.getPdfVersion=function(){return S};h.__private__.setPdfVersion=function(y){S=y};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return b};var v=h.__private__.getPageFormat=function(y){return b[y]};i=i||"a4";var N="compat",x="advanced",j=N;function D(){this.saveGraphicsState(),U(new Ye(lt,0,0,-lt,0,eo()*lt).toString()+" cm"),this.setFontSize(this.getFontSize()/lt),u="n",j=x}function G(){this.restoreGraphicsState(),u="S",j=N}var W=h.__private__.combineFontStyleAndFontWeight=function(y,A){if(y=="bold"&&A=="normal"||y=="bold"&&A==400||y=="normal"&&A=="italic"||y=="bold"&&A=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return A&&(y=A==400||A==="normal"?y==="italic"?"italic":"normal":A!=700&&A!=="bold"||y!=="normal"?(A==700?"bold":A)+""+y:"bold"),y};h.advancedAPI=function(y){var A=j===N;return A&&D.call(this),typeof y!="function"||(y(this),A&&G.call(this)),this},h.compatAPI=function(y){var A=j===x;return A&&G.call(this),typeof y!="function"||(y(this),A&&D.call(this)),this},h.isAdvancedAPI=function(){return j===x};var F,O=function(y){if(j!==x)throw new Error(y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},V=h.roundToPrecision=h.__private__.roundToPrecision=function(y,A){var H=e||A;if(isNaN(y)||isNaN(H))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return y.toFixed(H).replace(/0+$/,"")};F=h.hpf=h.__private__.hpf=typeof l=="number"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return V(y,l)}:l==="smart"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return V(y,y>-1&&y<1?16:5)}:function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return V(y,16)};var C=h.f2=h.__private__.f2=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f2");return V(y,2)},I=h.__private__.f3=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f3");return V(y,3)},Y=h.scale=h.__private__.scale=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.scale");return j===N?y*lt:j===x?y:void 0},X=function(y){return Y(function(A){return j===N?eo()-A:j===x?A:void 0}(y))};h.__private__.setPrecision=h.setPrecision=function(y){typeof parseInt(y,10)=="number"&&(e=parseInt(y,10))};var ue,de="00000000000000000000000000000000",ce=h.__private__.getFileId=function(){return de},K=h.__private__.setFileId=function(y){return de=y!==void 0&&/^[a-fA-F0-9]{32}$/.test(y)?y.toUpperCase():de.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(Mr=new vl(c.userPermissions,c.userPassword,c.ownerPassword,de)),de};h.setFileId=function(y){return K(y),this},h.getFileId=function(){return ce()};var re=h.__private__.convertDateToPDFDate=function(y){var A=y.getTimezoneOffset(),H=A<0?"+":"-",Z=Math.floor(Math.abs(A/60)),ie=Math.abs(A%60),we=[H,J(Z),"'",J(ie),"'"].join("");return["D:",y.getFullYear(),J(y.getMonth()+1),J(y.getDate()),J(y.getHours()),J(y.getMinutes()),J(y.getSeconds()),we].join("")},me=h.__private__.convertPDFDateToDate=function(y){var A=parseInt(y.substr(2,4),10),H=parseInt(y.substr(6,2),10)-1,Z=parseInt(y.substr(8,2),10),ie=parseInt(y.substr(10,2),10),we=parseInt(y.substr(12,2),10),xe=parseInt(y.substr(14,2),10);return new Date(A,H,Z,ie,we,xe,0)},he=h.__private__.setCreationDate=function(y){var A;if(y===void 0&&(y=new Date),y instanceof Date)A=re(y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");A=y}return ue=A},T=h.__private__.getCreationDate=function(y){var A=ue;return y==="jsDate"&&(A=me(ue)),A};h.setCreationDate=function(y){return he(y),this},h.getCreationDate=function(y){return T(y)};var z,J=h.__private__.padd2=function(y){return("0"+parseInt(y)).slice(-2)},Q=h.__private__.padd2Hex=function(y){return("00"+(y=y.toString())).substr(y.length)},ee=0,se=[],pe=[],ge=0,fe=[],Ne=[],Ae=!1,Ce=pe;h.__private__.setCustomOutputDestination=function(y){Ae=!0,Ce=y};var Re=function(y){Ae||(Ce=y)};h.__private__.resetCustomOutputDestination=function(){Ae=!1,Ce=pe};var U=h.__private__.out=function(y){return y=y.toString(),ge+=y.length+1,Ce.push(y),Ce},Ee=h.__private__.write=function(y){return U(arguments.length===1?y.toString():Array.prototype.join.call(arguments," "))},ft=h.__private__.getArrayBuffer=function(y){for(var A=y.length,H=new ArrayBuffer(A),Z=new Uint8Array(H);A--;)Z[A]=y.charCodeAt(A);return H},et=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return et};var Se=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(y){return Se=j===x?y/lt:y,this};var We,Le=h.__private__.getFontSize=h.getFontSize=function(){return j===N?Se:Se*lt},Ke=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(y){return Ke=y,this},h.__private__.getR2L=h.getR2L=function(){return Ke};var Je,Lt=h.__private__.setZoomMode=function(y){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(y))We=y;else if(isNaN(y)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+y+'" is not recognized.');We=y}else We=parseInt(y,10)};h.__private__.getZoomMode=function(){return We};var St,ot=h.__private__.setPageMode=function(y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+y+'" is not recognized.');Je=y};h.__private__.getPageMode=function(){return Je};var vt=h.__private__.setLayoutMode=function(y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+y+'" is not recognized.');St=y};h.__private__.getLayoutMode=function(){return St},h.__private__.setDisplayMode=h.setDisplayMode=function(y,A,H){return Lt(y),vt(A),ot(H),this};var pt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(y){if(Object.keys(pt).indexOf(y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return pt[y]},h.__private__.getDocumentProperties=function(){return pt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(y){for(var A in pt)pt.hasOwnProperty(A)&&y[A]&&(pt[A]=y[A]);return this},h.__private__.setDocumentProperty=function(y,A){if(Object.keys(pt).indexOf(y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return pt[y]=A};var Ie,lt,Pe,ar,jt,wt={},mt={},Wt=[],Qe={},Mt={},tt={},ut={},Jt=null,Ze=0,Fe=[],dt=new Tw(h),ln=t.hotfixes||[],Ft={},dr={},Sr=[],Ye=function y(A,H,Z,ie,we,xe){if(!(this instanceof y))return new y(A,H,Z,ie,we,xe);isNaN(A)&&(A=1),isNaN(H)&&(H=0),isNaN(Z)&&(Z=0),isNaN(ie)&&(ie=1),isNaN(we)&&(we=0),isNaN(xe)&&(xe=0),this._matrix=[A,H,Z,ie,we,xe]};Object.defineProperty(Ye.prototype,"sx",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(Ye.prototype,"shy",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(Ye.prototype,"shx",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(Ye.prototype,"sy",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(Ye.prototype,"tx",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(Ye.prototype,"ty",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(Ye.prototype,"a",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(Ye.prototype,"b",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(Ye.prototype,"c",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(Ye.prototype,"d",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(Ye.prototype,"e",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(Ye.prototype,"f",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(Ye.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ye.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ye.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ye.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ye.prototype.join=function(y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(y)},Ye.prototype.multiply=function(y){var A=y.sx*this.sx+y.shy*this.shx,H=y.sx*this.shy+y.shy*this.sy,Z=y.shx*this.sx+y.sy*this.shx,ie=y.shx*this.shy+y.sy*this.sy,we=y.tx*this.sx+y.ty*this.shx+this.tx,xe=y.tx*this.shy+y.ty*this.sy+this.ty;return new Ye(A,H,Z,ie,we,xe)},Ye.prototype.decompose=function(){var y=this.sx,A=this.shy,H=this.shx,Z=this.sy,ie=this.tx,we=this.ty,xe=Math.sqrt(y*y+A*A),Ue=(y/=xe)*H+(A/=xe)*Z;H-=y*Ue,Z-=A*Ue;var He=Math.sqrt(H*H+Z*Z);return Ue/=He,y*(Z/=He)<A*(H/=He)&&(y=-y,A=-A,Ue=-Ue,xe=-xe),{scale:new Ye(xe,0,0,He,0,0),translate:new Ye(1,0,0,1,ie,we),rotate:new Ye(y,A,-A,y,0,0),skew:new Ye(1,0,Ue,1,0,0)}},Ye.prototype.toString=function(y){return this.join(" ")},Ye.prototype.inversed=function(){var y=this.sx,A=this.shy,H=this.shx,Z=this.sy,ie=this.tx,we=this.ty,xe=1/(y*Z-A*H),Ue=Z*xe,He=-A*xe,at=-H*xe,yt=y*xe;return new Ye(Ue,He,at,yt,-Ue*ie-at*we,-He*ie-yt*we)},Ye.prototype.applyToPoint=function(y){var A=y.x*this.sx+y.y*this.shx+this.tx,H=y.x*this.shy+y.y*this.sy+this.ty;return new xs(A,H)},Ye.prototype.applyToRectangle=function(y){var A=this.applyToPoint(y),H=this.applyToPoint(new xs(y.x+y.w,y.y+y.h));return new Nu(A.x,A.y,H.x-A.x,H.y-A.y)},Ye.prototype.clone=function(){var y=this.sx,A=this.shy,H=this.shx,Z=this.sy,ie=this.tx,we=this.ty;return new Ye(y,A,H,Z,ie,we)},h.Matrix=Ye;var Ht=h.matrixMult=function(y,A){return A.multiply(y)},Gr=new Ye(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Gr;var hr=function(y,A){if(!Mt[y]){var H=(A instanceof xo?"Sh":"P")+(Object.keys(Qe).length+1).toString(10);A.id=H,Mt[y]=H,Qe[H]=A,dt.publish("addPattern",A)}};h.ShadingPattern=xo,h.TilingPattern=Ll,h.addShadingPattern=function(y,A){return O("addShadingPattern()"),hr(y,A),this},h.beginTilingPattern=function(y){O("beginTilingPattern()"),ku(y.boundingBox[0],y.boundingBox[1],y.boundingBox[2]-y.boundingBox[0],y.boundingBox[3]-y.boundingBox[1],y.matrix)},h.endTilingPattern=function(y,A){O("endTilingPattern()"),A.stream=Ne[z].join(`
`),hr(y,A),dt.publish("endTilingPattern",A),Sr.pop().restore()};var yr,qt=h.__private__.newObject=function(){var y=or();return Yt(y,!0),y},or=h.__private__.newObjectDeferred=function(){return ee++,se[ee]=function(){return ge},ee},Yt=function(y,A){return A=typeof A=="boolean"&&A,se[y]=ge,A&&U(y+" 0 obj"),y},Mn=h.__private__.newAdditionalObject=function(){var y={objId:or(),content:""};return fe.push(y),y},ni=or(),Si=or(),Yi=h.__private__.decodeColorString=function(y){var A=y.split(" ");if(A.length!==2||A[1]!=="g"&&A[1]!=="G")A.length!==5||A[4]!=="k"&&A[4]!=="K"||(A=[(1-A[0])*(1-A[3]),(1-A[1])*(1-A[3]),(1-A[2])*(1-A[3]),"r"]);else{var H=parseFloat(A[0]);A=[H,H,H,"r"]}for(var Z="#",ie=0;ie<3;ie++)Z+=("0"+Math.floor(255*parseFloat(A[ie])).toString(16)).slice(-2);return Z},Ni=h.__private__.encodeColorString=function(y){var A;typeof y=="string"&&(y={ch1:y});var H=y.ch1,Z=y.ch2,ie=y.ch3,we=y.ch4,xe=y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof H=="string"&&H.charAt(0)!=="#"){var Ue=new rS(H);if(Ue.ok)H=Ue.toHex();else if(!/^\d*\.?\d*$/.test(H))throw new Error('Invalid color "'+H+'" passed to jsPDF.encodeColorString.')}if(typeof H=="string"&&/^#[0-9A-Fa-f]{3}$/.test(H)&&(H="#"+H[1]+H[1]+H[2]+H[2]+H[3]+H[3]),typeof H=="string"&&/^#[0-9A-Fa-f]{6}$/.test(H)){var He=parseInt(H.substr(1),16);H=He>>16&255,Z=He>>8&255,ie=255&He}if(Z===void 0||we===void 0&&H===Z&&Z===ie)A=typeof H=="string"?H+" "+xe[0]:y.precision===2?C(H/255)+" "+xe[0]:I(H/255)+" "+xe[0];else if(we===void 0||zt(we)==="object"){if(we&&!isNaN(we.a)&&we.a===0)return["1.","1.","1.",xe[1]].join(" ");A=typeof H=="string"?[H,Z,ie,xe[1]].join(" "):y.precision===2?[C(H/255),C(Z/255),C(ie/255),xe[1]].join(" "):[I(H/255),I(Z/255),I(ie/255),xe[1]].join(" ")}else A=typeof H=="string"?[H,Z,ie,we,xe[2]].join(" "):y.precision===2?[C(H),C(Z),C(ie),C(we),xe[2]].join(" "):[I(H),I(Z),I(ie),I(we),xe[2]].join(" ");return A},ki=h.__private__.getFilters=function(){return a},ii=h.__private__.putStream=function(y){var A=(y=y||{}).data||"",H=y.filters||ki(),Z=y.alreadyAppliedFilters||[],ie=y.addLength1||!1,we=A.length,xe=y.objectId,Ue=function(Fr){return Fr};if(c!==null&&xe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(Ue=Mr.encryptor(xe,0));var He={};H===!0&&(H=["FlateEncode"]);var at=y.additionalKeyValues||[],yt=(He=qe.API.processDataByFilters!==void 0?qe.API.processDataByFilters(A,H):{data:A,reverseChain:[]}).reverseChain+(Array.isArray(Z)?Z.join(" "):Z.toString());if(He.data.length!==0&&(at.push({key:"Length",value:He.data.length}),ie===!0&&at.push({key:"Length1",value:we})),yt.length!=0)if(yt.split("/").length-1==1)at.push({key:"Filter",value:yt});else{at.push({key:"Filter",value:"["+yt+"]"});for(var Pt=0;Pt<at.length;Pt+=1)if(at[Pt].key==="DecodeParms"){for(var fr=[],Or=0;Or<He.reverseChain.split("/").length-1;Or+=1)fr.push("null");fr.push(at[Pt].value),at[Pt].value="["+fr.join(" ")+"]"}}U("<<");for(var Xt=0;Xt<at.length;Xt++)U("/"+at[Xt].key+" "+at[Xt].value);U(">>"),He.data.length!==0&&(U("stream"),U(Ue(He.data)),U("endstream"))},Ka=h.__private__.putPage=function(y){var A=y.number,H=y.data,Z=y.objId,ie=y.contentsObjId;Yt(Z,!0),U("<</Type /Page"),U("/Parent "+y.rootDictionaryObjId+" 0 R"),U("/Resources "+y.resourceDictionaryObjId+" 0 R"),U("/MediaBox ["+parseFloat(F(y.mediaBox.bottomLeftX))+" "+parseFloat(F(y.mediaBox.bottomLeftY))+" "+F(y.mediaBox.topRightX)+" "+F(y.mediaBox.topRightY)+"]"),y.cropBox!==null&&U("/CropBox ["+F(y.cropBox.bottomLeftX)+" "+F(y.cropBox.bottomLeftY)+" "+F(y.cropBox.topRightX)+" "+F(y.cropBox.topRightY)+"]"),y.bleedBox!==null&&U("/BleedBox ["+F(y.bleedBox.bottomLeftX)+" "+F(y.bleedBox.bottomLeftY)+" "+F(y.bleedBox.topRightX)+" "+F(y.bleedBox.topRightY)+"]"),y.trimBox!==null&&U("/TrimBox ["+F(y.trimBox.bottomLeftX)+" "+F(y.trimBox.bottomLeftY)+" "+F(y.trimBox.topRightX)+" "+F(y.trimBox.topRightY)+"]"),y.artBox!==null&&U("/ArtBox ["+F(y.artBox.bottomLeftX)+" "+F(y.artBox.bottomLeftY)+" "+F(y.artBox.topRightX)+" "+F(y.artBox.topRightY)+"]"),typeof y.userUnit=="number"&&y.userUnit!==1&&U("/UserUnit "+y.userUnit),dt.publish("putPage",{objId:Z,pageContext:Fe[A],pageNumber:A,page:H}),U("/Contents "+ie+" 0 R"),U(">>"),U("endobj");var we=H.join(`
`);return j===x&&(we+=`
Q`),Yt(ie,!0),ii({data:we,filters:ki(),objectId:ie}),U("endobj"),Z},Xi=h.__private__.putPages=function(){var y,A,H=[];for(y=1;y<=Ze;y++)Fe[y].objId=or(),Fe[y].contentsObjId=or();for(y=1;y<=Ze;y++)H.push(Ka({number:y,data:Ne[y],objId:Fe[y].objId,contentsObjId:Fe[y].contentsObjId,mediaBox:Fe[y].mediaBox,cropBox:Fe[y].cropBox,bleedBox:Fe[y].bleedBox,trimBox:Fe[y].trimBox,artBox:Fe[y].artBox,userUnit:Fe[y].userUnit,rootDictionaryObjId:ni,resourceDictionaryObjId:Si}));Yt(ni,!0),U("<</Type /Pages");var Z="/Kids [";for(A=0;A<Ze;A++)Z+=H[A]+" 0 R ";U(Z+"]"),U("/Count "+Ze),U(">>"),U("endobj"),dt.publish("postPutPages")},Ja=function(y){dt.publish("putFont",{font:y,out:U,newObject:qt,putStream:ii}),y.isAlreadyPutted!==!0&&(y.objectNumber=qt(),U("<<"),U("/Type /Font"),U("/BaseFont /"+yl(y.postScriptName)),U("/Subtype /Type1"),typeof y.encoding=="string"&&U("/Encoding /"+y.encoding),U("/FirstChar 32"),U("/LastChar 255"),U(">>"),U("endobj"))},Ho=function(y){y.objectNumber=qt();var A=[];A.push({key:"Type",value:"/XObject"}),A.push({key:"Subtype",value:"/Form"}),A.push({key:"BBox",value:"["+[F(y.x),F(y.y),F(y.x+y.width),F(y.y+y.height)].join(" ")+"]"}),A.push({key:"Matrix",value:"["+y.matrix.toString()+"]"});var H=y.pages[1].join(`
`);ii({data:H,additionalKeyValues:A,objectId:y.objectNumber}),U("endobj")},Vo=function(y,A){A||(A=21);var H=qt(),Z=function(xe,Ue){var He,at=[],yt=1/(Ue-1);for(He=0;He<1;He+=yt)at.push(He);if(at.push(1),xe[0].offset!=0){var Pt={offset:0,color:xe[0].color};xe.unshift(Pt)}if(xe[xe.length-1].offset!=1){var fr={offset:1,color:xe[xe.length-1].color};xe.push(fr)}for(var Or="",Xt=0,Fr=0;Fr<at.length;Fr++){for(He=at[Fr];He>xe[Xt+1].offset;)Xt++;var Rr=xe[Xt].offset,Qr=(He-Rr)/(xe[Xt+1].offset-Rr),Ns=xe[Xt].color,Ai=xe[Xt+1].color;Or+=Q(Math.round((1-Qr)*Ns[0]+Qr*Ai[0]).toString(16))+Q(Math.round((1-Qr)*Ns[1]+Qr*Ai[1]).toString(16))+Q(Math.round((1-Qr)*Ns[2]+Qr*Ai[2]).toString(16))}return Or.trim()}(y.colors,A),ie=[];ie.push({key:"FunctionType",value:"0"}),ie.push({key:"Domain",value:"[0.0 1.0]"}),ie.push({key:"Size",value:"["+A+"]"}),ie.push({key:"BitsPerSample",value:"8"}),ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ii({data:Z,additionalKeyValues:ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:H}),U("endobj"),y.objectNumber=qt(),U("<< /ShadingType "+y.type),U("/ColorSpace /DeviceRGB");var we="/Coords ["+F(parseFloat(y.coords[0]))+" "+F(parseFloat(y.coords[1]))+" ";y.type===2?we+=F(parseFloat(y.coords[2]))+" "+F(parseFloat(y.coords[3])):we+=F(parseFloat(y.coords[2]))+" "+F(parseFloat(y.coords[3]))+" "+F(parseFloat(y.coords[4]))+" "+F(parseFloat(y.coords[5])),U(we+="]"),y.matrix&&U("/Matrix ["+y.matrix.toString()+"]"),U("/Function "+H+" 0 R"),U("/Extend [true true]"),U(">>"),U("endobj")},Go=function(y,A){var H=or(),Z=qt();A.push({resourcesOid:H,objectOid:Z}),y.objectNumber=Z;var ie=[];ie.push({key:"Type",value:"/Pattern"}),ie.push({key:"PatternType",value:"1"}),ie.push({key:"PaintType",value:"1"}),ie.push({key:"TilingType",value:"1"}),ie.push({key:"BBox",value:"["+y.boundingBox.map(F).join(" ")+"]"}),ie.push({key:"XStep",value:F(y.xStep)}),ie.push({key:"YStep",value:F(y.yStep)}),ie.push({key:"Resources",value:H+" 0 R"}),y.matrix&&ie.push({key:"Matrix",value:"["+y.matrix.toString()+"]"}),ii({data:y.stream,additionalKeyValues:ie,objectId:y.objectNumber}),U("endobj")},Op=function(y){for(var A in y.objectNumber=qt(),U("<<"),y)switch(A){case"opacity":U("/ca "+C(y[A]));break;case"stroke-opacity":U("/CA "+C(y[A]))}U(">>"),U("endobj")},gu=function(y){Yt(y.resourcesOid,!0),U("<<"),U("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var A in U("/Font <<"),wt)wt.hasOwnProperty(A)&&(m===!1||m===!0&&g.hasOwnProperty(A))&&U("/"+A+" "+wt[A].objectNumber+" 0 R");U(">>")}(),function(){if(Object.keys(Qe).length>0){for(var A in U("/Shading <<"),Qe)Qe.hasOwnProperty(A)&&Qe[A]instanceof xo&&Qe[A].objectNumber>=0&&U("/"+A+" "+Qe[A].objectNumber+" 0 R");dt.publish("putShadingPatternDict"),U(">>")}}(),function(A){if(Object.keys(Qe).length>0){for(var H in U("/Pattern <<"),Qe)Qe.hasOwnProperty(H)&&Qe[H]instanceof h.TilingPattern&&Qe[H].objectNumber>=0&&Qe[H].objectNumber<A&&U("/"+H+" "+Qe[H].objectNumber+" 0 R");dt.publish("putTilingPatternDict"),U(">>")}}(y.objectOid),function(){if(Object.keys(tt).length>0){var A;for(A in U("/ExtGState <<"),tt)tt.hasOwnProperty(A)&&tt[A].objectNumber>=0&&U("/"+A+" "+tt[A].objectNumber+" 0 R");dt.publish("putGStateDict"),U(">>")}}(),function(){for(var A in U("/XObject <<"),Ft)Ft.hasOwnProperty(A)&&Ft[A].objectNumber>=0&&U("/"+A+" "+Ft[A].objectNumber+" 0 R");dt.publish("putXobjectDict"),U(">>")}(),U(">>"),U("endobj")},gd=function(y){mt[y.fontName]=mt[y.fontName]||{},mt[y.fontName][y.fontStyle]=y.id},vd=function(y,A,H,Z,ie){var we={id:"F"+(Object.keys(wt).length+1).toString(10),postScriptName:y,fontName:A,fontStyle:H,encoding:Z,isStandardFont:ie||!1,metadata:{}};return dt.publish("addFont",{font:we,instance:this}),wt[we.id]=we,gd(we),we.id},si=h.__private__.pdfEscape=h.pdfEscape=function(y,A){return function(H,Z){var ie,we,xe,Ue,He,at,yt,Pt,fr;if(xe=(Z=Z||{}).sourceEncoding||"Unicode",He=Z.outputEncoding,(Z.autoencode||He)&&wt[Ie].metadata&&wt[Ie].metadata[xe]&&wt[Ie].metadata[xe].encoding&&(Ue=wt[Ie].metadata[xe].encoding,!He&&wt[Ie].encoding&&(He=wt[Ie].encoding),!He&&Ue.codePages&&(He=Ue.codePages[0]),typeof He=="string"&&(He=Ue[He]),He)){for(yt=!1,at=[],ie=0,we=H.length;ie<we;ie++)(Pt=He[H.charCodeAt(ie)])?at.push(String.fromCharCode(Pt)):at.push(H[ie]),at[ie].charCodeAt(0)>>8&&(yt=!0);H=at.join("")}for(ie=H.length;yt===void 0&&ie!==0;)H.charCodeAt(ie-1)>>8&&(yt=!0),ie--;if(!yt)return H;for(at=Z.noBOM?[]:[254,255],ie=0,we=H.length;ie<we;ie++){if((fr=(Pt=H.charCodeAt(ie))>>8)>>8)throw new Error("Character at position "+ie+" of string '"+H+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");at.push(fr),at.push(Pt-(fr<<8))}return String.fromCharCode.apply(void 0,at)}(y,A).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},vu=h.__private__.beginPage=function(y){Ne[++Ze]=[],Fe[Ze]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(y[0]),topRightY:Number(y[1])}},wd(Ze),Re(Ne[z])},yd=function(y,A){var H,Z,ie;switch(r=A||r,typeof y=="string"&&(H=v(y.toLowerCase()),Array.isArray(H)&&(Z=H[0],ie=H[1])),Array.isArray(y)&&(Z=y[0]*lt,ie=y[1]*lt),isNaN(Z)&&(Z=i[0],ie=i[1]),(Z>14400||ie>14400)&&(Kt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Z=Math.min(14400,Z),ie=Math.min(14400,ie)),i=[Z,ie],r.substr(0,1)){case"l":ie>Z&&(i=[ie,Z]);break;case"p":Z>ie&&(i=[ie,Z])}vu(i),ct(bu),U(Xo),_u!==0&&U(_u+" J"),Su!==0&&U(Su+" j"),dt.publish("addPage",{pageNumber:Ze})},yu=function(y){y>0&&y<=Ze&&(Ne.splice(y,1),Fe.splice(y,1),Ze--,z>Ze&&(z=Ze),this.setPage(z))},wd=function(y){y>0&&y<=Ze&&(z=y)},bd=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Ne.length-1},xd=function(y,A,H){var Z,ie=void 0;return H=H||{},y=y!==void 0?y:wt[Ie].fontName,A=A!==void 0?A:wt[Ie].fontStyle,Z=y.toLowerCase(),mt[Z]!==void 0&&mt[Z][A]!==void 0?ie=mt[Z][A]:mt[y]!==void 0&&mt[y][A]!==void 0?ie=mt[y][A]:H.disableWarning===!1&&Kt.warn("Unable to look up font label for font '"+y+"', '"+A+"'. Refer to getFontList() for available fonts."),ie||H.noFallback||(ie=mt.times[A])==null&&(ie=mt.times.normal),ie},Qi=h.__private__.putInfo=function(){var y=qt(),A=function(Z){return Z};for(var H in c!==null&&(A=Mr.encryptor(y,0)),U("<<"),U("/Producer ("+si(A("jsPDF "+qe.version))+")"),pt)pt.hasOwnProperty(H)&&pt[H]&&U("/"+H.substr(0,1).toUpperCase()+H.substr(1)+" ("+si(A(pt[H]))+")");U("/CreationDate ("+si(A(ue))+")"),U(">>"),U("endobj")},Ko=h.__private__.putCatalog=function(y){var A=(y=y||{}).rootDictionaryObjId||ni;switch(qt(),U("<<"),U("/Type /Catalog"),U("/Pages "+A+" 0 R"),We||(We="fullwidth"),We){case"fullwidth":U("/OpenAction [3 0 R /FitH null]");break;case"fullheight":U("/OpenAction [3 0 R /FitV null]");break;case"fullpage":U("/OpenAction [3 0 R /Fit]");break;case"original":U("/OpenAction [3 0 R /XYZ null null 1]");break;default:var H=""+We;H.substr(H.length-1)==="%"&&(We=parseInt(We)/100),typeof We=="number"&&U("/OpenAction [3 0 R /XYZ null null "+C(We)+"]")}switch(St||(St="continuous"),St){case"continuous":U("/PageLayout /OneColumn");break;case"single":U("/PageLayout /SinglePage");break;case"two":case"twoleft":U("/PageLayout /TwoColumnLeft");break;case"tworight":U("/PageLayout /TwoColumnRight")}Je&&U("/PageMode /"+Je),dt.publish("putCatalog"),U(">>"),U("endobj")},Rp=h.__private__.putTrailer=function(){U("trailer"),U("<<"),U("/Size "+(ee+1)),U("/Root "+ee+" 0 R"),U("/Info "+(ee-1)+" 0 R"),c!==null&&U("/Encrypt "+Mr.oid+" 0 R"),U("/ID [ <"+de+"> <"+de+"> ]"),U(">>")},Pr=h.__private__.putHeader=function(){U("%PDF-"+S),U("%")},_d=h.__private__.putXRef=function(){var y="0000000000";U("xref"),U("0 "+(ee+1)),U("0000000000 65535 f ");for(var A=1;A<=ee;A++)typeof se[A]=="function"?U((y+se[A]()).slice(-10)+" 00000 n "):se[A]!==void 0?U((y+se[A]).slice(-10)+" 00000 n "):U("0000000000 00000 n ")},Zi=h.__private__.buildDocument=function(){var y;ee=0,ge=0,pe=[],se=[],fe=[],ni=or(),Si=or(),Re(pe),dt.publish("buildDocument"),Pr(),Xi(),function(){dt.publish("putAdditionalObjects");for(var H=0;H<fe.length;H++){var Z=fe[H];Yt(Z.objId,!0),U(Z.content),U("endobj")}dt.publish("postPutAdditionalObjects")}(),y=[],function(){for(var H in wt)wt.hasOwnProperty(H)&&(m===!1||m===!0&&g.hasOwnProperty(H))&&Ja(wt[H])}(),function(){var H;for(H in tt)tt.hasOwnProperty(H)&&Op(tt[H])}(),function(){for(var H in Ft)Ft.hasOwnProperty(H)&&Ho(Ft[H])}(),function(H){var Z;for(Z in Qe)Qe.hasOwnProperty(Z)&&(Qe[Z]instanceof xo?Vo(Qe[Z]):Qe[Z]instanceof Ll&&Go(Qe[Z],H))}(y),dt.publish("putResources"),y.forEach(gu),gu({resourcesOid:Si,objectOid:Number.MAX_SAFE_INTEGER}),dt.publish("postPutResources"),c!==null&&(Mr.oid=qt(),U("<<"),U("/Filter /Standard"),U("/V "+Mr.v),U("/R "+Mr.r),U("/U <"+Mr.toHexString(Mr.U)+">"),U("/O <"+Mr.toHexString(Mr.O)+">"),U("/P "+Mr.P),U(">>"),U("endobj")),Qi(),Ko();var A=ge;return _d(),Rp(),U("startxref"),U(""+A),U("%%EOF"),Re(Ne[z]),pe.join(`
`)},Jo=h.__private__.getBlob=function(y){return new Blob([ft(y)],{type:"application/pdf"})},Sd=h.output=h.__private__.output=(yr=function(y,A){switch(typeof(A=A||{})=="string"?A={filename:A}:A.filename=A.filename||"generated.pdf",y){case void 0:return Zi();case"save":h.save(A.filename);break;case"arraybuffer":return ft(Zi());case"blob":return Jo(Zi());case"bloburi":case"bloburl":if(it.URL!==void 0&&typeof it.URL.createObjectURL=="function")return it.URL&&it.URL.createObjectURL(Jo(Zi()))||void 0;Kt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var H="",Z=Zi();try{H=Aw(Z)}catch{H=Aw(unescape(encodeURIComponent(Z)))}return"data:application/pdf;filename="+A.filename+";base64,"+H;case"pdfobjectnewwindow":if(Object.prototype.toString.call(it)==="[object Window]"){var ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",we=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';A.pdfObjectUrl&&(ie=A.pdfObjectUrl,we="");var xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ie+'"'+we+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(A)+");<\/script></body></html>",Ue=it.open();return Ue!==null&&Ue.document.write(xe),Ue}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(it)==="[object Window]"){var He='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(A.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+A.filename+'" width="500px" height="400px" /></body></html>',at=it.open();if(at!==null){at.document.write(He);var yt=this;at.document.documentElement.querySelector("#pdfViewer").onload=function(){at.document.title=A.filename,at.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(yt.output("bloburl"))}}return at}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(it)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",A)+'"></iframe></body></html>',fr=it.open();if(fr!==null&&(fr.document.write(Pt),fr.document.title=A.filename),fr||typeof safari>"u")return fr;break;case"datauri":case"dataurl":return it.document.location.href=this.output("datauristring",A);default:return null}},yr.foo=function(){try{return yr.apply(this,arguments)}catch(H){var y=H.stack||"";~y.indexOf(" at ")&&(y=y.split(" at ")[1]);var A="Error in function "+y.split(`
`)[0].split("<")[0]+": "+H.message;if(!it.console)throw new Error(A);it.console.error(A,H),it.alert&&alert(A)}},yr.foo.bar=yr,yr.foo),ai=function(y){return Array.isArray(ln)===!0&&ln.indexOf(y)>-1};switch(n){case"pt":lt=1;break;case"mm":lt=72/25.4;break;case"cm":lt=72/2.54;break;case"in":lt=72;break;case"px":lt=ai("px_scaling")==1?.75:96/72;break;case"pc":case"em":lt=12;break;case"ex":lt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);lt=n}var Mr=null;he(),K();var vs=h.__private__.getPageInfo=h.getPageInfo=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Fe[y].objId,pageNumber:y,pageContext:Fe[y]}},Nd=h.__private__.getPageInfoByObjId=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var A in Fe)if(Fe[A].objId===y)break;return vs(A)},Ip=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Fe[z].objId,pageNumber:z,pageContext:Fe[z]}};h.addPage=function(){return yd.apply(this,arguments),this},h.setPage=function(){return wd.apply(this,arguments),Re.call(this,Ne[z]),this},h.insertPage=function(y){return this.addPage(),this.movePage(z,y),this},h.movePage=function(y,A){var H,Z;if(y>A){H=Ne[y],Z=Fe[y];for(var ie=y;ie>A;ie--)Ne[ie]=Ne[ie-1],Fe[ie]=Fe[ie-1];Ne[A]=H,Fe[A]=Z,this.setPage(A)}else if(y<A){H=Ne[y],Z=Fe[y];for(var we=y;we<A;we++)Ne[we]=Ne[we+1],Fe[we]=Fe[we+1];Ne[A]=H,Fe[A]=Z,this.setPage(A)}return this},h.deletePage=function(){return yu.apply(this,arguments),this},h.__private__.text=h.text=function(y,A,H,Z,ie){var we,xe,Ue,He,at,yt,Pt,fr,Or,Xt=(Z=Z||{}).scope||this;if(typeof y=="number"&&typeof A=="number"&&(typeof H=="string"||Array.isArray(H))){var Fr=H;H=A,A=y,y=Fr}if(arguments[3]instanceof Ye==0?(Ue=arguments[4],He=arguments[5],zt(Pt=arguments[3])==="object"&&Pt!==null||(typeof Ue=="string"&&(He=Ue,Ue=null),typeof Pt=="string"&&(He=Pt,Pt=null),typeof Pt=="number"&&(Ue=Pt,Pt=null),Z={flags:Pt,angle:Ue,align:He})):(O("The transform parameter of text() with a Matrix value"),Or=ie),isNaN(A)||isNaN(H)||y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(y.length===0)return Xt;var Rr,Qr="",Ns=typeof Z.lineHeightFactor=="number"?Z.lineHeightFactor:Xa,Ai=Xt.internal.scaleFactor;function ks(Dt){return Dt=Dt.split("	").join(Array(Z.TabLen||9).join(" ")),si(Dt,Pt)}function Au(Dt){for(var Vt,kr=Dt.concat(),Br=[],Es=kr.length;Es--;)typeof(Vt=kr.shift())=="string"?Br.push(Vt):Array.isArray(Dt)&&(Vt.length===1||Vt[1]===void 0&&Vt[2]===void 0)?Br.push(Vt[0]):Br.push([Vt[0],Vt[1],Vt[2]]);return Br}function Zo(Dt,Vt){var kr;if(typeof Dt=="string")kr=Vt(Dt)[0];else if(Array.isArray(Dt)){for(var Br,Es,Mu=Dt.concat(),rl=[],Id=Mu.length;Id--;)typeof(Br=Mu.shift())=="string"?rl.push(Vt(Br)[0]):Array.isArray(Br)&&typeof Br[0]=="string"&&(Es=Vt(Br[0],Br[1],Br[2]),rl.push([Es[0],Es[1],Es[2]]));kr=rl}return kr}var ta=!1,to=!0;if(typeof y=="string")ta=!0;else if(Array.isArray(y)){var ro=y.concat();xe=[];for(var ra,Zr=ro.length;Zr--;)(typeof(ra=ro.shift())!="string"||Array.isArray(ra)&&typeof ra[0]!="string")&&(to=!1);ta=to}if(ta===!1)throw new Error('Type of text must be string or Array. "'+y+'" is not recognized.');typeof y=="string"&&(y=y.match(/[\r?\n]/)?y.split(/\r\n|\r|\n/g):[y]);var no=Se/Xt.internal.scaleFactor,io=no*(Ns-1);switch(Z.baseline){case"bottom":H-=io;break;case"top":H+=no-io;break;case"hanging":H+=no-2*io;break;case"middle":H+=no/2-io}if((yt=Z.maxWidth||0)>0&&(typeof y=="string"?y=Xt.splitTextToSize(y,yt):Object.prototype.toString.call(y)==="[object Array]"&&(y=y.reduce(function(Dt,Vt){return Dt.concat(Xt.splitTextToSize(Vt,yt))},[]))),we={text:y,x:A,y:H,options:Z,mutex:{pdfEscape:si,activeFontKey:Ie,fonts:wt,activeFontSize:Se}},dt.publish("preProcessText",we),y=we.text,Ue=(Z=we.options).angle,Or instanceof Ye==0&&Ue&&typeof Ue=="number"){Ue*=Math.PI/180,Z.rotationDirection===0&&(Ue=-Ue),j===x&&(Ue=-Ue);var Eu=Math.cos(Ue),Cu=Math.sin(Ue);Or=new Ye(Eu,Cu,-Cu,Eu,0,0)}else Ue&&Ue instanceof Ye&&(Or=Ue);j!==x||Or||(Or=Gr),(at=Z.charSpace||bs)!==void 0&&(Qr+=F(Y(at))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(fr=Z.horizontalScale)!==void 0&&(Qr+=F(100*fr)+` Tz
`),Z.lang;var yn=-1,js=Z.renderingMode!==void 0?Z.renderingMode:Z.stroke,el=Xt.internal.getCurrentPageInfo().pageContext;switch(js){case 0:case!1:case"fill":yn=0;break;case 1:case!0:case"stroke":yn=1;break;case 2:case"fillThenStroke":yn=2;break;case 3:case"invisible":yn=3;break;case 4:case"fillAndAddForClipping":yn=4;break;case 5:case"strokeAndAddPathForClipping":yn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":yn=6;break;case 7:case"addToPathForClipping":yn=7}var Od=el.usedRenderingMode!==void 0?el.usedRenderingMode:-1;yn!==-1?Qr+=yn+` Tr
`:Od!==-1&&(Qr+=`0 Tr
`),yn!==-1&&(el.usedRenderingMode=yn),He=Z.align||"left";var oi,so=Se*Ns,Tu=Xt.internal.pageSize.getWidth(),Lu=wt[Ie];at=Z.charSpace||bs,yt=Z.maxWidth||0,Pt=Object.assign({autoencode:!0,noBOM:!0},Z.flags);var na=[],ao=function(Dt){return Xt.getStringUnitWidth(Dt,{font:Lu,charSpace:at,fontSize:Se,doKerning:!1})*Se/Ai};if(Object.prototype.toString.call(y)==="[object Array]"){var Fn;xe=Au(y),He!=="left"&&(oi=xe.map(ao));var Bn,ia=0;if(He==="right"){A-=oi[0],y=[],Zr=xe.length;for(var As=0;As<Zr;As++)As===0?(Bn=ys(A),Fn=ws(H)):(Bn=Y(ia-oi[As]),Fn=-so),y.push([xe[As],Bn,Fn]),ia=oi[As]}else if(He==="center"){A-=oi[0]/2,y=[],Zr=xe.length;for(var sa=0;sa<Zr;sa++)sa===0?(Bn=ys(A),Fn=ws(H)):(Bn=Y((ia-oi[sa])/2),Fn=-so),y.push([xe[sa],Bn,Fn]),ia=oi[sa]}else if(He==="left"){y=[],Zr=xe.length;for(var Pu=0;Pu<Zr;Pu++)y.push(xe[Pu])}else if(He==="justify"&&Lu.encoding==="Identity-H"){y=[],Zr=xe.length,yt=yt!==0?yt:Tu;for(var tl=0,Nr=0;Nr<Zr;Nr++)if(Fn=Nr===0?ws(H):-so,Bn=Nr===0?ys(A):tl,Nr<Zr-1){var Rd=Y((yt-oi[Nr])/(xe[Nr].split(" ").length-1)),ts=xe[Nr].split(" ");y.push([ts[0]+" ",Bn,Fn]),tl=0;for(var rs=1;rs<ts.length;rs++){var Ou=(ao(ts[rs-1]+" "+ts[rs])-ao(ts[rs]))*Ai+Rd;rs==ts.length-1?y.push([ts[rs],Ou,0]):y.push([ts[rs]+" ",Ou,0]),tl-=Ou}}else y.push([xe[Nr],Bn,Fn]);y.push(["",tl,0])}else{if(He!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(y=[],Zr=xe.length,yt=yt!==0?yt:Tu,Nr=0;Nr<Zr;Nr++){Fn=Nr===0?ws(H):-so,Bn=Nr===0?ys(A):0;var Ru=xe[Nr].split(" ").length-1,Iu=Ru>0?(yt-oi[Nr])/Ru:0;Nr<Zr-1?na.push(F(Y(Iu))):na.push(0),y.push([xe[Nr],Bn,Fn])}}}(typeof Z.R2L=="boolean"?Z.R2L:Ke)===!0&&(y=Zo(y,function(Dt,Vt,kr){return[Dt.split("").reverse().join(""),Vt,kr]})),we={text:y,x:A,y:H,options:Z,mutex:{pdfEscape:si,activeFontKey:Ie,fonts:wt,activeFontSize:Se}},dt.publish("postProcessText",we),y=we.text,Rr=we.mutex.isHex||!1;var Du=wt[Ie].encoding;Du!=="WinAnsiEncoding"&&Du!=="StandardEncoding"||(y=Zo(y,function(Dt,Vt,kr){return[ks(Dt),Vt,kr]})),xe=Au(y),y=[];for(var aa,oa,la,oo=Array.isArray(xe[0])?1:0,ua="",lo=function(Dt,Vt,kr){var Br="";return kr instanceof Ye?(kr=typeof Z.angle=="number"?Ht(kr,new Ye(1,0,0,1,Dt,Vt)):Ht(new Ye(1,0,0,1,Dt,Vt),kr),j===x&&(kr=Ht(new Ye(1,0,0,-1,0,0),kr)),Br=kr.join(" ")+` Tm
`):Br=F(Dt)+" "+F(Vt)+` Td
`,Br},li=0;li<xe.length;li++){switch(ua="",oo){case 1:la=(Rr?"<":"(")+xe[li][0]+(Rr?">":")"),aa=parseFloat(xe[li][1]),oa=parseFloat(xe[li][2]);break;case 0:la=(Rr?"<":"(")+xe[li]+(Rr?">":")"),aa=ys(A),oa=ws(H)}na!==void 0&&na[li]!==void 0&&(ua=na[li]+` Tw
`),li===0?y.push(ua+lo(aa,oa,Or)+la):oo===0?y.push(ua+la):oo===1&&y.push(ua+lo(aa,oa,Or)+la)}y=oo===0?y.join(` Tj
T* `):y.join(` Tj
`),y+=` Tj
`;var ns=`BT
/`;return ns+=Ie+" "+Se+` Tf
`,ns+=F(Se*Ns)+` TL
`,ns+=Qa+`
`,ns+=Qr,ns+=y,U(ns+="ET"),g[Ie]=!0,Xt};var Dp=h.__private__.clip=h.clip=function(y){return U(y==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Dp("evenodd")},h.__private__.discardPath=h.discardPath=function(){return U("n"),this};var es=h.__private__.isValidStyle=function(y){var A=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(y)!==-1&&(A=!0),A};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(y){return es(y)&&(u=y),this};var kd=h.__private__.getStyle=h.getStyle=function(y){var A=u;switch(y){case"D":case"S":A="S";break;case"F":A="f";break;case"FD":case"DF":A="B";break;case"f":case"f*":case"B":case"B*":A=y}return A},jd=h.close=function(){return U("h"),this};h.stroke=function(){return U("S"),this},h.fill=function(y){return Yo("f",y),this},h.fillEvenOdd=function(y){return Yo("f*",y),this},h.fillStroke=function(y){return Yo("B",y),this},h.fillStrokeEvenOdd=function(y){return Yo("B*",y),this};var Yo=function(y,A){zt(A)==="object"?Fp(A,y):U(y)},Ya=function(y){y===null||j===x&&y===void 0||(y=kd(y),U(y))};function Mp(y,A,H,Z,ie){var we=new Ll(A||this.boundingBox,H||this.xStep,Z||this.yStep,this.gState,ie||this.matrix);we.stream=this.stream;var xe=y+"$$"+this.cloneIndex+++"$$";return hr(xe,we),we}var Fp=function(y,A){var H=Mt[y.key],Z=Qe[H];if(Z instanceof xo)U("q"),U(Bp(A)),Z.gState&&h.setGState(Z.gState),U(y.matrix.toString()+" cm"),U("/"+H+" sh"),U("Q");else if(Z instanceof Ll){var ie=new Ye(1,0,0,-1,0,eo());y.matrix&&(ie=ie.multiply(y.matrix||Gr),H=Mp.call(Z,y.key,y.boundingBox,y.xStep,y.yStep,ie).id),U("q"),U("/Pattern cs"),U("/"+H+" scn"),Z.gState&&h.setGState(Z.gState),U(A),U("Q")}},Bp=function(y){switch(y){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},wu=h.moveTo=function(y,A){return U(F(Y(y))+" "+F(X(A))+" m"),this},Ad=h.lineTo=function(y,A){return U(F(Y(y))+" "+F(X(A))+" l"),this},ji=h.curveTo=function(y,A,H,Z,ie,we){return U([F(Y(y)),F(X(A)),F(Y(H)),F(X(Z)),F(Y(ie)),F(X(we)),"c"].join(" ")),this};h.__private__.line=h.line=function(y,A,H,Z,ie){if(isNaN(y)||isNaN(A)||isNaN(H)||isNaN(Z)||!es(ie))throw new Error("Invalid arguments passed to jsPDF.line");return j===N?this.lines([[H-y,Z-A]],y,A,[1,1],ie||"S"):this.lines([[H-y,Z-A]],y,A,[1,1]).stroke()},h.__private__.lines=h.lines=function(y,A,H,Z,ie,we){var xe,Ue,He,at,yt,Pt,fr,Or,Xt,Fr,Rr,Qr;if(typeof y=="number"&&(Qr=H,H=A,A=y,y=Qr),Z=Z||[1,1],we=we||!1,isNaN(A)||isNaN(H)||!Array.isArray(y)||!Array.isArray(Z)||!es(ie)||typeof we!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(wu(A,H),xe=Z[0],Ue=Z[1],at=y.length,Fr=A,Rr=H,He=0;He<at;He++)(yt=y[He]).length===2?(Fr=yt[0]*xe+Fr,Rr=yt[1]*Ue+Rr,Ad(Fr,Rr)):(Pt=yt[0]*xe+Fr,fr=yt[1]*Ue+Rr,Or=yt[2]*xe+Fr,Xt=yt[3]*Ue+Rr,Fr=yt[4]*xe+Fr,Rr=yt[5]*Ue+Rr,ji(Pt,fr,Or,Xt,Fr,Rr));return we&&jd(),Ya(ie),this},h.path=function(y){for(var A=0;A<y.length;A++){var H=y[A],Z=H.c;switch(H.op){case"m":wu(Z[0],Z[1]);break;case"l":Ad(Z[0],Z[1]);break;case"c":ji.apply(this,Z);break;case"h":jd()}}return this},h.__private__.rect=h.rect=function(y,A,H,Z,ie){if(isNaN(y)||isNaN(A)||isNaN(H)||isNaN(Z)||!es(ie))throw new Error("Invalid arguments passed to jsPDF.rect");return j===N&&(Z=-Z),U([F(Y(y)),F(X(A)),F(Y(H)),F(Y(Z)),"re"].join(" ")),Ya(ie),this},h.__private__.triangle=h.triangle=function(y,A,H,Z,ie,we,xe){if(isNaN(y)||isNaN(A)||isNaN(H)||isNaN(Z)||isNaN(ie)||isNaN(we)||!es(xe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[H-y,Z-A],[ie-H,we-Z],[y-ie,A-we]],y,A,[1,1],xe,!0),this},h.__private__.roundedRect=h.roundedRect=function(y,A,H,Z,ie,we,xe){if(isNaN(y)||isNaN(A)||isNaN(H)||isNaN(Z)||isNaN(ie)||isNaN(we)||!es(xe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ue=4/3*(Math.SQRT2-1);return ie=Math.min(ie,.5*H),we=Math.min(we,.5*Z),this.lines([[H-2*ie,0],[ie*Ue,0,ie,we-we*Ue,ie,we],[0,Z-2*we],[0,we*Ue,-ie*Ue,we,-ie,we],[2*ie-H,0],[-ie*Ue,0,-ie,-we*Ue,-ie,-we],[0,2*we-Z],[0,-we*Ue,ie*Ue,-we,ie,-we]],y+ie,A,[1,1],xe,!0),this},h.__private__.ellipse=h.ellipse=function(y,A,H,Z,ie){if(isNaN(y)||isNaN(A)||isNaN(H)||isNaN(Z)||!es(ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var we=4/3*(Math.SQRT2-1)*H,xe=4/3*(Math.SQRT2-1)*Z;return wu(y+H,A),ji(y+H,A-xe,y+we,A-Z,y,A-Z),ji(y-we,A-Z,y-H,A-xe,y-H,A),ji(y-H,A+xe,y-we,A+Z,y,A+Z),ji(y+we,A+Z,y+H,A+xe,y+H,A),Ya(ie),this},h.__private__.circle=h.circle=function(y,A,H,Z){if(isNaN(y)||isNaN(A)||isNaN(H)||!es(Z))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(y,A,H,H,Z)},h.setFont=function(y,A,H){return H&&(A=W(A,H)),Ie=xd(y,A,{disableWarning:!1}),this};var Up=h.__private__.getFont=h.getFont=function(){return wt[xd.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var y,A,H={};for(y in mt)if(mt.hasOwnProperty(y))for(A in H[y]=[],mt[y])mt[y].hasOwnProperty(A)&&H[y].push(A);return H},h.addFont=function(y,A,H,Z,ie){var we=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&we.indexOf(arguments[3])!==-1?ie=arguments[3]:arguments[3]&&we.indexOf(arguments[3])==-1&&(H=W(H,Z)),vd.call(this,y,A,H,ie=ie||"Identity-H")};var Xa,bu=t.lineWidth||.200025,zp=h.__private__.getLineWidth=h.getLineWidth=function(){return bu},ct=h.__private__.setLineWidth=h.setLineWidth=function(y){return bu=y,U(F(Y(y))+" w"),this};h.__private__.setLineDash=qe.API.setLineDash=qe.API.setLineDashPattern=function(y,A){if(y=y||[],A=A||0,isNaN(A)||!Array.isArray(y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return y=y.map(function(H){return F(Y(H))}).join(" "),A=F(Y(A)),U("["+y+"] "+A+" d"),this};var $p=h.__private__.getLineHeight=h.getLineHeight=function(){return Se*Xa};h.__private__.getLineHeight=h.getLineHeight=function(){return Se*Xa};var qp=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(y){return typeof(y=y||1.15)=="number"&&(Xa=y),this},Wp=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Xa};qp(t.lineHeight);var ys=h.__private__.getHorizontalCoordinate=function(y){return Y(y)},ws=h.__private__.getVerticalCoordinate=function(y){return j===x?y:Fe[z].mediaBox.topRightY-Fe[z].mediaBox.bottomLeftY-Y(y)},Hp=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(y){return F(ys(y))},Vp=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(y){return F(ws(y))},Xo=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Yi(Xo)},h.__private__.setStrokeColor=h.setDrawColor=function(y,A,H,Z){return Xo=Ni({ch1:y,ch2:A,ch3:H,ch4:Z,pdfColorType:"draw",precision:2}),U(Xo),this};var xu=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Yi(xu)},h.__private__.setFillColor=h.setFillColor=function(y,A,H,Z){return xu=Ni({ch1:y,ch2:A,ch3:H,ch4:Z,pdfColorType:"fill",precision:2}),U(xu),this};var Qa=t.textColor||"0 g",Gp=h.__private__.getTextColor=h.getTextColor=function(){return Yi(Qa)};h.__private__.setTextColor=h.setTextColor=function(y,A,H,Z){return Qa=Ni({ch1:y,ch2:A,ch3:H,ch4:Z,pdfColorType:"text",precision:3}),this};var bs=t.charSpace,Kp=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(bs||0)};h.__private__.setCharSpace=h.setCharSpace=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return bs=y,this};var _u=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(y){var A=h.CapJoinStyles[y];if(A===void 0)throw new Error("Line cap style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _u=A,U(A+" J"),this};var Su=0;h.__private__.setLineJoin=h.setLineJoin=function(y){var A=h.CapJoinStyles[y];if(A===void 0)throw new Error("Line join style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Su=A,U(A+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(y){if(y=y||0,isNaN(y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return U(F(Y(y))+" M"),this},h.GState=$f,h.setGState=function(y){(y=typeof y=="string"?tt[ut[y]]:Ed(null,y)).equals(Jt)||(U("/"+y.id+" gs"),Jt=y)};var Ed=function(y,A){if(!y||!ut[y]){var H=!1;for(var Z in tt)if(tt.hasOwnProperty(Z)&&tt[Z].equals(A)){H=!0;break}if(H)A=tt[Z];else{var ie="GS"+(Object.keys(tt).length+1).toString(10);tt[ie]=A,A.id=ie}return y&&(ut[y]=A.id),dt.publish("addGState",A),A}};h.addGState=function(y,A){return Ed(y,A),this},h.saveGraphicsState=function(){return U("q"),Wt.push({key:Ie,size:Se,color:Qa}),this},h.restoreGraphicsState=function(){U("Q");var y=Wt.pop();return Ie=y.key,Se=y.size,Qa=y.color,Jt=null,this},h.setCurrentTransformationMatrix=function(y){return U(y.toString()+" cm"),this},h.comment=function(y){return U("#"+y),this};var xs=function(y,A){var H=y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return H},set:function(we){isNaN(we)||(H=parseFloat(we))}});var Z=A||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Z},set:function(we){isNaN(we)||(Z=parseFloat(we))}});var ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ie},set:function(we){ie=we.toString()}}),this},Nu=function(y,A,H,Z){xs.call(this,y,A),this.type="rect";var ie=H||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ie},set:function(xe){isNaN(xe)||(ie=parseFloat(xe))}});var we=Z||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return we},set:function(xe){isNaN(xe)||(we=parseFloat(xe))}}),this},Qo=function(){this.page=Ze,this.currentPage=z,this.pages=Ne.slice(0),this.pagesContext=Fe.slice(0),this.x=Pe,this.y=ar,this.matrix=jt,this.width=ju(z),this.height=Td(z),this.outputDestination=Ce,this.id="",this.objectNumber=-1};Qo.prototype.restore=function(){Ze=this.page,z=this.currentPage,Fe=this.pagesContext,Ne=this.pages,Pe=this.x,ar=this.y,jt=this.matrix,Cd(z,this.width),_s(z,this.height),Ce=this.outputDestination};var ku=function(y,A,H,Z,ie){Sr.push(new Qo),Ze=z=0,Ne=[],Pe=y,ar=A,jt=ie,vu([H,Z])};for(var Za in h.beginFormObject=function(y,A,H,Z,ie){return ku(y,A,H,Z,ie),this},h.endFormObject=function(y){return function(A){if(dr[A])Sr.pop().restore();else{var H=new Qo,Z="Xo"+(Object.keys(Ft).length+1).toString(10);H.id=Z,dr[A]=Z,Ft[Z]=H,dt.publish("addFormObject",H),Sr.pop().restore()}}(y),this},h.doFormObject=function(y,A){var H=Ft[dr[y]];return U("q"),U(A.toString()+" cm"),U("/"+H.id+" Do"),U("Q"),this},h.getFormObject=function(y){var A=Ft[dr[y]];return{x:A.x,y:A.y,width:A.width,height:A.height,matrix:A.matrix}},h.save=function(y,A){return y=y||"generated.pdf",(A=A||{}).returnPromise=A.returnPromise||!1,A.returnPromise===!1?(go(Jo(Zi()),y),typeof go.unload=="function"&&it.setTimeout&&setTimeout(go.unload,911),this):new Promise(function(H,Z){try{var ie=go(Jo(Zi()),y);typeof go.unload=="function"&&it.setTimeout&&setTimeout(go.unload,911),H(ie)}catch(we){Z(we.message)}})},qe.API)qe.API.hasOwnProperty(Za)&&(Za==="events"&&qe.API.events.length?function(y,A){var H,Z,ie;for(ie=A.length-1;ie!==-1;ie--)H=A[ie][0],Z=A[ie][1],y.subscribe.apply(y,[H].concat(typeof Z=="function"?[Z]:Z))}(dt,qe.API.events):h[Za]=qe.API[Za]);function ju(y){return Fe[y].mediaBox.topRightX-Fe[y].mediaBox.bottomLeftX}function Cd(y,A){Fe[y].mediaBox.topRightX=A+Fe[y].mediaBox.bottomLeftX}function Td(y){return Fe[y].mediaBox.topRightY-Fe[y].mediaBox.bottomLeftY}function _s(y,A){Fe[y].mediaBox.topRightY=A+Fe[y].mediaBox.bottomLeftY}var Ss=h.getPageWidth=function(y){return ju(y=y||z)/lt},Ld=h.setPageWidth=function(y,A){Cd(y,A*lt)},eo=h.getPageHeight=function(y){return Td(y=y||z)/lt},Pd=h.setPageHeight=function(y,A){_s(y,A*lt)};return h.internal={pdfEscape:si,getStyle:kd,getFont:Up,getFontSize:Le,getCharSpace:Kp,getTextColor:Gp,getLineHeight:$p,getLineHeightFactor:Wp,getLineWidth:zp,write:Ee,getHorizontalCoordinate:ys,getVerticalCoordinate:ws,getCoordinateString:Hp,getVerticalCoordinateString:Vp,collections:{},newObject:qt,newAdditionalObject:Mn,newObjectDeferred:or,newObjectDeferredBegin:Yt,getFilters:ki,putStream:ii,events:dt,scaleFactor:lt,pageSize:{getWidth:function(){return Ss(z)},setWidth:function(y){Ld(z,y)},getHeight:function(){return eo(z)},setHeight:function(y){Pd(z,y)}},encryptionOptions:c,encryption:Mr,getEncryptor:function(y){return c!==null?Mr.encryptor(y,0):function(A){return A}},output:Sd,getNumberOfPages:bd,get pages(){return Ne},out:U,f2:C,f3:I,getPageInfo:vs,getPageInfoByObjId:Nd,getCurrentPageInfo:Ip,getPDFVersion:w,Point:xs,Rectangle:Nu,Matrix:Ye,hasHotfix:ai},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Ss(z)},set:function(y){Ld(z,y)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return eo(z)},set:function(y){Pd(z,y)},enumerable:!0,configurable:!0}),(function(y){for(var A=0,H=et.length;A<H;A++){var Z=vd.call(this,y[A][0],y[A][1],y[A][2],et[A][3],!0);m===!1&&(g[Z]=!0);var ie=y[A][0].split("-");gd({id:Z,fontName:ie[0],fontStyle:ie[1]||""})}dt.publish("addFonts",{fonts:wt,dictionary:mt})}).call(h,et),Ie="F1",yd(i,r),dt.publish("initialized"),h}vl.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},vl.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},vl.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},vl.prototype.processOwnerPassword=function(t,e){return u1(l1(e).substr(0,5),t)},vl.prototype.encryptor=function(t,e){var r=l1(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return u1(r,n)}},$f.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||zt(t)!==zt(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},qe.API={events:[]},qe.version="3.0.4";var xr=qe.API,Mv=1,Wo=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fl=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ht=function(t){return t.toFixed(2)},xa=function(t){return t.toFixed(5)};xr.__acroform__={};var Dn=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Lw=function(t){return t*Mv},ls=function(t){var e=new aS,r=Be.internal.getHeight(t)||0,n=Be.internal.getWidth(t)||0;return e.BBox=[0,0,Number(ht(n)),Number(ht(r))],e},M7=xr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},F7=xr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},B7=xr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Cr=xr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return B7(t,e-1)},Tr=xr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return M7(t,e-1)},Lr=xr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return F7(t,e-1)},U7=xr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=r(i+a)||0,l.upperRight_Y=n(s)||0,[Number(ht(l.lowerLeft_X)),Number(ht(l.lowerLeft_Y)),Number(ht(l.upperRight_X)),Number(ht(l.upperRight_Y))]},z7=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=c1(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+ht(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=ls(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},c1=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(C){return C.split(`
`)}):i.map(function(C){return[C]});var s=r,a=Be.internal.getHeight(t)||0;a=a<0?-a:a;var o=Be.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(C,I,Y){if(C+1<i.length){var X=I+" "+i[C+1][0];return Oh(X,t,Y).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var u,c,m=Oh("3",t,s).height,g=t.multiline?a-s:(a-m)/2,h=g+=2,S=0,w=0,b=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Oh(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var v="",N=0,x=0;x<i.length;x++)if(i.hasOwnProperty(x)){var j=!1;if(i[x].length!==1&&b!==i[x].length-1){if((m+2)*(N+2)+2>a)continue e;v+=i[x][b],j=!0,w=x,x--}else{v=(v+=i[x][b]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var D=parseInt(x),G=l(D,v,s),W=x>=i.length-1;if(G&&!W){v+=" ",b=0;continue}if(G||W){if(W)w=D;else if(t.multiline&&(m+2)*(N+2)+2>a)continue e}else{if(!t.multiline||(m+2)*(N+2)+2>a)continue e;w=D}}for(var F="",O=S;O<=w;O++){var V=i[O];if(t.multiline){if(O===w){F+=V[b]+" ",b=(b+1)%V.length;continue}if(O===S){F+=V[V.length-1]+" ";continue}}F+=V[0]+" "}switch(F=F.substr(F.length-1)==" "?F.substr(0,F.length-1):F,c=Oh(F,t,s).width,t.textAlign){case"right":u=o-c-2;break;case"center":u=(o-c)/2;break;default:u=2}e+=ht(u)+" "+ht(h)+` Td
`,e+="("+Wo(F)+`) Tj
`,e+=-ht(u)+` 0 Td
`,h=-(s+2),c=0,S=j?w:w+1,N++,v=""}break}return n.text=e,n.fontSize=s,n},Oh=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},$7={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},q7=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},W7=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ki.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify($7)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Mv=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new oS,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&q7(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],l=[],u=o.Rect;if(o.Rect&&(o.Rect=U7(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Be.createDefaultAppearanceStream(o),zt(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var c=z7(o);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(o.appearanceStreamContent){var m="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var h=o.appearanceStreamContent[g];if(m+="/"+g+" ",m+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var a in h)if(h.hasOwnProperty(a)){var S=h[a];typeof S=="function"&&(S=S.call(i,o)),m+="/"+a+" "+S+" ",i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S)}}else typeof(S=h)=="function"&&(S=S.call(i,o)),m+="/"+a+" "+S,i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S);m+=">>"}l.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&function(w,b){for(var v in w)if(w.hasOwnProperty(v)){var N=v,x=w[v];b.internal.newObjectDeferredBegin(x.objId,!0),zt(x)==="object"&&typeof x.putStream=="function"&&x.putStream(),delete w[N]}}(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},sS=xr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),zt(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+Wo(n(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},wm=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+Wo(n(t))+")"},ds=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ds.prototype.toString=function(){return this.objId+" 0 R"},ds.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ds.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:sS(i,this.objId,this.scope)}):i instanceof ds?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var aS=function(){ds.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Dn(aS,ds);var oS=function(){ds.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Wo(r(t))+")"}},set:function(r){t=r}})};Dn(oS,ds);var Ki=function t(){ds.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Cr(e,3)},set:function(v){v?this.F=Tr(e,3):this.F=Lr(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof qf)return;s="FieldObject"+t.FieldNum++}var v=function(N){return N};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+Wo(v(s))+")"},set:function(v){s=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(v){s=v}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(v){a=v}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/Mv:u},set:function(v){u=v}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof qf||this instanceof To))return wm(m,this.objId,this.scope)},set:function(v){v=v.toString(),m=v}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Jr==0?wm(g,this.objId,this.scope):g},set:function(v){v=v.toString(),g=this instanceof Jr==0?v.substr(0,1)==="("?fl(v.substr(1,v.length-2)):fl(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Jr==1?fl(g.substr(1,g.length-1)):g},set:function(v){v=v.toString(),g=this instanceof Jr==1?"/"+v:v}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Jr==0?wm(h,this.objId,this.scope):h},set:function(v){v=v.toString(),h=this instanceof Jr==0?v.substr(0,1)==="("?fl(v.substr(1,v.length-2)):fl(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Jr==1?fl(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof Jr==1?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(v){v=!!v,w=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(v){S=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,1)},set:function(v){v?this.Ff=Tr(this.Ff,1):this.Ff=Lr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,2)},set:function(v){v?this.Ff=Tr(this.Ff,2):this.Ff=Lr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,3)},set:function(v){v?this.Ff=Tr(this.Ff,3):this.Ff=Lr(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');b=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(b){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};Dn(Ki,ds);var $l=function(){Ki.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return sS(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,u=[];l=a.exec(s);)u.push(l[o]);return u}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,18)},set:function(r){r?this.Ff=Tr(this.Ff,18):this.Ff=Lr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Tr(this.Ff,19):this.Ff=Lr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,20)},set:function(r){r?(this.Ff=Tr(this.Ff,20),e.sort()):this.Ff=Lr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,22)},set:function(r){r?this.Ff=Tr(this.Ff,22):this.Ff=Lr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,23)},set:function(r){r?this.Ff=Tr(this.Ff,23):this.Ff=Lr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,27)},set:function(r){r?this.Ff=Tr(this.Ff,27):this.Ff=Lr(this.Ff,27)}}),this.hasAppearanceStream=!1};Dn($l,Ki);var ql=function(){$l.call(this),this.fontName="helvetica",this.combo=!1};Dn(ql,$l);var Wl=function(){ql.call(this),this.combo=!0};Dn(Wl,ql);var rf=function(){Wl.call(this),this.edit=!0};Dn(rf,Wl);var Jr=function(){Ki.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,15)},set:function(r){r?this.Ff=Tr(this.Ff,15):this.Ff=Lr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,16)},set:function(r){r?this.Ff=Tr(this.Ff,16):this.Ff=Lr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,17)},set:function(r){r?this.Ff=Tr(this.Ff,17):this.Ff=Lr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,26)},set:function(r){r?this.Ff=Tr(this.Ff,26):this.Ff=Lr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Wo(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){zt(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Dn(Jr,Ki);var nf=function(){Jr.call(this),this.pushButton=!0};Dn(nf,Jr);var Hl=function(){Jr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Dn(Hl,Jr);var qf=function(){var t,e;Ki.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+Wo(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){zt(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Be.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Dn(qf,Ki),Hl.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Hl.prototype.createOption=function(t){var e=new qf;return e.Parent=this,e.optionName=t,this.Kids.push(e),H7.call(this.scope,e),e};var sf=function(){Jr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Be.CheckBox.createAppearanceStream()};Dn(sf,Jr);var To=function(){Ki.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,13)},set:function(e){e?this.Ff=Tr(this.Ff,13):this.Ff=Lr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,21)},set:function(e){e?this.Ff=Tr(this.Ff,21):this.Ff=Lr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,23)},set:function(e){e?this.Ff=Tr(this.Ff,23):this.Ff=Lr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,24)},set:function(e){e?this.Ff=Tr(this.Ff,24):this.Ff=Lr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,25)},set:function(e){e?this.Ff=Tr(this.Ff,25):this.Ff=Lr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,26)},set:function(e){e?this.Ff=Tr(this.Ff,26):this.Ff=Lr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Dn(To,Ki);var af=function(){To.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,14)},set:function(t){t?this.Ff=Tr(this.Ff,14):this.Ff=Lr(this.Ff,14)}}),this.password=!0};Dn(af,To);var Be={CheckBox:{createAppearanceStream:function(){return{N:{On:Be.CheckBox.YesNormal},D:{On:Be.CheckBox.YesPushDown,Off:Be.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=ls(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=c1(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+ht(Be.internal.getWidth(t))+" "+ht(Be.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+ht(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=ls(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=Be.internal.getHeight(t),a=Be.internal.getWidth(t),o=c1(t,t.caption);return i.push("1 g"),i.push("0 0 "+ht(a)+" "+ht(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+ht(a-1)+" "+ht(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+ht(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=ls(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ht(Be.internal.getWidth(t))+" "+ht(Be.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Be.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Be.RadioButton.Circle.YesNormal,e.D[t]=Be.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=ls(t);e.scope=t.scope;var r=[],n=Be.internal.getWidth(t)<=Be.internal.getHeight(t)?Be.internal.getWidth(t)/4:Be.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Be.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+xa(Be.internal.getWidth(t)/2)+" "+xa(Be.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=ls(t);e.scope=t.scope;var r=[],n=Be.internal.getWidth(t)<=Be.internal.getHeight(t)?Be.internal.getWidth(t)/4:Be.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Be.internal.Bezier_C).toFixed(5)),a=Number((n*Be.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+xa(Be.internal.getWidth(t)/2)+" "+xa(Be.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+xa(Be.internal.getWidth(t)/2)+" "+xa(Be.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=ls(t);e.scope=t.scope;var r=[],n=Be.internal.getWidth(t)<=Be.internal.getHeight(t)?Be.internal.getWidth(t)/4:Be.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Be.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+xa(Be.internal.getWidth(t)/2)+" "+xa(Be.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Be.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Be.RadioButton.Cross.YesNormal,e.D[t]=Be.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=ls(t);e.scope=t.scope;var r=[],n=Be.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+ht(Be.internal.getWidth(t)-2)+" "+ht(Be.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(ht(n.x1.x)+" "+ht(n.x1.y)+" m"),r.push(ht(n.x2.x)+" "+ht(n.x2.y)+" l"),r.push(ht(n.x4.x)+" "+ht(n.x4.y)+" m"),r.push(ht(n.x3.x)+" "+ht(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=ls(t);e.scope=t.scope;var r=Be.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+ht(Be.internal.getWidth(t))+" "+ht(Be.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ht(Be.internal.getWidth(t)-2)+" "+ht(Be.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(ht(r.x1.x)+" "+ht(r.x1.y)+" m"),n.push(ht(r.x2.x)+" "+ht(r.x2.y)+" l"),n.push(ht(r.x4.x)+" "+ht(r.x4.y)+" m"),n.push(ht(r.x3.x)+" "+ht(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=ls(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ht(Be.internal.getWidth(t))+" "+ht(Be.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Be.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Be.internal.getWidth(t),r=Be.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Be.internal.getWidth=function(t){var e=0;return zt(t)==="object"&&(e=Lw(t.Rect[2])),e},Be.internal.getHeight=function(t){var e=0;return zt(t)==="object"&&(e=Lw(t.Rect[3])),e};var H7=xr.addField=function(t){if(W7(this,t),!(t instanceof Ki))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};xr.AcroFormChoiceField=$l,xr.AcroFormListBox=ql,xr.AcroFormComboBox=Wl,xr.AcroFormEditBox=rf,xr.AcroFormButton=Jr,xr.AcroFormPushButton=nf,xr.AcroFormRadioButton=Hl,xr.AcroFormCheckBox=sf,xr.AcroFormTextField=To,xr.AcroFormPasswordField=af,xr.AcroFormAppearance=Be,xr.AcroForm={ChoiceField:$l,ListBox:ql,ComboBox:Wl,EditBox:rf,Button:Jr,PushButton:nf,RadioButton:Hl,CheckBox:sf,TextField:To,PasswordField:af,Appearance:Be},qe.AcroForm={ChoiceField:$l,ListBox:ql,ComboBox:Wl,EditBox:rf,Button:Jr,PushButton:nf,RadioButton:Hl,CheckBox:sf,TextField:To,PasswordField:af,Appearance:Be};qe.AcroForm;function lS(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(C,I){var Y,X,ue,de,ce,K=r;if((I=I||r)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(G(C))for(ce in n)for(ue=n[ce],Y=0;Y<ue.length;Y+=1){for(de=!0,X=0;X<ue[Y].length;X+=1)if(ue[Y][X]!==void 0&&ue[Y][X]!==C[X]){de=!1;break}if(de===!0){K=ce;break}}else for(ce in n)for(ue=n[ce],Y=0;Y<ue.length;Y+=1){for(de=!0,X=0;X<ue[Y].length;X+=1)if(ue[Y][X]!==void 0&&ue[Y][X]!==C.charCodeAt(X)){de=!1;break}if(de===!0){K=ce;break}}return K===r&&I!==r&&(K=I),K},s=function C(I){for(var Y=this.internal.write,X=this.internal.putStream,ue=(0,this.internal.getFilters)();ue.indexOf("FlateEncode")!==-1;)ue.splice(ue.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var de=[];if(de.push({key:"Type",value:"/XObject"}),de.push({key:"Subtype",value:"/Image"}),de.push({key:"Width",value:I.width}),de.push({key:"Height",value:I.height}),I.colorSpace===v.INDEXED?de.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(de.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===v.DEVICE_CMYK&&de.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),de.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&de.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var ce="",K=0,re=I.transparency.length;K<re;K++)ce+=I.transparency[K]+" "+I.transparency[K]+" ";de.push({key:"Mask",value:"["+ce+"]"})}I.sMask!==void 0&&de.push({key:"SMask",value:I.objectId+1+" 0 R"});var me=I.filter!==void 0?["/"+I.filter]:void 0;if(X({data:I.data,additionalKeyValues:de,alreadyAppliedFilters:me,objectId:I.objectId}),Y("endobj"),"sMask"in I&&I.sMask!==void 0){var he,T=(he=I.sMaskBitsPerComponent)!==null&&he!==void 0?he:I.bitsPerComponent,z={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:T,data:I.sMask};"filter"in I&&(z.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(T," /Columns ").concat(I.width),z.filter=I.filter),C.call(this,z)}if(I.colorSpace===v.INDEXED){var J=this.internal.newObject();X({data:F(new Uint8Array(I.palette)),objectId:J}),Y("endobj")}},a=function(){var C=this.internal.collections[e+"images"];for(var I in C)s.call(this,C[I])},o=function(){var C,I=this.internal.collections[e+"images"],Y=this.internal.write;for(var X in I)Y("/I"+(C=I[X]).index,C.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var C=this.internal.collections[e+"images"];return l.call(this),C},c=function(){return Object.keys(this.internal.collections[e+"images"]).length},m=function(C){return typeof t["process"+C.toUpperCase()]=="function"},g=function(C){return zt(C)==="object"&&C.nodeType===1},h=function(C,I){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var Y=""+C.getAttribute("src");if(Y.indexOf("data:image/")===0)return tf(unescape(Y).split("base64,").pop());var X=t.loadFile(Y,!0);if(X!==void 0)return X}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var ue;switch(I){case"PNG":ue="image/png";break;case"WEBP":ue="image/webp";break;default:ue="image/jpeg"}return tf(C.toDataURL(ue,1).split("base64,").pop())}},S=function(C){var I=this.internal.collections[e+"images"];if(I){for(var Y in I)if(C===I[Y].alias)return I[Y]}},w=function(C,I,Y){return C||I||(C=-96,I=-96),C<0&&(C=-1*Y.width*72/C/this.internal.scaleFactor),I<0&&(I=-1*Y.height*72/I/this.internal.scaleFactor),C===0&&(C=I*Y.width/Y.height),I===0&&(I=C*Y.height/Y.width),[C,I]},b=function(C,I,Y,X,ue,de){var ce=w.call(this,Y,X,ue),K=this.internal.getCoordinateString,re=this.internal.getVerticalCoordinateString,me=u.call(this);if(Y=ce[0],X=ce[1],me[ue.index]=ue,de){de*=Math.PI/180;var he=Math.cos(de),T=Math.sin(de),z=function(Q){return Q.toFixed(4)},J=[z(he),z(T),z(-1*T),z(he),0,0,"cm"]}this.internal.write("q"),de?(this.internal.write([1,"0","0",1,K(C),re(I+X),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([K(Y),"0","0",K(X),"0","0","cm"].join(" "))):this.internal.write([K(Y),"0","0",K(X),K(C),re(I+X),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ue.index+" Do"),this.internal.write("Q")},v=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var N=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=t.__addimage__.sHashCode=function(C){var I,Y,X=0;if(typeof C=="string")for(Y=C.length,I=0;I<Y;I++)X=(X<<5)-X+C.charCodeAt(I),X|=0;else if(G(C))for(Y=C.byteLength/2,I=0;I<Y;I++)X=(X<<5)-X+C[I],X|=0;return X},j=t.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var I=!0;return C.length===0&&(I=!1),C.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(I=!1),I},D=t.__addimage__.extractImageFromDataUrl=function(C){if(C==null||!(C=C.trim()).startsWith("data:"))return null;var I=C.indexOf(",");return I<0?null:C.substring(0,I).trim().endsWith("base64")?C.substring(I+1):null};t.__addimage__.isArrayBuffer=function(C){return C instanceof ArrayBuffer};var G=t.__addimage__.isArrayBufferView=function(C){return C instanceof Int8Array||C instanceof Uint8Array||C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array},W=t.__addimage__.binaryStringToUint8Array=function(C){for(var I=C.length,Y=new Uint8Array(I),X=0;X<I;X++)Y[X]=C.charCodeAt(X);return Y},F=t.__addimage__.arrayBufferToBinaryString=function(C){for(var I="",Y=G(C)?C:new Uint8Array(C),X=0;X<Y.length;X+=8192)I+=String.fromCharCode.apply(null,Y.subarray(X,X+8192));return I};t.addImage=function(){var C,I,Y,X,ue,de,ce,K,re;if(typeof arguments[1]=="number"?(I=r,Y=arguments[1],X=arguments[2],ue=arguments[3],de=arguments[4],ce=arguments[5],K=arguments[6],re=arguments[7]):(I=arguments[1],Y=arguments[2],X=arguments[3],ue=arguments[4],de=arguments[5],ce=arguments[6],K=arguments[7],re=arguments[8]),zt(C=arguments[0])==="object"&&!g(C)&&"imageData"in C){var me=C;C=me.imageData,I=me.format||I||r,Y=me.x||Y||0,X=me.y||X||0,ue=me.w||me.width||ue,de=me.h||me.height||de,ce=me.alias||ce,K=me.compression||K,re=me.rotation||me.angle||re}var he=this.internal.getFilters();if(K===void 0&&he.indexOf("FlateEncode")!==-1&&(K="SLOW"),isNaN(Y)||isNaN(X))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var T=O.call(this,C,I,ce,K);return b.call(this,Y,X,ue,de,T,re),this};var O=function(C,I,Y,X){var ue,de,ce;if(typeof C=="string"&&i(C)===r){C=unescape(C);var K=V(C,!1);(K!==""||(K=t.loadFile(C,!0))!==void 0)&&(C=K)}if(g(C)&&(C=h(C,I)),I=i(C,I),!m(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((ce=Y)==null||ce.length===0)&&(Y=function(re){return typeof re=="string"||G(re)?x(re):G(re.data)?x(re.data):null}(C)),(ue=S.call(this,Y))||(C instanceof Uint8Array||I==="RGBA"||(de=C,C=W(C)),ue=this["process"+I.toUpperCase()](C,c.call(this),Y,function(re){return re&&typeof re=="string"&&(re=re.toUpperCase()),re in t.image_compression?re:N.NONE}(X),de)),!ue)throw new Error("An unknown error occurred whilst processing the image.");return ue},V=t.__addimage__.convertBase64ToBinaryString=function(C,I){I=typeof I!="boolean"||I;var Y,X="";if(typeof C=="string"){var ue;Y=(ue=D(C))!==null&&ue!==void 0?ue:C;try{X=tf(Y)}catch(de){if(I)throw j(Y)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+de.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return X};t.getImageProperties=function(C){var I,Y,X="";if(g(C)&&(C=h(C)),typeof C=="string"&&i(C)===r&&((X=V(C,!1))===""&&(X=t.loadFile(C)||""),C=X),Y=i(C),!m(Y))throw new Error("addImage does not support files of type '"+Y+"', please ensure that a plugin for '"+Y+"' support is added.");if(C instanceof Uint8Array||(C=W(C)),!(I=this["process"+Y.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=Y,I}})(qe.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};qe.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,c=!1,m=0;m<u.length&&!c;m++)switch((n=u[m]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var g=0;g<u.length;g++){n=u[g];var h=this.internal.pdfEscape,S=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(w.objId),N=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+h(v(n.contents))+")",s+=" /Popup "+b.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+h(v(N))+") >>",w.content=s;var x=w.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+x,n.open&&(s+=" /Open true"),s+=" >>",b.content=s,this.internal.write(w.objId,"0 R",b.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var j=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(S(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var D=this.annotations._nameMap[n.options.name];n.options.pageNumber=D.page,n.options.top=D.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(S(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var G=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+G+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+i),h:u(n+s)},options:a,type:"link"})},t.textWithLink=function(r,n,i,s){var a,o,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var c=this.splitTextToSize(r,o).length;a=Math.ceil(u*c)}else o=l,a=u;return this.text(r,n,i,s),i+=.2*u,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-u,o,a,s),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(qe.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(w){return e[w.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},o=t.__arabicParser__.isArabicEndLetter=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(w){return a(w)&&i.indexOf(w.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(w){var b=0,v=r,N="",x=0;for(b=0;b<w.length;b+=1)v[w.charCodeAt(b)]!==void 0?(x++,typeof(v=v[w.charCodeAt(b)])=="number"&&(N+=String.fromCharCode(v),v=r,x=0),b===w.length-1&&(v=r,N+=w.charAt(b-(x-1)),b-=x-1,x=0)):(v=r,N+=w.charAt(b-x),b-=x,x=0);return N};t.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&n[w.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(w,b,v){return a(w)?s(w)===!1?-1:!u(w)||!a(b)&&!a(v)||!a(v)&&o(b)||o(w)&&!a(b)||o(w)&&l(b)||o(w)&&o(b)?0:c(w)&&a(b)&&!o(b)&&a(v)&&u(v)?3:o(w)||!a(v)?1:2:-1},h=function(w){var b=0,v=0,N=0,x="",j="",D="",G=(w=w||"").split("\\s+"),W=[];for(b=0;b<G.length;b+=1){for(W.push(""),v=0;v<G[b].length;v+=1)x=G[b][v],j=G[b][v-1],D=G[b][v+1],a(x)?(N=g(x,j,D),W[b]+=N!==-1?String.fromCharCode(e[x.charCodeAt(0)][N]):x):W[b]+=x;W[b]=m(W[b])}return W.join(" ")},S=t.__arabicParser__.processArabic=t.processArabic=function(){var w,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(b)){var N=0;for(v=[],N=0;N<b.length;N+=1)Array.isArray(b[N])?v.push([h(b[N][0]),b[N][1],b[N][2]]):v.push([h(b[N])]);w=v}else w=h(b);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};t.events.push(["preProcessText",S])}(qe.API),qe.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(qe.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(w){l=w}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(w){m=w}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(w){g=w}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(w){h=w}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(w){S=w}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){n.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),m=u.font||this.getFont(),g=u.scaleFactor||this.internal.scaleFactor,h=0,S=0,w=0,b=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=u.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(x,j){return x.concat(b.splitTextToSize(j,v))},[])):l=Array.isArray(l)?l:[l];for(var N=0;N<l.length;N++)h<(w=this.getStringUnitWidth(l[N],{font:m})*c)&&(h=w);return h!==0&&(S=l.length),{w:h/=g,h:Math.max((S*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=m.top,h&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,c,m,g){if(n.call(this),!c)throw new Error("No data for PDF table.");var h,S,w,b,v=[],N=[],x=[],j={},D={},G=[],W=[],F=(g=g||{}).autoSize||!1,O=g.printHeaders!==!1,V=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,C=g.margins||Object.assign({width:this.getPageWidth()},e),I=typeof g.padding=="number"?g.padding:3,Y=g.headerBackgroundColor||"#c8c8c8",X=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=V,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=Y,this.internal.__cell__.headerTextColor=X,this.setFontSize(V),m==null)N=v=Object.keys(c[0]),x=v.map(function(){return"left"});else if(Array.isArray(m)&&zt(m[0])==="object")for(v=m.map(function(me){return me.name}),N=m.map(function(me){return me.prompt||me.name||""}),x=m.map(function(me){return me.align||"left"}),h=0;h<m.length;h+=1)D[m[h].name]=.7499990551181103*m[h].width;else Array.isArray(m)&&typeof m[0]=="string"&&(N=v=m,x=v.map(function(){return"left"}));if(F||Array.isArray(m)&&typeof m[0]=="string")for(h=0;h<v.length;h+=1){for(j[b=v[h]]=c.map(function(me){return me[b]}),this.setFont(void 0,"bold"),G.push(this.getTextDimensions(N[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=j[b],this.setFont(void 0,"normal"),w=0;w<S.length;w+=1)G.push(this.getTextDimensions(S[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);D[b]=Math.max.apply(null,G)+I+I,G=[]}if(O){var ue={};for(h=0;h<v.length;h+=1)ue[v[h]]={},ue[v[h]].text=N[h],ue[v[h]].align=x[h];var de=o.call(this,ue,D);W=v.map(function(me){return new s(l,u,D[me],de,ue[me].text,void 0,ue[me].align)}),this.setTableHeaderRow(W),this.printHeaderRow(1,!1)}var ce=m.reduce(function(me,he){return me[he.name]=he.align,me},{});for(h=0;h<c.length;h+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:h,data:c[h]},this);var K=o.call(this,c[h],D);for(w=0;w<v.length;w+=1){var re=c[h][v[w]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:h,col:w,data:re},this),a.call(this,new s(l,u,D[v[w]],K,re,h+2,ce[v[w]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var c=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(h){var S=l[h];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,u[h]-c-c)},this).map(function(h){return this.getLineHeightFactor()*h.length*m/g+c+c},this).reduce(function(h,S){return Math.max(h,S)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){c=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,g.push(c)),c.lineNumber=l;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,c),this.setTextColor(S)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),r=!1}}(qe.API);var uS={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},cS=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],d1=lS(cS),dS=[100,200,300,400,500,600,700,800,900],V7=lS(dS);function bm(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return uS[s=s||"normal"]?s:"normal"}(t.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof d1[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function Pw(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var G7={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Ow={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Rw(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Iw(t){return t.trimLeft()}function K7(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function J7(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Rh,Dw,Mw,pl,Ih,Fw,Bw,Uw,xm=["times"];function zw(t,e,r,n,i){var s=4,a=qw;switch(i){case qe.API.image_compression.FAST:s=1,a=$w;break;case qe.API.image_compression.MEDIUM:s=6,a=Ww;break;case qe.API.image_compression.SLOW:s=9,a=Hw}t=function(l,u,c,m){for(var g,h=l.length/u,S=new Uint8Array(l.length+h),w=[Y7,$w,qw,Ww,Hw],b=0;b<h;b+=1){var v=b*u,N=l.subarray(v,v+u);if(m)S.set(m(N,c,g),v+b);else{for(var x=w.length,j=[],D=0;D<x;D+=1)j[D]=w[D](N,c,g);var G=Q7(j.concat());S.set(j[G],v+b)}g=N}return S}(t,e,Math.ceil(r*n/8),a);var o=i1(t,{level:s});return qe.API.__addimage__.arrayBufferToBinaryString(o)}function Y7(t){var e=Array.apply([],t);return e.unshift(0),e}function $w(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var s=t[i-e]||0;n[i+1]=t[i]-s+256&255}return n}function qw(t,e,r){var n=t.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var a=r&&r[s]||0;i[s+1]=t[s]-a+256&255}return i}function Ww(t,e,r){var n=t.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var a=t[s-e]||0,o=r&&r[s]||0;i[s+1]=t[s]+256-(a+o>>>1)&255}return i}function Hw(t,e,r){var n=t.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var a=X7(t[s-e]||0,r&&r[s]||0,r&&r[s-e]||0);i[s+1]=t[s]-a+256&255}return i}function X7(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),s=Math.abs(t+e-r-r);return n<=i&&n<=s?t:i<=s?e:r}function Q7(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function _m(t,e,r){var n=e*r,i=Math.floor(n/8),s=16-(n-8*i+r),a=(1<<r)-1;return hS(t,i)>>s&a}function Vw(t,e,r,n){var i=r*n,s=Math.floor(i/8),a=16-(i-8*s+n),o=(1<<n)-1,l=(e&o)<<a;(function(u,c,m){if(c+1<u.byteLength)u.setUint16(c,m,!1);else{var g=m>>8&255;u.setUint8(c,g)}})(t,s,hS(t,s)&~(o<<a)&65535|l)}function hS(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function Z7(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var u=!0,c=[],m=0,g=null,h=0,S=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,S=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var w=t[e++];m=t[e++]|t[e++]<<8,g=t[e++],1&w||(g=null),h=w>>2&7,e++;break;case 254:for(;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var b=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,j=t[e++],D=j>>6&1,G=1<<1+(7&j),W=o,F=l,O=!1;j>>7&&(O=!0,W=e,F=G,e+=3*G);var V=e;for(e++;;){var C;if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}c.push({x:b,y:v,width:N,height:x,has_local_palette:O,palette_offset:W,palette_size:F,data_offset:V,data_length:e-V,transparent_index:g,interlaced:!!D,delay:m,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return S},this.frameInfo=function(I){if(I<0||I>=c.length)throw new Error("Frame index out of range.");return c[I]},this.decodeAndBlitFrameBGRA=function(I,Y){var X=this.frameInfo(I),ue=X.width*X.height,de=new Uint8Array(ue);Gw(t,X.data_offset,de,ue);var ce=X.palette_offset,K=X.transparent_index;K===null&&(K=256);var re=X.width,me=r-re,he=re,T=4*(X.y*r+X.x),z=4*((X.y+X.height)*r+X.x),J=T,Q=4*me;X.interlaced===!0&&(Q+=4*r*7);for(var ee=8,se=0,pe=de.length;se<pe;++se){var ge=de[se];if(he===0&&(he=re,(J+=Q)>=z&&(Q=4*me+4*r*(ee-1),J=T+(re+me)*(ee<<1),ee>>=1)),ge===K)J+=4;else{var fe=t[ce+3*ge],Ne=t[ce+3*ge+1],Ae=t[ce+3*ge+2];Y[J++]=Ae,Y[J++]=Ne,Y[J++]=fe,Y[J++]=255}--he}},this.decodeAndBlitFrameRGBA=function(I,Y){var X=this.frameInfo(I),ue=X.width*X.height,de=new Uint8Array(ue);Gw(t,X.data_offset,de,ue);var ce=X.palette_offset,K=X.transparent_index;K===null&&(K=256);var re=X.width,me=r-re,he=re,T=4*(X.y*r+X.x),z=4*((X.y+X.height)*r+X.x),J=T,Q=4*me;X.interlaced===!0&&(Q+=4*r*7);for(var ee=8,se=0,pe=de.length;se<pe;++se){var ge=de[se];if(he===0&&(he=re,(J+=Q)>=z&&(Q=4*me+4*r*(ee-1),J=T+(re+me)*(ee<<1),ee>>=1)),ge===K)J+=4;else{var fe=t[ce+3*ge],Ne=t[ce+3*ge+1],Ae=t[ce+3*ge+2];Y[J++]=fe,Y[J++]=Ne,Y[J++]=Ae,Y[J++]=255}--he}}}function Gw(t,e,r,n){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,u=(1<<l)-1,c=0,m=0,g=0,h=t[e++],S=new Int32Array(4096),w=null;;){for(;c<16&&h!==0;)m|=t[e++]<<c,c+=8,h===1?h=t[e++]:--h;if(c<l)break;var b=m&u;if(m>>=l,c-=l,b!==s){if(b===a)break;for(var v=b<o?b:w,N=0,x=v;x>s;)x=S[x]>>8,++N;var j=x;if(g+N+(v!==b?1:0)>n)return void Kt.log("Warning, gif stream longer than expected.");r[g++]=j;var D=g+=N;for(v!==b&&(r[g++]=j),x=v;N--;)x=S[x],r[--D]=255&x,x>>=8;w!==null&&o<4096&&(S[o++]=w<<8|j,o>=u+1&&l<12&&(++l,u=u<<1|1)),w=b}else o=a+1,u=(1<<(l=i+1))-1,w=null}return g!==n&&Kt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Sm(t){var e,r,n,i,s,a=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),m=new Array(65535),g=new Array(65535),h=new Array(64),S=new Array(64),w=[],b=0,v=7,N=new Array(64),x=new Array(64),j=new Array(64),D=new Array(256),G=new Array(2048),W=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],F=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ue=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function de(T,z){for(var J=0,Q=0,ee=new Array,se=1;se<=16;se++){for(var pe=1;pe<=T[se];pe++)ee[z[Q]]=[],ee[z[Q]][0]=J,ee[z[Q]][1]=se,Q++,J++;J*=2}return ee}function ce(T){for(var z=T[0],J=T[1]-1;J>=0;)z&1<<J&&(b|=1<<v),J--,--v<0&&(b==255?(K(255),K(0)):K(b),v=7,b=0)}function K(T){w.push(T)}function re(T){K(T>>8&255),K(255&T)}function me(T,z,J,Q,ee){for(var se,pe=ee[0],ge=ee[240],fe=function(Se,We){var Le,Ke,Je,Lt,St,ot,vt,pt,Ie,lt,Pe=0;for(Ie=0;Ie<8;++Ie){Le=Se[Pe],Ke=Se[Pe+1],Je=Se[Pe+2],Lt=Se[Pe+3],St=Se[Pe+4],ot=Se[Pe+5],vt=Se[Pe+6];var ar=Le+(pt=Se[Pe+7]),jt=Le-pt,wt=Ke+vt,mt=Ke-vt,Wt=Je+ot,Qe=Je-ot,Mt=Lt+St,tt=Lt-St,ut=ar+Mt,Jt=ar-Mt,Ze=wt+Wt,Fe=wt-Wt;Se[Pe]=ut+Ze,Se[Pe+4]=ut-Ze;var dt=.707106781*(Fe+Jt);Se[Pe+2]=Jt+dt,Se[Pe+6]=Jt-dt;var ln=.382683433*((ut=tt+Qe)-(Fe=mt+jt)),Ft=.5411961*ut+ln,dr=1.306562965*Fe+ln,Sr=.707106781*(Ze=Qe+mt),Ye=jt+Sr,Ht=jt-Sr;Se[Pe+5]=Ht+Ft,Se[Pe+3]=Ht-Ft,Se[Pe+1]=Ye+dr,Se[Pe+7]=Ye-dr,Pe+=8}for(Pe=0,Ie=0;Ie<8;++Ie){Le=Se[Pe],Ke=Se[Pe+8],Je=Se[Pe+16],Lt=Se[Pe+24],St=Se[Pe+32],ot=Se[Pe+40],vt=Se[Pe+48];var Gr=Le+(pt=Se[Pe+56]),hr=Le-pt,yr=Ke+vt,qt=Ke-vt,or=Je+ot,Yt=Je-ot,Mn=Lt+St,ni=Lt-St,Si=Gr+Mn,Yi=Gr-Mn,Ni=yr+or,ki=yr-or;Se[Pe]=Si+Ni,Se[Pe+32]=Si-Ni;var ii=.707106781*(ki+Yi);Se[Pe+16]=Yi+ii,Se[Pe+48]=Yi-ii;var Ka=.382683433*((Si=ni+Yt)-(ki=qt+hr)),Xi=.5411961*Si+Ka,Ja=1.306562965*ki+Ka,Ho=.707106781*(Ni=Yt+qt),Vo=hr+Ho,Go=hr-Ho;Se[Pe+40]=Go+Xi,Se[Pe+24]=Go-Xi,Se[Pe+8]=Vo+Ja,Se[Pe+56]=Vo-Ja,Pe++}for(Ie=0;Ie<64;++Ie)lt=Se[Ie]*We[Ie],h[Ie]=lt>0?lt+.5|0:lt-.5|0;return h}(T,z),Ne=0;Ne<64;++Ne)S[W[Ne]]=fe[Ne];var Ae=S[0]-J;J=S[0],Ae==0?ce(Q[0]):(ce(Q[g[se=32767+Ae]]),ce(m[se]));for(var Ce=63;Ce>0&&S[Ce]==0;)Ce--;if(Ce==0)return ce(pe),J;for(var Re,U=1;U<=Ce;){for(var Ee=U;S[U]==0&&U<=Ce;)++U;var ft=U-Ee;if(ft>=16){Re=ft>>4;for(var et=1;et<=Re;++et)ce(ge);ft&=15}se=32767+S[U],ce(ee[(ft<<4)+g[se]]),ce(m[se]),U++}return Ce!=63&&ce(pe),J}function he(T){T=Math.min(Math.max(T,1),100),s!=T&&(function(z){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var ee=a((J[Q]*z+50)/100);ee=Math.min(Math.max(ee,1),255),o[W[Q]]=ee}for(var se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pe=0;pe<64;pe++){var ge=a((se[pe]*z+50)/100);ge=Math.min(Math.max(ge,1),255),l[W[pe]]=ge}for(var fe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ne=0,Ae=0;Ae<8;Ae++)for(var Ce=0;Ce<8;Ce++)u[Ne]=1/(o[W[Ne]]*fe[Ae]*fe[Ce]*8),c[Ne]=1/(l[W[Ne]]*fe[Ae]*fe[Ce]*8),Ne++}(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),s=T)}this.encode=function(T,z){z&&he(z),w=new Array,b=0,v=7,re(65496),re(65504),re(16),K(74),K(70),K(73),K(70),K(0),K(1),K(1),K(0),re(1),re(1),K(0),K(0),function(){re(65499),re(132),K(0);for(var Ke=0;Ke<64;Ke++)K(o[Ke]);K(1);for(var Je=0;Je<64;Je++)K(l[Je])}(),function(Ke,Je){re(65472),re(17),K(8),re(Je),re(Ke),K(3),K(1),K(17),K(0),K(2),K(17),K(1),K(3),K(17),K(1)}(T.width,T.height),function(){re(65476),re(418),K(0);for(var Ke=0;Ke<16;Ke++)K(F[Ke+1]);for(var Je=0;Je<=11;Je++)K(O[Je]);K(16);for(var Lt=0;Lt<16;Lt++)K(V[Lt+1]);for(var St=0;St<=161;St++)K(C[St]);K(1);for(var ot=0;ot<16;ot++)K(I[ot+1]);for(var vt=0;vt<=11;vt++)K(Y[vt]);K(17);for(var pt=0;pt<16;pt++)K(X[pt+1]);for(var Ie=0;Ie<=161;Ie++)K(ue[Ie])}(),re(65498),re(12),K(3),K(1),K(0),K(2),K(17),K(3),K(17),K(0),K(63),K(0);var J=0,Q=0,ee=0;b=0,v=7,this.encode.displayName="_encode_";for(var se,pe,ge,fe,Ne,Ae,Ce,Re,U,Ee=T.data,ft=T.width,et=T.height,Se=4*ft,We=0;We<et;){for(se=0;se<Se;){for(Ne=Se*We+se,Ce=-1,Re=0,U=0;U<64;U++)Ae=Ne+(Re=U>>3)*Se+(Ce=4*(7&U)),We+Re>=et&&(Ae-=Se*(We+1+Re-et)),se+Ce>=Se&&(Ae-=se+Ce-Se+4),pe=Ee[Ae++],ge=Ee[Ae++],fe=Ee[Ae++],N[U]=(G[pe]+G[ge+256|0]+G[fe+512|0]>>16)-128,x[U]=(G[pe+768|0]+G[ge+1024|0]+G[fe+1280|0]>>16)-128,j[U]=(G[pe+1280|0]+G[ge+1536|0]+G[fe+1792|0]>>16)-128;J=me(N,u,J,e,n),Q=me(x,c,Q,r,i),ee=me(j,c,ee,r,i),se+=32}We+=8}if(v>=0){var Le=[];Le[1]=v+1,Le[0]=(1<<v+1)-1,ce(Le)}return re(65497),new Uint8Array(w)},t=t||50,function(){for(var T=String.fromCharCode,z=0;z<256;z++)D[z]=T(z)}(),e=de(F,O),r=de(I,Y),n=de(V,C),i=de(X,ue),function(){for(var T=1,z=2,J=1;J<=15;J++){for(var Q=T;Q<z;Q++)g[32767+Q]=J,m[32767+Q]=[],m[32767+Q][1]=J,m[32767+Q][0]=Q;for(var ee=-(z-1);ee<=-T;ee++)g[32767+ee]=J,m[32767+ee]=[],m[32767+ee][1]=J,m[32767+ee][0]=z-1+ee;T<<=1,z<<=1}}(),function(){for(var T=0;T<256;T++)G[T]=19595*T,G[T+256|0]=38470*T,G[T+512|0]=7471*T+32768,G[T+768|0]=-11059*T,G[T+1024|0]=-21709*T,G[T+1280|0]=32768*T+8421375,G[T+1536|0]=-27439*T,G[T+1792|0]=-5329*T}(),he(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Pi(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Kw(t){function e(O){if(!O)throw Error("assert :P")}function r(O,V,C){for(var I=0;4>I;I++)if(O[V+I]!=C.charCodeAt(I))return!0;return!1}function n(O,V,C,I,Y){for(var X=0;X<Y;X++)O[V+X]=C[I+X]}function i(O,V,C,I){for(var Y=0;Y<I;Y++)O[V+Y]=C}function s(O){return new Int32Array(O)}function a(O,V){for(var C=[],I=0;I<O;I++)C.push(new V);return C}function o(O,V){var C=[];return function I(Y,X,ue){for(var de=ue[X],ce=0;ce<de&&(Y.push(ue.length>X+1?[]:new V),!(ue.length<X+1));ce++)I(Y[ce],X+1,ue)}(C,0,O),C}var l=function(){var O=this;function V(d,p){for(var _=1<<p-1>>>0;d&_;)_>>>=1;return _?(d&_-1)+_:d}function C(d,p,_,k,E){e(!(k%_));do d[p+(k-=_)]=E;while(0<k)}function I(d,p,_,k,E){if(e(2328>=E),512>=E)var P=s(512);else if((P=s(E))==null)return 0;return function(R,M,B,$,te,le){var q,ne,ae=M,ve=1<<B,oe=s(16),ye=s(16);for(e(te!=0),e($!=null),e(R!=null),e(0<B),ne=0;ne<te;++ne){if(15<$[ne])return 0;++oe[$[ne]]}if(oe[0]==te)return 0;for(ye[1]=0,q=1;15>q;++q){if(oe[q]>1<<q)return 0;ye[q+1]=ye[q]+oe[q]}for(ne=0;ne<te;++ne)q=$[ne],0<$[ne]&&(le[ye[q]++]=ne);if(ye[15]==1)return($=new Y).g=0,$.value=le[0],C(R,ae,1,ve,$),ve;var be,ke=-1,_e=ve-1,Ve=0,De=1,bt=1,ze=1<<B;for(ne=0,q=1,te=2;q<=B;++q,te<<=1){if(De+=bt<<=1,0>(bt-=oe[q]))return 0;for(;0<oe[q];--oe[q])($=new Y).g=q,$.value=le[ne++],C(R,ae+Ve,te,ze,$),Ve=V(Ve,q)}for(q=B+1,te=2;15>=q;++q,te<<=1){if(De+=bt<<=1,0>(bt-=oe[q]))return 0;for(;0<oe[q];--oe[q]){if($=new Y,(Ve&_e)!=ke){for(ae+=ze,be=1<<(ke=q)-B;15>ke&&!(0>=(be-=oe[ke]));)++ke,be<<=1;ve+=ze=1<<(be=ke-B),R[M+(ke=Ve&_e)].g=be+B,R[M+ke].value=ae-M-ke}$.g=q-B,$.value=le[ne++],C(R,ae+(Ve>>B),te,ze,$),Ve=V(Ve,q)}}return De!=2*ye[15]-1?0:ve}(d,p,_,k,E,P)}function Y(){this.value=this.g=0}function X(){this.value=this.g=0}function ue(){this.G=a(5,Y),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(ao,X)}function de(d,p,_,k){e(d!=null),e(p!=null),e(2147483648>k),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=p,d.pa=_,d.Jd=p,d.Yc=_+k,d.Zc=4<=k?_+k-4+1:_,pe(d)}function ce(d,p){for(var _=0;0<p--;)_|=fe(d,128)<<p;return _}function K(d,p){var _=ce(d,p);return ge(d)?-_:_}function re(d,p,_,k){var E,P=0;for(e(d!=null),e(p!=null),e(4294967288>k),d.Sb=k,d.Ra=0,d.u=0,d.h=0,4<k&&(k=4),E=0;E<k;++E)P+=p[_+E]<<8*E;d.Ra=P,d.bb=k,d.oa=p,d.pa=_}function me(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<ia-8>>>0,++d.bb,d.u-=8;Q(d)&&(d.h=1,d.u=0)}function he(d,p){if(e(0<=p),!d.h&&p<=Bn){var _=J(d)&Fn[p];return d.u+=p,me(d),_}return d.h=1,d.u=0}function T(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(d){return d.Ra>>>(d.u&ia-1)>>>0}function Q(d){return e(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>ia}function ee(d,p){d.u=p,d.h=Q(d)}function se(d){d.u>=As&&(e(d.u>=As),me(d))}function pe(d){e(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(e(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function ge(d){return ce(d,1)}function fe(d,p){var _=d.Ca;0>d.b&&pe(d);var k=d.b,E=_*p>>>8,P=(d.I>>>k>E)+0;for(P?(_-=E,d.I-=E+1<<k>>>0):_=E+1,k=_,E=0;256<=k;)E+=8,k>>=8;return k=7^E+sa[k],d.b-=k,d.Ca=(_<<k)-1,P}function Ne(d,p,_){d[p+0]=_>>24&255,d[p+1]=_>>16&255,d[p+2]=_>>8&255,d[p+3]=255&_}function Ae(d,p){return d[p+0]|d[p+1]<<8}function Ce(d,p){return Ae(d,p)|d[p+2]<<16}function Re(d,p){return Ae(d,p)|Ae(d,p+2)<<16}function U(d,p){var _=1<<p;return e(d!=null),e(0<p),d.X=s(_),d.X==null?0:(d.Mb=32-p,d.Xa=p,1)}function Ee(d,p){e(d!=null),e(p!=null),e(d.Xa==p.Xa),n(p.X,0,d.X,0,1<<p.Xa)}function ft(){this.X=[],this.Xa=this.Mb=0}function et(d,p,_,k){e(_!=null),e(k!=null);var E=_[0],P=k[0];return E==0&&(E=(d*P+p/2)/p),P==0&&(P=(p*E+d/2)/d),0>=E||0>=P?0:(_[0]=E,k[0]=P,1)}function Se(d,p){return d+(1<<p)-1>>>p}function We(d,p){return((4278255360&d)+(4278255360&p)>>>0&4278255360)+((16711935&d)+(16711935&p)>>>0&16711935)>>>0}function Le(d,p){O[p]=function(_,k,E,P,R,M,B){var $;for($=0;$<R;++$){var te=O[d](M[B+$-1],E,P+$);M[B+$]=We(_[k+$],te)}}}function Ke(){this.ud=this.hd=this.jd=0}function Je(d,p){return((4278124286&(d^p))>>>1)+(d&p)>>>0}function Lt(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function St(d,p){return Lt(d+(d-p+.5>>1))}function ot(d,p,_){return Math.abs(p-_)-Math.abs(d-_)}function vt(d,p,_,k,E,P,R){for(k=P[R-1],_=0;_<E;++_)P[R+_]=k=We(d[p+_],k)}function pt(d,p,_,k,E){var P;for(P=0;P<_;++P){var R=d[p+P],M=R>>8&255,B=16711935&(B=(B=16711935&R)+((M<<16)+M));k[E+P]=(4278255360&R)+B>>>0}}function Ie(d,p){p.jd=255&d,p.hd=d>>8&255,p.ud=d>>16&255}function lt(d,p,_,k,E,P){var R;for(R=0;R<k;++R){var M=p[_+R],B=M>>>8,$=M,te=255&(te=(te=M>>>16)+((d.jd<<24>>24)*(B<<24>>24)>>>5));$=255&($=($+=(d.hd<<24>>24)*(B<<24>>24)>>>5)+((d.ud<<24>>24)*(te<<24>>24)>>>5)),E[P+R]=(4278255360&M)+(te<<16)+$}}function Pe(d,p,_,k,E){O[p]=function(P,R,M,B,$,te,le,q,ne){for(B=le;B<q;++B)for(le=0;le<ne;++le)$[te++]=E(M[k(P[R++])])},O[d]=function(P,R,M,B,$,te,le){var q=8>>P.b,ne=P.Ea,ae=P.K[0],ve=P.w;if(8>q)for(P=(1<<P.b)-1,ve=(1<<q)-1;R<M;++R){var oe,ye=0;for(oe=0;oe<ne;++oe)oe&P||(ye=k(B[$++])),te[le++]=E(ae[ye&ve]),ye>>=q}else O["VP8LMapColor"+_](B,$,ae,ve,te,le,R,M,ne)}}function ar(d,p,_,k,E){for(_=p+_;p<_;){var P=d[p++];k[E++]=P>>16&255,k[E++]=P>>8&255,k[E++]=255&P}}function jt(d,p,_,k,E){for(_=p+_;p<_;){var P=d[p++];k[E++]=P>>16&255,k[E++]=P>>8&255,k[E++]=255&P,k[E++]=P>>24&255}}function wt(d,p,_,k,E){for(_=p+_;p<_;){var P=(R=d[p++])>>16&240|R>>12&15,R=240&R|R>>28&15;k[E++]=P,k[E++]=R}}function mt(d,p,_,k,E){for(_=p+_;p<_;){var P=(R=d[p++])>>16&248|R>>13&7,R=R>>5&224|R>>3&31;k[E++]=P,k[E++]=R}}function Wt(d,p,_,k,E){for(_=p+_;p<_;){var P=d[p++];k[E++]=255&P,k[E++]=P>>8&255,k[E++]=P>>16&255}}function Qe(d,p,_,k,E,P){if(P==0)for(_=p+_;p<_;)Ne(k,((P=d[p++])[0]>>24|P[1]>>8&65280|P[2]<<8&16711680|P[3]<<24)>>>0),E+=32;else n(k,E,d,p,_)}function Mt(d,p){O[p][0]=O[d+"0"],O[p][1]=O[d+"1"],O[p][2]=O[d+"2"],O[p][3]=O[d+"3"],O[p][4]=O[d+"4"],O[p][5]=O[d+"5"],O[p][6]=O[d+"6"],O[p][7]=O[d+"7"],O[p][8]=O[d+"8"],O[p][9]=O[d+"9"],O[p][10]=O[d+"10"],O[p][11]=O[d+"11"],O[p][12]=O[d+"12"],O[p][13]=O[d+"13"],O[p][14]=O[d+"0"],O[p][15]=O[d+"0"]}function tt(d){return d==Xp||d==Qp||d==zd||d==Zp}function ut(){this.eb=[],this.size=this.A=this.fb=0}function Jt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ze(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ut,this.f.kb=new Jt,this.sd=null}function Fe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function dt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ln(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function Ft(d,p){var _=d.T,k=p.ba.f.RGBA,E=k.eb,P=k.fb+d.ka*k.A,R=ci[p.ba.S],M=d.y,B=d.O,$=d.f,te=d.N,le=d.ea,q=d.W,ne=p.cc,ae=p.dc,ve=p.Mc,oe=p.Nc,ye=d.ka,be=d.ka+d.T,ke=d.U,_e=ke+1>>1;for(ye==0?R(M,B,null,null,$,te,le,q,$,te,le,q,E,P,null,null,ke):(R(p.ec,p.fc,M,B,ne,ae,ve,oe,$,te,le,q,E,P-k.A,E,P,ke),++_);ye+2<be;ye+=2)ne=$,ae=te,ve=le,oe=q,te+=d.Rc,q+=d.Rc,P+=2*k.A,R(M,(B+=2*d.fa)-d.fa,M,B,ne,ae,ve,oe,$,te,le,q,E,P-k.A,E,P,ke);return B+=d.fa,d.j+be<d.o?(n(p.ec,p.fc,M,B,ke),n(p.cc,p.dc,$,te,_e),n(p.Mc,p.Nc,le,q,_e),_--):1&be||R(M,B,null,null,$,te,le,q,$,te,le,q,E,P+k.A,null,null,ke),_}function dr(d,p,_){var k=d.F,E=[d.J];if(k!=null){var P=d.U,R=p.ba.S,M=R==Ud||R==zd;p=p.ba.f.RGBA;var B=[0],$=d.ka;B[0]=d.T,d.Kb&&($==0?--B[0]:(--$,E[0]-=d.width),d.j+d.ka+d.T==d.o&&(B[0]=d.o-d.j-$));var te=p.eb;$=p.fb+$*p.A,d=Qv(k,E[0],d.width,P,B,te,$+(M?0:3),p.A),e(_==B),d&&tt(R)&&Fu(te,$,M,P,B,p.A)}return 0}function Sr(d){var p=d.ma,_=p.ba.S,k=11>_,E=_==Fd||_==Bd||_==Ud||_==Yp||_==12||tt(_);if(p.memory=null,p.Ib=null,p.Jb=null,p.Nd=null,!Tu(p.Oa,d,E?11:12))return 0;if(E&&tt(_)&&Au(),d.da)alert("todo:use_scaling");else{if(k){if(p.Ib=ln,d.Kb){if(_=d.U+1>>1,p.memory=s(d.U+2*_),p.memory==null)return 0;p.ec=p.memory,p.fc=0,p.cc=p.ec,p.dc=p.fc+d.U,p.Mc=p.cc,p.Nc=p.dc+_,p.Ib=Ft,Au()}}else alert("todo:EmitYUV");E&&(p.Jb=dr,k&&Ai())}if(k&&!p2){for(d=0;256>d;++d)_N[d]=89858*(d-128)+qd>>$d,kN[d]=-22014*(d-128)+qd,NN[d]=-45773*(d-128),SN[d]=113618*(d-128)+qd>>$d;for(d=Uu;d<r0;++d)p=76283*(d-16)+qd>>$d,jN[d-Uu]=Qi(p,255),AN[d-Uu]=Qi(p+8>>4,15);p2=1}return 1}function Ye(d){var p=d.ma,_=d.U,k=d.T;return e(!(1&d.ka)),0>=_||0>=k?0:(_=p.Ib(d,p),p.Jb!=null&&p.Jb(d,p,_),p.Dc+=_,1)}function Ht(d){d.ma.memory=null}function Gr(d,p,_,k){return he(d,8)!=47?0:(p[0]=he(d,14)+1,_[0]=he(d,14)+1,k[0]=he(d,1),he(d,3)!=0?0:!d.h)}function hr(d,p){if(4>d)return d+1;var _=d-2>>1;return(2+(1&d)<<_)+he(p,_)+1}function yr(d,p){return 120<p?p-120:1<=(_=((_=lN[p-1])>>4)*d+(8-(15&_)))?_:1;var _}function qt(d,p,_){var k=J(_),E=d[p+=255&k].g-8;return 0<E&&(ee(_,_.u+8),k=J(_),p+=d[p].value,p+=k&(1<<E)-1),ee(_,_.u+d[p].g),d[p].value}function or(d,p,_){return _.g+=d.g,_.value+=d.value<<p>>>0,e(8>=_.g),d.g}function Yt(d,p,_){var k=d.xc;return e((p=k==0?0:d.vc[d.md*(_>>k)+(p>>k)])<d.Wb),d.Ya[p]}function Mn(d,p,_,k){var E=d.ab,P=d.c*p,R=d.C;p=R+p;var M=_,B=k;for(k=d.Ta,_=d.Ua;0<E--;){var $=d.gc[E],te=R,le=p,q=M,ne=B,ae=(B=k,M=_,$.Ea);switch(e(te<le),e(le<=$.nc),$.hc){case 2:Nr(q,ne,(le-te)*ae,B,M);break;case 0:var ve=te,oe=le,ye=B,be=M,ke=(ze=$).Ea;ve==0&&(Pu(q,ne,null,null,1,ye,be),vt(q,ne+1,0,0,ke-1,ye,be+1),ne+=ke,be+=ke,++ve);for(var _e=1<<ze.b,Ve=_e-1,De=Se(ke,ze.b),bt=ze.K,ze=ze.w+(ve>>ze.b)*De;ve<oe;){var At=bt,Ur=ze,xt=1;for(tl(q,ne,ye,be-ke,1,ye,be);xt<ke;){var $e=(xt&~Ve)+_e;$e>ke&&($e=ke),(0,Ru[At[Ur++]>>8&15])(q,ne+ +xt,ye,be+xt-ke,$e-xt,ye,be+xt),xt=$e}ne+=ke,be+=ke,++ve&Ve||(ze+=De)}le!=$.nc&&n(B,M-ae,B,M+(le-te-1)*ae,ae);break;case 1:for(ae=q,oe=ne,ke=(q=$.Ea)-(be=q&~(ye=(ne=1<<$.b)-1)),ve=Se(q,$.b),_e=$.K,$=$.w+(te>>$.b)*ve;te<le;){for(Ve=_e,De=$,bt=new Ke,ze=oe+be,At=oe+q;oe<ze;)Ie(Ve[De++],bt),Iu(bt,ae,oe,ne,B,M),oe+=ne,M+=ne;oe<At&&(Ie(Ve[De++],bt),Iu(bt,ae,oe,ke,B,M),oe+=ke,M+=ke),++te&ye||($+=ve)}break;case 3:if(q==B&&ne==M&&0<$.b){for(oe=B,q=ae=M+(le-te)*ae-(be=(le-te)*Se($.Ea,$.b)),ne=B,ye=M,ve=[],be=(ke=be)-1;0<=be;--be)ve[be]=ne[ye+be];for(be=ke-1;0<=be;--be)oe[q+be]=ve[be];Rd($,te,le,B,ae,B,M)}else Rd($,te,le,q,ne,B,M)}M=k,B=_}B!=_&&n(k,_,M,B,P)}function ni(d,p){var _=d.V,k=d.Ba+d.c*d.C,E=p-d.C;if(e(p<=d.l.o),e(16>=E),0<E){var P=d.l,R=d.Ta,M=d.Ua,B=P.width;if(Mn(d,E,_,k),E=M=[M],e((_=d.C)<(k=p)),e(P.v<P.va),k>P.o&&(k=P.o),_<P.j){var $=P.j-_;_=P.j,E[0]+=$*B}if(_>=k?_=0:(E[0]+=4*P.v,P.ka=_-P.j,P.U=P.va-P.v,P.T=k-_,_=1),_){if(M=M[0],11>(_=d.ca).S){var te=_.f.RGBA,le=(k=_.S,E=P.U,P=P.T,$=te.eb,te.A),q=P;for(te=te.fb+d.Ma*te.A;0<q--;){var ne=R,ae=M,ve=E,oe=$,ye=te;switch(k){case Md:Du(ne,ae,ve,oe,ye);break;case Fd:aa(ne,ae,ve,oe,ye);break;case Xp:aa(ne,ae,ve,oe,ye),Fu(oe,ye,0,ve,1,0);break;case s2:oo(ne,ae,ve,oe,ye);break;case Bd:Qe(ne,ae,ve,oe,ye,1);break;case Qp:Qe(ne,ae,ve,oe,ye,1),Fu(oe,ye,0,ve,1,0);break;case Ud:Qe(ne,ae,ve,oe,ye,0);break;case zd:Qe(ne,ae,ve,oe,ye,0),Fu(oe,ye,1,ve,1,0);break;case Yp:oa(ne,ae,ve,oe,ye);break;case Zp:oa(ne,ae,ve,oe,ye),Xv(oe,ye,ve,1,0);break;case a2:la(ne,ae,ve,oe,ye);break;default:e(0)}M+=B,te+=le}d.Ma+=P}else alert("todo:EmitRescaledRowsYUVA");e(d.Ma<=_.height)}}d.C=p,e(d.C<=d.i)}function Si(d){var p;if(0<d.ua)return 0;for(p=0;p<d.Wb;++p){var _=d.Ya[p].G,k=d.Ya[p].H;if(0<_[1][k[1]+0].g||0<_[2][k[2]+0].g||0<_[3][k[3]+0].g)return 0}return 1}function Yi(d,p,_,k,E,P){if(d.Z!=0){var R=d.qd,M=d.rd;for(e(da[d.Z]!=null);p<_;++p)da[d.Z](R,M,k,E,k,E,P),R=k,M=E,E+=P;d.qd=R,d.rd=M}}function Ni(d,p){var _=d.l.ma,k=_.Z==0||_.Z==1?d.l.j:d.C;if(k=d.C<k?k:d.C,e(p<=d.l.o),p>k){var E=d.l.width,P=_.ca,R=_.tb+E*k,M=d.V,B=d.Ba+d.c*k,$=d.gc;e(d.ab==1),e($[0].hc==3),rs($[0],k,p,M,B,P,R),Yi(_,k,p,P,R,E)}d.C=d.Ma=p}function ki(d,p,_,k,E,P,R){var M=d.$/k,B=d.$%k,$=d.m,te=d.s,le=_+d.$,q=le;E=_+k*E;var ne=_+k*P,ae=280+te.ua,ve=d.Pb?M:16777216,oe=0<te.ua?te.Wa:null,ye=te.wc,be=le<ne?Yt(te,B,M):null;e(d.C<P),e(ne<=E);var ke=!1;e:for(;;){for(;ke||le<ne;){var _e=0;if(M>=ve){var Ve=le-_;e((ve=d).Pb),ve.wd=ve.m,ve.xd=Ve,0<ve.s.ua&&Ee(ve.s.Wa,ve.s.vb),ve=M+cN}if(B&ye||(be=Yt(te,B,M)),e(be!=null),be.Qb&&(p[le]=be.qb,ke=!0),!ke)if(se($),be.jc){_e=$,Ve=p;var De=le,bt=be.pd[J(_e)&ao-1];e(be.jc),256>bt.g?(ee(_e,_e.u+bt.g),Ve[De]=bt.value,_e=0):(ee(_e,_e.u+bt.g-256),e(256<=bt.value),_e=bt.value),_e==0&&(ke=!0)}else _e=qt(be.G[0],be.H[0],$);if($.h)break;if(ke||256>_e){if(!ke)if(be.nd)p[le]=(be.qb|_e<<8)>>>0;else{if(se($),ke=qt(be.G[1],be.H[1],$),se($),Ve=qt(be.G[2],be.H[2],$),De=qt(be.G[3],be.H[3],$),$.h)break;p[le]=(De<<24|ke<<16|_e<<8|Ve)>>>0}if(ke=!1,++le,++B>=k&&(B=0,++M,R!=null&&M<=P&&!(M%16)&&R(d,M),oe!=null))for(;q<le;)_e=p[q++],oe.X[(506832829*_e&4294967295)>>>oe.Mb]=_e}else if(280>_e){if(_e=hr(_e-256,$),Ve=qt(be.G[4],be.H[4],$),se($),Ve=yr(k,Ve=hr(Ve,$)),$.h)break;if(le-_<Ve||E-le<_e)break e;for(De=0;De<_e;++De)p[le+De]=p[le+De-Ve];for(le+=_e,B+=_e;B>=k;)B-=k,++M,R!=null&&M<=P&&!(M%16)&&R(d,M);if(e(le<=E),B&ye&&(be=Yt(te,B,M)),oe!=null)for(;q<le;)_e=p[q++],oe.X[(506832829*_e&4294967295)>>>oe.Mb]=_e}else{if(!(_e<ae))break e;for(ke=_e-280,e(oe!=null);q<le;)_e=p[q++],oe.X[(506832829*_e&4294967295)>>>oe.Mb]=_e;_e=le,e(!(ke>>>(Ve=oe).Xa)),p[_e]=Ve.X[ke],ke=!0}ke||e($.h==Q($))}if(d.Pb&&$.h&&le<E)e(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&Ee(d.s.vb,d.s.Wa);else{if($.h)break e;R!=null&&R(d,M>P?P:M),d.a=0,d.$=le-_}return 1}return d.a=3,0}function ii(d){e(d!=null),d.vc=null,d.yc=null,d.Ya=null;var p=d.Wa;p!=null&&(p.X=null),d.vb=null,e(d!=null)}function Ka(){var d=new at;return d==null?null:(d.a=0,d.xb=u2,Mt("Predictor","VP8LPredictors"),Mt("Predictor","VP8LPredictors_C"),Mt("PredictorAdd","VP8LPredictorsAdd"),Mt("PredictorAdd","VP8LPredictorsAdd_C"),Nr=pt,Iu=lt,Du=ar,aa=jt,oa=wt,la=mt,oo=Wt,O.VP8LMapColor32b=ts,O.VP8LMapColor8b=Ou,d)}function Xi(d,p,_,k,E){var P=1,R=[d],M=[p],B=k.m,$=k.s,te=null,le=0;e:for(;;){if(_)for(;P&&he(B,1);){var q=R,ne=M,ae=k,ve=1,oe=ae.m,ye=ae.gc[ae.ab],be=he(oe,2);if(ae.Oc&1<<be)P=0;else{switch(ae.Oc|=1<<be,ye.hc=be,ye.Ea=q[0],ye.nc=ne[0],ye.K=[null],++ae.ab,e(4>=ae.ab),be){case 0:case 1:ye.b=he(oe,3)+2,ve=Xi(Se(ye.Ea,ye.b),Se(ye.nc,ye.b),0,ae,ye.K),ye.K=ye.K[0];break;case 3:var ke,_e=he(oe,8)+1,Ve=16<_e?0:4<_e?1:2<_e?2:3;if(q[0]=Se(ye.Ea,Ve),ye.b=Ve,ke=ve=Xi(_e,1,0,ae,ye.K)){var De,bt=_e,ze=ye,At=1<<(8>>ze.b),Ur=s(At);if(Ur==null)ke=0;else{var xt=ze.K[0],$e=ze.w;for(Ur[0]=ze.K[0][0],De=1;De<1*bt;++De)Ur[De]=We(xt[$e+De],Ur[De-1]);for(;De<4*At;++De)Ur[De]=0;ze.K[0]=null,ze.K[0]=Ur,ke=1}}ve=ke;break;case 2:break;default:e(0)}P=ve}}if(R=R[0],M=M[0],P&&he(B,1)&&!(P=1<=(le=he(B,4))&&11>=le)){k.a=3;break e}var Te;if(Te=P)t:{var jr,gt,Et,tr=k,en=R,wn=M,wr=le,un=_,bn=tr.m,zr=tr.s,Ot=[null],Bt=1,br=0,Ut=uN[wr];r:for(;;){if(un&&he(bn,1)){var tn=he(bn,3)+2,Ci=Se(en,tn),Ar=Se(wn,tn),En=Ci*Ar;if(!Xi(Ci,Ar,0,tr,Ot))break r;for(Ot=Ot[0],zr.xc=tn,jr=0;jr<En;++jr){var Gt=Ot[jr]>>8&65535;Ot[jr]=Gt,Gt>=Bt&&(Bt=Gt+1)}}if(bn.h)break r;for(gt=0;5>gt;++gt){var $r=o2[gt];!gt&&0<wr&&($r+=1<<wr),br<$r&&(br=$r)}var zn=a(Bt*Ut,Y),xn=Bt,$n=a(xn,ue);if($n==null)var qn=null;else e(65536>=xn),qn=$n;var Cn=s(br);if(qn==null||Cn==null||zn==null){tr.a=1;break r}var Wn=zn;for(jr=Et=0;jr<Bt;++jr){var Qt=qn[jr],Hn=Qt.G,Ti=Qt.H,uo=0,Ts=1,rn=0;for(gt=0;5>gt;++gt){$r=o2[gt],Hn[gt]=Wn,Ti[gt]=Et,!gt&&0<wr&&($r+=1<<wr);i:{var Hd,n0=$r,Vd=tr,zu=Cn,TN=Wn,LN=Et,i0=0,ha=Vd.m,PN=he(ha,1);if(i(zu,0,0,n0),PN){var ON=he(ha,1)+1,RN=he(ha,1),v2=he(ha,RN==0?1:8);zu[v2]=1,ON==2&&(zu[v2=he(ha,8)]=1);var Gd=1}else{var y2=s(19),w2=he(ha,4)+4;if(19<w2){Vd.a=3;var Kd=0;break i}for(Hd=0;Hd<w2;++Hd)y2[oN[Hd]]=he(ha,3);var s0=void 0,$u=void 0,b2=Vd,IN=y2,Jd=n0,x2=zu,a0=0,fa=b2.m,_2=8,S2=a(128,Y);n:for(;I(S2,0,7,IN,19);){if(he(fa,1)){var DN=2+2*he(fa,3);if((s0=2+he(fa,DN))>Jd)break n}else s0=Jd;for($u=0;$u<Jd&&s0--;){se(fa);var N2=S2[0+(127&J(fa))];ee(fa,fa.u+N2.g);var nl=N2.value;if(16>nl)x2[$u++]=nl,nl!=0&&(_2=nl);else{var MN=nl==16,k2=nl-16,FN=sN[k2],j2=he(fa,iN[k2])+FN;if($u+j2>Jd)break n;for(var BN=MN?_2:0;0<j2--;)x2[$u++]=BN}}a0=1;break n}a0||(b2.a=3),Gd=a0}(Gd=Gd&&!ha.h)&&(i0=I(TN,LN,8,zu,n0)),Gd&&i0!=0?Kd=i0:(Vd.a=3,Kd=0)}if(Kd==0)break r;if(Ts&&aN[gt]==1&&(Ts=Wn[Et].g==0),uo+=Wn[Et].g,Et+=Kd,3>=gt){var qu,o0=Cn[0];for(qu=1;qu<$r;++qu)Cn[qu]>o0&&(o0=Cn[qu]);rn+=o0}}if(Qt.nd=Ts,Qt.Qb=0,Ts&&(Qt.qb=(Hn[3][Ti[3]+0].value<<24|Hn[1][Ti[1]+0].value<<16|Hn[2][Ti[2]+0].value)>>>0,uo==0&&256>Hn[0][Ti[0]+0].value&&(Qt.Qb=1,Qt.qb+=Hn[0][Ti[0]+0].value<<8)),Qt.jc=!Qt.Qb&&6>rn,Qt.jc){var Yd,Ls=Qt;for(Yd=0;Yd<ao;++Yd){var pa=Yd,ma=Ls.pd[pa],Xd=Ls.G[0][Ls.H[0]+pa];256<=Xd.value?(ma.g=Xd.g+256,ma.value=Xd.value):(ma.g=0,ma.value=0,pa>>=or(Xd,8,ma),pa>>=or(Ls.G[1][Ls.H[1]+pa],16,ma),pa>>=or(Ls.G[2][Ls.H[2]+pa],0,ma),or(Ls.G[3][Ls.H[3]+pa],24,ma))}}}zr.vc=Ot,zr.Wb=Bt,zr.Ya=qn,zr.yc=zn,Te=1;break t}Te=0}if(!(P=Te)){k.a=3;break e}if(0<le){if($.ua=1<<le,!U($.Wa,le)){k.a=1,P=0;break e}}else $.ua=0;var l0=k,A2=R,UN=M,u0=l0.s,c0=u0.xc;if(l0.c=A2,l0.i=UN,u0.md=Se(A2,c0),u0.wc=c0==0?-1:(1<<c0)-1,_){k.xb=vN;break e}if((te=s(R*M))==null){k.a=1,P=0;break e}P=(P=ki(k,te,0,R,M,M,null))&&!B.h;break e}return P?(E!=null?E[0]=te:(e(te==null),e(_)),k.$=0,_||ii($)):ii($),P}function Ja(d,p){var _=d.c*d.i,k=_+p+16*p;return e(d.c<=p),d.V=s(k),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+_+p,1)}function Ho(d,p){var _=d.C,k=p-_,E=d.V,P=d.Ba+d.c*_;for(e(p<=d.l.o);0<k;){var R=16<k?16:k,M=d.l.ma,B=d.l.width,$=B*R,te=M.ca,le=M.tb+B*_,q=d.Ta,ne=d.Ua;Mn(d,R,E,P),Zv(q,ne,te,le,$),Yi(M,_,_+R,te,le,B),k-=R,E+=R*d.c,_+=R}e(_==p),d.C=d.Ma=p}function Vo(){this.ub=this.yd=this.td=this.Rb=0}function Go(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Op(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function gu(){this.Yb=function(){var d=[];return function p(_,k,E){for(var P=E[k],R=0;R<P&&(_.push(E.length>k+1?[]:0),!(E.length<k+1));R++)p(_[R],k+1,E)}(d,0,[3,11]),d}()}function gd(){this.jb=s(3),this.Wc=o([4,8],gu),this.Xc=o([4,17],gu)}function vd(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function si(){this.ld=this.La=this.dd=this.tc=0}function vu(){this.Na=this.la=0}function yd(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function yu(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function wd(){this.uc=this.M=this.Nb=0,this.wa=Array(new si),this.Y=0,this.ya=Array(new yu),this.aa=0,this.l=new Ko}function bd(){this.y=s(16),this.f=s(8),this.ea=s(8)}function xd(){this.cb=this.a=0,this.sc="",this.m=new T,this.Od=new Vo,this.Kc=new Go,this.ed=new vd,this.Qa=new Op,this.Ic=this.$c=this.Aa=0,this.D=new wd,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,T),this.ia=0,this.pb=a(4,yd),this.Pa=new gd,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new bd),this.Hd=0,this.rb=Array(new vu),this.sb=0,this.wa=Array(new si),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new yu),this.L=this.aa=0,this.gd=o([4,2],si),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Qi(d,p){return 0>d?0:d>p?p:d}function Ko(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Rp(){var d=new xd;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,Bu||(Bu=Jo)),d}function Pr(d,p,_){return d.a==0&&(d.a=p,d.sc=_,d.cb=0),0}function _d(d,p,_){return 3<=_&&d[p+0]==157&&d[p+1]==1&&d[p+2]==42}function Zi(d,p){if(d==null)return 0;if(d.a=0,d.sc="OK",p==null)return Pr(d,2,"null VP8Io passed to VP8GetHeaders()");var _=p.data,k=p.w,E=p.ha;if(4>E)return Pr(d,7,"Truncated header.");var P=_[k+0]|_[k+1]<<8|_[k+2]<<16,R=d.Od;if(R.Rb=!(1&P),R.td=P>>1&7,R.yd=P>>4&1,R.ub=P>>5,3<R.td)return Pr(d,3,"Incorrect keyframe parameters.");if(!R.yd)return Pr(d,4,"Frame not displayable.");k+=3,E-=3;var M=d.Kc;if(R.Rb){if(7>E)return Pr(d,7,"cannot parse picture header");if(!_d(_,k,E))return Pr(d,3,"Bad code word");M.c=16383&(_[k+4]<<8|_[k+3]),M.Td=_[k+4]>>6,M.i=16383&(_[k+6]<<8|_[k+5]),M.Ud=_[k+6]>>6,k+=7,E-=7,d.za=M.c+15>>4,d.Ub=M.i+15>>4,p.width=M.c,p.height=M.i,p.Da=0,p.j=0,p.v=0,p.va=p.width,p.o=p.height,p.da=0,p.ib=p.width,p.hb=p.height,p.U=p.width,p.T=p.height,i((P=d.Pa).jb,0,255,P.jb.length),e((P=d.Qa)!=null),P.Cb=0,P.Bb=0,P.Fb=1,i(P.Zb,0,0,P.Zb.length),i(P.Lb,0,0,P.Lb)}if(R.ub>E)return Pr(d,7,"bad partition length");de(P=d.m,_,k,R.ub),k+=R.ub,E-=R.ub,R.Rb&&(M.Ld=ge(P),M.Kd=ge(P)),M=d.Qa;var B,$=d.Pa;if(e(P!=null),e(M!=null),M.Cb=ge(P),M.Cb){if(M.Bb=ge(P),ge(P)){for(M.Fb=ge(P),B=0;4>B;++B)M.Zb[B]=ge(P)?K(P,7):0;for(B=0;4>B;++B)M.Lb[B]=ge(P)?K(P,6):0}if(M.Bb)for(B=0;3>B;++B)$.jb[B]=ge(P)?ce(P,8):255}else M.Bb=0;if(P.Ka)return Pr(d,3,"cannot parse segment header");if((M=d.ed).zd=ge(P),M.Tb=ce(P,6),M.wb=ce(P,3),M.Pc=ge(P),M.Pc&&ge(P)){for($=0;4>$;++$)ge(P)&&(M.vd[$]=K(P,6));for($=0;4>$;++$)ge(P)&&(M.od[$]=K(P,6))}if(d.L=M.Tb==0?0:M.zd?1:2,P.Ka)return Pr(d,3,"cannot parse filter header");var te=E;if(E=B=k,k=B+te,M=te,d.Xb=(1<<ce(d.m,2))-1,te<3*($=d.Xb))_=7;else{for(B+=3*$,M-=3*$,te=0;te<$;++te){var le=_[E+0]|_[E+1]<<8|_[E+2]<<16;le>M&&(le=M),de(d.Jc[+te],_,B,le),B+=le,M-=le,E+=3}de(d.Jc[+$],_,B,M),_=B<k?0:5}if(_!=0)return Pr(d,_,"cannot parse partitions");for(_=ce(B=d.m,7),E=ge(B)?K(B,4):0,k=ge(B)?K(B,4):0,M=ge(B)?K(B,4):0,$=ge(B)?K(B,4):0,B=ge(B)?K(B,4):0,te=d.Qa,le=0;4>le;++le){if(te.Cb){var q=te.Zb[le];te.Fb||(q+=_)}else{if(0<le){d.pb[le]=d.pb[0];continue}q=_}var ne=d.pb[le];ne.Sc[0]=e0[Qi(q+E,127)],ne.Sc[1]=t0[Qi(q+0,127)],ne.Eb[0]=2*e0[Qi(q+k,127)],ne.Eb[1]=101581*t0[Qi(q+M,127)]>>16,8>ne.Eb[1]&&(ne.Eb[1]=8),ne.Qc[0]=e0[Qi(q+$,117)],ne.Qc[1]=t0[Qi(q+B,127)],ne.lc=q+B}if(!R.Rb)return Pr(d,4,"Not a key frame.");for(ge(P),R=d.Pa,_=0;4>_;++_){for(E=0;8>E;++E)for(k=0;3>k;++k)for(M=0;11>M;++M)$=fe(P,mN[_][E][k][M])?ce(P,8):fN[_][E][k][M],R.Wc[_][E].Yb[k][M]=$;for(E=0;17>E;++E)R.Xc[_][E]=R.Wc[_][gN[E]]}return d.kc=ge(P),d.kc&&(d.Bd=ce(P,8)),d.cb=1}function Jo(d,p,_,k,E,P,R){var M=p[E].Yb[_];for(_=0;16>E;++E){if(!fe(d,M[_+0]))return E;for(;!fe(d,M[_+1]);)if(M=p[++E].Yb[0],_=0,E==16)return 16;var B=p[E+1].Yb;if(fe(d,M[_+2])){var $=d,te=0;if(fe($,(q=M)[(le=_)+3]))if(fe($,q[le+6])){for(M=0,le=2*(te=fe($,q[le+8]))+(q=fe($,q[le+9+te])),te=0,q=dN[le];q[M];++M)te+=te+fe($,q[M]);te+=3+(8<<le)}else fe($,q[le+7])?(te=7+2*fe($,165),te+=fe($,145)):te=5+fe($,159);else te=fe($,q[le+4])?3+fe($,q[le+5]):2;M=B[2]}else te=1,M=B[1];B=R+hN[E],0>($=d).b&&pe($);var le,q=$.b,ne=(le=$.Ca>>1)-($.I>>q)>>31;--$.b,$.Ca+=ne,$.Ca|=1,$.I-=(le+1&ne)<<q,P[B]=((te^ne)-ne)*k[(0<E)+0]}return 16}function Sd(d){var p=d.rb[d.sb-1];p.la=0,p.Na=0,i(d.zc,0,0,d.zc.length),d.ja=0}function ai(d,p,_,k,E){E=d[p+_+32*k]+(E>>3),d[p+_+32*k]=-256&E?0>E?0:255:E}function Mr(d,p,_,k,E,P){ai(d,p,0,_,k+E),ai(d,p,1,_,k+P),ai(d,p,2,_,k-P),ai(d,p,3,_,k-E)}function vs(d){return(20091*d>>16)+d}function Nd(d,p,_,k){var E,P=0,R=s(16);for(E=0;4>E;++E){var M=d[p+0]+d[p+8],B=d[p+0]-d[p+8],$=(35468*d[p+4]>>16)-vs(d[p+12]),te=vs(d[p+4])+(35468*d[p+12]>>16);R[P+0]=M+te,R[P+1]=B+$,R[P+2]=B-$,R[P+3]=M-te,P+=4,p++}for(E=P=0;4>E;++E)M=(d=R[P+0]+4)+R[P+8],B=d-R[P+8],$=(35468*R[P+4]>>16)-vs(R[P+12]),ai(_,k,0,0,M+(te=vs(R[P+4])+(35468*R[P+12]>>16))),ai(_,k,1,0,B+$),ai(_,k,2,0,B-$),ai(_,k,3,0,M-te),P++,k+=32}function Ip(d,p,_,k){var E=d[p+0]+4,P=35468*d[p+4]>>16,R=vs(d[p+4]),M=35468*d[p+1]>>16;Mr(_,k,0,E+R,d=vs(d[p+1]),M),Mr(_,k,1,E+P,d,M),Mr(_,k,2,E-P,d,M),Mr(_,k,3,E-R,d,M)}function Dp(d,p,_,k,E){Nd(d,p,_,k),E&&Nd(d,p+16,_,k+4)}function es(d,p,_,k){lo(d,p+0,_,k,1),lo(d,p+32,_,k+128,1)}function kd(d,p,_,k){var E;for(d=d[p+0]+4,E=0;4>E;++E)for(p=0;4>p;++p)ai(_,k,p,E,d)}function jd(d,p,_,k){d[p+0]&&Dt(d,p+0,_,k),d[p+16]&&Dt(d,p+16,_,k+4),d[p+32]&&Dt(d,p+32,_,k+128),d[p+48]&&Dt(d,p+48,_,k+128+4)}function Yo(d,p,_,k){var E,P=s(16);for(E=0;4>E;++E){var R=d[p+0+E]+d[p+12+E],M=d[p+4+E]+d[p+8+E],B=d[p+4+E]-d[p+8+E],$=d[p+0+E]-d[p+12+E];P[0+E]=R+M,P[8+E]=R-M,P[4+E]=$+B,P[12+E]=$-B}for(E=0;4>E;++E)R=(d=P[0+4*E]+3)+P[3+4*E],M=P[1+4*E]+P[2+4*E],B=P[1+4*E]-P[2+4*E],$=d-P[3+4*E],_[k+0]=R+M>>3,_[k+16]=$+B>>3,_[k+32]=R-M>>3,_[k+48]=$-B>>3,k+=64}function Ya(d,p,_){var k,E=p-32,P=Un,R=255-d[E-1];for(k=0;k<_;++k){var M,B=P,$=R+d[p-1];for(M=0;M<_;++M)d[p+M]=B[$+d[E+M]];p+=32}}function Mp(d,p){Ya(d,p,4)}function Fp(d,p){Ya(d,p,8)}function Bp(d,p){Ya(d,p,16)}function wu(d,p){var _;for(_=0;16>_;++_)n(d,p+32*_,d,p-32,16)}function Ad(d,p){var _;for(_=16;0<_;--_)i(d,p,d[p-1],16),p+=32}function ji(d,p,_){var k;for(k=0;16>k;++k)i(p,_+32*k,d,16)}function Up(d,p){var _,k=16;for(_=0;16>_;++_)k+=d[p-1+32*_]+d[p+_-32];ji(k>>5,d,p)}function Xa(d,p){var _,k=8;for(_=0;16>_;++_)k+=d[p-1+32*_];ji(k>>4,d,p)}function bu(d,p){var _,k=8;for(_=0;16>_;++_)k+=d[p+_-32];ji(k>>4,d,p)}function zp(d,p){ji(128,d,p)}function ct(d,p,_){return d+2*p+_+2>>2}function $p(d,p){var _,k=p-32;for(k=new Uint8Array([ct(d[k-1],d[k+0],d[k+1]),ct(d[k+0],d[k+1],d[k+2]),ct(d[k+1],d[k+2],d[k+3]),ct(d[k+2],d[k+3],d[k+4])]),_=0;4>_;++_)n(d,p+32*_,k,0,k.length)}function qp(d,p){var _=d[p-1],k=d[p-1+32],E=d[p-1+64],P=d[p-1+96];Ne(d,p+0,16843009*ct(d[p-1-32],_,k)),Ne(d,p+32,16843009*ct(_,k,E)),Ne(d,p+64,16843009*ct(k,E,P)),Ne(d,p+96,16843009*ct(E,P,P))}function Wp(d,p){var _,k=4;for(_=0;4>_;++_)k+=d[p+_-32]+d[p-1+32*_];for(k>>=3,_=0;4>_;++_)i(d,p+32*_,k,4)}function ys(d,p){var _=d[p-1+0],k=d[p-1+32],E=d[p-1+64],P=d[p-1-32],R=d[p+0-32],M=d[p+1-32],B=d[p+2-32],$=d[p+3-32];d[p+0+96]=ct(k,E,d[p-1+96]),d[p+1+96]=d[p+0+64]=ct(_,k,E),d[p+2+96]=d[p+1+64]=d[p+0+32]=ct(P,_,k),d[p+3+96]=d[p+2+64]=d[p+1+32]=d[p+0+0]=ct(R,P,_),d[p+3+64]=d[p+2+32]=d[p+1+0]=ct(M,R,P),d[p+3+32]=d[p+2+0]=ct(B,M,R),d[p+3+0]=ct($,B,M)}function ws(d,p){var _=d[p+1-32],k=d[p+2-32],E=d[p+3-32],P=d[p+4-32],R=d[p+5-32],M=d[p+6-32],B=d[p+7-32];d[p+0+0]=ct(d[p+0-32],_,k),d[p+1+0]=d[p+0+32]=ct(_,k,E),d[p+2+0]=d[p+1+32]=d[p+0+64]=ct(k,E,P),d[p+3+0]=d[p+2+32]=d[p+1+64]=d[p+0+96]=ct(E,P,R),d[p+3+32]=d[p+2+64]=d[p+1+96]=ct(P,R,M),d[p+3+64]=d[p+2+96]=ct(R,M,B),d[p+3+96]=ct(M,B,B)}function Hp(d,p){var _=d[p-1+0],k=d[p-1+32],E=d[p-1+64],P=d[p-1-32],R=d[p+0-32],M=d[p+1-32],B=d[p+2-32],$=d[p+3-32];d[p+0+0]=d[p+1+64]=P+R+1>>1,d[p+1+0]=d[p+2+64]=R+M+1>>1,d[p+2+0]=d[p+3+64]=M+B+1>>1,d[p+3+0]=B+$+1>>1,d[p+0+96]=ct(E,k,_),d[p+0+64]=ct(k,_,P),d[p+0+32]=d[p+1+96]=ct(_,P,R),d[p+1+32]=d[p+2+96]=ct(P,R,M),d[p+2+32]=d[p+3+96]=ct(R,M,B),d[p+3+32]=ct(M,B,$)}function Vp(d,p){var _=d[p+0-32],k=d[p+1-32],E=d[p+2-32],P=d[p+3-32],R=d[p+4-32],M=d[p+5-32],B=d[p+6-32],$=d[p+7-32];d[p+0+0]=_+k+1>>1,d[p+1+0]=d[p+0+64]=k+E+1>>1,d[p+2+0]=d[p+1+64]=E+P+1>>1,d[p+3+0]=d[p+2+64]=P+R+1>>1,d[p+0+32]=ct(_,k,E),d[p+1+32]=d[p+0+96]=ct(k,E,P),d[p+2+32]=d[p+1+96]=ct(E,P,R),d[p+3+32]=d[p+2+96]=ct(P,R,M),d[p+3+64]=ct(R,M,B),d[p+3+96]=ct(M,B,$)}function Xo(d,p){var _=d[p-1+0],k=d[p-1+32],E=d[p-1+64],P=d[p-1+96];d[p+0+0]=_+k+1>>1,d[p+2+0]=d[p+0+32]=k+E+1>>1,d[p+2+32]=d[p+0+64]=E+P+1>>1,d[p+1+0]=ct(_,k,E),d[p+3+0]=d[p+1+32]=ct(k,E,P),d[p+3+32]=d[p+1+64]=ct(E,P,P),d[p+3+64]=d[p+2+64]=d[p+0+96]=d[p+1+96]=d[p+2+96]=d[p+3+96]=P}function xu(d,p){var _=d[p-1+0],k=d[p-1+32],E=d[p-1+64],P=d[p-1+96],R=d[p-1-32],M=d[p+0-32],B=d[p+1-32],$=d[p+2-32];d[p+0+0]=d[p+2+32]=_+R+1>>1,d[p+0+32]=d[p+2+64]=k+_+1>>1,d[p+0+64]=d[p+2+96]=E+k+1>>1,d[p+0+96]=P+E+1>>1,d[p+3+0]=ct(M,B,$),d[p+2+0]=ct(R,M,B),d[p+1+0]=d[p+3+32]=ct(_,R,M),d[p+1+32]=d[p+3+64]=ct(k,_,R),d[p+1+64]=d[p+3+96]=ct(E,k,_),d[p+1+96]=ct(P,E,k)}function Qa(d,p){var _;for(_=0;8>_;++_)n(d,p+32*_,d,p-32,8)}function Gp(d,p){var _;for(_=0;8>_;++_)i(d,p,d[p-1],8),p+=32}function bs(d,p,_){var k;for(k=0;8>k;++k)i(p,_+32*k,d,8)}function Kp(d,p){var _,k=8;for(_=0;8>_;++_)k+=d[p+_-32]+d[p-1+32*_];bs(k>>4,d,p)}function _u(d,p){var _,k=4;for(_=0;8>_;++_)k+=d[p+_-32];bs(k>>3,d,p)}function Su(d,p){var _,k=4;for(_=0;8>_;++_)k+=d[p-1+32*_];bs(k>>3,d,p)}function Ed(d,p){bs(128,d,p)}function xs(d,p,_){var k=d[p-_],E=d[p+0],P=3*(E-k)+Jp[1020+d[p-2*_]-d[p+_]],R=Dd[112+(P+4>>3)];d[p-_]=Un[255+k+Dd[112+(P+3>>3)]],d[p+0]=Un[255+E-R]}function Nu(d,p,_,k){var E=d[p+0],P=d[p+_];return ui[255+d[p-2*_]-d[p-_]]>k||ui[255+P-E]>k}function Qo(d,p,_,k){return 4*ui[255+d[p-_]-d[p+0]]+ui[255+d[p-2*_]-d[p+_]]<=k}function ku(d,p,_,k,E){var P=d[p-3*_],R=d[p-2*_],M=d[p-_],B=d[p+0],$=d[p+_],te=d[p+2*_],le=d[p+3*_];return 4*ui[255+M-B]+ui[255+R-$]>k?0:ui[255+d[p-4*_]-P]<=E&&ui[255+P-R]<=E&&ui[255+R-M]<=E&&ui[255+le-te]<=E&&ui[255+te-$]<=E&&ui[255+$-B]<=E}function Za(d,p,_,k){var E=2*k+1;for(k=0;16>k;++k)Qo(d,p+k,_,E)&&xs(d,p+k,_)}function ju(d,p,_,k){var E=2*k+1;for(k=0;16>k;++k)Qo(d,p+k*_,1,E)&&xs(d,p+k*_,1)}function Cd(d,p,_,k){var E;for(E=3;0<E;--E)Za(d,p+=4*_,_,k)}function Td(d,p,_,k){var E;for(E=3;0<E;--E)ju(d,p+=4,_,k)}function _s(d,p,_,k,E,P,R,M){for(P=2*P+1;0<E--;){if(ku(d,p,_,P,R))if(Nu(d,p,_,M))xs(d,p,_);else{var B=d,$=p,te=_,le=B[$-2*te],q=B[$-te],ne=B[$+0],ae=B[$+te],ve=B[$+2*te],oe=27*(be=Jp[1020+3*(ne-q)+Jp[1020+le-ae]])+63>>7,ye=18*be+63>>7,be=9*be+63>>7;B[$-3*te]=Un[255+B[$-3*te]+be],B[$-2*te]=Un[255+le+ye],B[$-te]=Un[255+q+oe],B[$+0]=Un[255+ne-oe],B[$+te]=Un[255+ae-ye],B[$+2*te]=Un[255+ve-be]}p+=k}}function Ss(d,p,_,k,E,P,R,M){for(P=2*P+1;0<E--;){if(ku(d,p,_,P,R))if(Nu(d,p,_,M))xs(d,p,_);else{var B=d,$=p,te=_,le=B[$-te],q=B[$+0],ne=B[$+te],ae=Dd[112+(4+(ve=3*(q-le))>>3)],ve=Dd[112+(ve+3>>3)],oe=ae+1>>1;B[$-2*te]=Un[255+B[$-2*te]+oe],B[$-te]=Un[255+le+ve],B[$+0]=Un[255+q-ae],B[$+te]=Un[255+ne-oe]}p+=k}}function Ld(d,p,_,k,E,P){_s(d,p,_,1,16,k,E,P)}function eo(d,p,_,k,E,P){_s(d,p,1,_,16,k,E,P)}function Pd(d,p,_,k,E,P){var R;for(R=3;0<R;--R)Ss(d,p+=4*_,_,1,16,k,E,P)}function y(d,p,_,k,E,P){var R;for(R=3;0<R;--R)Ss(d,p+=4,1,_,16,k,E,P)}function A(d,p,_,k,E,P,R,M){_s(d,p,E,1,8,P,R,M),_s(_,k,E,1,8,P,R,M)}function H(d,p,_,k,E,P,R,M){_s(d,p,1,E,8,P,R,M),_s(_,k,1,E,8,P,R,M)}function Z(d,p,_,k,E,P,R,M){Ss(d,p+4*E,E,1,8,P,R,M),Ss(_,k+4*E,E,1,8,P,R,M)}function ie(d,p,_,k,E,P,R,M){Ss(d,p+4,1,E,8,P,R,M),Ss(_,k+4,1,E,8,P,R,M)}function we(){this.ba=new Ze,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new dt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function xe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ue(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function He(){this.ua=0,this.Wa=new ft,this.vb=new ft,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ue,this.yc=new Y}function at(){this.xb=this.a=0,this.l=new Ko,this.ca=new Ze,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new He,this.ab=0,this.gc=a(4,Ue),this.Oc=0}function yt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ko,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Pt(d,p,_,k,E,P,R){for(d=d==null?0:d[p+0],p=0;p<R;++p)E[P+p]=d+_[k+p]&255,d=E[P+p]}function fr(d,p,_,k,E,P,R){var M;if(d==null)Pt(null,null,_,k,E,P,R);else for(M=0;M<R;++M)E[P+M]=d[p+M]+_[k+M]&255}function Or(d,p,_,k,E,P,R){if(d==null)Pt(null,null,_,k,E,P,R);else{var M,B=d[p+0],$=B,te=B;for(M=0;M<R;++M)$=te+(B=d[p+M])-$,te=_[k+M]+(-256&$?0>$?0:255:$)&255,$=B,E[P+M]=te}}function Xt(d,p,_,k){var E=p.width,P=p.o;if(e(d!=null&&p!=null),0>_||0>=k||_+k>P)return null;if(!d.Cc){if(d.ga==null){var R;if(d.ga=new yt,(R=d.ga==null)||(R=p.width*p.o,e(d.Gb.length==0),d.Gb=s(R),d.Uc=0,d.Gb==null?R=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,R=1),R=!R),!R){R=d.ga;var M=d.Fa,B=d.P,$=d.qc,te=d.mb,le=d.nb,q=B+1,ne=$-1,ae=R.l;if(e(M!=null&&te!=null&&p!=null),da[0]=null,da[1]=Pt,da[2]=fr,da[3]=Or,R.ca=te,R.tb=le,R.c=p.width,R.i=p.height,e(0<R.c&&0<R.i),1>=$)p=0;else if(R.$a=3&M[B+0],R.Z=M[B+0]>>2&3,R.Lc=M[B+0]>>4&3,B=M[B+0]>>6&3,0>R.$a||1<R.$a||4<=R.Z||1<R.Lc||B)p=0;else if(ae.put=Ye,ae.ac=Sr,ae.bc=Ht,ae.ma=R,ae.width=p.width,ae.height=p.height,ae.Da=p.Da,ae.v=p.v,ae.va=p.va,ae.j=p.j,ae.o=p.o,R.$a)e:{e(R.$a==1),p=Ka();t:for(;;){if(p==null){p=0;break e}if(e(R!=null),R.mc=p,p.c=R.c,p.i=R.i,p.l=R.l,p.l.ma=R,p.l.width=R.c,p.l.height=R.i,p.a=0,re(p.m,M,q,ne),!Xi(R.c,R.i,1,p,null)||(p.ab==1&&p.gc[0].hc==3&&Si(p.s)?(R.ic=1,M=p.c*p.i,p.Ta=null,p.Ua=0,p.V=s(M),p.Ba=0,p.V==null?(p.a=1,p=0):p=1):(R.ic=0,p=Ja(p,R.c)),!p))break t;p=1;break e}R.mc=null,p=0}else p=ne>=R.c*R.i;R=!p}if(R)return null;d.ga.Lc!=1?d.Ga=0:k=P-_}e(d.ga!=null),e(_+k<=P);e:{if(p=(M=d.ga).c,P=M.l.o,M.$a==0){if(q=d.rc,ne=d.Vc,ae=d.Fa,B=d.P+1+_*p,$=d.mb,te=d.nb+_*p,e(B<=d.P+d.qc),M.Z!=0)for(e(da[M.Z]!=null),R=0;R<k;++R)da[M.Z](q,ne,ae,B,$,te,p),q=$,ne=te,te+=p,B+=p;else for(R=0;R<k;++R)n($,te,ae,B,p),q=$,ne=te,te+=p,B+=p;d.rc=q,d.Vc=ne}else{if(e(M.mc!=null),p=_+k,e((R=M.mc)!=null),e(p<=R.i),R.C>=p)p=1;else if(M.ic||Ai(),M.ic){M=R.V,q=R.Ba,ne=R.c;var ve=R.i,oe=(ae=1,B=R.$/ne,$=R.$%ne,te=R.m,le=R.s,R.$),ye=ne*ve,be=ne*p,ke=le.wc,_e=oe<be?Yt(le,$,B):null;e(oe<=ye),e(p<=ve),e(Si(le));t:for(;;){for(;!te.h&&oe<be;){if($&ke||(_e=Yt(le,$,B)),e(_e!=null),se(te),256>(ve=qt(_e.G[0],_e.H[0],te)))M[q+oe]=ve,++oe,++$>=ne&&($=0,++B<=p&&!(B%16)&&Ni(R,B));else{if(!(280>ve)){ae=0;break t}ve=hr(ve-256,te);var Ve,De=qt(_e.G[4],_e.H[4],te);if(se(te),!(oe>=(De=yr(ne,De=hr(De,te)))&&ye-oe>=ve)){ae=0;break t}for(Ve=0;Ve<ve;++Ve)M[q+oe+Ve]=M[q+oe+Ve-De];for(oe+=ve,$+=ve;$>=ne;)$-=ne,++B<=p&&!(B%16)&&Ni(R,B);oe<be&&$&ke&&(_e=Yt(le,$,B))}e(te.h==Q(te))}Ni(R,B>p?p:B);break t}!ae||te.h&&oe<ye?(ae=0,R.a=te.h?5:3):R.$=oe,p=ae}else p=ki(R,R.V,R.Ba,R.c,R.i,p,Ho);if(!p){k=0;break e}}_+k>=P&&(d.Cc=1),k=1}if(!k)return null;if(d.Cc&&((k=d.ga)!=null&&(k.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+_*E}function Fr(d,p,_,k,E,P){for(;0<E--;){var R,M=d,B=p+(_?1:0),$=d,te=p+(_?0:3);for(R=0;R<k;++R){var le=$[te+4*R];le!=255&&(le*=32897,M[B+4*R+0]=M[B+4*R+0]*le>>23,M[B+4*R+1]=M[B+4*R+1]*le>>23,M[B+4*R+2]=M[B+4*R+2]*le>>23)}p+=P}}function Rr(d,p,_,k,E){for(;0<k--;){var P;for(P=0;P<_;++P){var R=d[p+2*P+0],M=15&($=d[p+2*P+1]),B=4369*M,$=(240&$|$>>4)*B>>16;d[p+2*P+0]=(240&R|R>>4)*B>>16&240|(15&R|R<<4)*B>>16>>4&15,d[p+2*P+1]=240&$|M}p+=E}}function Qr(d,p,_,k,E,P,R,M){var B,$,te=255;for($=0;$<E;++$){for(B=0;B<k;++B){var le=d[p+B];P[R+4*B]=le,te&=le}p+=_,R+=M}return te!=255}function Ns(d,p,_,k,E){var P;for(P=0;P<E;++P)_[k+P]=d[p+P]>>8}function Ai(){Fu=Fr,Xv=Rr,Qv=Qr,Zv=Ns}function ks(d,p,_){O[d]=function(k,E,P,R,M,B,$,te,le,q,ne,ae,ve,oe,ye,be,ke){var _e,Ve=ke-1>>1,De=M[B+0]|$[te+0]<<16,bt=le[q+0]|ne[ae+0]<<16;e(k!=null);var ze=3*De+bt+131074>>2;for(p(k[E+0],255&ze,ze>>16,ve,oe),P!=null&&(ze=3*bt+De+131074>>2,p(P[R+0],255&ze,ze>>16,ye,be)),_e=1;_e<=Ve;++_e){var At=M[B+_e]|$[te+_e]<<16,Ur=le[q+_e]|ne[ae+_e]<<16,xt=De+At+bt+Ur+524296,$e=xt+2*(At+bt)>>3;ze=$e+De>>1,De=(xt=xt+2*(De+Ur)>>3)+At>>1,p(k[E+2*_e-1],255&ze,ze>>16,ve,oe+(2*_e-1)*_),p(k[E+2*_e-0],255&De,De>>16,ve,oe+(2*_e-0)*_),P!=null&&(ze=xt+bt>>1,De=$e+Ur>>1,p(P[R+2*_e-1],255&ze,ze>>16,ye,be+(2*_e-1)*_),p(P[R+2*_e+0],255&De,De>>16,ye,be+(2*_e+0)*_)),De=At,bt=Ur}1&ke||(ze=3*De+bt+131074>>2,p(k[E+ke-1],255&ze,ze>>16,ve,oe+(ke-1)*_),P!=null&&(ze=3*bt+De+131074>>2,p(P[R+ke-1],255&ze,ze>>16,ye,be+(ke-1)*_)))}}function Au(){ci[Md]=yN,ci[Fd]=c2,ci[s2]=wN,ci[Bd]=d2,ci[Ud]=h2,ci[Yp]=f2,ci[a2]=bN,ci[Xp]=c2,ci[Qp]=d2,ci[zd]=h2,ci[Zp]=f2}function Zo(d){return d&-16384?0>d?0:255:d>>xN}function ta(d,p){return Zo((19077*d>>8)+(26149*p>>8)-14234)}function to(d,p,_){return Zo((19077*d>>8)-(6419*p>>8)-(13320*_>>8)+8708)}function ro(d,p){return Zo((19077*d>>8)+(33050*p>>8)-17685)}function ra(d,p,_,k,E){k[E+0]=ta(d,_),k[E+1]=to(d,p,_),k[E+2]=ro(d,p)}function Zr(d,p,_,k,E){k[E+0]=ro(d,p),k[E+1]=to(d,p,_),k[E+2]=ta(d,_)}function no(d,p,_,k,E){var P=to(d,p,_);p=P<<3&224|ro(d,p)>>3,k[E+0]=248&ta(d,_)|P>>5,k[E+1]=p}function io(d,p,_,k,E){var P=240&ro(d,p)|15;k[E+0]=240&ta(d,_)|to(d,p,_)>>4,k[E+1]=P}function Eu(d,p,_,k,E){k[E+0]=255,ra(d,p,_,k,E+1)}function Cu(d,p,_,k,E){Zr(d,p,_,k,E),k[E+3]=255}function yn(d,p,_,k,E){ra(d,p,_,k,E),k[E+3]=255}function js(d,p,_){O[d]=function(k,E,P,R,M,B,$,te,le){for(var q=te+(-2&le)*_;te!=q;)p(k[E+0],P[R+0],M[B+0],$,te),p(k[E+1],P[R+0],M[B+0],$,te+_),E+=2,++R,++B,te+=2*_;1&le&&p(k[E+0],P[R+0],M[B+0],$,te)}}function el(d,p,_){return _==0?d==0?p==0?6:5:p==0?4:0:_}function Od(d,p,_,k,E){switch(d>>>30){case 3:lo(p,_,k,E,0);break;case 2:li(p,_,k,E);break;case 1:Dt(p,_,k,E)}}function oi(d,p){var _,k,E=p.M,P=p.Nb,R=d.oc,M=d.pc+40,B=d.oc,$=d.pc+584,te=d.oc,le=d.pc+600;for(_=0;16>_;++_)R[M+32*_-1]=129;for(_=0;8>_;++_)B[$+32*_-1]=129,te[le+32*_-1]=129;for(0<E?R[M-1-32]=B[$-1-32]=te[le-1-32]=129:(i(R,M-32-1,127,21),i(B,$-32-1,127,9),i(te,le-32-1,127,9)),k=0;k<d.za;++k){var q=p.ya[p.aa+k];if(0<k){for(_=-1;16>_;++_)n(R,M+32*_-4,R,M+32*_+12,4);for(_=-1;8>_;++_)n(B,$+32*_-4,B,$+32*_+4,4),n(te,le+32*_-4,te,le+32*_+4,4)}var ne=d.Gd,ae=d.Hd+k,ve=q.ad,oe=q.Hc;if(0<E&&(n(R,M-32,ne[ae].y,0,16),n(B,$-32,ne[ae].f,0,8),n(te,le-32,ne[ae].ea,0,8)),q.Za){var ye=R,be=M-32+16;for(0<E&&(k>=d.za-1?i(ye,be,ne[ae].y[15],4):n(ye,be,ne[ae+1].y,0,4)),_=0;4>_;_++)ye[be+128+_]=ye[be+256+_]=ye[be+384+_]=ye[be+0+_];for(_=0;16>_;++_,oe<<=2)ye=R,be=M+m2[_],Ei[q.Ob[_]](ye,be),Od(oe,ve,16*+_,ye,be)}else if(ye=el(k,E,q.Ob[0]),ca[ye](R,M),oe!=0)for(_=0;16>_;++_,oe<<=2)Od(oe,ve,16*+_,R,M+m2[_]);for(_=q.Gc,ye=el(k,E,q.Dd),Cs[ye](B,$),Cs[ye](te,le),oe=ve,ye=B,be=$,255&(q=0|_)&&(170&q?ns(oe,256,ye,be):Vt(oe,256,ye,be)),q=te,oe=le,255&(_>>=8)&&(170&_?ns(ve,320,q,oe):Vt(ve,320,q,oe)),E<d.Ub-1&&(n(ne[ae].y,0,R,M+480,16),n(ne[ae].f,0,B,$+224,8),n(ne[ae].ea,0,te,le+224,8)),_=8*P*d.B,ne=d.sa,ae=d.ta+16*k+16*P*d.R,ve=d.qa,q=d.ra+8*k+_,oe=d.Ha,ye=d.Ia+8*k+_,_=0;16>_;++_)n(ne,ae+_*d.R,R,M+32*_,16);for(_=0;8>_;++_)n(ve,q+_*d.B,B,$+32*_,8),n(oe,ye+_*d.B,te,le+32*_,8)}}function so(d,p,_,k,E,P,R,M,B){var $=[0],te=[0],le=0,q=B!=null?B.kd:0,ne=B??new xe;if(d==null||12>_)return 7;ne.data=d,ne.w=p,ne.ha=_,p=[p],_=[_],ne.gb=[ne.gb];e:{var ae=p,ve=_,oe=ne.gb;if(e(d!=null),e(ve!=null),e(oe!=null),oe[0]=0,12<=ve[0]&&!r(d,ae[0],"RIFF")){if(r(d,ae[0]+8,"WEBP")){oe=3;break e}var ye=Re(d,ae[0]+4);if(12>ye||4294967286<ye){oe=3;break e}if(q&&ye>ve[0]-8){oe=7;break e}oe[0]=ye,ae[0]+=12,ve[0]-=12}oe=0}if(oe!=0)return oe;for(ye=0<ne.gb[0],_=_[0];;){e:{var be=d;ve=p,oe=_;var ke=$,_e=te,Ve=ae=[0];if((ze=le=[le])[0]=0,8>oe[0])oe=7;else{if(!r(be,ve[0],"VP8X")){if(Re(be,ve[0]+4)!=10){oe=3;break e}if(18>oe[0]){oe=7;break e}var De=Re(be,ve[0]+8),bt=1+Ce(be,ve[0]+12);if(2147483648<=bt*(be=1+Ce(be,ve[0]+15))){oe=3;break e}Ve!=null&&(Ve[0]=De),ke!=null&&(ke[0]=bt),_e!=null&&(_e[0]=be),ve[0]+=18,oe[0]-=18,ze[0]=1}oe=0}}if(le=le[0],ae=ae[0],oe!=0)return oe;if(ve=!!(2&ae),!ye&&le)return 3;if(P!=null&&(P[0]=!!(16&ae)),R!=null&&(R[0]=ve),M!=null&&(M[0]=0),R=$[0],ae=te[0],le&&ve&&B==null){oe=0;break}if(4>_){oe=7;break}if(ye&&le||!ye&&!le&&!r(d,p[0],"ALPH")){_=[_],ne.na=[ne.na],ne.P=[ne.P],ne.Sa=[ne.Sa];e:{De=d,oe=p,ye=_;var ze=ne.gb;ke=ne.na,_e=ne.P,Ve=ne.Sa,bt=22,e(De!=null),e(ye!=null),be=oe[0];var At=ye[0];for(e(ke!=null),e(Ve!=null),ke[0]=null,_e[0]=null,Ve[0]=0;;){if(oe[0]=be,ye[0]=At,8>At){oe=7;break e}var Ur=Re(De,be+4);if(4294967286<Ur){oe=3;break e}var xt=8+Ur+1&-2;if(bt+=xt,0<ze&&bt>ze){oe=3;break e}if(!r(De,be,"VP8 ")||!r(De,be,"VP8L")){oe=0;break e}if(At[0]<xt){oe=7;break e}r(De,be,"ALPH")||(ke[0]=De,_e[0]=be+8,Ve[0]=Ur),be+=xt,At-=xt}}if(_=_[0],ne.na=ne.na[0],ne.P=ne.P[0],ne.Sa=ne.Sa[0],oe!=0)break}_=[_],ne.Ja=[ne.Ja],ne.xa=[ne.xa];e:if(ze=d,oe=p,ye=_,ke=ne.gb[0],_e=ne.Ja,Ve=ne.xa,De=oe[0],be=!r(ze,De,"VP8 "),bt=!r(ze,De,"VP8L"),e(ze!=null),e(ye!=null),e(_e!=null),e(Ve!=null),8>ye[0])oe=7;else{if(be||bt){if(ze=Re(ze,De+4),12<=ke&&ze>ke-12){oe=3;break e}if(q&&ze>ye[0]-8){oe=7;break e}_e[0]=ze,oe[0]+=8,ye[0]-=8,Ve[0]=bt}else Ve[0]=5<=ye[0]&&ze[De+0]==47&&!(ze[De+4]>>5),_e[0]=ye[0];oe=0}if(_=_[0],ne.Ja=ne.Ja[0],ne.xa=ne.xa[0],p=p[0],oe!=0)break;if(4294967286<ne.Ja)return 3;if(M==null||ve||(M[0]=ne.xa?2:1),R=[R],ae=[ae],ne.xa){if(5>_){oe=7;break}M=R,q=ae,ve=P,d==null||5>_?d=0:5<=_&&d[p+0]==47&&!(d[p+4]>>5)?(ye=[0],ze=[0],ke=[0],re(_e=new z,d,p,_),Gr(_e,ye,ze,ke)?(M!=null&&(M[0]=ye[0]),q!=null&&(q[0]=ze[0]),ve!=null&&(ve[0]=ke[0]),d=1):d=0):d=0}else{if(10>_){oe=7;break}M=ae,d==null||10>_||!_d(d,p+3,_-3)?d=0:(q=d[p+0]|d[p+1]<<8|d[p+2]<<16,ve=16383&(d[p+7]<<8|d[p+6]),d=16383&(d[p+9]<<8|d[p+8]),1&q||3<(q>>1&7)||!(q>>4&1)||q>>5>=ne.Ja||!ve||!d?d=0:(R&&(R[0]=ve),M&&(M[0]=d),d=1))}if(!d||(R=R[0],ae=ae[0],le&&($[0]!=R||te[0]!=ae)))return 3;B!=null&&(B[0]=ne,B.offset=p-B.w,e(4294967286>p-B.w),e(B.offset==B.ha-_));break}return oe==0||oe==7&&le&&B==null?(P!=null&&(P[0]|=ne.na!=null&&0<ne.na.length),k!=null&&(k[0]=R),E!=null&&(E[0]=ae),0):oe}function Tu(d,p,_){var k=p.width,E=p.height,P=0,R=0,M=k,B=E;if(p.Da=d!=null&&0<d.Da,p.Da&&(M=d.cd,B=d.bd,P=d.v,R=d.j,11>_||(P&=-2,R&=-2),0>P||0>R||0>=M||0>=B||P+M>k||R+B>E))return 0;if(p.v=P,p.j=R,p.va=P+M,p.o=R+B,p.U=M,p.T=B,p.da=d!=null&&0<d.da,p.da){if(!et(M,B,_=[d.ib],P=[d.hb]))return 0;p.ib=_[0],p.hb=P[0]}return p.ob=d!=null&&d.ob,p.Kb=d==null||!d.Sd,p.da&&(p.ob=p.ib<3*k/4&&p.hb<3*E/4,p.Kb=0),1}function Lu(d){if(d==null)return 2;if(11>d.S){var p=d.f.RGBA;p.fb+=(d.height-1)*p.A,p.A=-p.A}else p=d.f.kb,d=d.height,p.O+=(d-1)*p.fa,p.fa=-p.fa,p.N+=(d-1>>1)*p.Ab,p.Ab=-p.Ab,p.W+=(d-1>>1)*p.Db,p.Db=-p.Db,p.F!=null&&(p.J+=(d-1)*p.lb,p.lb=-p.lb);return 0}function na(d,p,_,k){if(k==null||0>=d||0>=p)return 2;if(_!=null){if(_.Da){var E=_.cd,P=_.bd,R=-2&_.v,M=-2&_.j;if(0>R||0>M||0>=E||0>=P||R+E>d||M+P>p)return 2;d=E,p=P}if(_.da){if(!et(d,p,E=[_.ib],P=[_.hb]))return 2;d=E[0],p=P[0]}}k.width=d,k.height=p;e:{var B=k.width,$=k.height;if(d=k.S,0>=B||0>=$||!(d>=Md&&13>d))d=2;else{if(0>=k.Rd&&k.sd==null){R=P=E=p=0;var te=(M=B*g2[d])*$;if(11>d||(P=($+1)/2*(p=(B+1)/2),d==12&&(R=(E=B)*$)),($=s(te+2*P+R))==null){d=1;break e}k.sd=$,11>d?((B=k.f.RGBA).eb=$,B.fb=0,B.A=M,B.size=te):((B=k.f.kb).y=$,B.O=0,B.fa=M,B.Fd=te,B.f=$,B.N=0+te,B.Ab=p,B.Cd=P,B.ea=$,B.W=0+te+P,B.Db=p,B.Ed=P,d==12&&(B.F=$,B.J=0+te+2*P),B.Tc=R,B.lb=E)}if(p=1,E=k.S,P=k.width,R=k.height,E>=Md&&13>E)if(11>E)d=k.f.RGBA,p&=(M=Math.abs(d.A))*(R-1)+P<=d.size,p&=M>=P*g2[E],p&=d.eb!=null;else{d=k.f.kb,M=(P+1)/2,te=(R+1)/2,B=Math.abs(d.fa),$=Math.abs(d.Ab);var le=Math.abs(d.Db),q=Math.abs(d.lb),ne=q*(R-1)+P;p&=B*(R-1)+P<=d.Fd,p&=$*(te-1)+M<=d.Cd,p=(p&=le*(te-1)+M<=d.Ed)&B>=P&$>=M&le>=M,p&=d.y!=null,p&=d.f!=null,p&=d.ea!=null,E==12&&(p&=q>=P,p&=ne<=d.Tc,p&=d.F!=null)}else p=0;d=p?0:2}}return d!=0||_!=null&&_.fd&&(d=Lu(k)),d}var ao=64,Fn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Bn=24,ia=32,As=8,sa=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Le("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(d){return d},O.Predictor2=function(d,p,_){return p[_+0]},O.Predictor3=function(d,p,_){return p[_+1]},O.Predictor4=function(d,p,_){return p[_-1]},O.Predictor5=function(d,p,_){return Je(Je(d,p[_+1]),p[_+0])},O.Predictor6=function(d,p,_){return Je(d,p[_-1])},O.Predictor7=function(d,p,_){return Je(d,p[_+0])},O.Predictor8=function(d,p,_){return Je(p[_-1],p[_+0])},O.Predictor9=function(d,p,_){return Je(p[_+0],p[_+1])},O.Predictor10=function(d,p,_){return Je(Je(d,p[_-1]),Je(p[_+0],p[_+1]))},O.Predictor11=function(d,p,_){var k=p[_+0];return 0>=ot(k>>24&255,d>>24&255,(p=p[_-1])>>24&255)+ot(k>>16&255,d>>16&255,p>>16&255)+ot(k>>8&255,d>>8&255,p>>8&255)+ot(255&k,255&d,255&p)?k:d},O.Predictor12=function(d,p,_){var k=p[_+0];return(Lt((d>>24&255)+(k>>24&255)-((p=p[_-1])>>24&255))<<24|Lt((d>>16&255)+(k>>16&255)-(p>>16&255))<<16|Lt((d>>8&255)+(k>>8&255)-(p>>8&255))<<8|Lt((255&d)+(255&k)-(255&p)))>>>0},O.Predictor13=function(d,p,_){var k=p[_-1];return(St((d=Je(d,p[_+0]))>>24&255,k>>24&255)<<24|St(d>>16&255,k>>16&255)<<16|St(d>>8&255,k>>8&255)<<8|St(255&d,255&k))>>>0};var Pu=O.PredictorAdd0;O.PredictorAdd1=vt,Le("Predictor2","PredictorAdd2"),Le("Predictor3","PredictorAdd3"),Le("Predictor4","PredictorAdd4"),Le("Predictor5","PredictorAdd5"),Le("Predictor6","PredictorAdd6"),Le("Predictor7","PredictorAdd7"),Le("Predictor8","PredictorAdd8"),Le("Predictor9","PredictorAdd9"),Le("Predictor10","PredictorAdd10"),Le("Predictor11","PredictorAdd11"),Le("Predictor12","PredictorAdd12"),Le("Predictor13","PredictorAdd13");var tl=O.PredictorAdd2;Pe("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),Pe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var Nr,Rd=O.ColorIndexInverseTransform,ts=O.MapARGB,rs=O.VP8LColorIndexInverseTransformAlpha,Ou=O.MapAlpha,Ru=O.VP8LPredictorsAdd=[];Ru.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var Iu,Du,aa,oa,la,oo,ua,lo,li,ns,Dt,Vt,kr,Br,Es,Mu,rl,Id,Hv,Vv,Gv,Kv,Jv,Yv,Fu,Xv,Qv,Zv,e2=s(511),t2=s(2041),r2=s(225),n2=s(767),i2=0,Jp=t2,Dd=r2,Un=n2,ui=e2,Md=0,Fd=1,s2=2,Bd=3,Ud=4,Yp=5,a2=6,Xp=7,Qp=8,zd=9,Zp=10,iN=[2,3,7],sN=[3,3,11],o2=[280,256,256,256,40],aN=[0,1,1,1,0],oN=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],lN=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],uN=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],cN=8,e0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],t0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Bu=null,dN=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],hN=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],l2=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],fN=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],pN=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],mN=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],gN=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ca=[],Ei=[],Cs=[],vN=1,u2=2,da=[],ci=[];ks("UpsampleRgbLinePair",ra,3),ks("UpsampleBgrLinePair",Zr,3),ks("UpsampleRgbaLinePair",yn,4),ks("UpsampleBgraLinePair",Cu,4),ks("UpsampleArgbLinePair",Eu,4),ks("UpsampleRgba4444LinePair",io,2),ks("UpsampleRgb565LinePair",no,2);var yN=O.UpsampleRgbLinePair,wN=O.UpsampleBgrLinePair,c2=O.UpsampleRgbaLinePair,d2=O.UpsampleBgraLinePair,h2=O.UpsampleArgbLinePair,f2=O.UpsampleRgba4444LinePair,bN=O.UpsampleRgb565LinePair,$d=16,qd=1<<$d-1,Uu=-227,r0=482,xN=6,p2=0,_N=s(256),SN=s(256),NN=s(256),kN=s(256),jN=s(r0-Uu),AN=s(r0-Uu);js("YuvToRgbRow",ra,3),js("YuvToBgrRow",Zr,3),js("YuvToRgbaRow",yn,4),js("YuvToBgraRow",Cu,4),js("YuvToArgbRow",Eu,4),js("YuvToRgba4444Row",io,2),js("YuvToRgb565Row",no,2);var m2=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Wd=[0,2,8],EN=[8,7,6,4,4,2,2,2,1,1,1,1],CN=1;this.WebPDecodeRGBA=function(d,p,_,k,E){var P=Fd,R=new we,M=new Ze;R.ba=M,M.S=P,M.width=[M.width],M.height=[M.height];var B=M.width,$=M.height,te=new Fe;if(te==null||d==null)var le=2;else e(te!=null),le=so(d,p,_,te.width,te.height,te.Pd,te.Qd,te.format,null);if(le!=0?B=0:(B!=null&&(B[0]=te.width[0]),$!=null&&($[0]=te.height[0]),B=1),B){M.width=M.width[0],M.height=M.height[0],k!=null&&(k[0]=M.width),E!=null&&(E[0]=M.height);e:{if(k=new Ko,(E=new xe).data=d,E.w=p,E.ha=_,E.kd=1,p=[0],e(E!=null),((d=so(E.data,E.w,E.ha,null,null,null,p,null,E))==0||d==7)&&p[0]&&(d=4),(p=d)==0){if(e(R!=null),k.data=E.data,k.w=E.w+E.offset,k.ha=E.ha-E.offset,k.put=Ye,k.ac=Sr,k.bc=Ht,k.ma=R,E.xa){if((d=Ka())==null){R=1;break e}if(function(q,ne){var ae=[0],ve=[0],oe=[0];t:for(;;){if(q==null)return 0;if(ne==null)return q.a=2,0;if(q.l=ne,q.a=0,re(q.m,ne.data,ne.w,ne.ha),!Gr(q.m,ae,ve,oe)){q.a=3;break t}if(q.xb=u2,ne.width=ae[0],ne.height=ve[0],!Xi(ae[0],ve[0],1,q,null))break t;return 1}return e(q.a!=0),0}(d,k)){if(k=(p=na(k.width,k.height,R.Oa,R.ba))==0){t:{k=d;r:for(;;){if(k==null){k=0;break t}if(e(k.s.yc!=null),e(k.s.Ya!=null),e(0<k.s.Wb),e((_=k.l)!=null),e((E=_.ma)!=null),k.xb!=0){if(k.ca=E.ba,k.tb=E.tb,e(k.ca!=null),!Tu(E.Oa,_,Bd)){k.a=2;break r}if(!Ja(k,_.width)||_.da)break r;if((_.da||tt(k.ca.S))&&Ai(),11>k.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),k.ca.f.kb.F!=null&&Ai()),k.Pb&&0<k.s.ua&&k.s.vb.X==null&&!U(k.s.vb,k.s.Wa.Xa)){k.a=1;break r}k.xb=0}if(!ki(k,k.V,k.Ba,k.c,k.i,_.o,ni))break r;E.Dc=k.Ma,k=1;break t}e(k.a!=0),k=0}k=!k}k&&(p=d.a)}else p=d.a}else{if((d=new Rp)==null){R=1;break e}if(d.Fa=E.na,d.P=E.P,d.qc=E.Sa,Zi(d,k)){if((p=na(k.width,k.height,R.Oa,R.ba))==0){if(d.Aa=0,_=R.Oa,e((E=d)!=null),_!=null){if(0<(B=0>(B=_.Md)?0:100<B?255:255*B/100)){for($=te=0;4>$;++$)12>(le=E.pb[$]).lc&&(le.ia=B*EN[0>le.lc?0:le.lc]>>3),te|=le.ia;te&&(alert("todo:VP8InitRandom"),E.ia=1)}E.Ga=_.Id,100<E.Ga?E.Ga=100:0>E.Ga&&(E.Ga=0)}(function(q,ne){if(q==null)return 0;if(ne==null)return Pr(q,2,"NULL VP8Io parameter in VP8Decode().");if(!q.cb&&!Zi(q,ne))return 0;if(e(q.cb),ne.ac==null||ne.ac(ne)){ne.ob&&(q.L=0);var ae=Wd[q.L];if(q.L==2?(q.yb=0,q.zb=0):(q.yb=ne.v-ae>>4,q.zb=ne.j-ae>>4,0>q.yb&&(q.yb=0),0>q.zb&&(q.zb=0)),q.Va=ne.o+15+ae>>4,q.Hb=ne.va+15+ae>>4,q.Hb>q.za&&(q.Hb=q.za),q.Va>q.Ub&&(q.Va=q.Ub),0<q.L){var ve=q.ed;for(ae=0;4>ae;++ae){var oe;if(q.Qa.Cb){var ye=q.Qa.Lb[ae];q.Qa.Fb||(ye+=ve.Tb)}else ye=ve.Tb;for(oe=0;1>=oe;++oe){var be=q.gd[ae][oe],ke=ye;if(ve.Pc&&(ke+=ve.vd[0],oe&&(ke+=ve.od[0])),0<(ke=0>ke?0:63<ke?63:ke)){var _e=ke;0<ve.wb&&(_e=4<ve.wb?_e>>2:_e>>1)>9-ve.wb&&(_e=9-ve.wb),1>_e&&(_e=1),be.dd=_e,be.tc=2*ke+_e,be.ld=40<=ke?2:15<=ke?1:0}else be.tc=0;be.La=oe}}}ae=0}else Pr(q,6,"Frame setup failed"),ae=q.a;if(ae=ae==0){if(ae){q.$c=0,0<q.Aa||(q.Ic=CN);t:{ae=q.Ic,ve=4*(_e=q.za);var Ve=32*_e,De=_e+1,bt=0<q.L?_e*(0<q.Aa?2:1):0,ze=(q.Aa==2?2:1)*_e;if((be=ve+832+(oe=3*(16*ae+Wd[q.L])/2*Ve)+(ye=q.Fa!=null&&0<q.Fa.length?q.Kc.c*q.Kc.i:0))!=be)ae=0;else{if(be>q.Vb){if(q.Vb=0,q.Ec=s(be),q.Fc=0,q.Ec==null){ae=Pr(q,1,"no memory during frame initialization.");break t}q.Vb=be}be=q.Ec,ke=q.Fc,q.Ac=be,q.Bc=ke,ke+=ve,q.Gd=a(Ve,bd),q.Hd=0,q.rb=a(De+1,vu),q.sb=1,q.wa=bt?a(bt,si):null,q.Y=0,q.D.Nb=0,q.D.wa=q.wa,q.D.Y=q.Y,0<q.Aa&&(q.D.Y+=_e),e(!0),q.oc=be,q.pc=ke,ke+=832,q.ya=a(ze,yu),q.aa=0,q.D.ya=q.ya,q.D.aa=q.aa,q.Aa==2&&(q.D.aa+=_e),q.R=16*_e,q.B=8*_e,_e=(Ve=Wd[q.L])*q.R,Ve=Ve/2*q.B,q.sa=be,q.ta=ke+_e,q.qa=q.sa,q.ra=q.ta+16*ae*q.R+Ve,q.Ha=q.qa,q.Ia=q.ra+8*ae*q.B+Ve,q.$c=0,ke+=oe,q.mb=ye?be:null,q.nb=ye?ke:null,e(ke+ye<=q.Fc+q.Vb),Sd(q),i(q.Ac,q.Bc,0,ve),ae=1}}if(ae){if(ne.ka=0,ne.y=q.sa,ne.O=q.ta,ne.f=q.qa,ne.N=q.ra,ne.ea=q.Ha,ne.Vd=q.Ia,ne.fa=q.R,ne.Rc=q.B,ne.F=null,ne.J=0,!i2){for(ae=-255;255>=ae;++ae)e2[255+ae]=0>ae?-ae:ae;for(ae=-1020;1020>=ae;++ae)t2[1020+ae]=-128>ae?-128:127<ae?127:ae;for(ae=-112;112>=ae;++ae)r2[112+ae]=-16>ae?-16:15<ae?15:ae;for(ae=-255;510>=ae;++ae)n2[255+ae]=0>ae?0:255<ae?255:ae;i2=1}ua=Yo,lo=Dp,ns=es,Dt=kd,Vt=jd,li=Ip,kr=Ld,Br=eo,Es=A,Mu=H,rl=Pd,Id=y,Hv=Z,Vv=ie,Gv=Za,Kv=ju,Jv=Cd,Yv=Td,Ei[0]=Wp,Ei[1]=Mp,Ei[2]=$p,Ei[3]=qp,Ei[4]=ys,Ei[5]=Hp,Ei[6]=ws,Ei[7]=Vp,Ei[8]=xu,Ei[9]=Xo,ca[0]=Up,ca[1]=Bp,ca[2]=wu,ca[3]=Ad,ca[4]=Xa,ca[5]=bu,ca[6]=zp,Cs[0]=Kp,Cs[1]=Fp,Cs[2]=Qa,Cs[3]=Gp,Cs[4]=Su,Cs[5]=_u,Cs[6]=Ed,ae=1}else ae=0}ae&&(ae=function(At,Ur){for(At.M=0;At.M<At.Va;++At.M){var xt,$e=At.Jc[At.M&At.Xb],Te=At.m,jr=At;for(xt=0;xt<jr.za;++xt){var gt=Te,Et=jr,tr=Et.Ac,en=Et.Bc+4*xt,wn=Et.zc,wr=Et.ya[Et.aa+xt];if(Et.Qa.Bb?wr.$b=fe(gt,Et.Pa.jb[0])?2+fe(gt,Et.Pa.jb[2]):fe(gt,Et.Pa.jb[1]):wr.$b=0,Et.kc&&(wr.Ad=fe(gt,Et.Bd)),wr.Za=!fe(gt,145)+0,wr.Za){var un=wr.Ob,bn=0;for(Et=0;4>Et;++Et){var zr,Ot=wn[0+Et];for(zr=0;4>zr;++zr){Ot=pN[tr[en+zr]][Ot];for(var Bt=l2[fe(gt,Ot[0])];0<Bt;)Bt=l2[2*Bt+fe(gt,Ot[Bt])];Ot=-Bt,tr[en+zr]=Ot}n(un,bn,tr,en,4),bn+=4,wn[0+Et]=Ot}}else Ot=fe(gt,156)?fe(gt,128)?1:3:fe(gt,163)?2:0,wr.Ob[0]=Ot,i(tr,en,Ot,4),i(wn,0,Ot,4);wr.Dd=fe(gt,142)?fe(gt,114)?fe(gt,183)?1:3:2:0}if(jr.m.Ka)return Pr(At,7,"Premature end-of-partition0 encountered.");for(;At.ja<At.za;++At.ja){if(jr=$e,gt=(Te=At).rb[Te.sb-1],tr=Te.rb[Te.sb+Te.ja],xt=Te.ya[Te.aa+Te.ja],en=Te.kc?xt.Ad:0)gt.la=tr.la=0,xt.Za||(gt.Na=tr.Na=0),xt.Hc=0,xt.Gc=0,xt.ia=0;else{var br,Ut;if(gt=tr,tr=jr,en=Te.Pa.Xc,wn=Te.ya[Te.aa+Te.ja],wr=Te.pb[wn.$b],Et=wn.ad,un=0,bn=Te.rb[Te.sb-1],Ot=zr=0,i(Et,un,0,384),wn.Za)var tn=0,Ci=en[3];else{Bt=s(16);var Ar=gt.Na+bn.Na;if(Ar=Bu(tr,en[1],Ar,wr.Eb,0,Bt,0),gt.Na=bn.Na=(0<Ar)+0,1<Ar)ua(Bt,0,Et,un);else{var En=Bt[0]+3>>3;for(Bt=0;256>Bt;Bt+=16)Et[un+Bt]=En}tn=1,Ci=en[0]}var Gt=15&gt.la,$r=15&bn.la;for(Bt=0;4>Bt;++Bt){var zn=1&$r;for(En=Ut=0;4>En;++En)Gt=Gt>>1|(zn=(Ar=Bu(tr,Ci,Ar=zn+(1&Gt),wr.Sc,tn,Et,un))>tn)<<7,Ut=Ut<<2|(3<Ar?3:1<Ar?2:Et[un+0]!=0),un+=16;Gt>>=4,$r=$r>>1|zn<<7,zr=(zr<<8|Ut)>>>0}for(Ci=Gt,tn=$r>>4,br=0;4>br;br+=2){for(Ut=0,Gt=gt.la>>4+br,$r=bn.la>>4+br,Bt=0;2>Bt;++Bt){for(zn=1&$r,En=0;2>En;++En)Ar=zn+(1&Gt),Gt=Gt>>1|(zn=0<(Ar=Bu(tr,en[2],Ar,wr.Qc,0,Et,un)))<<3,Ut=Ut<<2|(3<Ar?3:1<Ar?2:Et[un+0]!=0),un+=16;Gt>>=2,$r=$r>>1|zn<<5}Ot|=Ut<<4*br,Ci|=Gt<<4<<br,tn|=(240&$r)<<br}gt.la=Ci,bn.la=tn,wn.Hc=zr,wn.Gc=Ot,wn.ia=43690&Ot?0:wr.ia,en=!(zr|Ot)}if(0<Te.L&&(Te.wa[Te.Y+Te.ja]=Te.gd[xt.$b][xt.Za],Te.wa[Te.Y+Te.ja].La|=!en),jr.Ka)return Pr(At,7,"Premature end-of-file encountered.")}if(Sd(At),Te=Ur,jr=1,xt=($e=At).D,gt=0<$e.L&&$e.M>=$e.zb&&$e.M<=$e.Va,$e.Aa==0)t:{if(xt.M=$e.M,xt.uc=gt,oi($e,xt),jr=1,xt=(Ut=$e.D).Nb,gt=(Ot=Wd[$e.L])*$e.R,tr=Ot/2*$e.B,Bt=16*xt*$e.R,En=8*xt*$e.B,en=$e.sa,wn=$e.ta-gt+Bt,wr=$e.qa,Et=$e.ra-tr+En,un=$e.Ha,bn=$e.Ia-tr+En,$r=(Gt=Ut.M)==0,zr=Gt>=$e.Va-1,$e.Aa==2&&oi($e,Ut),Ut.uc)for(zn=(Ar=$e).D.M,e(Ar.D.uc),Ut=Ar.yb;Ut<Ar.Hb;++Ut){tn=Ut,Ci=zn;var xn=($n=(rn=Ar).D).Nb;br=rn.R;var $n=$n.wa[$n.Y+tn],qn=rn.sa,Cn=rn.ta+16*xn*br+16*tn,Wn=$n.dd,Qt=$n.tc;if(Qt!=0)if(e(3<=Qt),rn.L==1)0<tn&&Kv(qn,Cn,br,Qt+4),$n.La&&Yv(qn,Cn,br,Qt),0<Ci&&Gv(qn,Cn,br,Qt+4),$n.La&&Jv(qn,Cn,br,Qt);else{var Hn=rn.B,Ti=rn.qa,uo=rn.ra+8*xn*Hn+8*tn,Ts=rn.Ha,rn=rn.Ia+8*xn*Hn+8*tn;xn=$n.ld,0<tn&&(Br(qn,Cn,br,Qt+4,Wn,xn),Mu(Ti,uo,Ts,rn,Hn,Qt+4,Wn,xn)),$n.La&&(Id(qn,Cn,br,Qt,Wn,xn),Vv(Ti,uo,Ts,rn,Hn,Qt,Wn,xn)),0<Ci&&(kr(qn,Cn,br,Qt+4,Wn,xn),Es(Ti,uo,Ts,rn,Hn,Qt+4,Wn,xn)),$n.La&&(rl(qn,Cn,br,Qt,Wn,xn),Hv(Ti,uo,Ts,rn,Hn,Qt,Wn,xn))}}if($e.ia&&alert("todo:DitherRow"),Te.put!=null){if(Ut=16*Gt,Gt=16*(Gt+1),$r?(Te.y=$e.sa,Te.O=$e.ta+Bt,Te.f=$e.qa,Te.N=$e.ra+En,Te.ea=$e.Ha,Te.W=$e.Ia+En):(Ut-=Ot,Te.y=en,Te.O=wn,Te.f=wr,Te.N=Et,Te.ea=un,Te.W=bn),zr||(Gt-=Ot),Gt>Te.o&&(Gt=Te.o),Te.F=null,Te.J=null,$e.Fa!=null&&0<$e.Fa.length&&Ut<Gt&&(Te.J=Xt($e,Te,Ut,Gt-Ut),Te.F=$e.mb,Te.F==null&&Te.F.length==0)){jr=Pr($e,3,"Could not decode alpha data.");break t}Ut<Te.j&&(Ot=Te.j-Ut,Ut=Te.j,e(!(1&Ot)),Te.O+=$e.R*Ot,Te.N+=$e.B*(Ot>>1),Te.W+=$e.B*(Ot>>1),Te.F!=null&&(Te.J+=Te.width*Ot)),Ut<Gt&&(Te.O+=Te.v,Te.N+=Te.v>>1,Te.W+=Te.v>>1,Te.F!=null&&(Te.J+=Te.v),Te.ka=Ut-Te.j,Te.U=Te.va-Te.v,Te.T=Gt-Ut,jr=Te.put(Te))}xt+1!=$e.Ic||zr||(n($e.sa,$e.ta-gt,en,wn+16*$e.R,gt),n($e.qa,$e.ra-tr,wr,Et+8*$e.B,tr),n($e.Ha,$e.Ia-tr,un,bn+8*$e.B,tr))}if(!jr)return Pr(At,6,"Output aborted.")}return 1}(q,ne)),ne.bc!=null&&ne.bc(ne),ae&=1}return ae?(q.cb=0,ae):0})(d,k)||(p=d.a)}}else p=d.a}p==0&&R.Oa!=null&&R.Oa.fd&&(p=Lu(R.ba))}R=p}P=R!=0?null:11>P?M.f.RGBA.eb:M.f.kb.y}else P=null;return P};var g2=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(O,V){for(var C="",I=0;I<4;I++)C+=String.fromCharCode(O[V++]);return C}function c(O,V){return O[V+0]|O[V+1]<<8}function m(O,V){return(O[V+0]|O[V+1]<<8|O[V+2]<<16)>>>0}function g(O,V){return(O[V+0]|O[V+1]<<8|O[V+2]<<16|O[V+3]<<24)>>>0}new l;var h=[0],S=[0],w=[],b=new l,v=t,N=function(O,V){var C={},I=0,Y=!1,X=0,ue=0;if(C.frames=[],!function(T,z){for(var J=0;J<4;J++)if(T[z+J]!="RIFF".charCodeAt(J))return!0;return!1}(O,V)){for(g(O,V+=4),V+=8;V<O.length;){var de=u(O,V),ce=g(O,V+=4);V+=4;var K=ce+(1&ce);switch(de){case"VP8 ":case"VP8L":C.frames[I]===void 0&&(C.frames[I]={}),(he=C.frames[I]).src_off=Y?ue:V-8,he.src_size=X+ce+8,I++,Y&&(Y=!1,X=0,ue=0);break;case"VP8X":(he=C.header={}).feature_flags=O[V];var re=V+4;he.canvas_width=1+m(O,re),re+=3,he.canvas_height=1+m(O,re),re+=3;break;case"ALPH":Y=!0,X=K+8,ue=V-8;break;case"ANIM":(he=C.header).bgcolor=g(O,V),re=V+4,he.loop_count=c(O,re),re+=2;break;case"ANMF":var me,he;(he=C.frames[I]={}).offset_x=2*m(O,V),V+=3,he.offset_y=2*m(O,V),V+=3,he.width=1+m(O,V),V+=3,he.height=1+m(O,V),V+=3,he.duration=m(O,V),V+=3,me=O[V++],he.dispose=1&me,he.blend=me>>1&1}de!="ANMF"&&(V+=K)}return C}}(v,0);N.response=v,N.rgbaoutput=!0,N.dataurl=!1;var x=N.header?N.header:null,j=N.frames?N.frames:null;if(x){x.loop_counter=x.loop_count,h=[x.canvas_height],S=[x.canvas_width];for(var D=0;D<j.length&&j[D].blend!=0;D++);}var G=j[0],W=b.WebPDecodeRGBA(v,G.src_off,G.src_size,S,h);G.rgba=W,G.imgwidth=S[0],G.imgheight=h[0];for(var F=0;F<S[0]*h[0]*4;F++)w[F]=W[F];return this.width=S,this.height=h,this.data=w,this}(function(t){var e,r,n,i,s,a,o,l,u,c=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new l,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new a,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new a,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var m=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=T;Object.defineProperty(this,"pdf",{get:function(){return z}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(U){J=!!U}});var Q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Q},set:function(U){Q=!!U}});var ee=0;Object.defineProperty(this,"posX",{get:function(){return ee},set:function(U){isNaN(U)||(ee=U)}});var se=0;Object.defineProperty(this,"posY",{get:function(){return se},set:function(U){isNaN(U)||(se=U)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(U){var Ee;typeof U=="number"?Ee=[U,U,U,U]:((Ee=new Array(4))[0]=U[0],Ee[1]=U.length>=2?U[1]:Ee[0],Ee[2]=U.length>=3?U[2]:Ee[0],Ee[3]=U.length>=4?U[3]:Ee[1]),u.margin=Ee}});var pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pe},set:function(U){pe=U}});var ge=0;Object.defineProperty(this,"lastBreak",{get:function(){return ge},set:function(U){ge=U}});var fe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return fe},set:function(U){fe=U}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(U){U instanceof c&&(u=U)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(U){u.path=U}});var Ne=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ne},set:function(U){Ne=U}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(U){var Ee;Ee=g(U),this.ctx.fillStyle=Ee.style,this.ctx.isFillTransparent=Ee.a===0,this.ctx.fillOpacity=Ee.a,this.pdf.setFillColor(Ee.r,Ee.g,Ee.b,{a:Ee.a}),this.pdf.setTextColor(Ee.r,Ee.g,Ee.b,{a:Ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(U){var Ee=g(U);this.ctx.strokeStyle=Ee.style,this.ctx.isStrokeTransparent=Ee.a===0,this.ctx.strokeOpacity=Ee.a,Ee.a===0?this.pdf.setDrawColor(255,255,255):(Ee.a,this.pdf.setDrawColor(Ee.r,Ee.g,Ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(U){["butt","round","square"].indexOf(U)!==-1&&(this.ctx.lineCap=U,this.pdf.setLineCap(U))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(U){isNaN(U)||(this.ctx.lineWidth=U,this.pdf.setLineWidth(U))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(U){["bevel","round","miter"].indexOf(U)!==-1&&(this.ctx.lineJoin=U,this.pdf.setLineJoin(U))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(U){isNaN(U)||(this.ctx.miterLimit=U,this.pdf.setMiterLimit(U))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(U){this.ctx.textBaseline=U}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(U){["right","end","center","left","start"].indexOf(U)!==-1&&(this.ctx.textAlign=U)}});var Ae=null,Ce=null,Re=null;Object.defineProperty(this,"fontFaces",{get:function(){return Re},set:function(U){Ae=null,Ce=null,Re=U}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(U){var Ee;if(this.ctx.font=U,(Ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(U))!==null){var ft=Ee[1];Ee[2];var et=Ee[3],Se=Ee[4];Ee[5];var We=Ee[6],Le=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Se)[2];Se=Math.floor(Le==="px"?parseFloat(Se)*this.pdf.internal.scaleFactor:Le==="em"?parseFloat(Se)*this.pdf.getFontSize():parseFloat(Se)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Se);var Ke=function(Pe){var ar,jt,wt=[],mt=Pe.trim();if(mt==="")return xm;if(mt in Ow)return[Ow[mt]];for(;mt!=="";){switch(jt=null,ar=(mt=Iw(mt)).charAt(0)){case'"':case"'":jt=K7(mt.substring(1),ar);break;default:jt=J7(mt)}if(jt===null||(wt.push(jt[0]),(mt=Iw(jt[1]))!==""&&mt.charAt(0)!==","))return xm;mt=mt.replace(/^,/,"")}return wt}(We);if(this.fontFaces){var Je=function(Pe,ar){var jt=Pe.getFontList(),wt=JSON.stringify(jt);if(Ae===null||Ce!==wt){var mt=function(Wt){var Qe=[];return Object.keys(Wt).forEach(function(Mt){Wt[Mt].forEach(function(tt){var ut=null;switch(tt){case"bold":ut={family:Mt,weight:"bold"};break;case"italic":ut={family:Mt,style:"italic"};break;case"bolditalic":ut={family:Mt,weight:"bold",style:"italic"};break;case"":case"normal":ut={family:Mt}}ut!==null&&(ut.ref={name:Mt,style:tt},Qe.push(ut))})}),Qe}(jt);Ae=function(Wt){for(var Qe={},Mt=0;Mt<Wt.length;++Mt){var tt=bm(Wt[Mt]),ut=tt.family,Jt=tt.stretch,Ze=tt.style,Fe=tt.weight;Qe[ut]=Qe[ut]||{},Qe[ut][Jt]=Qe[ut][Jt]||{},Qe[ut][Jt][Ze]=Qe[ut][Jt][Ze]||{},Qe[ut][Jt][Ze][Fe]=tt}return Qe}(mt.concat(ar)),Ce=wt}return Ae}(this.pdf,this.fontFaces),Lt=Ke.map(function(Pe){return{family:Pe,stretch:"normal",weight:et,style:ft}}),St=function(Pe,ar,jt){for(var wt=(jt=jt||{}).defaultFontFamily||"times",mt=Object.assign({},G7,jt.genericFontFamilies||{}),Wt=null,Qe=null,Mt=0;Mt<ar.length;++Mt)if(mt[(Wt=bm(ar[Mt])).family]&&(Wt.family=mt[Wt.family]),Pe.hasOwnProperty(Wt.family)){Qe=Pe[Wt.family];break}if(!(Qe=Qe||Pe[wt]))throw new Error("Could not find a font-family for the rule '"+Rw(Wt)+"' and default family '"+wt+"'.");if(Qe=function(tt,ut){if(ut[tt])return ut[tt];var Jt=d1[tt],Ze=Jt<=d1.normal?-1:1,Fe=Pw(ut,cS,Jt,Ze);if(!Fe)throw new Error("Could not find a matching font-stretch value for "+tt);return Fe}(Wt.stretch,Qe),Qe=function(tt,ut){if(ut[tt])return ut[tt];for(var Jt=uS[tt],Ze=0;Ze<Jt.length;++Ze)if(ut[Jt[Ze]])return ut[Jt[Ze]];throw new Error("Could not find a matching font-style for "+tt)}(Wt.style,Qe),!(Qe=function(tt,ut){if(ut[tt])return ut[tt];if(tt===400&&ut[500])return ut[500];if(tt===500&&ut[400])return ut[400];var Jt=V7[tt],Ze=Pw(ut,dS,Jt,tt<400?-1:1);if(!Ze)throw new Error("Could not find a matching font-weight for value "+tt);return Ze}(Wt.weight,Qe)))throw new Error("Failed to resolve a font for the rule '"+Rw(Wt)+"'.");return Qe}(Je,Lt);this.pdf.setFont(St.ref.name,St.ref.style)}else{var ot="";(et==="bold"||parseInt(et,10)>=700||ft==="bold")&&(ot="bold"),ft==="italic"&&(ot+="italic"),ot.length===0&&(ot="normal");for(var vt="",pt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ie=0;Ie<Ke.length;Ie++){if(this.pdf.internal.getFont(Ke[Ie],ot,{noFallback:!0,disableWarning:!0})!==void 0){vt=Ke[Ie];break}if(ot==="bolditalic"&&this.pdf.internal.getFont(Ke[Ie],"bold",{noFallback:!0,disableWarning:!0})!==void 0)vt=Ke[Ie],ot="bold";else if(this.pdf.internal.getFont(Ke[Ie],"normal",{noFallback:!0,disableWarning:!0})!==void 0){vt=Ke[Ie],ot="normal";break}}if(vt===""){for(var lt=0;lt<Ke.length;lt++)if(pt[Ke[lt]]){vt=pt[Ke[lt]];break}}vt=vt===""?"Times":vt,this.pdf.setFont(vt,ot)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(U){this.ctx.globalCompositeOperation=U}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(U){this.ctx.globalAlpha=U}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(U){this.ctx.lineDashOffset=U,he.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(U){this.ctx.lineDash=U,he.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(U){this.ctx.ignoreClearRect=!!U}})};m.prototype.setLineDash=function(T){this.lineDash=T},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){j.call(this,"fill",!1)},m.prototype.stroke=function(){j.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(T,z){if(isNaN(T)||isNaN(z))throw Kt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new a(T,z));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new a(T,z)},m.prototype.closePath=function(){var T=new a(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&zt(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){T=new a(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(T.x,T.y)},m.prototype.lineTo=function(T,z){if(isNaN(T)||isNaN(z))throw Kt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new a(T,z));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new a(J.x,J.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},m.prototype.quadraticCurveTo=function(T,z,J,Q){if(isNaN(J)||isNaN(Q)||isNaN(T)||isNaN(z))throw Kt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ee=this.ctx.transform.applyToPoint(new a(J,Q)),se=this.ctx.transform.applyToPoint(new a(T,z));this.path.push({type:"qct",x1:se.x,y1:se.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new a(ee.x,ee.y)},m.prototype.bezierCurveTo=function(T,z,J,Q,ee,se){if(isNaN(ee)||isNaN(se)||isNaN(T)||isNaN(z)||isNaN(J)||isNaN(Q))throw Kt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pe=this.ctx.transform.applyToPoint(new a(ee,se)),ge=this.ctx.transform.applyToPoint(new a(T,z)),fe=this.ctx.transform.applyToPoint(new a(J,Q));this.path.push({type:"bct",x1:ge.x,y1:ge.y,x2:fe.x,y2:fe.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new a(pe.x,pe.y)},m.prototype.arc=function(T,z,J,Q,ee,se){if(isNaN(T)||isNaN(z)||isNaN(J)||isNaN(Q)||isNaN(ee))throw Kt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(se=!!se,!this.ctx.transform.isIdentity){var pe=this.ctx.transform.applyToPoint(new a(T,z));T=pe.x,z=pe.y;var ge=this.ctx.transform.applyToPoint(new a(0,J)),fe=this.ctx.transform.applyToPoint(new a(0,0));J=Math.sqrt(Math.pow(ge.x-fe.x,2)+Math.pow(ge.y-fe.y,2))}Math.abs(ee-Q)>=2*Math.PI&&(Q=0,ee=2*Math.PI),this.path.push({type:"arc",x:T,y:z,radius:J,startAngle:Q,endAngle:ee,counterclockwise:se})},m.prototype.arcTo=function(T,z,J,Q,ee){throw new Error("arcTo not implemented.")},m.prototype.rect=function(T,z,J,Q){if(isNaN(T)||isNaN(z)||isNaN(J)||isNaN(Q))throw Kt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,z),this.lineTo(T+J,z),this.lineTo(T+J,z+Q),this.lineTo(T,z+Q),this.lineTo(T,z),this.lineTo(T+J,z),this.lineTo(T,z)},m.prototype.fillRect=function(T,z,J,Q){if(isNaN(T)||isNaN(z)||isNaN(J)||isNaN(Q))throw Kt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var ee={};this.lineCap!=="butt"&&(ee.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ee.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,z,J,Q),this.fill(),ee.hasOwnProperty("lineCap")&&(this.lineCap=ee.lineCap),ee.hasOwnProperty("lineJoin")&&(this.lineJoin=ee.lineJoin)}},m.prototype.strokeRect=function(T,z,J,Q){if(isNaN(T)||isNaN(z)||isNaN(J)||isNaN(Q))throw Kt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(T,z,J,Q),this.stroke())},m.prototype.clearRect=function(T,z,J,Q){if(isNaN(T)||isNaN(z)||isNaN(J)||isNaN(Q))throw Kt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,z,J,Q))},m.prototype.save=function(T){T=typeof T!="boolean"||T;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var Q=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Q}},m.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(z),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(T){var z,J,Q,ee;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))z=0,J=0,Q=0,ee=0;else{var se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(se!==null)z=parseInt(se[1]),J=parseInt(se[2]),Q=parseInt(se[3]),ee=1;else if((se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)z=parseInt(se[1]),J=parseInt(se[2]),Q=parseInt(se[3]),ee=parseFloat(se[4]);else{if(ee=1,typeof T=="string"&&T.charAt(0)!=="#"){var pe=new rS(T);T=pe.ok?pe.toHex():"#000000"}T.length===4?(z=T.substring(1,2),z+=z,J=T.substring(2,3),J+=J,Q=T.substring(3,4),Q+=Q):(z=T.substring(1,3),J=T.substring(3,5),Q=T.substring(5,7)),z=parseInt(z,16),J=parseInt(J,16),Q=parseInt(Q,16)}}return{r:z,g:J,b:Q,a:ee,style:T}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(T,z,J,Q){if(isNaN(z)||isNaN(J)||typeof T!="string")throw Kt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Q=isNaN(Q)?void 0:Q,!h.call(this)){var ee=K(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;I.call(this,{text:T,x:z,y:J,scale:se,angle:ee,align:this.textAlign,maxWidth:Q})}},m.prototype.strokeText=function(T,z,J,Q){if(isNaN(z)||isNaN(J)||typeof T!="string")throw Kt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){Q=isNaN(Q)?void 0:Q;var ee=K(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;I.call(this,{text:T,x:z,y:J,scale:se,renderingMode:"stroke",angle:ee,align:this.textAlign,maxWidth:Q})}},m.prototype.measureText=function(T){if(typeof T!="string")throw Kt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,J=this.pdf.internal.scaleFactor,Q=z.internal.getFontSize(),ee=z.getStringUnitWidth(T)*Q/z.internal.scaleFactor;return new function(se){var pe=(se=se||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this}({width:ee*=Math.round(96*J/72*1e4)/1e4})},m.prototype.scale=function(T,z){if(isNaN(T)||isNaN(z))throw Kt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new l(T,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},m.prototype.rotate=function(T){if(isNaN(T))throw Kt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new l(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},m.prototype.translate=function(T,z){if(isNaN(T)||isNaN(z))throw Kt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new l(1,0,0,1,T,z);this.ctx.transform=this.ctx.transform.multiply(J)},m.prototype.transform=function(T,z,J,Q,ee,se){if(isNaN(T)||isNaN(z)||isNaN(J)||isNaN(Q)||isNaN(ee)||isNaN(se))throw Kt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pe=new l(T,z,J,Q,ee,se);this.ctx.transform=this.ctx.transform.multiply(pe)},m.prototype.setTransform=function(T,z,J,Q,ee,se){T=isNaN(T)?1:T,z=isNaN(z)?0:z,J=isNaN(J)?0:J,Q=isNaN(Q)?1:Q,ee=isNaN(ee)?0:ee,se=isNaN(se)?0:se,this.ctx.transform=new l(T,z,J,Q,ee,se)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(T,z,J,Q,ee,se,pe,ge,fe){var Ne=this.pdf.getImageProperties(T),Ae=1,Ce=1,Re=1,U=1;Q!==void 0&&ge!==void 0&&(Re=ge/Q,U=fe/ee,Ae=Ne.width/Q*ge/Q,Ce=Ne.height/ee*fe/ee),se===void 0&&(se=z,pe=J,z=0,J=0),Q!==void 0&&ge===void 0&&(ge=Q,fe=ee),Q===void 0&&ge===void 0&&(ge=Ne.width,fe=Ne.height);var Ee=this.ctx.transform.decompose(),ft=K(Ee.rotate.shx),et=new l,Se=(et=(et=(et=et.multiply(Ee.translate)).multiply(Ee.skew)).multiply(Ee.scale)).applyToRectangle(new o(se-z*Re,pe-J*U,Q*Ae,ee*Ce));if(this.autoPaging){for(var We,Le=b.call(this,Se),Ke=[],Je=0;Je<Le.length;Je+=1)Ke.indexOf(Le[Je])===-1&&Ke.push(Le[Je]);x(Ke);for(var Lt=Ke[0],St=Ke[Ke.length-1],ot=Lt;ot<St+1;ot++){this.pdf.setPage(ot);var vt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],pt=ot===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Pe=ot===1?0:Ie+(ot-2)*lt;if(this.ctx.clip_path.length!==0){var ar=this.path;We=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(We,this.posX+this.margin[3],-Pe+pt+this.ctx.prevPageLastElemOffset),D.call(this,"fill",!0),this.path=ar}var jt=JSON.parse(JSON.stringify(Se));jt=N([jt],this.posX+this.margin[3],-Pe+pt+this.ctx.prevPageLastElemOffset)[0];var wt=(ot>Lt||ot<St)&&w.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vt,lt,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",jt.x,jt.y,jt.w,jt.h,null,null,ft),wt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(T,"JPEG",Se.x,Se.y,Se.w,Se.h,null,null,ft)};var b=function(T,z,J){var Q=[];z=z||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ee=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":Q.push(Math.floor((T.y+ee)/J)+1);break;case"arc":Q.push(Math.floor((T.y+ee-T.radius)/J)+1),Q.push(Math.floor((T.y+ee+T.radius)/J)+1);break;case"qct":var se=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);Q.push(Math.floor((se.y+ee)/J)+1),Q.push(Math.floor((se.y+se.h+ee)/J)+1);break;case"bct":var pe=me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);Q.push(Math.floor((pe.y+ee)/J)+1),Q.push(Math.floor((pe.y+pe.h+ee)/J)+1);break;case"rect":Q.push(Math.floor((T.y+ee)/J)+1),Q.push(Math.floor((T.y+T.h+ee)/J)+1)}for(var ge=0;ge<Q.length;ge+=1)for(;this.pdf.internal.getNumberOfPages()<Q[ge];)v.call(this);return Q},v=function(){var T=this.fillStyle,z=this.strokeStyle,J=this.font,Q=this.lineCap,ee=this.lineWidth,se=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=z,this.font=J,this.lineCap=Q,this.lineWidth=ee,this.lineJoin=se},N=function(T,z,J){for(var Q=0;Q<T.length;Q++)switch(T[Q].type){case"bct":T[Q].x2+=z,T[Q].y2+=J;case"qct":T[Q].x1+=z,T[Q].y1+=J;default:T[Q].x+=z,T[Q].y+=J}return T},x=function(T){return T.sort(function(z,J){return z-J})},j=function(T,z){var J=this.fillStyle,Q=this.strokeStyle,ee=this.lineCap,se=this.lineWidth,pe=Math.abs(se*this.ctx.transform.scaleX),ge=this.lineJoin;if(this.autoPaging){for(var fe,Ne,Ae=JSON.parse(JSON.stringify(this.path)),Ce=JSON.parse(JSON.stringify(this.path)),Re=[],U=0;U<Ce.length;U++)if(Ce[U].x!==void 0)for(var Ee=b.call(this,Ce[U]),ft=0;ft<Ee.length;ft+=1)Re.indexOf(Ee[ft])===-1&&Re.push(Ee[ft]);for(var et=0;et<Re.length;et++)for(;this.pdf.internal.getNumberOfPages()<Re[et];)v.call(this);x(Re);for(var Se=Re[0],We=Re[Re.length-1],Le=Se;Le<We+1;Le++){this.pdf.setPage(Le),this.fillStyle=J,this.strokeStyle=Q,this.lineCap=ee,this.lineWidth=pe,this.lineJoin=ge;var Ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Je=Le===1?this.posY+this.margin[0]:this.margin[0],Lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],St=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=Le===1?0:Lt+(Le-2)*St;if(this.ctx.clip_path.length!==0){var vt=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(fe,this.posX+this.margin[3],-ot+Je+this.ctx.prevPageLastElemOffset),D.call(this,T,!0),this.path=vt}if(Ne=JSON.parse(JSON.stringify(Ae)),this.path=N(Ne,this.posX+this.margin[3],-ot+Je+this.ctx.prevPageLastElemOffset),z===!1||Le===0){var pt=(Le>Se||Le<We)&&w.call(this);pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,St,null).clip().discardPath()),D.call(this,T,z),pt&&this.pdf.restoreGraphicsState()}this.lineWidth=se}this.path=Ae}else this.lineWidth=pe,D.call(this,T,z),this.lineWidth=se},D=function(T,z){if((T!=="stroke"||z||!S.call(this))&&(T==="stroke"||z||!h.call(this))){for(var J,Q,ee=[],se=this.path,pe=0;pe<se.length;pe++){var ge=se[pe];switch(ge.type){case"begin":ee.push({begin:!0});break;case"close":ee.push({close:!0});break;case"mt":ee.push({start:ge,deltas:[],abs:[]});break;case"lt":var fe=ee.length;if(se[pe-1]&&!isNaN(se[pe-1].x)&&(J=[ge.x-se[pe-1].x,ge.y-se[pe-1].y],fe>0)){for(;fe>=0;fe--)if(ee[fe-1].close!==!0&&ee[fe-1].begin!==!0){ee[fe-1].deltas.push(J),ee[fe-1].abs.push(ge);break}}break;case"bct":J=[ge.x1-se[pe-1].x,ge.y1-se[pe-1].y,ge.x2-se[pe-1].x,ge.y2-se[pe-1].y,ge.x-se[pe-1].x,ge.y-se[pe-1].y],ee[ee.length-1].deltas.push(J);break;case"qct":var Ne=se[pe-1].x+2/3*(ge.x1-se[pe-1].x),Ae=se[pe-1].y+2/3*(ge.y1-se[pe-1].y),Ce=ge.x+2/3*(ge.x1-ge.x),Re=ge.y+2/3*(ge.y1-ge.y),U=ge.x,Ee=ge.y;J=[Ne-se[pe-1].x,Ae-se[pe-1].y,Ce-se[pe-1].x,Re-se[pe-1].y,U-se[pe-1].x,Ee-se[pe-1].y],ee[ee.length-1].deltas.push(J);break;case"arc":ee.push({deltas:[],abs:[],arc:!0}),Array.isArray(ee[ee.length-1].abs)&&ee[ee.length-1].abs.push(ge)}}Q=z?null:T==="stroke"?"stroke":"fill";for(var ft=!1,et=0;et<ee.length;et++)if(ee[et].arc)for(var Se=ee[et].abs,We=0;We<Se.length;We++){var Le=Se[We];Le.type==="arc"?F.call(this,Le.x,Le.y,Le.radius,Le.startAngle,Le.endAngle,Le.counterclockwise,void 0,z,!ft):Y.call(this,Le.x,Le.y),ft=!0}else if(ee[et].close===!0)this.pdf.internal.out("h"),ft=!1;else if(ee[et].begin!==!0){var Ke=ee[et].start.x,Je=ee[et].start.y;X.call(this,ee[et].deltas,Ke,Je),ft=!0}Q&&O.call(this,Q),z&&V.call(this)}},G=function(T){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-J;case"top":return T+z-J;case"hanging":return T+z-2*J;case"middle":return T+z/2-J;default:return T}},W=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(z,J){this.colorStops.push([z,J])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var F=function(T,z,J,Q,ee,se,pe,ge,fe){for(var Ne=de.call(this,J,Q,ee,se),Ae=0;Ae<Ne.length;Ae++){var Ce=Ne[Ae];Ae===0&&(fe?C.call(this,Ce.x1+T,Ce.y1+z):Y.call(this,Ce.x1+T,Ce.y1+z)),ue.call(this,T,z,Ce.x2,Ce.y2,Ce.x3,Ce.y3,Ce.x4,Ce.y4)}ge?V.call(this):O.call(this,pe)},O=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},V=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(T,z){this.pdf.internal.out(r(T)+" "+n(z)+" m")},I=function(T){var z;switch(T.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var J,Q,ee,se=this.pdf.getTextDimensions(T.text),pe=G.call(this,T.y),ge=W.call(this,pe)-se.h,fe=this.ctx.transform.applyToPoint(new a(T.x,pe));if(this.autoPaging){var Ne=this.ctx.transform.decompose(),Ae=new l;Ae=(Ae=(Ae=Ae.multiply(Ne.translate)).multiply(Ne.skew)).multiply(Ne.scale);for(var Ce=this.ctx.transform.applyToRectangle(new o(T.x,pe,se.w,se.h)),Re=Ae.applyToRectangle(new o(T.x,ge,se.w,se.h)),U=b.call(this,Re),Ee=[],ft=0;ft<U.length;ft+=1)Ee.indexOf(U[ft])===-1&&Ee.push(U[ft]);x(Ee);for(var et=Ee[0],Se=Ee[Ee.length-1],We=et;We<Se+1;We++){this.pdf.setPage(We);var Le=We===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Je=this.pdf.internal.pageSize.height-this.margin[2],Lt=Je-this.margin[0],St=this.pdf.internal.pageSize.width-this.margin[1],ot=St-this.margin[3],vt=We===1?0:Ke+(We-2)*Lt;if(this.ctx.clip_path.length!==0){var pt=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(J,this.posX+this.margin[3],-1*vt+Le),D.call(this,"fill",!0),this.path=pt}var Ie=N([JSON.parse(JSON.stringify(Re))],this.posX+this.margin[3],-vt+Le+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(Q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Q*T.scale),ee=this.lineWidth,this.lineWidth=ee*T.scale);var lt=this.autoPaging!=="text";if(lt||Ie.y+Ie.h<=Je){if(lt||Ie.y>=Le&&Ie.x<=St){var Pe=lt?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||St-Ie.x)[0],ar=N([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-vt+Le+this.ctx.prevPageLastElemOffset)[0],jt=lt&&(We>et||We<Se)&&w.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,Lt,null).clip().discardPath()),this.pdf.text(Pe,ar.x,ar.y,{angle:T.angle,align:z,renderingMode:T.renderingMode}),jt&&this.pdf.restoreGraphicsState()}}else Ie.y<Je&&(this.ctx.prevPageLastElemOffset+=Je-Ie.y);T.scale>=.01&&(this.pdf.setFontSize(Q),this.lineWidth=ee)}}else T.scale>=.01&&(Q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Q*T.scale),ee=this.lineWidth,this.lineWidth=ee*T.scale),this.pdf.text(T.text,fe.x+this.posX,fe.y+this.posY,{angle:T.angle,align:z,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(Q),this.lineWidth=ee)},Y=function(T,z,J,Q){J=J||0,Q=Q||0,this.pdf.internal.out(r(T+J)+" "+n(z+Q)+" l")},X=function(T,z,J){return this.pdf.lines(T,z,J,null,null)},ue=function(T,z,J,Q,ee,se,pe,ge){this.pdf.internal.out([e(i(J+T)),e(s(Q+z)),e(i(ee+T)),e(s(se+z)),e(i(pe+T)),e(s(ge+z)),"c"].join(" "))},de=function(T,z,J,Q){for(var ee=2*Math.PI,se=Math.PI/2;z>J;)z-=ee;var pe=Math.abs(J-z);pe<ee&&Q&&(pe=ee-pe);for(var ge=[],fe=Q?-1:1,Ne=z;pe>1e-5;){var Ae=Ne+fe*Math.min(pe,se);ge.push(ce.call(this,T,Ne,Ae)),pe-=Math.abs(Ae-Ne),Ne=Ae}return ge},ce=function(T,z,J){var Q=(J-z)/2,ee=T*Math.cos(Q),se=T*Math.sin(Q),pe=ee,ge=-se,fe=pe*pe+ge*ge,Ne=fe+pe*ee+ge*se,Ae=4/3*(Math.sqrt(2*fe*Ne)-Ne)/(pe*se-ge*ee),Ce=pe-Ae*ge,Re=ge+Ae*pe,U=Ce,Ee=-Re,ft=Q+z,et=Math.cos(ft),Se=Math.sin(ft);return{x1:T*Math.cos(z),y1:T*Math.sin(z),x2:Ce*et-Re*Se,y2:Ce*Se+Re*et,x3:U*et-Ee*Se,y3:U*Se+Ee*et,x4:T*Math.cos(J),y4:T*Math.sin(J)}},K=function(T){return 180*T/Math.PI},re=function(T,z,J,Q,ee,se){var pe=T+.5*(J-T),ge=z+.5*(Q-z),fe=ee+.5*(J-ee),Ne=se+.5*(Q-se),Ae=Math.min(T,ee,pe,fe),Ce=Math.max(T,ee,pe,fe),Re=Math.min(z,se,ge,Ne),U=Math.max(z,se,ge,Ne);return new o(Ae,Re,Ce-Ae,U-Re)},me=function(T,z,J,Q,ee,se,pe,ge){var fe,Ne,Ae,Ce,Re,U,Ee,ft,et,Se,We,Le,Ke,Je,Lt=J-T,St=Q-z,ot=ee-J,vt=se-Q,pt=pe-ee,Ie=ge-se;for(Ne=0;Ne<41;Ne++)et=(Ee=(Ae=T+(fe=Ne/40)*Lt)+fe*((Re=J+fe*ot)-Ae))+fe*(Re+fe*(ee+fe*pt-Re)-Ee),Se=(ft=(Ce=z+fe*St)+fe*((U=Q+fe*vt)-Ce))+fe*(U+fe*(se+fe*Ie-U)-ft),Ne==0?(We=et,Le=Se,Ke=et,Je=Se):(We=Math.min(We,et),Le=Math.min(Le,Se),Ke=Math.max(Ke,et),Je=Math.max(Je,Se));return new o(Math.round(We),Math.round(Le),Math.round(Ke-We),Math.round(Je-Le))},he=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,z,J=(T=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:z}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(qe.API),function(t){var e=function(a){var o,l,u,c,m,g,h,S,w,b;for(l=[],u=0,c=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;c>u;u+=4)(m=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(g=(m=((m=((m=((m=(m-(b=m%85))/85)-(w=m%85))/85)-(S=m%85))/85)-(h=m%85))/85)%85,l.push(g+33,h+33,S+33,w+33,b+33)):l.push(122);return function(v,N){for(var x=N;x>0;x--)v.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(a){var o,l,u,c,m,g=String,h="length",S=255,w="charCodeAt",b="slice",v="replace";for(a[b](-2),a=a[b](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),u=[],c=0,m=(a+=o="uuuuu"[b](a[h]%5||5))[h];m>c;c+=5)l=52200625*(a[w](c)-33)+614125*(a[w](c+1)-33)+7225*(a[w](c+2)-33)+85*(a[w](c+3)-33)+(a[w](c+4)-33),u.push(S&l>>24,S&l>>16,S&l>>8,S&l);return function(N,x){for(var j=x;j>0;j--)N.pop()}(u,o[h]),g.fromCharCode.apply(g,u)},n=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",u=0;u<a.length;u+=2)l+=String.fromCharCode("0x"+(a[u]+a[u+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=i1(o)).reduce(function(u,c){return u+String.fromCharCode(c)},"")};t.processDataByFilters=function(a,o){var l=0,u=a||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:u,reverseChain:c.reverse().join(" ")}}}(qe.API),function(t){t.loadFile=function(e,r,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,u,c){var m=new XMLHttpRequest,g=0,h=function(S){var w=S.length,b=[],v=String.fromCharCode;for(g=0;g<w;g+=1)b.push(v(255&S.charCodeAt(g)));return b.join("")};if(m.open("GET",l,!u),m.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(m.onload=function(){m.status===200?c(h(this.responseText)):c(void 0)}),m.send(null),u&&m.status===200)return h(m.responseText)}(i,s,a)}catch{}return o}(e,r,n)},t.loadImageFile=t.loadFile}(qe.API),function(t){function e(){return(it.html2canvas?Promise.resolve(it.html2canvas):rm(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(it.DOMPurify?Promise.resolve(it.DOMPurify):rm(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=zt(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var u=document.createElement(o);for(var c in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[c]=l.style[c];return u},s=function o(l,u){for(var c=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),m=l.firstChild;m;m=m.nextSibling)u!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||c.appendChild(o(m,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(c.width=l.width,c.height=l.height,c.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(c.value=l.value),c.addEventListener("load",function(){c.scrollTop=l.scrollTop,c.scrollLeft=l.scrollLeft},!0)),c},a=function o(l){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),u);return(c=c.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=this.opt.jsPDF,c=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var S=c[h],w=S.src.find(function(b){return b.format==="truetype"});w&&u.addFont(w.url,S.ref.name,S.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,u.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var u=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(u):u})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(u,c){return Math.floor(u*c/72*96)}return this.then(function(){(o=o||qe.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,u,c){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,u,c){return this.setProgress(o?this.progress.val+o:null,l||null,u?this.progress.n+u:null,c?this.progress.stack.concat(c):null)},a.prototype.then=function(o,l){var u=this;return this.thenCore(o,l,function(c,m){return u.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(g){return u.updateProgress(null,c),g}).then(c,m).then(function(g){return u.updateProgress(1),g})})},a.prototype.thenCore=function(o,l,u){u=u||Promise.prototype.then;var c=this;o&&(o=o.bind(c)),l&&(l=l.bind(c));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?c:a.convert(Object.assign({},c),Promise.prototype),g=u.call(m,o,l);return a.convert(g,c.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(u){l=l.thenCore(u)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,qe.getPageSize=function(o,l,u){if(zt(o)==="object"){var c=o;o=c.orientation,l=c.unit||l,u=c.format||u}l=l||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var m,g=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+l}var S,w=0,b=0;if(h.hasOwnProperty(g))w=h[g][1]/m,b=h[g][0]/m;else try{w=u[1],b=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",b>w&&(S=b,b=w,w=S);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",w>b&&(S=b,b=w,w=S)}return{width:b,height:w,unit:l,k:m,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(bm):null;var u=new a(l);return l.worker?u:u.from(o).doCallback()}}(qe.API),qe.API.addJS=function(t){return Mw=t,this.internal.events.subscribe("postPutResources",function(){Rh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Rh+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Dw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Mw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Rh!==void 0&&Dw!==void 0&&this.internal.out("/Names <</JavaScript "+Rh+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(s=0;s<u;s++){var m=r.internal.newObject();c.push(m);var g=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<c.length;s++)r.internal.write("(page_"+(s+1)+")"+c[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(qe.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,a,o){var l,u=this.decode.DCT_DECODE,c=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(m){for(var g,h=256*m.charCodeAt(4)+m.charCodeAt(5),S=m.length,w={width:0,height:0,numcomponents:1},b=4;b<S;b+=2){if(b+=h,e.indexOf(m.charCodeAt(b+1))!==-1){g=256*m.charCodeAt(b+5)+m.charCodeAt(b+6),w={width:256*m.charCodeAt(b+7)+m.charCodeAt(b+8),height:g,numcomponents:m.charCodeAt(b+9)};break}h=256*m.charCodeAt(b+2)+m.charCodeAt(b+3)}return w}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}c={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:i}}return c}}(qe.API),qe.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=P7(t,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,u=s.palette,c=s.depth;i=u&&l===1?function(F){for(var O=F.width,V=F.height,C=F.data,I=F.palette,Y=F.depth,X=!1,ue=[],de=[],ce=void 0,K=!1,re=0,me=0;me<I.length;me++){var he=z5(I[me],4),T=he[0],z=he[1],J=he[2],Q=he[3];ue.push(T,z,J),Q!=null&&(Q===0?(re++,de.length<1&&de.push(me)):Q<255&&(K=!0))}if(K||re>1){X=!0,de=void 0;var ee=O*V;ce=new Uint8Array(ee);for(var se=new DataView(C.buffer),pe=0;pe<ee;pe++){var ge=_m(se,pe,Y),fe=z5(I[ge],4)[3];ce[pe]=fe}}else re===0&&(de=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:X?8:void 0,colorBytes:C,alphaBytes:ce,needSMask:X,palette:ue,mask:de}}(s):l===2||l===4?function(F){for(var O=F.data,V=F.width,C=F.height,I=F.channels,Y=F.depth,X=I===2?"DeviceGray":"DeviceRGB",ue=I-1,de=V*C,ce=ue,K=de*ce,re=1*de,me=Math.ceil(K*Y/8),he=Math.ceil(re*Y/8),T=new Uint8Array(me),z=new Uint8Array(he),J=new DataView(O.buffer),Q=new DataView(T.buffer),ee=new DataView(z.buffer),se=!1,pe=0;pe<de;pe++){for(var ge=pe*I,fe=0;fe<ce;fe++)Vw(Q,_m(J,ge+fe,Y),pe*ce+fe,Y);var Ne=_m(J,ge+ce,Y);Ne<(1<<Y)-1&&(se=!0),Vw(ee,Ne,1*pe,Y)}return{colorSpace:X,colorsPerPixel:ue,sMaskBitsPerComponent:se?Y:void 0,colorBytes:T,alphaBytes:z,needSMask:se}}(s):function(F){var O=F.data,V=F.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:V,colorsPerPixel:V==="DeviceGray"?1:3,colorBytes:O instanceof Uint16Array?function(C){for(var I=C.length,Y=new Uint8Array(2*I),X=new DataView(Y.buffer,Y.byteOffset,Y.byteLength),ue=0;ue<I;ue++)X.setUint16(2*ue,C[ue],!1);return Y}(O):O,needSMask:!1}}(s);var m,g,h,S=i,w=S.colorSpace,b=S.colorsPerPixel,v=S.sMaskBitsPerComponent,N=S.colorBytes,x=S.alphaBytes,j=S.needSMask,D=S.palette,G=S.mask,W=null;return n!==qe.API.image_compression.NONE&&typeof i1=="function"?(W=function(F){var O;switch(F){case qe.API.image_compression.FAST:O=11;break;case qe.API.image_compression.MEDIUM:O=13;break;case qe.API.image_compression.SLOW:O=14;break;default:O=12}return O}(n),m=this.decode.FLATE_DECODE,g="/Predictor ".concat(W," /Colors ").concat(b," /BitsPerComponent ").concat(c," /Columns ").concat(a),t=zw(N,Math.ceil(a*b*c/8),b,c,n),j&&(h=zw(x,Math.ceil(a*v/8),1,v,n))):(m=void 0,g=void 0,t=N,j&&(h=x)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:t,index:e,filter:m,decodeParameters:g,transparency:G,palette:D,sMask:h,predictor:W,width:a,height:o,bitsPerComponent:c,sMaskBitsPerComponent:v,colorSpace:w}}},function(t){t.processGIF89A=function(e,r,n,i){var s=new Z7(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:a,height:o},c=new Sm(100).encode(u,100);return t.processJPEG.call(this,c,r,n,i)},t.processGIF87A=t.processGIF89A}(qe.API),Pi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Pi.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Kt.log("bit decode error:"+r)}},Pi.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Pi.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,l=15&s,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Pi.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Pi.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,c=n*this.width*4+4*i;this.data[c]=l,this.data[c+1]=o,this.data[c+2]=a,this.data[c+3]=u}this.pos+=t}},Pi.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&r)/r*255|0,u=(a>>11)/e*255|0,c=i*this.width*4+4*s;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=o,this.data[c+3]=255}this.pos+=t}},Pi.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},Pi.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},Pi.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var s=new Pi(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new Sm(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(qe.API),Kw.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var s=new Kw(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new Sm(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(qe.API),qe.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var c=n[u],m=n[u+1],g=n[u+2],h=n[u+3];s[o++]=c,s[o++]=m,s[o++]=g,a[l++]=h}var S=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:S,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},qe.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},pl=qe.API,Ih=pl.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,m=e.doKerning!==!1,g=0,h=t.length,S=0,w=o[0]||l,b=[];for(r=0;r<h;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?b.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(g=m&&zt(u[n])==="object"&&!isNaN(parseInt(u[n][S],10))?u[n][S]/c:0,b.push((o[n]||w)/l+g)),S=n;return b},Fw=pl.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return pl.processArabic&&(t=pl.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Ih.apply(this,arguments).reduce(function(s,a){return s+a},0)},Bw=function(t,e,r,n){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<r;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>n&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},Uw=function(t,e,r){r||(r={});var n,i,s,a,o,l,u,c=[],m=[c],g=r.textIndent||0,h=0,S=0,w=t.split(" "),b=Ih.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?w[0].length+2:r.lineIndent||0){var v=Array(l).join(" "),N=[];w.map(function(j){(j=j.split(/\s*\n/)).length>1?N=N.concat(j.map(function(D,G){return(G&&D.length?`
`:"")+D})):N.push(j[0])}),w=N,l=Fw.apply(this,[v,r])}for(s=0,a=w.length;s<a;s++){var x=0;if(n=w[s],l&&n[0]==`
`&&(n=n.substr(1),x=1),g+h+(S=(i=Ih.apply(this,[n,r])).reduce(function(j,D){return j+D},0))>e||x){if(S>e){for(o=Bw.apply(this,[n,i,e-(g+h),e]),c.push(o.shift()),c=[o.pop()];o.length;)m.push([o.shift()]);S=i.slice(n.length-(c[0]?c[0].length:0)).reduce(function(j,D){return j+D},0)}else c=[n];m.push(c),g=S+l,h=b}else c.push(n),g+=h+S,h=b}return u=l?function(j,D){return(D?v:"")+j.join(" ")}:function(j){return j.join(" ")},m.map(u)},pl.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var m=this.internal.getFont(c.fontName,c.fontStyle),g="Unicode";return m.metadata[g]?{widths:m.metadata[g].widths||{0:1},kerning:m.metadata[g].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var o,l,u=[];for(o=0,l=n.length;o<l;o++)u=u.concat(Uw.apply(this,[n[o],a,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[r[s]]=e[s],i[e[s]]=r[s];var a=function(g){return"0x"+parseInt(g,10).toString(16)},o=t.__fontmetrics__.compress=function(g){var h,S,w,b,v=["{"];for(var N in g){if(h=g[N],isNaN(parseInt(N,10))?S="'"+N+"'":(N=parseInt(N,10),S=(S=a(N).slice(2)).slice(0,-1)+i[S.slice(-1)]),typeof h=="number")h<0?(w=a(h).slice(3),b="-"):(w=a(h).slice(2),b=""),w=b+w.slice(0,-1)+i[w.slice(-1)];else{if(zt(h)!=="object")throw new Error("Don't know what to do with value type "+zt(h)+".");w=o(h)}v.push(S+w)}return v.push("}"),v.join("")},l=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,S,w,b,v={},N=1,x=v,j=[],D="",G="",W=g.length-1,F=1;F<W;F+=1)(b=g[F])=="'"?h?(w=h.join(""),h=void 0):h=[]:h?h.push(b):b=="{"?(j.push([x,w]),x={},w=void 0):b=="}"?((S=j.pop())[0][S[1]]=x,w=void 0,x=S[0]):b=="-"?N=-1:w===void 0?n.hasOwnProperty(b)?(D+=n[b],w=parseInt(D,16)*N,N=1,D=""):D+=b:n.hasOwnProperty(b)?(G+=n[b],x[w]=parseInt(G,16)*N,N=1,w=void 0,G=""):G+=b;return v},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},m={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var h=g.font,S=m.Unicode[h.postScriptName];S&&(h.metadata.Unicode={},h.metadata.Unicode.widths=S.widths,h.metadata.Unicode.kerning=S.kerning);var w=c.Unicode[h.postScriptName];w&&(h.metadata.Unicode.encoding=w,h.encoding=w.codePages[0])}])}(qe.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(tf(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(qe),qe.API.addSvgAsImage=function(t,e,r,n,i,s,a,o){if(isNaN(e)||isNaN(r))throw Kt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Kt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(it.canvg?Promise.resolve(it.canvg):rm(()=>import("./index.es-UYwzQfsy.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(u,t,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(c)}).then(function(){m.addImage(l.toDataURL("image/jpeg",1),e,r,n,i,a,o)})},qe.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},qe.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],u=0,c=0,m=0;function g(S,w){var b,v=!1;for(b=0;b<S.length;b+=1)S[b]===w&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=o.length;for(m=0;m<h;m+=1)r[o[m]].value=r[o[m]].defaultValue,r[o[m]].explicitSet=!1}if(zt(t)==="object"){for(i in t)if(s=t[i],g(o,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&g(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(c=0;c<s[u].length;c+=1)typeof s[u][c]!="number"&&(n=!1);n===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,w=[];for(S in r)r[S].explicitSet===!0&&(r[S].type==="name"?w.push("/"+S+" /"+r[S].value):w.push("/"+S+" "+r[S].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(qe.API),function(t){var e=t.API,r=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],m=0,g=s.length;m<g;++m){if(o=a.metadata.characterToGlyph(s.charCodeAt(m)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(m),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return c.join("");o=o.toString(16),c.push(u[4-o.length],o)}return c.join("")},n=function(s){var a,o,l,u,c,m,g;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],m=0,g=(o=Object.keys(s).sort(function(h,S){return h-S})).length;m<g;m++)a=o[m],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(u=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,c=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var m=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",S=0;S<g.length;S++)h+=String.fromCharCode(g[S]);var w=u();c({data:h,addLength1:!0,objectId:w}),l("endobj");var b=u();c({data:n(o.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var v=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+yl(o.fontName)),l("/FontFile2 "+w+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var N=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+yl(o.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+t.API.PDFObject.convert(m)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+b+" 0 R"),l("/BaseFont /"+yl(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+N+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,c=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var m=o.metadata.rawData,g="",h=0;h<m.length;h++)g+=String.fromCharCode(m[h]);var S=u();c({data:g,addLength1:!0,objectId:S}),l("endobj");var w=u();c({data:n(o.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var b=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+S+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+yl(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var v=0;v<o.metadata.hmtx.widths.length;v++)o.metadata.hmtx.widths[v]=parseInt(o.metadata.hmtx.widths[v]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+yl(o.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,u=s.y,c=s.options||{},m=s.mutex||{},g=m.pdfEscape,h=m.activeFontKey,S=m.fonts,w=h,b="",v=0,N="",x=S[w].encoding;if(S[w].encoding!=="Identity-H")return{text:o,x:l,y:u,options:c,mutex:m};for(N=o,w=h,Array.isArray(o)&&(N=o[0]),v=0;v<N.length;v+=1)S[w].metadata.hasOwnProperty("cmap")&&(a=S[w].metadata.cmap.unicode.codeMap[N[v].charCodeAt(0)]),a||N[v].charCodeAt(0)<256&&S[w].metadata.hasOwnProperty("Unicode")?b+=N[v]:b+="";var j="";return parseInt(w.slice(1))<14||x==="WinAnsiEncoding"?j=g(b,w).split("").map(function(D){return D.charCodeAt(0).toString(16)}).join(""):x==="Identity-H"&&(j=r(b,S[w])),m.isHex=!0,{text:j,x:l,y:u,options:c,mutex:m}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([i(Object.assign({},l,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(i(Object.assign({},l,{text:a[u]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(qe),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(qe.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,a,o,l,u,c,m=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,x=0;this.__bidiEngine__={};var j=function(C){var I=C.charCodeAt(),Y=I>>8,X=w[Y];return X!==void 0?m[256*X+(255&I)]:Y===252||Y===253?"AL":v.test(Y)?"L":Y===8?"R":"N"},D=function(C){for(var I,Y=0;Y<C.length;Y++){if((I=j(C.charAt(Y)))==="L")return!1;if(I==="R")return!0}return!1},G=function(C,I,Y,X){var ue,de,ce,K,re=I[X];switch(re){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"N":case"AN":break;case"EN":N&&(re="AN");break;case"AL":N=!0,re="R";break;case"WS":case"BN":re="N";break;case"CS":X<1||X+1>=I.length||(ue=Y[X-1])!=="EN"&&ue!=="AN"||(de=I[X+1])!=="EN"&&de!=="AN"?re="N":N&&(de="AN"),re=de===ue?de:"N";break;case"ES":re=(ue=X>0?Y[X-1]:"B")==="EN"&&X+1<I.length&&I[X+1]==="EN"?"EN":"N";break;case"ET":if(X>0&&Y[X-1]==="EN"){re="EN";break}if(N){re="N";break}for(ce=X+1,K=I.length;ce<K&&I[ce]==="ET";)ce++;re=ce<K&&I[ce]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(K=I.length,ce=X+1;ce<K&&I[ce]==="NSM";)ce++;if(ce<K){var me=C[X],he=me>=1425&&me<=2303||me===64286;if(ue=I[ce],he&&(ue==="R"||ue==="AL")){re="R";break}}}re=X<1||(ue=I[X-1])==="B"?"N":Y[X-1];break;case"B":N=!1,i=!0,re=x;break;case"S":s=!0,re="N"}return re},W=function(C,I,Y){var X=C.split("");return Y&&F(X,Y,{hiLevel:x}),X.reverse(),I&&I.reverse(),X.join("")},F=function(C,I,Y){var X,ue,de,ce,K,re=-1,me=C.length,he=0,T=[],z=x?h:g,J=[];for(N=!1,i=!1,s=!1,ue=0;ue<me;ue++)J[ue]=j(C[ue]);for(de=0;de<me;de++){if(K=he,T[de]=G(C,J,T,de),X=240&(he=z[K][S[T[de]]]),he&=15,I[de]=ce=z[he][5],X>0)if(X===16){for(ue=re;ue<de;ue++)I[ue]=1;re=-1}else re=-1;if(z[he][6])re===-1&&(re=de);else if(re>-1){for(ue=re;ue<de;ue++)I[ue]=ce;re=-1}J[de]==="B"&&(I[de]=0),Y.hiLevel|=ce}s&&function(Q,ee,se){for(var pe=0;pe<se;pe++)if(Q[pe]==="S"){ee[pe]=x;for(var ge=pe-1;ge>=0&&Q[ge]==="WS";ge--)ee[ge]=x}}(J,I,me)},O=function(C,I,Y,X,ue){if(!(ue.hiLevel<C)){if(C===1&&x===1&&!i)return I.reverse(),void(Y&&Y.reverse());for(var de,ce,K,re,me=I.length,he=0;he<me;){if(X[he]>=C){for(K=he+1;K<me&&X[K]>=C;)K++;for(re=he,ce=K-1;re<ce;re++,ce--)de=I[re],I[re]=I[ce],I[ce]=de,Y&&(de=Y[re],Y[re]=Y[ce],Y[ce]=de);he=K}he++}}},V=function(C,I,Y){var X=C.split(""),ue={hiLevel:x};return Y||(Y=[]),F(X,Y,ue),function(de,ce,K){if(K.hiLevel!==0&&c)for(var re,me=0;me<de.length;me++)ce[me]===1&&(re=b.indexOf(de[me]))>=0&&(de[me]=b[re+1])}(X,Y,ue),O(2,X,I,Y,ue),O(1,X,I,Y,ue),X.join("")};return this.__bidiEngine__.doBidiReorder=function(C,I,Y){if(function(ue,de){if(de)for(var ce=0;ce<ue.length;ce++)de[ce]=ce;o===void 0&&(o=D(ue)),u===void 0&&(u=D(ue))}(C,I),a||!l||u)if(a&&l&&o^u)x=o?1:0,C=W(C,I,Y);else if(!a&&l&&u)x=o?1:0,C=V(C,I,Y),C=W(C,I);else if(!a||o||l||u){if(a&&!l&&o^u)C=W(C,I),o?(x=0,C=V(C,I,Y)):(x=1,C=V(C,I,Y),C=W(C,I));else if(a&&o&&!l&&u)x=1,C=V(C,I,Y),C=W(C,I);else if(!a&&!l&&o^u){var X=c;o?(x=1,C=V(C,I,Y),x=0,c=!1,C=V(C,I,Y),c=X):(x=0,C=V(C,I,Y),C=W(C,I),x=1,c=!1,C=V(C,I,Y),c=X,C=W(C,I))}}else x=0,C=V(C,I,Y);else x=o?1:0,C=V(C,I,Y);return C},this.__bidiEngine__.setOptions=function(C){C&&(a=C.isInputVisual,l=C.isOutputVisual,o=C.isInputRtl,u=C.isOutputRtl,c=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([r.doBidiReorder(i[o])]);n.text=a}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(qe),qe.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new $a(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new pO(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new eO(this.contents),this.head=new rO(this),this.name=new oO(this),this.cmap=new fS(this),this.toUnicode={},this.hhea=new nO(this),this.maxp=new lO(this),this.hmtx=new uO(this),this.post=new sO(this),this.os2=new iO(this),this.loca=new fO(this),this.glyf=new cO(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,u;for(u=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Ji,$a=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,a,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),eO=function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,a,o,l,u,c,m,g,h,S,w;for(w in h=Object.keys(r).length,l=Math.log(2),m=16*Math.floor(Math.log(h)/l),a=Math.floor(m/l),c=16*h-m,(i=new $a).writeInt(this.scalarType),i.writeShort(h),i.writeShort(m),i.writeShort(a),i.writeShort(c),s=16*h,u=i.pos+s,o=null,S=[],r)for(g=r[w],i.writeString(w),i.writeInt(t(g)),i.writeInt(u),i.writeInt(g.length),S=S.concat(g),w==="head"&&(o=u),u+=g.length;u%4;)S.push(0),u++;return i.write(S),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,a;for(r=pS.call(r);r.length%4;)r.push(0);for(s=new $a(r),i=0,n=0,a=r.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),tO={}.hasOwnProperty,gs=function(t,e){for(var r in e)tO.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Ji=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var rO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Ji),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new $a).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),Jw=function(){function t(e,r){var n,i,s,a,o,l,u,c,m,g,h,S,w,b,v,N,x;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),g=h/2,e.pos+=6,s=function(){var j,D;for(D=[],l=j=0;0<=g?j<g:j>g;l=0<=g?++j:--j)D.push(e.readUInt16());return D}(),e.pos+=2,w=function(){var j,D;for(D=[],l=j=0;0<=g?j<g:j>g;l=0<=g?++j:--j)D.push(e.readUInt16());return D}(),u=function(){var j,D;for(D=[],l=j=0;0<=g?j<g:j>g;l=0<=g?++j:--j)D.push(e.readUInt16());return D}(),c=function(){var j,D;for(D=[],l=j=0;0<=g?j<g:j>g;l=0<=g?++j:--j)D.push(e.readUInt16());return D}(),i=(this.length-e.pos+this.offset)/2,o=function(){var j,D;for(D=[],l=j=0;0<=i?j<i:j>i;l=0<=i?++j:--j)D.push(e.readUInt16());return D}(),l=v=0,x=s.length;v<x;l=++v)for(b=s[l],n=N=S=w[l];S<=b?N<=b:N>=b;n=S<=b?++N:--N)c[l]===0?a=n+u[l]:(a=o[c[l]/2+(n-S)-(g-l)]||0)!==0&&(a+=u[l]),this.codeMap[n]=65535&a}e.pos=m}return t.encode=function(e,r){var n,i,s,a,o,l,u,c,m,g,h,S,w,b,v,N,x,j,D,G,W,F,O,V,C,I,Y,X,ue,de,ce,K,re,me,he,T,z,J,Q,ee,se,pe,ge,fe,Ne,Ae;switch(X=new $a,a=Object.keys(e).sort(function(Ce,Re){return Ce-Re}),r){case"macroman":for(w=0,b=function(){var Ce=[];for(S=0;S<256;++S)Ce.push(0);return Ce}(),N={0:0},s={},ue=0,re=a.length;ue<re;ue++)N[ge=e[i=a[ue]]]==null&&(N[ge]=++w),s[i]={old:e[i],new:N[e[i]]},b[i]=N[e[i]];return X.writeUInt16(1),X.writeUInt16(0),X.writeUInt32(12),X.writeUInt16(0),X.writeUInt16(262),X.writeUInt16(0),X.write(b),{charMap:s,subtable:X.data,maxGlyphID:w+1};case"unicode":for(I=[],m=[],x=0,N={},n={},v=u=null,de=0,me=a.length;de<me;de++)N[D=e[i=a[de]]]==null&&(N[D]=++x),n[i]={old:D,new:N[D]},o=N[D]-i,v!=null&&o===u||(v&&m.push(v),I.push(i),u=o),v=i;for(v&&m.push(v),m.push(65535),I.push(65535),V=2*(O=I.length),F=2*Math.pow(Math.log(O)/Math.LN2,2),g=Math.log(F/2)/Math.LN2,W=2*O-F,l=[],G=[],h=[],S=ce=0,he=I.length;ce<he;S=++ce){if(C=I[S],c=m[S],C===65535){l.push(0),G.push(0);break}if(C-(Y=n[C].new)>=32768)for(l.push(0),G.push(2*(h.length+O-S)),i=K=C;C<=c?K<=c:K>=c;i=C<=c?++K:--K)h.push(n[i].new);else l.push(Y-C),G.push(0)}for(X.writeUInt16(3),X.writeUInt16(1),X.writeUInt32(12),X.writeUInt16(4),X.writeUInt16(16+8*O+2*h.length),X.writeUInt16(0),X.writeUInt16(V),X.writeUInt16(F),X.writeUInt16(g),X.writeUInt16(W),se=0,T=m.length;se<T;se++)i=m[se],X.writeUInt16(i);for(X.writeUInt16(0),pe=0,z=I.length;pe<z;pe++)i=I[pe],X.writeUInt16(i);for(fe=0,J=l.length;fe<J;fe++)o=l[fe],X.writeUInt16(o);for(Ne=0,Q=G.length;Ne<Q;Ne++)j=G[Ne],X.writeUInt16(j);for(Ae=0,ee=h.length;Ae<ee;Ae++)w=h[Ae],X.writeUInt16(w);return{charMap:n,subtable:X.data,maxGlyphID:x+1}}},t}(),fS=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Ji),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new Jw(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=Jw.encode(e,r),(i=new $a).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),nO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Ji),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),iO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Ji),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),sO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Ji),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(e.readUInt32());return l}).call(this)}},t}(),aO=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},oO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Ji),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,s,a,o,l,u,c,m,g;for(e.pos=this.offset,e.readShort(),r=e.readShort(),o=e.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},s=c=0,m=n.length;c<m;s=++c)i=n[s],e.pos=i.offset,u=e.readString(i.length),a=new aO(u,i),l[g=i.nameID]==null&&(l[g]=[]),l[i.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),lO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Ji),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),uO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Ji),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,s,a,o,l;for(e.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,c;for(c=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)c.push(e.readInt16());return c}(),this.widths=(function(){var u,c,m,g;for(g=[],u=0,c=(m=this.metrics).length;u<c;u++)s=m[u],g.push(s.advance);return g}).call(this),n=this.widths[this.widths.length-1],l=[],r=a=0;0<=i?a<i:a>i;r=0<=i?++a:--a)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),pS=[].slice,cO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Ji),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,s,a,o,l,u,c,m;return e in this.cache?this.cache[e]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,a=(o=new $a(r.read(i))).readShort(),u=o.readShort(),m=o.readShort(),l=o.readShort(),c=o.readShort(),this.cache[e]=a===-1?new hO(o,u,m,l,c):new dO(o,a,u,m,l,c),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,s,a,o,l;for(a=[],s=[],o=0,l=r.length;o<l;o++)i=e[r[o]],s.push(a.length),i&&(a=a.concat(i.encode(n)));return s.push(a.length),{table:a,offsets:s}},t}(),dO=function(){function t(e,r,n,i,s,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),hO=function(){function t(e,r,n,i,s){var a,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new $a(pS.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),fO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Ji),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<n.length;++a)if(n[a]=i,s<r.length&&r[s]==a){++s,n[a]=i;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(i+=l)}for(var u=new Array(4*n.length),c=0;c<n.length;++c)u[4*c+3]=255&n[c],u[4*c+2]=(65280&n[c])>>8,u[4*c+1]=(16711680&n[c])>>16,u[4*c]=(4278190080&n[c])>>24;return u},t}(),pO=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,a,o,l,u,c,m,g,h,S,w,b,v;for(i in n=fS.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),h={0:0},v=n.charMap)h[(l=v[i]).old]=l.new;for(S in g=n.maxGlyphID,a)S in h||(h[S]=g++);return c=function(N){var x,j;for(x in j={},N)j[N[x]]=x;return j}(h),m=Object.keys(c).sort(function(N,x){return N-x}),w=function(){var N,x,j;for(j=[],N=0,x=m.length;N<x;N++)o=m[N],j.push(c[o]);return j}(),s=this.font.glyf.encode(a,w,h),u=this.font.loca.encode(s.offsets,w),b={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},t}();qe.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,a;if(Array.isArray(r))return"["+function(){var o,l,u;for(u=[],o=0,l=r.length;o<l;o++)n=r[o],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)a=r[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+r},e}();function mS(t,e,r,n,i){n=n||{};var s=1.15,a=i.internal.scaleFactor,o=i.internal.getFontSize()/a,l=i.getLineHeightFactor?i.getLineHeightFactor():s,u=o*l,c=/\r\n|\r|\n/g,m="",g=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(m=typeof t=="string"?t.split(c):t,g=m.length||1),r+=o*(2-s),n.valign==="middle"?r-=g/2*u:n.valign==="bottom"&&(r-=g*u),n.halign==="center"||n.halign==="right"){var h=o;if(n.halign==="center"&&(h*=.5),m&&g>=1){for(var S=0;S<m.length;S++)i.text(m[S],e-i.getStringUnitWidth(m[S])*h,r),r+=u;return i}e-=i.getStringUnitWidth(t)*h}return n.halign==="justify"?i.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(t,e,r),i}var Yw={},Vl=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:Yw=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,i,s;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var a=this.jsPDFDocument.internal.getFont(),o=a.fontStyle,l=a.fontName;if(e.font&&(l=e.font),e.fontStyle){o=e.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),o=u[0])}if(this.jsPDFDocument.setFont(l,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var c=t.unifyColor(e.fillColor);c&&(n=this.jsPDFDocument).setFillColor.apply(n,c),c=t.unifyColor(e.textColor),c&&(i=this.jsPDFDocument).setTextColor.apply(i,c),c=t.unifyColor(e.lineColor),c&&(s=this.jsPDFDocument).setDrawColor.apply(s,c),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,i,s){return this.jsPDFDocument.rect(e,r,n,i,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return Yw||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),h1=function(t,e){return h1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},h1(t,e)};function gS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");h1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var vS=function(t){gS(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e}(Array);function mO(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function gO(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Wf(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],i=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,a){return Math.max(s,a)},0);return i}function yS(t,e,r,n){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var a=wS(i,!1);a&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,a)}function wS(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function jp(t,e){var r,n,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function bS(t,e){var r=jp(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function vO(t,e,r,n,i){var s={},a=1.3333333333333333,o=Nm(e,function(x){return i.getComputedStyle(x).backgroundColor});o!=null&&(s.fillColor=o);var l=Nm(e,function(x){return i.getComputedStyle(x).color});l!=null&&(s.textColor=l);var u=wO(n,r);u&&(s.cellPadding=u);var c="borderTopColor",m=a*r,g=n.borderTopWidth;if(n.borderBottomWidth===g&&n.borderRightWidth===g&&n.borderLeftWidth===g){var h=(parseFloat(g)||0)/m;h&&(s.lineWidth=h)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/m,right:(parseFloat(n.borderRightWidth)||0)/m,bottom:(parseFloat(n.borderBottomWidth)||0)/m,left:(parseFloat(n.borderLeftWidth)||0)/m},s.lineWidth.top||(s.lineWidth.right?c="borderRightColor":s.lineWidth.bottom?c="borderBottomColor":s.lineWidth.left&&(c="borderLeftColor"));var S=Nm(e,function(x){return i.getComputedStyle(x)[c]});S!=null&&(s.lineColor=S);var w=["left","right","center","justify"];w.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),w=["middle","bottom","top"],w.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var b=parseInt(n.fontSize||"");isNaN(b)||(s.fontSize=b/a);var v=yO(n);v&&(s.fontStyle=v);var N=(n.fontFamily||"").toLowerCase();return t.indexOf(N)!==-1&&(s.font=N),s}function yO(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function Nm(t,e){var r=xS(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function xS(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:xS(t.parentElement,e):r}function wO(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=r.map(function(o){return parseInt(o||"0")/n}),a=jp(s,0);return i>a.top&&(a.top=i),i>a.bottom&&(a.bottom=i),a}function _S(t,e,r,n,i){var s,a;n===void 0&&(n=!1),i===void 0&&(i=!1);var o;typeof e=="string"?o=r.document.querySelector(e):o=e;var l=Object.keys(t.getFontList()),u=t.scaleFactor(),c=[],m=[],g=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:c,body:m,foot:g};for(var h=0;h<o.rows.length;h++){var S=o.rows[h],w=(a=(s=S==null?void 0:S.parentElement)===null||s===void 0?void 0:s.tagName)===null||a===void 0?void 0:a.toLowerCase(),b=bO(l,u,r,S,n,i);b&&(w==="thead"?c.push(b):w==="tfoot"?g.push(b):m.push(b))}return{head:c,body:m,foot:g}}function bO(t,e,r,n,i,s){for(var a=new vS(n),o=0;o<n.cells.length;o++){var l=n.cells[o],u=r.getComputedStyle(l);if(i||u.display!=="none"){var c=void 0;s&&(c=vO(t,l,e,u,r)),a.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:c,_element:l,content:xO(l)})}}var m=r.getComputedStyle(n);if(a.length>0&&(i||m.display!=="none"))return a}function xO(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function _O(t,e,r){for(var n=0,i=[t,e,r];n<i.length;n++){var s=i[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function qs(t,e,r,n,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),a=1;a<arguments.length;a++){var o=arguments[a];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s}function SS(t,e){var r=new Vl(t),n=r.getDocumentOptions(),i=r.getGlobalOptions();_O(i,n,e);var s=qs({},i,n,e),a;typeof window<"u"&&(a=window);var o=SO(i,n,e),l=NO(i,n,e),u=kO(r,s),c=AO(r,s,a);return{id:e.tableId,content:c,hooks:l,styles:o,settings:u}}function SO(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var u=t[l],c=e[l],m=r[l];n.columnStyles=qs({},u,c,m)}else{var g=[t,e,r],h=g.map(function(S){return S[l]||{}});n[l]=qs({},h[0],h[1],h[2])}},s=0,a=Object.keys(n);s<a.length;s++){var o=a[s];i(o)}return n}function NO(t,e,r){for(var n=[t,e,r],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,a=n;s<a.length;s++){var o=a[s];o.didParseCell&&i.didParseCell.push(o.didParseCell),o.willDrawCell&&i.willDrawCell.push(o.willDrawCell),o.didDrawCell&&i.didDrawCell.push(o.didDrawCell),o.willDrawPage&&i.willDrawPage.push(o.willDrawPage),o.didDrawPage&&i.didDrawPage.push(o.didDrawPage)}return i}function kO(t,e){var r,n,i,s,a,o,l,u,c,m,g,h,S=jp(e.margin,40/t.scaleFactor()),w=(r=jO(t,e.startY))!==null&&r!==void 0?r:S.top,b;e.showFoot===!0?b="everyPage":e.showFoot===!1?b="never":b=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var v;e.showHead===!0?v="everyPage":e.showHead===!1?v="never":v=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var N=(s=e.useCss)!==null&&s!==void 0?s:!1,x=e.theme||(N?"plain":"striped"),j=!!e.horizontalPageBreak,D=(a=e.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:N,theme:x,startY:w,margin:S,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(c=e.tableWidth)!==null&&c!==void 0?c:"auto",showHead:v,showFoot:b,tableLineWidth:(m=e.tableLineWidth)!==null&&m!==void 0?m:0,tableLineColor:(g=e.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:j,horizontalPageBreakRepeat:D,horizontalPageBreakBehaviour:(h=e.horizontalPageBreakBehaviour)!==null&&h!==void 0?h:"afterAllRows"}}function jO(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),i=t.pageNumber(),s=!1;if(r&&r.startPageNumber){var a=r.startPageNumber+r.pageNumber-1;s=a===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function AO(t,e,r){var n=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var a=e.includeHiddenHtml;if(r){var o=_S(t,e.html,r,a,e.useCss)||{};n=o.head||n,i=o.body||n,s=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=e.columns||EO(n,i,s);return{columns:l,head:n,body:i,foot:s}}function EO(t,e,r){var n=t[0]||e[0]||r[0]||[],i=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var a=1,o;Array.isArray(n)?o=n[parseInt(s)]:o=n[s],typeof o=="object"&&!Array.isArray(o)&&(a=(o==null?void 0:o.colSpan)||1);for(var l=0;l<a;l++){var u=void 0;Array.isArray(n)?u=i.length:u=s+(l>0?"_".concat(l):"");var c={dataKey:u};i.push(c)}}),i}var f1=function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t}(),CO=function(t){gS(e,t);function e(r,n,i,s,a,o){var l=t.call(this,r,n,o)||this;return l.cell=i,l.row=s,l.column=a,l.section=s.section,l}return e}(f1),TO=function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,i,s,a){for(var o=0,l=r;o<l.length;o++){var u=l[o],c=new CO(e,this,n,i,s,a),m=u(c)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],m)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var s=i[n];s(new f1(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var s=i[n];s(new f1(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t}(),NS=function(){function t(e,r,n,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof vS&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,i){var s;return Math.max(n,((s=r.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var i=r.cells[n.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(i,s){var a=n.cells[s.index];if(!a)return 0;var o=r.getLineHeight(a.styles.fontSize),l=a.padding("vertical"),u=l+o;return u>i?u:i},0)},t}(),kS=function(){function t(e,r,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var a=s!=null?""+s:"",o=/\r\n|\r|\n/g;this.text=a.split(o)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*r,s=n*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=jp(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t}(),LO=function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,i=e.allRows();n<i.length;n++){var s=i[n],a=s.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(r=Math.max(r,a.styles.cellWidth))}return r},t}();function PO(t,e){OO(t,e);var r=[],n=0;e.columns.forEach(function(s){var a=s.getMaxCustomCellWidth(e);a?s.width=a:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var i=e.getWidth(t.pageSize().width)-n;i&&(i=p1(r,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=p1(r,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),IO(e),DO(e,t),RO(e)}function OO(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,i=bS(t,e);e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var l=o[a],u=s.cells[l.index];if(u){var c=e.hooks.didParseCell;e.callCellHooks(t,c,u,s,l,null);var m=u.padding("horizontal");u.contentWidth=Wf(u.text,u.styles,t)+m;var g=Wf(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=g+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var h=10/r;u.minWidth=u.styles.minCellWidth||h,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var l=o[a],u=s.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var c=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},m=c.cellWidth||c.minCellWidth;m&&typeof m=="number"&&(l.minWidth=m,l.wrappedWidth=m)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function p1(t,e,r){for(var n=e,i=t.reduce(function(h,S){return h+S.wrappedWidth},0),s=0;s<t.length;s++){var a=t[s],o=a.wrappedWidth/i,l=n*o,u=a.width+l,c=r(a),m=u<c?c:u;e-=m-a.width,a.width=m}if(e=Math.round(e*1e10)/1e10,e){var g=t.filter(function(h){return e<0?h.width>r(h):!0});g.length&&(e=p1(g,e,r))}return e}function RO(t){for(var e={},r=1,n=t.allRows(),i=0;i<n.length;i++)for(var s=n[i],a=0,o=t.columns;a<o.length;a++){var l=o[a],u=e[l.index];if(r>1)r--,delete s.cells[l.index];else if(u)u.cell.height+=s.height,r=u.cell.colSpan,delete s.cells[l.index],u.left--,u.left<=1&&delete e[l.index];else{var c=s.cells[l.index];if(!c)continue;if(c.height=s.height,c.rowSpan>1){var m=n.length-i,g=c.rowSpan>m?m:c.rowSpan;e[l.index]={cell:c,left:g,row:s}}}}}function IO(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],i=null,s=0,a=0,o=0;o<t.columns.length;o++){var l=t.columns[o];if(a-=1,a>1&&t.columns[o+1])s+=l.width,delete n.cells[l.index];else if(i){var u=i;delete n.cells[l.index],i=null,u.width=l.width+s}else{var u=n.cells[l.index];if(!u)continue;if(a=u.colSpan,s=0,u.colSpan>1){i=u,s+=l.width;continue}u.width=l.width+s}}}function DO(t,e){for(var r={count:0,height:0},n=0,i=t.allRows();n<i.length;n++){for(var s=i[n],a=0,o=t.columns;a<o.length;a++){var l=o[a],u=s.cells[l.index];if(u){e.applyStyles(u.styles,!0);var c=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,c+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=Xw(u.text,c,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=Xw(u.text,c,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var m=u.styles.overflow(u.text,c);typeof m=="string"?u.text=[m]:u.text=m}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var g=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<g*u.rowSpan?r={height:g,count:u.rowSpan}:r&&r.count>0&&r.height>g&&(g=r.height),g>s.height&&(s.height=g)}}r.count--}}function Xw(t,e,r,n,i){return t.map(function(s){return MO(s,e,r,n,i)})}function MO(t,e,r,n,i){var s=1e4*n.scaleFactor();if(e=Math.ceil(e*s)/s,e>=Wf(t,r,n))return t;for(;e<Wf(t+i,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function jS(t,e){var r=new Vl(t),n=FO(e,r.scaleFactor()),i=new TO(e,n);return PO(r,i),r.applyStyles(r.userStyles),i}function FO(t,e){var r=t.content,n=UO(r.columns);if(r.head.length===0){var i=Qw(n,"head");i&&r.head.push(i)}if(r.foot.length===0){var i=Qw(n,"foot");i&&r.foot.push(i)}var s=t.settings.theme,a=t.styles;return{columns:n,head:km("head",r.head,n,a,s,e),body:km("body",r.body,n,a,s,e),foot:km("foot",r.foot,n,a,s,e)}}function km(t,e,r,n,i,s){var a={},o=e.map(function(l,u){for(var c=0,m={},g=0,h=0,S=0,w=r;S<w.length;S++){var b=w[S];if(a[b.index]==null||a[b.index].left===0)if(h===0){var v=void 0;Array.isArray(l)?v=l[b.index-g-c]:v=l[b.dataKey];var N={};typeof v=="object"&&!Array.isArray(v)&&(N=(v==null?void 0:v.styles)||{});var x=zO(t,b,u,i,n,s,N),j=new kS(v,x,t);m[b.dataKey]=j,m[b.index]=j,h=j.colSpan-1,a[b.index]={left:j.rowSpan-1,times:h}}else h--,g++;else a[b.index].left--,h=a[b.index].times,c++}return new NS(l,u,t,m)});return o}function Qw(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var i=BO(e,n.raw);i!=null&&(r[n.dataKey]=i)}}),Object.keys(r).length>0?r:null}function BO(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function UO(t){return t.map(function(e,r){var n,i;return typeof e=="object"?i=(n=e.dataKey)!==null&&n!==void 0?n:r:i=r,new LO(i,e,r)})}function zO(t,e,r,n,i,s,a){var o=gO(n),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var u=qs({},o.table,o[t],i.styles,l),c=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},m=t==="body"?c:{},g=t==="body"&&r%2===0?qs({},o.alternateRow,i.alternateRowStyles):{},h=mO(s),S=qs({},h,u,g,m);return qs(S,a)}function $O(t,e,r){var n;r===void 0&&(r={});var i=bS(t,e),s=new Map,a=[],o=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(g){var h=e.columns.find(function(S){return S.dataKey===g||S.index===g});h&&!s.has(h.index)&&(s.set(h.index,!0),a.push(h.index),o.push(e.columns[h.index]),i-=h.wrappedWidth)});for(var u=!0,c=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;c<e.columns.length;){if(s.has(c)){c++;continue}var m=e.columns[c].wrappedWidth;if(u||i>=m)u=!1,a.push(c),o.push(e.columns[c]),i-=m;else break;c++}return{colIndexes:a,columns:o,lastIndex:c-1}}function qO(t,e){for(var r=[],n=0;n<e.columns.length;n++){var i=$O(t,e,{start:n});i.columns.length&&(r.push(i),n=i.lastIndex)}return r}function AS(t,e){var r=e.settings,n=r.startY,i=r.margin,s={x:i.left,y:n},a=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=n+i.bottom+a;if(r.pageBreak==="avoid"){var l=e.body,u=l.reduce(function(g,h){return g+h.height},0);o+=u}var c=new Vl(t);(r.pageBreak==="always"||r.startY!=null&&o>c.pageSize().height)&&(CS(c),s.y=i.top),e.callWillDrawPageHooks(c,s);var m=qs({},s);e.startPageNumber=c.pageNumber(),r.horizontalPageBreak?WO(c,e,m,s):(c.applyStyles(c.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(g){return Qs(c,e,g,s,e.columns)}),c.applyStyles(c.userStyles),e.body.forEach(function(g,h){var S=h===e.body.length-1;Hf(c,e,g,S,m,s,e.columns)}),c.applyStyles(c.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(g){return Qs(c,e,g,s,e.columns)})),yS(c,e,m,s),e.callEndPageHooks(c,s),e.finalY=s.y,t.lastAutoTable=e,c.applyStyles(c.userStyles)}function WO(t,e,r,n){var i=qO(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,c){t.applyStyles(t.userStyles),c>0?Nc(t,e,r,n,u.columns,!0):Zw(t,e,n,u.columns),HO(t,e,r,n,u.columns),jm(t,e,n,u.columns)});else for(var a=-1,o=i[0],l=function(){var u=a;if(o){t.applyStyles(t.userStyles);var c=o.columns;a>=0?Nc(t,e,r,n,c,!0):Zw(t,e,n,c),u=eb(t,e,a+1,n,c),jm(t,e,n,c)}var m=u-a;i.slice(1).forEach(function(g){t.applyStyles(t.userStyles),Nc(t,e,r,n,g.columns,!0),eb(t,e,a+1,n,g.columns,m),jm(t,e,n,g.columns)}),a=u};a<e.body.length-1;)l()}function Zw(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return Qs(t,e,s,r,n)})}function HO(t,e,r,n,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,a){var o=a===e.body.length-1;Hf(t,e,s,o,r,n,i)})}function eb(t,e,r,n,i,s){t.applyStyles(t.userStyles),s=s??e.body.length;var a=Math.min(r+s,e.body.length),o=-1;return e.body.slice(r,a).forEach(function(l,u){var c=r+u===e.body.length-1,m=ES(t,e,c,n);l.canEntireRowFit(m,i)&&(Qs(t,e,l,n,i),o=r+u)}),o}function jm(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return Qs(t,e,s,r,n)})}function VO(t,e,r){var n=r.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/n);return Math.max(0,s)}function GO(t,e,r,n){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,a=0,o=r.columns;a<o.length;a++){var l=o[a],u=t.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var c=new kS(u.raw,u.styles,u.section);c=qs(c,u),c.text=[];var m=VO(u,e,n);u.text.length>m&&(c.text=u.text.splice(m,u.text.length));var g=n.scaleFactor(),h=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(g,h),u.contentHeight>=e&&(u.contentHeight=e,c.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),c.contentHeight=c.getContentHeight(g,h),c.contentHeight>s&&(s=c.contentHeight),i[l.index]=c}}var S=new NS(t.raw,-1,t.section,i,!0);S.height=s;for(var w=0,b=r.columns;w<b.length;w++){var l=b[w],c=S.cells[l.index];c&&(c.height=S.height);var u=t.cells[l.index];u&&(u.height=t.height)}return S}function KO(t,e,r,n){var i=t.pageSize().height,s=n.settings.margin,a=s.top+s.bottom,o=i-a;e.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=e.getMinimumRowHeight(n.columns,t),u=l<r;if(l>o)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var c=e.hasRowSpan(n.columns),m=e.getMaxCellHeight(n.columns)>o;return m?(c&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(c||n.settings.rowPageBreak==="avoid")}function Hf(t,e,r,n,i,s,a){var o=ES(t,e,n,s);if(r.canEntireRowFit(o,a))Qs(t,e,r,s,a);else if(KO(t,r,o,e)){var l=GO(r,o,e,t);Qs(t,e,r,s,a),Nc(t,e,i,s,a),Hf(t,e,l,n,i,s,a)}else Nc(t,e,i,s,a),Hf(t,e,r,n,i,s,a)}function Qs(t,e,r,n,i){n.x=e.settings.margin.left;for(var s=0,a=i;s<a.length;s++){var o=a[s],l=r.cells[o.index];if(!l){n.x+=o.width;continue}t.applyStyles(l.styles),l.x=n.x,l.y=n.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,l,r,o,n);if(u===!1){n.x+=o.width;continue}JO(t,l,n);var c=l.getTextPos();mS(l.text,c.x,c.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function JO(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=wS(n.lineWidth,n.fillColor);i&&t.rect(e.x,r.y,e.width,e.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),YO(t,e,r,n.lineWidth))}function YO(t,e,r,n){var i,s,a,o;n.top&&(i=r.x,s=r.y,a=r.x+e.width,o=r.y,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),l(n.top,i,s,a,o)),n.bottom&&(i=r.x,s=r.y+e.height,a=r.x+e.width,o=r.y+e.height,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),l(n.bottom,i,s,a,o)),n.left&&(i=r.x,s=r.y,a=r.x,o=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,i,s,a,o)),n.right&&(i=r.x+e.width,s=r.y,a=r.x+e.width,o=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,i,s,a,o));function l(u,c,m,g,h){t.getDocument().setLineWidth(u),t.getDocument().line(c,m,g,h,"S")}}function ES(t,e,r,n){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-i}function Nc(t,e,r,n,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(o){return Qs(t,e,o,n,i)}),e.callEndPageHooks(t,n);var a=e.settings.margin;yS(t,e,r,n),CS(t),e.pageNumber++,n.x=a.left,n.y=a.top,r.y=a.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return Qs(t,e,o,n,i)}),t.applyStyles(t.userStyles))}function CS(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function XO(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],i=SS(this,n),s=jS(this,i);return AS(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,i){mS(e,r,n,i,this)},t.API.autoTableSetDefaults=function(e){return Vl.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){Vl.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Vl(this),s=_S(i,e,window,r,!1),a=s.head,o=s.body,l=((n=a[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:l,rows:o,data:o}}}var Am;function Ap(t,e){var r=SS(t,e),n=jS(t,r);AS(t,n)}try{if(typeof window<"u"&&window){var tb=window,rb=tb.jsPDF||((Am=tb.jspdf)===null||Am===void 0?void 0:Am.jsPDF);rb&&XO(rb)}}catch(t){console.error("Could not apply autoTable plugin",t)}function QO({isOpen:t,onClose:e}){const{user:r}=_i(),[n,i]=L.useState(!1),[s,a]=L.useState(null),o=L.useRef(null);if(!t)return null;const l=async()=>{if(r){i(!0),a(null);try{const[m,g]=await Promise.all([rt.from("timetable_entries").select("*").eq("user_id",r.id),rt.from("smart_timetable_entries").select("*").eq("user_id",r.id)]),h={timestamp:new Date().toISOString(),timetable_entries:m.data||[],smart_timetable_entries:g.data||[]},S=new Blob([JSON.stringify(h,null,2)],{type:"application/json"}),w=URL.createObjectURL(S),b=document.createElement("a");b.href=w,b.download=`timetable_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(w),a({type:"success",text:"Backup downloaded successfully!"})}catch(m){console.error("Export error:",m),a({type:"error",text:"Failed to export data."})}finally{i(!1)}}},u=async()=>{if(r){i(!0),a(null);try{const{data:m}=await rt.from("timetable_entries").select("*").eq("user_id",r.id),{data:g}=await rt.from("smart_timetable_entries").select("*").eq("user_id",r.id),h=[...m||[],...g||[]],S={Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6,Sunday:7};h.sort((v,N)=>{const x=(S[v.day]||0)-(S[N.day]||0);return x!==0?x:v.start_time.localeCompare(N.start_time)});const w=new qe;w.setFontSize(20),w.text("My Timetable",14,22),w.setFontSize(10),w.text(`Generated on ${new Date().toLocaleDateString()}`,14,30);const b=h.map(v=>[v.day,`${v.start_time.slice(0,5)} - ${v.end_time.slice(0,5)}`,v.subject_name,v.room_number||"-",v.type.toUpperCase()]);Ap(w,{head:[["Day","Time","Subject","Room","Type"]],body:b,startY:40,styles:{fontSize:10,cellPadding:3},headStyles:{fillColor:[147,51,234]},alternateRowStyles:{fillColor:[243,244,246]}}),w.save("timetable.pdf"),a({type:"success",text:"PDF downloaded successfully!"})}catch(m){console.error("PDF Export error:",m),a({type:"error",text:"Failed to generate PDF."})}finally{i(!1)}}},c=async m=>{var S;const g=(S=m.target.files)==null?void 0:S[0];if(!g||!r)return;i(!0),a(null);const h=new FileReader;h.onload=async w=>{var b;try{const v=JSON.parse((b=w.target)==null?void 0:b.result);if(!v.timetable_entries&&!v.smart_timetable_entries)throw new Error("Invalid backup file format");const N=(v.timetable_entries||[]).map(({id:j,created_at:D,...G})=>({...G,user_id:r.id})),x=(v.smart_timetable_entries||[]).map(({id:j,created_at:D,...G})=>({...G,user_id:r.id}));if(N.length>0){const{error:j}=await rt.from("timetable_entries").insert(N);if(j)throw j}if(x.length>0){const{error:j}=await rt.from("smart_timetable_entries").insert(x);if(j)throw j}a({type:"success",text:"Data imported successfully! Refreshing..."}),setTimeout(()=>window.location.reload(),1500)}catch(v){console.error("Import error:",v),a({type:"error",text:"Failed to import data. Invalid file."})}finally{i(!1),o.current&&(o.current.value="")}},h.readAsText(g)};return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/20 backdrop-blur-sm",children:f.jsx("div",{className:"bg-white/90 backdrop-blur-xl rounded-3xl shadow-2xl w-full max-w-md overflow-hidden border border-white/50 animate-in fade-in zoom-in duration-200",children:f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"App Settings"}),f.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:f.jsx(ea,{className:"h-5 w-5 text-slate-500"})})]}),s&&f.jsxs("div",{className:`mb-4 p-3 rounded-xl flex items-center gap-2 text-sm font-medium ${s.type==="success"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[f.jsx(bv,{className:"h-4 w-4"}),s.text]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider",children:"Export Data"}),f.jsxs("button",{onClick:l,disabled:n,className:"w-full p-4 glass-card rounded-xl flex items-center justify-between hover:bg-white/60 transition-colors group",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 group-hover:scale-110 transition-transform",children:f.jsx(_v,{className:"h-5 w-5"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("p",{className:"font-bold text-slate-700",children:"Backup as JSON"}),f.jsx("p",{className:"text-xs text-slate-500",children:"Save all your data to a file"})]})]}),f.jsx(zg,{className:"h-5 w-5 text-slate-400"})]}),f.jsxs("button",{onClick:u,disabled:n,className:"w-full p-4 glass-card rounded-xl flex items-center justify-between hover:bg-white/60 transition-colors group",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center text-red-600 group-hover:scale-110 transition-transform",children:f.jsx(od,{className:"h-5 w-5"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("p",{className:"font-bold text-slate-700",children:"Export as PDF"}),f.jsx("p",{className:"text-xs text-slate-500",children:"Download printable timetable"})]})]}),f.jsx(zg,{className:"h-5 w-5 text-slate-400"})]})]}),f.jsxs("div",{className:"space-y-2 pt-2",children:[f.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider",children:"Import Data"}),f.jsxs("button",{onClick:()=>{var m;return(m=o.current)==null?void 0:m.click()},disabled:n,className:"w-full p-4 glass-card rounded-xl flex items-center justify-between hover:bg-white/60 transition-colors group border-2 border-dashed border-slate-300 hover:border-purple-400",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center text-purple-600 group-hover:scale-110 transition-transform",children:f.jsx(Sv,{className:"h-5 w-5"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("p",{className:"font-bold text-slate-700",children:"Restore from Backup"}),f.jsx("p",{className:"text-xs text-slate-500",children:"Upload a JSON file to restore"})]})]}),n&&f.jsx(Hs,{className:"h-5 w-5 animate-spin text-purple-600"})]}),f.jsx("input",{type:"file",ref:o,onChange:c,accept:".json",className:"hidden"})]})]})]})})})}const ZO="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";async function eR(){try{const t=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${ZO}`,"Content-Type":"application/json"},body:JSON.stringify({model:"x-ai/grok-4.1-fast:free",messages:[{role:"user",content:"Give me a short, inspiring quote for a university student. Format it as JSON with 'quote' and 'author' fields. Do not include any markdown formatting."}],reasoning:{enabled:!0}})});if(!t.ok)throw new Error(`API call failed: ${t.statusText}`);const r=(await t.json()).choices[0].message.content;try{const n=r.replace(/```json\n?|\n?```/g,"").trim();return JSON.parse(n)}catch(n){return console.warn("Failed to parse JSON from AI response, returning raw text",n),{quote:r,author:"AI Assistant"}}}catch(t){throw console.error("Error fetching AI quote:",t),t}}async function tR(t){try{const{data:e}=await rt.from("profiles").select("*").eq("id",t).single(),{data:r}=await rt.from("timetable_entries").select("*").eq("user_id",t),{data:n}=await rt.from("smart_timetable_entries").select("*").eq("user_id",t),{data:i}=await rt.from("attendance_logs").select("*").eq("user_id",t),s=await Tt.getAllSimulatorSubjects(),a=await Tt.getAllNotes(),o=await Tt.getAllCountdowns(),l=await Tt.getAllTasks(),u={version:1,timestamp:new Date().toISOString(),user:{id:t,profile:e||{}},academics:{timetable:r||[],smart_timetable:n||[],attendance_logs:i||[]},local_data:{simulator_subjects:s||[],notes:a||[],countdowns:o||[],tasks:l||[]}},c=new Blob([JSON.stringify(u,null,2)],{type:"application/json"}),m=URL.createObjectURL(c),g=document.createElement("a");return g.href=m,g.download=`academic_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(m),!0}catch(e){throw console.error("Export JSON failed:",e),e}}async function rR(t){try{const e=new qe,r=20;let n=20;const{data:i}=await rt.from("profiles").select("*").eq("id",t).single(),{data:s}=await rt.from("attendance_logs").select("*").eq("user_id",t);e.setFontSize(24),e.setTextColor(80,70,229),e.text("Student Academic Report",r,n),n+=10,e.setFontSize(10),e.setTextColor(100),e.text(`Generated on: ${new Date().toLocaleDateString()}`,r,n),n+=15,e.setDrawColor(200),e.line(r,n,190,n),n+=10,e.setFontSize(14),e.setTextColor(0),e.text("Student Profile",r,n),n+=8,e.setFontSize(11),e.setTextColor(60);const a=(i==null?void 0:i.full_name)||"N/A",o=(i==null?void 0:i.university)||"N/A",l=`${(i==null?void 0:i.branch)||"-"} (${(i==null?void 0:i.semester)||"-"})`,u=i!=null&&i.cgpa?`${i.cgpa}`:"N/A";e.text(`Name: ${a}`,r,n),e.text(`University: ${o}`,110,n),n+=7,e.text(`Branch: ${l}`,r,n),e.text(`CGPA: ${u}`,110,n),n+=15;const c=new Map;s==null||s.forEach(h=>{const S=c.get(h.subject_name)||{total:0,attended:0};S.total+=1,h.status==="present"&&(S.attended+=1),c.set(h.subject_name,S)}),e.setFontSize(14),e.setTextColor(0),e.text("Attendance Summary",r,n),n+=5;const m=Array.from(c.entries()).map(([h,S])=>{const w=S.total-S.attended,b=S.total>0?(S.attended/S.total*100).toFixed(1)+"%":"0%";return[h,S.attended,w,S.total,b]});m.length>0?(Ap(e,{startY:n,head:[["Subject","Attended","Absent","Total Classes","Percentage"]],body:m,theme:"grid",headStyles:{fillColor:[80,70,229]},styles:{fontSize:10},margin:{top:20}}),n=e.lastAutoTable.finalY+20):(n+=10,e.setFontSize(10),e.setTextColor(150),e.text("No attendance records found.",r,n),n+=20,n+=20);const g=await Tt.getAllNotes();return g&&g.length>0&&(n>250&&(e.addPage(),n=20),e.setFontSize(14),e.setTextColor(0),e.text("Academic Vault (Notes)",r,n),n+=10,g.sort((h,S)=>new Date(S.updatedAt).getTime()-new Date(h.updatedAt).getTime()),g.forEach(h=>{n>270&&(e.addPage(),n=20),e.setFontSize(12),e.setTextColor(0);const S=h.title||"Untitled Note";e.text(` ${S}`,r,n),n+=7,e.setFontSize(10),e.setTextColor(80);const w=new Date(h.updatedAt).toLocaleDateString();e.text(`${w}`,r+5,n),n+=5,e.setFontSize(10),e.setTextColor(100);const b=e.splitTextToSize(h.content||"No content",170);e.text(b,r+5,n),n+=b.length*5+10})),e.setFontSize(8),e.setTextColor(150),e.text("Generated by CGPA Calculator",r,280),e.save(`report_${new Date().toISOString().split("T")[0]}.pdf`),!0}catch(e){throw console.error("Export PDF failed:",e),e}}const nR=[{name:"Purple",value:"purple",class:"bg-purple-500"},{name:"Blue",value:"blue",class:"bg-blue-500"},{name:"Green",value:"green",class:"bg-emerald-500"},{name:"Orange",value:"orange",class:"bg-orange-500"},{name:"Pink",value:"pink",class:"bg-pink-500"}];function iR(){var ce;const{user:t}=_i(),{mode:e,setTheme:r,setMode:n}=V8(),{addToast:i}=ld(),{level:s,xp:a}=e3(),o=Gi(),[l,u]=L.useState(null),[c,m]=L.useState(!0),[g,h]=L.useState(!1),[S,w]=L.useState(!1),[b,v]=L.useState(null),[N,x]=L.useState(!1),[j,D]=L.useState(!1),[G,W]=L.useState(!1),F=async()=>{try{x(!0);const K=await eR();v(K)}catch(K){console.error("Failed to load quote",K)}finally{x(!1)}};L.useEffect(()=>{F()},[]);const O=async()=>{if(t)try{const{data:K,error:re}=await rt.from("profiles").select("*").eq("id",t.id).single();re&&re.code!=="PGRST116"&&console.error("Error fetching profile:",re);const me=K||{full_name:"",university:"",branch:"",semester:"",theme_preference:"light",attendance_goal:75,accent_color:"purple",cgpa:0,credits:0,avatar_url:null};u(me),me.accent_color&&r(me.accent_color)}catch(K){console.error("Error:",K)}finally{m(!1)}};L.useEffect(()=>{O()},[t]);const V=async()=>{await rt.auth.signOut(),o("/login")},C=async K=>{!t||!l||(r(K),u({...l,accent_color:K}),await rt.from("profiles").update({accent_color:K}).eq("id",t.id))},I=async K=>{if(!t||!l)return;const re=parseInt(K.target.value);u({...l,attendance_goal:re}),await rt.from("profiles").update({attendance_goal:re}).eq("id",t.id)},Y=async K=>{try{if(D(!0),!K.target.files||K.target.files.length===0)throw new Error("You must select an image to upload.");const re=K.target.files[0],me=re.name.split(".").pop(),T=`${`${Math.random()}.${me}`}`,{error:z}=await rt.storage.from("avatars").upload(T,re);if(z)throw z;const{data:J}=rt.storage.from("avatars").getPublicUrl(T),Q=J.publicUrl;if(t&&l){const{error:ee}=await rt.from("profiles").update({avatar_url:Q}).eq("id",t.id);if(ee)throw ee;u({...l,avatar_url:Q}),i("Profile picture updated!","success")}}catch(re){i("Error uploading avatar!","error"),console.error(re)}finally{D(!1)}},X=async()=>{if(t)try{W(!0),await tR(t.id),i("Backup downloaded successfully.","success")}catch{i("Failed to backup data.","error")}finally{W(!1)}},ue=async()=>{if(t)try{W(!0),await rR(t.id),i("PDF report generated.","success")}catch{i("Failed to generate PDF report.","error")}finally{W(!1)}},de=async()=>{if(!(!t||!confirm("Are you sure you want to delete all timetable and attendance data? This action cannot be undone.")))try{m(!0),await rt.from("timetable_entries").delete().eq("user_id",t.id),await rt.from("smart_timetable_entries").delete().eq("user_id",t.id),await rt.from("attendance_logs").delete().eq("user_id",t.id),i("All data has been reset successfully.","success")}catch(K){console.error("Error resetting data:",K),i("Failed to reset data.","error")}finally{m(!1)}};return c?f.jsx("div",{className:"flex h-full items-center justify-center pt-20",children:f.jsx(Hs,{className:"h-8 w-8 animate-spin text-primary-600"})}):f.jsxs("div",{className:"p-6 space-y-8 pb-32",children:[f.jsx($o,{title:"Profile",description:"Manage your profile settings and goals."}),f.jsx("h1",{className:"text-2xl font-bold text-slate-800 mt-4",children:"Profile"}),f.jsxs("div",{className:"glass-card rounded-3xl p-6 flex items-center gap-4",children:[f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-pink-500 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-lg overflow-hidden",children:l!=null&&l.avatar_url?f.jsx("img",{src:l.avatar_url,alt:"Avatar",className:"w-full h-full object-cover"}):l!=null&&l.full_name?l.full_name[0].toUpperCase():(ce=t==null?void 0:t.email)==null?void 0:ce[0].toUpperCase()}),f.jsxs("label",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:[f.jsx("span",{className:"text-white text-xs font-medium",children:j?"...":"Edit"}),f.jsx("input",{type:"file",accept:"image/*",onChange:Y,disabled:j,className:"hidden"})]})]}),f.jsxs("div",{className:"overflow-hidden flex-1",children:[f.jsx("h2",{className:"text-lg font-bold text-slate-800 truncate",children:(l==null?void 0:l.full_name)||"Student"}),f.jsx("p",{className:"text-sm text-slate-500 truncate",children:t==null?void 0:t.email}),((l==null?void 0:l.university)||(l==null?void 0:l.branch))&&f.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-slate-400",children:[f.jsx(B4,{className:"h-3 w-3"}),f.jsxs("span",{className:"truncate",children:[l.university," ",l.branch&&` ${l.branch}`," ",l.semester&&` ${l.semester}`]})]}),((l==null?void 0:l.cgpa)||(l==null?void 0:l.credits))&&f.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs font-medium",children:[l.cgpa>0&&f.jsxs("span",{className:"bg-emerald-100 text-emerald-700 px-2 py-0.5 rounded-md",children:["CGPA: ",l.cgpa]}),l.credits>0&&f.jsxs("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded-md",children:["Credits: ",l.credits]})]}),f.jsxs("div",{className:"flex items-center gap-2 mt-3 p-1.5 bg-yellow-50/80 rounded-lg w-fit",children:[f.jsx(mE,{className:"h-3 w-3 text-yellow-600"}),f.jsxs("span",{className:"text-xs font-bold text-yellow-700",children:["Lvl ",s," Scholar"]}),f.jsx("div",{className:"h-2 w-px bg-yellow-200 mx-1"}),f.jsxs("span",{className:"text-xs text-yellow-600",children:[a," XP"]})]})]}),f.jsx("button",{onClick:()=>h(!0),className:"p-2 bg-white/50 rounded-full hover:bg-white transition-colors",children:f.jsx(m5,{className:"h-5 w-5 text-slate-600"})})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between ml-2",children:[f.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Daily Inspiration"}),f.jsx("button",{onClick:F,disabled:N,className:"p-1.5 rounded-full hover:bg-slate-100 text-slate-400 hover:text-primary-600 transition-colors disabled:opacity-50",children:f.jsx(dE,{className:st("h-4 w-4",N&&"animate-spin")})})]}),f.jsxs("div",{className:"glass-card rounded-3xl p-6 relative overflow-hidden group",children:[f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:f.jsx(Ff,{className:"h-24 w-24 text-primary-500"})}),N&&!b?f.jsxs("div",{className:"flex flex-col gap-2 animate-pulse",children:[f.jsx("div",{className:"h-4 bg-slate-200 rounded w-3/4"}),f.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2"}),f.jsx("div",{className:"h-3 bg-slate-200 rounded w-1/4 mt-2 ml-auto"})]}):f.jsxs("div",{className:"relative z-10",children:[f.jsxs("p",{className:"text-lg font-medium text-slate-700 italic leading-relaxed",children:['"',(b==null?void 0:b.quote)||"Believe you can and you're halfway there.",'"']}),f.jsxs("p",{className:"text-sm text-primary-600 font-semibold mt-3 text-right",children:[" ",(b==null?void 0:b.author)||"Theodore Roosevelt"]})]})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider ml-2",children:"Appearance"}),f.jsxs("div",{className:"glass-card rounded-3xl p-5 space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center text-primary-600",children:f.jsx(oE,{className:"h-4 w-4"})}),f.jsx("span",{className:"font-medium text-slate-700",children:"Accent Color"})]}),f.jsx("div",{className:"flex justify-between gap-2",children:nR.map(K=>f.jsx("button",{onClick:()=>C(K.value),className:st("w-10 h-10 rounded-full transition-all flex items-center justify-center",K.class,(l==null?void 0:l.accent_color)===K.value?"ring-4 ring-white shadow-lg scale-110":"opacity-70 hover:opacity-100"),title:K.name},K.value))})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider ml-2",children:"Display Mode"}),f.jsxs("div",{className:"glass-card rounded-3xl p-5 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:st("w-8 h-8 rounded-full flex items-center justify-center transition-colors",e==="dark"?"bg-slate-700 text-slate-300":"bg-orange-100 text-orange-500"),children:e==="dark"?f.jsx(aE,{className:"h-4 w-4"}):f.jsx(fE,{className:"h-4 w-4"})}),f.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-200",children:"Dark Mode"})]}),f.jsx("button",{onClick:()=>n(e==="light"?"dark":"light"),className:st("w-14 h-8 rounded-full transition-colors relative",e==="dark"?"bg-primary-600":"bg-slate-200"),children:f.jsx("div",{className:st("absolute top-1 left-1 bg-white w-6 h-6 rounded-full shadow-sm transition-transform duration-300",e==="dark"?"translate-x-6":"translate-x-0")})})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider ml-2",children:"Goals"}),f.jsxs("div",{className:"glass-card rounded-3xl p-5",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-100 flex items-center justify-center text-emerald-600",children:f.jsx(W4,{className:"h-4 w-4"})}),f.jsx("span",{className:"font-medium text-slate-700",children:"Attendance Goal"})]}),f.jsxs("span",{className:"font-bold text-primary-600",children:[l==null?void 0:l.attendance_goal,"%"]})]}),f.jsx("input",{type:"range",min:"0",max:"100",value:(l==null?void 0:l.attendance_goal)||75,onChange:I,className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-primary-600"}),f.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-2",children:[f.jsx("span",{children:"0%"}),f.jsx("span",{children:"50%"}),f.jsx("span",{children:"100%"})]})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider ml-2",children:"Preferences"}),f.jsx("div",{className:"glass-card rounded-3xl overflow-hidden",children:f.jsx("div",{className:"divide-y divide-slate-100",children:f.jsxs("button",{onClick:()=>w(!0),className:"w-full p-4 flex items-center justify-between hover:bg-white/40 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-slate-600",children:f.jsx(m5,{className:"h-4 w-4"})}),f.jsx("span",{className:"font-medium text-slate-700",children:"App Settings"})]}),f.jsx(M4,{className:"h-4 w-4 text-slate-400"})]})})})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider ml-2",children:"Data Management"}),f.jsxs("div",{className:"glass-card rounded-3xl overflow-hidden p-2 space-y-2",children:[f.jsx("button",{onClick:ue,disabled:G,className:"w-full p-4 flex items-center justify-between hover:bg-white/40 rounded-2xl transition-colors group",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 group-hover:bg-blue-200 transition-colors",children:G?f.jsx(Hs,{className:"h-4 w-4 animate-spin"}):f.jsx(od,{className:"h-4 w-4"})}),f.jsx("span",{className:"font-medium text-slate-700",children:"Export Report (PDF)"})]})}),f.jsx("button",{onClick:X,disabled:G,className:"w-full p-4 flex items-center justify-between hover:bg-white/40 rounded-2xl transition-colors group",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-100 flex items-center justify-center text-emerald-600 group-hover:bg-emerald-200 transition-colors",children:G?f.jsx(Hs,{className:"h-4 w-4 animate-spin"}):f.jsx(zg,{className:"h-4 w-4"})}),f.jsx("span",{className:"font-medium text-slate-700",children:"Backup Data (JSON)"})]})}),f.jsx("div",{className:"h-px bg-slate-100 mx-4"}),f.jsx("button",{onClick:de,className:"w-full p-4 flex items-center justify-between hover:bg-red-50 rounded-2xl transition-colors group",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 flex items-center justify-center text-red-600 group-hover:bg-red-200 transition-colors",children:f.jsx(zo,{className:"h-4 w-4"})}),f.jsx("span",{className:"font-medium text-slate-700 group-hover:text-red-700 transition-colors",children:"Reset All Data"})]})})]})]}),f.jsx("div",{className:"text-center py-6",children:f.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/30 text-slate-500 text-xs font-medium",children:[f.jsx(U4,{className:"h-3 w-3"}),f.jsx("span",{children:"Version 10.41.15.1  Made By Ambalavanan "})]})}),f.jsxs("button",{onClick:V,className:"w-full glass-card rounded-2xl p-4 flex items-center justify-center gap-2 text-red-500 font-bold hover:bg-red-50 transition-colors",children:[f.jsx($4,{className:"h-5 w-5"}),"Sign Out"]}),f.jsx(NL,{isOpen:g,onClose:()=>h(!1),currentProfile:l,onSuccess:O}),f.jsx(QO,{isOpen:S,onClose:()=>w(!1)})]})}function sR(){const t=Gi();return f.jsxs("div",{className:"min-h-screen bg-slate-50 p-6 pb-24",children:[f.jsx($o,{title:"Developer",description:"Information about the developer of this application."}),f.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[f.jsx("button",{onClick:()=>t(-1),className:"p-2 bg-white rounded-full shadow-sm hover:bg-slate-100 transition-colors",children:f.jsx(yp,{className:"h-6 w-6 text-slate-600"})}),f.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Developer"})]}),f.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[f.jsxs("div",{className:"glass-card rounded-3xl p-8 flex flex-col items-center text-center relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 left-0 w-full h-32 bg-gradient-to-br from-primary-500 to-purple-600 opacity-10"}),f.jsx("div",{className:"relative z-10 w-32 h-32 rounded-full p-1 bg-white shadow-xl mb-4",children:f.jsx("img",{src:"/developer.png",alt:"Ambalavanan M",className:"w-full h-full rounded-full object-cover"})}),f.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-1",children:"Ambalavanan M"}),f.jsx("p",{className:"text-primary-600 font-medium mb-6",children:"Developer"}),f.jsxs("div",{className:"w-full space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-xl",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600",children:f.jsx(B4,{className:"h-5 w-5"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("p",{className:"text-xs text-slate-400 font-medium uppercase",children:"Degree"}),f.jsx("p",{className:"text-slate-700 font-semibold",children:"BSc Computer Science"})]})]}),f.jsxs("a",{href:"tel:+919894797490",className:"flex items-center gap-3 p-3 bg-white/50 rounded-xl hover:bg-white transition-colors",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center text-green-600",children:f.jsx(lE,{className:"h-5 w-5"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("p",{className:"text-xs text-slate-400 font-medium uppercase",children:"Phone"}),f.jsx("p",{className:"text-slate-700 font-semibold",children:"+91 9894797490"})]})]}),f.jsxs("a",{href:"mailto:ambalavanan275@gmail.com",className:"flex items-center gap-3 p-3 bg-white/50 rounded-xl hover:bg-white transition-colors",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center text-red-600",children:f.jsx(sE,{className:"h-5 w-5"})}),f.jsxs("div",{className:"text-left overflow-hidden",children:[f.jsx("p",{className:"text-xs text-slate-400 font-medium uppercase",children:"Email"}),f.jsx("p",{className:"text-slate-700 font-semibold truncate",children:"ambalavanan275@gmail.com"})]})]})]}),f.jsxs("div",{className:"flex gap-4 mt-8",children:[f.jsx("a",{href:"https://github.com/ambalavanan01",target:"_blank",rel:"noopener noreferrer",className:"p-3 bg-slate-800 text-white rounded-full hover:bg-slate-700 transition-colors",children:f.jsx(Z8,{className:"h-5 w-5"})}),f.jsx("a",{href:"https://instagram.com/iam_ambalavanan",target:"_blank",rel:"noopener noreferrer",className:"p-3 bg-pink-600 text-white rounded-full hover:bg-pink-500 transition-colors",children:f.jsx(rE,{className:"h-5 w-5"})}),f.jsx("a",{href:"https://ambalavanan-m.netlify.app/",target:"_blank",rel:"noopener noreferrer",className:"p-3 bg-emerald-500 text-white rounded-full hover:bg-emerald-400 transition-colors",children:f.jsx(eE,{className:"h-5 w-5"})})]})]}),f.jsx("div",{className:"text-center text-slate-400 text-sm",children:f.jsx("p",{children:"Designed & Built By Ambalavanan"})})]})]})}function aR(){const t=Gi(),[e,r]=L.useState([]),[n,i]=L.useState(!0);L.useEffect(()=>{s()},[]);const s=async()=>{try{const g=await Tt.getAllNotes();r(g.sort((h,S)=>S.updatedAt.getTime()-h.updatedAt.getTime()))}catch(g){console.error("Failed to load notes",g)}finally{i(!1)}},a=async()=>{const g={id:crypto.randomUUID(),title:"Untitled Note",content:"",updatedAt:new Date};await Tt.saveNote(g),r([g,...e])},o=async(g,h)=>{const S=e.find(w=>w.id===g);if(S){const w={...S,content:h,updatedAt:new Date};await Tt.saveNote(w),r(e.map(b=>b.id===g?w:b))}},l=async g=>{confirm("Delete this note?")&&(await Tt.deleteNote(g),r(e.filter(h=>h.id!==g)))},u=()=>{const g=JSON.stringify(e,null,2),h=new Blob([g],{type:"application/json"}),S=URL.createObjectURL(h),w=document.createElement("a");w.href=S,w.download="sticky_notes.json",document.body.appendChild(w),w.click(),document.body.removeChild(w)},c=()=>{const g=new qe;g.text("Sticky Notes",14,15);const h=e.map(S=>[S.updatedAt.toLocaleDateString(),S.content]);Ap(g,{head:[["Date","Content"]],body:h,startY:20}),g.save("sticky_notes.pdf")},m=g=>{var w;const h=(w=g.target.files)==null?void 0:w[0];if(!h)return;const S=new FileReader;S.onload=async b=>{var v;try{const N=JSON.parse((v=b.target)==null?void 0:v.result);if(Array.isArray(N)){for(const x of N){const j={...x,updatedAt:new Date(x.updatedAt)};await Tt.saveNote(j)}s(),alert("Notes imported successfully!")}}catch(N){console.error("Import failed",N),alert("Failed to import notes. Invalid format.")}},S.readAsText(h)};return f.jsxs("div",{className:"min-h-screen bg-slate-50 p-6 pb-24",children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("button",{onClick:()=>t(-1),className:"p-2 bg-white rounded-full shadow-sm hover:bg-slate-100 transition-colors",children:f.jsx(yp,{className:"h-6 w-6 text-slate-600"})}),f.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Sticky Notes"})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[f.jsxs("button",{onClick:u,className:"flex items-center gap-2 bg-white text-slate-600 px-3 py-2 rounded-lg hover:bg-slate-50 transition-colors shadow-sm text-sm font-medium",title:"Export JSON",children:[f.jsx(_v,{className:"h-4 w-4"}),f.jsx("span",{className:"hidden sm:inline",children:"JSON"})]}),f.jsxs("button",{onClick:c,className:"flex items-center gap-2 bg-white text-slate-600 px-3 py-2 rounded-lg hover:bg-slate-50 transition-colors shadow-sm text-sm font-medium",title:"Export PDF",children:[f.jsx(od,{className:"h-4 w-4"}),f.jsx("span",{className:"hidden sm:inline",children:"PDF"})]}),f.jsxs("label",{className:"flex items-center gap-2 bg-white text-slate-600 px-3 py-2 rounded-lg hover:bg-slate-50 transition-colors shadow-sm text-sm font-medium cursor-pointer",children:[f.jsx(Sv,{className:"h-4 w-4"}),f.jsx("span",{className:"hidden sm:inline",children:"Import"}),f.jsx("input",{type:"file",accept:".json",onChange:m,className:"hidden"})]}),f.jsxs("button",{onClick:a,className:"flex items-center gap-2 bg-primary-600 text-white px-4 py-2 rounded-full hover:bg-primary-700 transition-colors shadow-md ml-2",children:[f.jsx(Uo,{className:"h-5 w-5"}),f.jsx("span",{children:"New Note"})]})]})]}),n?f.jsx("div",{className:"text-center py-10 text-slate-500",children:"Loading notes..."}):e.length===0?f.jsx("div",{className:"text-center py-20 text-slate-400",children:f.jsx("p",{children:"No notes yet. Create one to get started!"})}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(g=>f.jsxs("div",{className:"glass-card p-4 rounded-2xl flex flex-col h-64 relative group transition-all hover:shadow-lg bg-yellow-50/50 border-yellow-100",children:[f.jsx("textarea",{value:g.content,onChange:h=>o(g.id,h.target.value),placeholder:"Type your note here...",className:"flex-1 bg-transparent border-none resize-none focus:ring-0 text-slate-700 placeholder:text-slate-400 p-0 text-lg leading-relaxed"}),f.jsxs("div",{className:"flex justify-between items-center mt-4 opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("span",{className:"text-xs text-slate-400",children:g.updatedAt.toLocaleDateString()}),f.jsx("button",{onClick:()=>l(g.id),className:"p-2 hover:bg-red-50 text-slate-400 hover:text-red-500 rounded-full transition-colors",children:f.jsx(zo,{className:"h-4 w-4"})})]})]},g.id))})]})}function oR(){const t=Gi(),[e,r]=L.useState([]),[n,i]=L.useState(!0),[s,a]=L.useState(!1),[o,l]=L.useState(""),[u,c]=L.useState("");L.useEffect(()=>{m();const N=setInterval(()=>{r(x=>[...x])},1e3);return()=>clearInterval(N)},[]);const m=async()=>{try{const N=await Tt.getAllCountdowns();r(N.sort((x,j)=>x.targetDate.getTime()-j.targetDate.getTime()))}catch(N){console.error("Failed to load countdowns",N)}finally{i(!1)}},g=async N=>{if(N.preventDefault(),!o||!u)return;const x={id:crypto.randomUUID(),title:o,targetDate:new Date(u)};await Tt.saveCountdown(x),r([...e,x].sort((j,D)=>j.targetDate.getTime()-D.targetDate.getTime())),a(!1),l(""),c("")},h=async N=>{confirm("Delete this countdown?")&&(await Tt.deleteCountdown(N),r(e.filter(x=>x.id!==N)))},S=N=>{const x=N.getTime()-new Date().getTime();if(x<=0)return{days:0,hours:0,minutes:0,seconds:0,expired:!0};const j=Math.floor(x/1e3%60),D=Math.floor(x/1e3/60%60),G=Math.floor(x/(1e3*60*60)%24);return{days:Math.floor(x/(1e3*60*60*24)),hours:G,minutes:D,seconds:j,expired:!1}},w=()=>{const N=JSON.stringify(e,null,2),x=new Blob([N],{type:"application/json"}),j=URL.createObjectURL(x),D=document.createElement("a");D.href=j,D.download="countdowns.json",document.body.appendChild(D),D.click(),document.body.removeChild(D)},b=()=>{const N=new qe;N.text("Countdowns",14,15);const x=e.map(j=>[j.title,j.targetDate.toLocaleString()]);Ap(N,{head:[["Title","Target Date"]],body:x,startY:20}),N.save("countdowns.pdf")},v=N=>{var D;const x=(D=N.target.files)==null?void 0:D[0];if(!x)return;const j=new FileReader;j.onload=async G=>{var W;try{const F=JSON.parse((W=G.target)==null?void 0:W.result);if(Array.isArray(F)){for(const O of F){const V={...O,targetDate:new Date(O.targetDate)};await Tt.saveCountdown(V)}m(),alert("Countdowns imported successfully!")}}catch(F){console.error("Import failed",F),alert("Failed to import. Invalid format.")}},j.readAsText(x)};return f.jsxs("div",{className:"min-h-screen bg-slate-50 p-6 pb-24",children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("button",{onClick:()=>t(-1),className:"p-2 bg-white rounded-full shadow-sm hover:bg-slate-100 transition-colors",children:f.jsx(yp,{className:"h-6 w-6 text-slate-600"})}),f.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Countdowns"})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[f.jsxs("button",{onClick:w,className:"flex items-center gap-2 bg-white text-slate-600 px-3 py-2 rounded-lg hover:bg-slate-50 transition-colors shadow-sm text-sm font-medium",title:"Export JSON",children:[f.jsx(_v,{className:"h-4 w-4"}),f.jsx("span",{className:"hidden sm:inline",children:"JSON"})]}),f.jsxs("button",{onClick:b,className:"flex items-center gap-2 bg-white text-slate-600 px-3 py-2 rounded-lg hover:bg-slate-50 transition-colors shadow-sm text-sm font-medium",title:"Export PDF",children:[f.jsx(od,{className:"h-4 w-4"}),f.jsx("span",{className:"hidden sm:inline",children:"PDF"})]}),f.jsxs("label",{className:"flex items-center gap-2 bg-white text-slate-600 px-3 py-2 rounded-lg hover:bg-slate-50 transition-colors shadow-sm text-sm font-medium cursor-pointer",children:[f.jsx(Sv,{className:"h-4 w-4"}),f.jsx("span",{className:"hidden sm:inline",children:"Import"}),f.jsx("input",{type:"file",accept:".json",onChange:v,className:"hidden"})]}),f.jsxs("button",{onClick:()=>a(!s),className:"flex items-center gap-2 bg-primary-600 text-white px-4 py-2 rounded-full hover:bg-primary-700 transition-colors shadow-md ml-2",children:[f.jsx(Uo,{className:"h-5 w-5"}),f.jsx("span",{children:"New Timer"})]})]})]}),s&&f.jsx("div",{className:"glass-card p-6 rounded-2xl mb-8 animate-in slide-in-from-top-4 fade-in",children:f.jsxs("form",{onSubmit:g,className:"flex flex-col md:flex-row gap-4 items-end",children:[f.jsxs("div",{className:"flex-1 w-full",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Title"}),f.jsx("input",{type:"text",value:o,onChange:N=>l(N.target.value),placeholder:"e.g., Final Exams",className:"w-full rounded-xl border-slate-200 focus:border-primary-500 focus:ring-primary-500",required:!0})]}),f.jsxs("div",{className:"flex-1 w-full",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Target Date"}),f.jsx("input",{type:"datetime-local",value:u,onChange:N=>c(N.target.value),className:"w-full rounded-xl border-slate-200 focus:border-primary-500 focus:ring-primary-500",required:!0})]}),f.jsx("button",{type:"submit",className:"w-full md:w-auto bg-slate-800 text-white px-6 py-2.5 rounded-xl hover:bg-slate-700 transition-colors",children:"Start"})]})}),n?f.jsx("div",{className:"text-center py-10 text-slate-500",children:"Loading timers..."}):e.length===0?f.jsx("div",{className:"text-center py-20 text-slate-400",children:f.jsx("p",{children:"No active countdowns. Add one to track important dates!"})}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(N=>{const x=S(N.targetDate);return f.jsxs("div",{className:"glass-card p-6 rounded-3xl relative group overflow-hidden",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600",children:f.jsx($s,{className:"h-5 w-5"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-slate-800",children:N.title}),f.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-1",children:[f.jsx(Jc,{className:"h-3 w-3"}),N.targetDate.toLocaleDateString()]})]})]}),f.jsx("button",{onClick:()=>h(N.id),className:"p-2 hover:bg-red-50 text-slate-300 hover:text-red-500 rounded-full transition-colors",children:f.jsx(zo,{className:"h-4 w-4"})})]}),f.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[f.jsxs("div",{className:"bg-slate-50 rounded-xl p-2",children:[f.jsx("div",{className:"text-xl font-bold text-slate-800",children:x.days}),f.jsx("div",{className:"text-[10px] uppercase text-slate-400 font-bold",children:"Days"})]}),f.jsxs("div",{className:"bg-slate-50 rounded-xl p-2",children:[f.jsx("div",{className:"text-xl font-bold text-slate-800",children:x.hours}),f.jsx("div",{className:"text-[10px] uppercase text-slate-400 font-bold",children:"Hrs"})]}),f.jsxs("div",{className:"bg-slate-50 rounded-xl p-2",children:[f.jsx("div",{className:"text-xl font-bold text-slate-800",children:x.minutes}),f.jsx("div",{className:"text-[10px] uppercase text-slate-400 font-bold",children:"Mins"})]}),f.jsxs("div",{className:"bg-slate-50 rounded-xl p-2",children:[f.jsx("div",{className:"text-xl font-bold text-slate-800",children:x.seconds}),f.jsx("div",{className:"text-[10px] uppercase text-slate-400 font-bold",children:"Secs"})]})]}),x.expired&&f.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center",children:f.jsx("span",{className:"text-red-500 font-bold text-lg",children:"Time's Up!"})})]},N.id)})})]})}function lR(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return L.useMemo(()=>n=>{e.forEach(i=>i(n))},e)}const Ep=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function fu(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Fv(t){return"nodeType"in t}function An(t){var e,r;return t?fu(t)?t:Fv(t)&&(e=(r=t.ownerDocument)==null?void 0:r.defaultView)!=null?e:window:window}function Bv(t){const{Document:e}=An(t);return t instanceof e}function hd(t){return fu(t)?!1:t instanceof An(t).HTMLElement}function TS(t){return t instanceof An(t).SVGElement}function pu(t){return t?fu(t)?t.document:Fv(t)?Bv(t)?t:hd(t)||TS(t)?t.ownerDocument:document:document:document}const Wi=Ep?L.useLayoutEffect:L.useEffect;function Cp(t){const e=L.useRef(t);return Wi(()=>{e.current=t}),L.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}function uR(){const t=L.useRef(null),e=L.useCallback((n,i)=>{t.current=setInterval(n,i)},[]),r=L.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,r]}function Zc(t,e){e===void 0&&(e=[t]);const r=L.useRef(t);return Wi(()=>{r.current!==t&&(r.current=t)},e),r}function fd(t,e){const r=L.useRef();return L.useMemo(()=>{const n=t(r.current);return r.current=n,n},[...e])}function Vf(t){const e=Cp(t),r=L.useRef(null),n=L.useCallback(i=>{i!==r.current&&(e==null||e(i,r.current)),r.current=i},[]);return[r,n]}function Gf(t){const e=L.useRef();return L.useEffect(()=>{e.current=t},[t]),e.current}let Em={};function pd(t,e){return L.useMemo(()=>{if(e)return e;const r=Em[t]==null?0:Em[t]+1;return Em[t]=r,t+"-"+r},[t,e])}function LS(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.reduce((s,a)=>{const o=Object.entries(a);for(const[l,u]of o){const c=s[l];c!=null&&(s[l]=c+t*u)}return s},{...e})}}const Gl=LS(1),Kf=LS(-1);function cR(t){return"clientX"in t&&"clientY"in t}function Tp(t){if(!t)return!1;const{KeyboardEvent:e}=An(t.target);return e&&t instanceof e}function dR(t){if(!t)return!1;const{TouchEvent:e}=An(t.target);return e&&t instanceof e}function Jf(t){if(dR(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:r}=t.touches[0];return{x:e,y:r}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:r}=t.changedTouches[0];return{x:e,y:r}}}return cR(t)?{x:t.clientX,y:t.clientY}:null}const qa=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:r}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:r}=t;return"scaleX("+e+") scaleY("+r+")"}},Transform:{toString(t){if(t)return[qa.Translate.toString(t),qa.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:r,easing:n}=t;return e+" "+r+"ms "+n}}}),nb="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function hR(t){return t.matches(nb)?t:t.querySelector(nb)}const fR={display:"none"};function pR(t){let{id:e,value:r}=t;return Ct.createElement("div",{id:e,style:fR},r)}function mR(t){let{id:e,announcement:r,ariaLiveType:n="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ct.createElement("div",{id:e,style:i,role:"status","aria-live":n,"aria-atomic":!0},r)}function gR(){const[t,e]=L.useState("");return{announce:L.useCallback(n=>{n!=null&&e(n)},[]),announcement:t}}const PS=L.createContext(null);function vR(t){const e=L.useContext(PS);L.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function yR(){const[t]=L.useState(()=>new Set),e=L.useCallback(n=>(t.add(n),()=>t.delete(n)),[t]);return[L.useCallback(n=>{let{type:i,event:s}=n;t.forEach(a=>{var o;return(o=a[i])==null?void 0:o.call(a,s)})},[t]),e]}const wR={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},bR={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was moved over droppable area "+r.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was dropped over droppable area "+r.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function xR(t){let{announcements:e=bR,container:r,hiddenTextDescribedById:n,screenReaderInstructions:i=wR}=t;const{announce:s,announcement:a}=gR(),o=pd("DndLiveRegion"),[l,u]=L.useState(!1);if(L.useEffect(()=>{u(!0)},[]),vR(L.useMemo(()=>({onDragStart(m){let{active:g}=m;s(e.onDragStart({active:g}))},onDragMove(m){let{active:g,over:h}=m;e.onDragMove&&s(e.onDragMove({active:g,over:h}))},onDragOver(m){let{active:g,over:h}=m;s(e.onDragOver({active:g,over:h}))},onDragEnd(m){let{active:g,over:h}=m;s(e.onDragEnd({active:g,over:h}))},onDragCancel(m){let{active:g,over:h}=m;s(e.onDragCancel({active:g,over:h}))}}),[s,e])),!l)return null;const c=Ct.createElement(Ct.Fragment,null,Ct.createElement(pR,{id:n,value:i.draggable}),Ct.createElement(mR,{id:o,announcement:a}));return r?Ta.createPortal(c,r):c}var Hr;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Hr||(Hr={}));function Yf(){}function ib(t,e){return L.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function _R(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return L.useMemo(()=>[...e].filter(n=>n!=null),[...e])}const Hi=Object.freeze({x:0,y:0});function SR(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function NR(t,e){const r=Jf(t);if(!r)return"0 0";const n={x:(r.x-e.left)/e.width*100,y:(r.y-e.top)/e.height*100};return n.x+"% "+n.y+"%"}function kR(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return r-n}function jR(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return n-r}function sb(t){let{left:e,top:r,height:n,width:i}=t;return[{x:e,y:r},{x:e+i,y:r},{x:e,y:r+n},{x:e+i,y:r+n}]}function AR(t,e){if(!t||t.length===0)return null;const[r]=t;return r[e]}const ER=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const i=sb(e),s=[];for(const a of n){const{id:o}=a,l=r.get(o);if(l){const u=sb(l),c=i.reduce((g,h,S)=>g+SR(u[S],h),0),m=Number((c/4).toFixed(4));s.push({id:o,data:{droppableContainer:a,value:m}})}}return s.sort(kR)};function CR(t,e){const r=Math.max(e.top,t.top),n=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),a=i-n,o=s-r;if(n<i&&r<s){const l=e.width*e.height,u=t.width*t.height,c=a*o,m=c/(l+u-c);return Number(m.toFixed(4))}return 0}const TR=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const i=[];for(const s of n){const{id:a}=s,o=r.get(a);if(o){const l=CR(o,e);l>0&&i.push({id:a,data:{droppableContainer:s,value:l}})}}return i.sort(jR)};function LR(t,e,r){return{...t,scaleX:e&&r?e.width/r.width:1,scaleY:e&&r?e.height/r.height:1}}function OS(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Hi}function PR(t){return function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return i.reduce((a,o)=>({...a,top:a.top+t*o.y,bottom:a.bottom+t*o.y,left:a.left+t*o.x,right:a.right+t*o.x}),{...r})}}const OR=PR(1);function RS(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function RR(t,e,r){const n=RS(e);if(!n)return t;const{scaleX:i,scaleY:s,x:a,y:o}=n,l=t.left-a-(1-i)*parseFloat(r),u=t.top-o-(1-s)*parseFloat(r.slice(r.indexOf(" ")+1)),c=i?t.width/i:t.width,m=s?t.height/s:t.height;return{width:c,height:m,top:u,right:l+c,bottom:u+m,left:l}}const IR={ignoreTransform:!1};function mu(t,e){e===void 0&&(e=IR);let r=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:c}=An(t).getComputedStyle(t);u&&(r=RR(r,u,c))}const{top:n,left:i,width:s,height:a,bottom:o,right:l}=r;return{top:n,left:i,width:s,height:a,bottom:o,right:l}}function ab(t){return mu(t,{ignoreTransform:!0})}function DR(t){const e=t.innerWidth,r=t.innerHeight;return{top:0,left:0,right:e,bottom:r,width:e,height:r}}function MR(t,e){return e===void 0&&(e=An(t).getComputedStyle(t)),e.position==="fixed"}function FR(t,e){e===void 0&&(e=An(t).getComputedStyle(t));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?r.test(s):!1})}function Uv(t,e){const r=[];function n(i){if(e!=null&&r.length>=e||!i)return r;if(Bv(i)&&i.scrollingElement!=null&&!r.includes(i.scrollingElement))return r.push(i.scrollingElement),r;if(!hd(i)||TS(i)||r.includes(i))return r;const s=An(t).getComputedStyle(i);return i!==t&&FR(i,s)&&r.push(i),MR(i,s)?r:n(i.parentNode)}return t?n(t):r}function IS(t){const[e]=Uv(t,1);return e??null}function Cm(t){return!Ep||!t?null:fu(t)?t:Fv(t)?Bv(t)||t===pu(t).scrollingElement?window:hd(t)?t:null:null}function DS(t){return fu(t)?t.scrollX:t.scrollLeft}function MS(t){return fu(t)?t.scrollY:t.scrollTop}function m1(t){return{x:DS(t),y:MS(t)}}var Yr;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Yr||(Yr={}));function FS(t){return!Ep||!t?!1:t===document.scrollingElement}function BS(t){const e={x:0,y:0},r=FS(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},n={x:t.scrollWidth-r.width,y:t.scrollHeight-r.height},i=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,a=t.scrollTop>=n.y,o=t.scrollLeft>=n.x;return{isTop:i,isLeft:s,isBottom:a,isRight:o,maxScroll:n,minScroll:e}}const BR={x:.2,y:.2};function UR(t,e,r,n,i){let{top:s,left:a,right:o,bottom:l}=r;n===void 0&&(n=10),i===void 0&&(i=BR);const{isTop:u,isBottom:c,isLeft:m,isRight:g}=BS(t),h={x:0,y:0},S={x:0,y:0},w={height:e.height*i.y,width:e.width*i.x};return!u&&s<=e.top+w.height?(h.y=Yr.Backward,S.y=n*Math.abs((e.top+w.height-s)/w.height)):!c&&l>=e.bottom-w.height&&(h.y=Yr.Forward,S.y=n*Math.abs((e.bottom-w.height-l)/w.height)),!g&&o>=e.right-w.width?(h.x=Yr.Forward,S.x=n*Math.abs((e.right-w.width-o)/w.width)):!m&&a<=e.left+w.width&&(h.x=Yr.Backward,S.x=n*Math.abs((e.left+w.width-a)/w.width)),{direction:h,speed:S}}function zR(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:e,left:r,right:n,bottom:i}=t.getBoundingClientRect();return{top:e,left:r,right:n,bottom:i,width:t.clientWidth,height:t.clientHeight}}function US(t){return t.reduce((e,r)=>Gl(e,m1(r)),Hi)}function $R(t){return t.reduce((e,r)=>e+DS(r),0)}function qR(t){return t.reduce((e,r)=>e+MS(r),0)}function zS(t,e){if(e===void 0&&(e=mu),!t)return;const{top:r,left:n,bottom:i,right:s}=e(t);IS(t)&&(i<=0||s<=0||r>=window.innerHeight||n>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const WR=[["x",["left","right"],$R],["y",["top","bottom"],qR]];class zv{constructor(e,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Uv(r),i=US(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,a,o]of WR)for(const l of a)Object.defineProperty(this,l,{get:()=>{const u=o(n),c=i[s]-u;return this.rect[l]+c},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class kc{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=e}add(e,r,n){var i;(i=this.target)==null||i.addEventListener(e,r,n),this.listeners.push([e,r,n])}}function HR(t){const{EventTarget:e}=An(t);return t instanceof e?t:pu(t)}function Tm(t,e){const r=Math.abs(t.x),n=Math.abs(t.y);return typeof e=="number"?Math.sqrt(r**2+n**2)>e:"x"in e&&"y"in e?r>e.x&&n>e.y:"x"in e?r>e.x:"y"in e?n>e.y:!1}var fi;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(fi||(fi={}));function ob(t){t.preventDefault()}function VR(t){t.stopPropagation()}var It;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(It||(It={}));const $S={start:[It.Space,It.Enter],cancel:[It.Esc],end:[It.Space,It.Enter,It.Tab]},GR=(t,e)=>{let{currentCoordinates:r}=e;switch(t.code){case It.Right:return{...r,x:r.x+25};case It.Left:return{...r,x:r.x-25};case It.Down:return{...r,y:r.y+25};case It.Up:return{...r,y:r.y-25}}};class qS{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:r}}=e;this.props=e,this.listeners=new kc(pu(r)),this.windowListeners=new kc(An(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(fi.Resize,this.handleCancel),this.windowListeners.add(fi.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(fi.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:r}=this.props,n=e.node.current;n&&zS(n),r(Hi)}handleKeyDown(e){if(Tp(e)){const{active:r,context:n,options:i}=this.props,{keyboardCodes:s=$S,coordinateGetter:a=GR,scrollBehavior:o="smooth"}=i,{code:l}=e;if(s.end.includes(l)){this.handleEnd(e);return}if(s.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:u}=n.current,c=u?{x:u.left,y:u.top}:Hi;this.referenceCoordinates||(this.referenceCoordinates=c);const m=a(e,{active:r,context:n.current,currentCoordinates:c});if(m){const g=Kf(m,c),h={x:0,y:0},{scrollableAncestors:S}=n.current;for(const w of S){const b=e.code,{isTop:v,isRight:N,isLeft:x,isBottom:j,maxScroll:D,minScroll:G}=BS(w),W=zR(w),F={x:Math.min(b===It.Right?W.right-W.width/2:W.right,Math.max(b===It.Right?W.left:W.left+W.width/2,m.x)),y:Math.min(b===It.Down?W.bottom-W.height/2:W.bottom,Math.max(b===It.Down?W.top:W.top+W.height/2,m.y))},O=b===It.Right&&!N||b===It.Left&&!x,V=b===It.Down&&!j||b===It.Up&&!v;if(O&&F.x!==m.x){const C=w.scrollLeft+g.x,I=b===It.Right&&C<=D.x||b===It.Left&&C>=G.x;if(I&&!g.y){w.scrollTo({left:C,behavior:o});return}I?h.x=w.scrollLeft-C:h.x=b===It.Right?w.scrollLeft-D.x:w.scrollLeft-G.x,h.x&&w.scrollBy({left:-h.x,behavior:o});break}else if(V&&F.y!==m.y){const C=w.scrollTop+g.y,I=b===It.Down&&C<=D.y||b===It.Up&&C>=G.y;if(I&&!g.x){w.scrollTo({top:C,behavior:o});return}I?h.y=w.scrollTop-C:h.y=b===It.Down?w.scrollTop-D.y:w.scrollTop-G.y,h.y&&w.scrollBy({top:-h.y,behavior:o});break}}this.handleMove(e,Gl(Kf(m,this.referenceCoordinates),h))}}}handleMove(e,r){const{onMove:n}=this.props;e.preventDefault(),n(r)}handleEnd(e){const{onEnd:r}=this.props;e.preventDefault(),this.detach(),r()}handleCancel(e){const{onCancel:r}=this.props;e.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}qS.activators=[{eventName:"onKeyDown",handler:(t,e,r)=>{let{keyboardCodes:n=$S,onActivation:i}=e,{active:s}=r;const{code:a}=t.nativeEvent;if(n.start.includes(a)){const o=s.activatorNode.current;return o&&t.target!==o?!1:(t.preventDefault(),i==null||i({event:t.nativeEvent}),!0)}return!1}}];function lb(t){return!!(t&&"distance"in t)}function ub(t){return!!(t&&"delay"in t)}class $v{constructor(e,r,n){var i;n===void 0&&(n=HR(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=r;const{event:s}=e,{target:a}=s;this.props=e,this.events=r,this.document=pu(a),this.documentListeners=new kc(this.document),this.listeners=new kc(n),this.windowListeners=new kc(An(a)),this.initialCoordinates=(i=Jf(s))!=null?i:Hi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(fi.Resize,this.handleCancel),this.windowListeners.add(fi.DragStart,ob),this.windowListeners.add(fi.VisibilityChange,this.handleCancel),this.windowListeners.add(fi.ContextMenu,ob),this.documentListeners.add(fi.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(ub(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(lb(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,r){const{active:n,onPending:i}=this.props;i(n,e,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:e}=this,{onStart:r}=this.props;e&&(this.activated=!0,this.documentListeners.add(fi.Click,VR,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(fi.SelectionChange,this.removeTextSelection),r(e))}handleMove(e){var r;const{activated:n,initialCoordinates:i,props:s}=this,{onMove:a,options:{activationConstraint:o}}=s;if(!i)return;const l=(r=Jf(e))!=null?r:Hi,u=Kf(i,l);if(!n&&o){if(lb(o)){if(o.tolerance!=null&&Tm(u,o.tolerance))return this.handleCancel();if(Tm(u,o.distance))return this.handleStart()}if(ub(o)&&Tm(u,o.tolerance))return this.handleCancel();this.handlePending(o,u);return}e.cancelable&&e.preventDefault(),a(l)}handleEnd(){const{onAbort:e,onEnd:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleCancel(){const{onAbort:e,onCancel:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleKeydown(e){e.code===It.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const KR={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class qv extends $v{constructor(e){const{event:r}=e,n=pu(r.target);super(e,KR,n)}}qv.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const JR={move:{name:"mousemove"},end:{name:"mouseup"}};var g1;(function(t){t[t.RightClick=2]="RightClick"})(g1||(g1={}));class YR extends $v{constructor(e){super(e,JR,pu(e.event.target))}}YR.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return r.button===g1.RightClick?!1:(n==null||n({event:r}),!0)}}];const Lm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class WS extends $v{constructor(e){super(e,Lm)}static setup(){return window.addEventListener(Lm.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Lm.move.name,e)};function e(){}}}WS.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;const{touches:i}=r;return i.length>1?!1:(n==null||n({event:r}),!0)}}];var jc;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(jc||(jc={}));var Xf;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Xf||(Xf={}));function XR(t){let{acceleration:e,activator:r=jc.Pointer,canScroll:n,draggingRect:i,enabled:s,interval:a=5,order:o=Xf.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:c,delta:m,threshold:g}=t;const h=ZR({delta:m,disabled:!s}),[S,w]=uR(),b=L.useRef({x:0,y:0}),v=L.useRef({x:0,y:0}),N=L.useMemo(()=>{switch(r){case jc.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case jc.DraggableRect:return i}},[r,i,l]),x=L.useRef(null),j=L.useCallback(()=>{const G=x.current;if(!G)return;const W=b.current.x*v.current.x,F=b.current.y*v.current.y;G.scrollBy(W,F)},[]),D=L.useMemo(()=>o===Xf.TreeOrder?[...u].reverse():u,[o,u]);L.useEffect(()=>{if(!s||!u.length||!N){w();return}for(const G of D){if((n==null?void 0:n(G))===!1)continue;const W=u.indexOf(G),F=c[W];if(!F)continue;const{direction:O,speed:V}=UR(G,F,N,e,g);for(const C of["x","y"])h[C][O[C]]||(V[C]=0,O[C]=0);if(V.x>0||V.y>0){w(),x.current=G,S(j,a),b.current=V,v.current=O;return}}b.current={x:0,y:0},v.current={x:0,y:0},w()},[e,j,n,w,s,a,JSON.stringify(N),JSON.stringify(h),S,u,D,c,JSON.stringify(g)])}const QR={x:{[Yr.Backward]:!1,[Yr.Forward]:!1},y:{[Yr.Backward]:!1,[Yr.Forward]:!1}};function ZR(t){let{delta:e,disabled:r}=t;const n=Gf(e);return fd(i=>{if(r||!n||!i)return QR;const s={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[Yr.Backward]:i.x[Yr.Backward]||s.x===-1,[Yr.Forward]:i.x[Yr.Forward]||s.x===1},y:{[Yr.Backward]:i.y[Yr.Backward]||s.y===-1,[Yr.Forward]:i.y[Yr.Forward]||s.y===1}}},[r,e,n])}function eI(t,e){const r=e!=null?t.get(e):void 0,n=r?r.node.current:null;return fd(i=>{var s;return e==null?null:(s=n??i)!=null?s:null},[n,e])}function tI(t,e){return L.useMemo(()=>t.reduce((r,n)=>{const{sensor:i}=n,s=i.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,n)}));return[...r,...s]},[]),[t,e])}var ed;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(ed||(ed={}));var v1;(function(t){t.Optimized="optimized"})(v1||(v1={}));const cb=new Map;function rI(t,e){let{dragging:r,dependencies:n,config:i}=e;const[s,a]=L.useState(null),{frequency:o,measure:l,strategy:u}=i,c=L.useRef(t),m=b(),g=Zc(m),h=L.useCallback(function(v){v===void 0&&(v=[]),!g.current&&a(N=>N===null?v:N.concat(v.filter(x=>!N.includes(x))))},[g]),S=L.useRef(null),w=fd(v=>{if(m&&!r)return cb;if(!v||v===cb||c.current!==t||s!=null){const N=new Map;for(let x of t){if(!x)continue;if(s&&s.length>0&&!s.includes(x.id)&&x.rect.current){N.set(x.id,x.rect.current);continue}const j=x.node.current,D=j?new zv(l(j),j):null;x.rect.current=D,D&&N.set(x.id,D)}return N}return v},[t,s,r,m,l]);return L.useEffect(()=>{c.current=t},[t]),L.useEffect(()=>{m||h()},[r,m]),L.useEffect(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),L.useEffect(()=>{m||typeof o!="number"||S.current!==null||(S.current=setTimeout(()=>{h(),S.current=null},o))},[o,m,h,...n]),{droppableRects:w,measureDroppableContainers:h,measuringScheduled:s!=null};function b(){switch(u){case ed.Always:return!1;case ed.BeforeDragging:return r;default:return!r}}}function Wv(t,e){return fd(r=>t?r||(typeof e=="function"?e(t):t):null,[e,t])}function nI(t,e){return Wv(t,e)}function iI(t){let{callback:e,disabled:r}=t;const n=Cp(e),i=L.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(n)},[n,r]);return L.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Lp(t){let{callback:e,disabled:r}=t;const n=Cp(e),i=L.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(n)},[r]);return L.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function sI(t){return new zv(mu(t),t)}function db(t,e,r){e===void 0&&(e=sI);const[n,i]=L.useState(null);function s(){i(l=>{if(!t)return null;if(t.isConnected===!1){var u;return(u=l??r)!=null?u:null}const c=e(t);return JSON.stringify(l)===JSON.stringify(c)?l:c})}const a=iI({callback(l){if(t)for(const u of l){const{type:c,target:m}=u;if(c==="childList"&&m instanceof HTMLElement&&m.contains(t)){s();break}}}}),o=Lp({callback:s});return Wi(()=>{s(),t?(o==null||o.observe(t),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(o==null||o.disconnect(),a==null||a.disconnect())},[t]),n}function aI(t){const e=Wv(t);return OS(t,e)}const hb=[];function oI(t){const e=L.useRef(t),r=fd(n=>t?n&&n!==hb&&t&&e.current&&t.parentNode===e.current.parentNode?n:Uv(t):hb,[t]);return L.useEffect(()=>{e.current=t},[t]),r}function lI(t){const[e,r]=L.useState(null),n=L.useRef(t),i=L.useCallback(s=>{const a=Cm(s.target);a&&r(o=>o?(o.set(a,m1(a)),new Map(o)):null)},[]);return L.useEffect(()=>{const s=n.current;if(t!==s){a(s);const o=t.map(l=>{const u=Cm(l);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,m1(u)]):null}).filter(l=>l!=null);r(o.length?new Map(o):null),n.current=t}return()=>{a(t),a(s)};function a(o){o.forEach(l=>{const u=Cm(l);u==null||u.removeEventListener("scroll",i)})}},[i,t]),L.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,a)=>Gl(s,a),Hi):US(t):Hi,[t,e])}function fb(t,e){e===void 0&&(e=[]);const r=L.useRef(null);return L.useEffect(()=>{r.current=null},e),L.useEffect(()=>{const n=t!==Hi;n&&!r.current&&(r.current=t),!n&&r.current&&(r.current=null)},[t]),r.current?Kf(t,r.current):Hi}function uI(t){L.useEffect(()=>{if(!Ep)return;const e=t.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of e)r==null||r()}},t.map(e=>{let{sensor:r}=e;return r}))}function cI(t,e){return L.useMemo(()=>t.reduce((r,n)=>{let{eventName:i,handler:s}=n;return r[i]=a=>{s(a,e)},r},{}),[t,e])}function HS(t){return L.useMemo(()=>t?DR(t):null,[t])}const pb=[];function dI(t,e){e===void 0&&(e=mu);const[r]=t,n=HS(r?An(r):null),[i,s]=L.useState(pb);function a(){s(()=>t.length?t.map(l=>FS(l)?n:new zv(e(l),l)):pb)}const o=Lp({callback:a});return Wi(()=>{o==null||o.disconnect(),a(),t.forEach(l=>o==null?void 0:o.observe(l))},[t]),i}function VS(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return hd(e)?e:t}function hI(t){let{measure:e}=t;const[r,n]=L.useState(null),i=L.useCallback(u=>{for(const{target:c}of u)if(hd(c)){n(m=>{const g=e(c);return m?{...m,width:g.width,height:g.height}:g});break}},[e]),s=Lp({callback:i}),a=L.useCallback(u=>{const c=VS(u);s==null||s.disconnect(),c&&(s==null||s.observe(c)),n(c?e(c):null)},[e,s]),[o,l]=Vf(a);return L.useMemo(()=>({nodeRef:o,rect:r,setRef:l}),[r,o,l])}const fI=[{sensor:qv,options:{}},{sensor:qS,options:{}}],pI={current:{}},of={draggable:{measure:ab},droppable:{measure:ab,strategy:ed.WhileDragging,frequency:v1.Optimized},dragOverlay:{measure:mu}};class Ac extends Map{get(e){var r;return e!=null&&(r=super.get(e))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:r}=e;return!r})}getNodeFor(e){var r,n;return(r=(n=this.get(e))==null?void 0:n.node.current)!=null?r:void 0}}const mI={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ac,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Yf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:of,measureDroppableContainers:Yf,windowRect:null,measuringScheduled:!1},GS={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Yf,draggableNodes:new Map,over:null,measureDroppableContainers:Yf},md=L.createContext(GS),KS=L.createContext(mI);function gI(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ac}}}function vI(t,e){switch(e.type){case Hr.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Hr.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Hr.DragEnd:case Hr.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Hr.RegisterDroppable:{const{element:r}=e,{id:n}=r,i=new Ac(t.droppable.containers);return i.set(n,r),{...t,droppable:{...t.droppable,containers:i}}}case Hr.SetDroppableDisabled:{const{id:r,key:n,disabled:i}=e,s=t.droppable.containers.get(r);if(!s||n!==s.key)return t;const a=new Ac(t.droppable.containers);return a.set(r,{...s,disabled:i}),{...t,droppable:{...t.droppable,containers:a}}}case Hr.UnregisterDroppable:{const{id:r,key:n}=e,i=t.droppable.containers.get(r);if(!i||n!==i.key)return t;const s=new Ac(t.droppable.containers);return s.delete(r),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function yI(t){let{disabled:e}=t;const{active:r,activatorEvent:n,draggableNodes:i}=L.useContext(md),s=Gf(n),a=Gf(r==null?void 0:r.id);return L.useEffect(()=>{if(!e&&!n&&s&&a!=null){if(!Tp(s)||document.activeElement===s.target)return;const o=i.get(a);if(!o)return;const{activatorNode:l,node:u}=o;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const c of[l.current,u.current]){if(!c)continue;const m=hR(c);if(m){m.focus();break}}})}},[n,e,i,a,s]),null}function JS(t,e){let{transform:r,...n}=e;return t!=null&&t.length?t.reduce((i,s)=>s({transform:i,...n}),r):r}function wI(t){return L.useMemo(()=>({draggable:{...of.draggable,...t==null?void 0:t.draggable},droppable:{...of.droppable,...t==null?void 0:t.droppable},dragOverlay:{...of.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function bI(t){let{activeNode:e,measure:r,initialRect:n,config:i=!0}=t;const s=L.useRef(!1),{x:a,y:o}=typeof i=="boolean"?{x:i,y:i}:i;Wi(()=>{if(!a&&!o||!e){s.current=!1;return}if(s.current||!n)return;const u=e==null?void 0:e.node.current;if(!u||u.isConnected===!1)return;const c=r(u),m=OS(c,n);if(a||(m.x=0),o||(m.y=0),s.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const g=IS(u);g&&g.scrollBy({top:m.y,left:m.x})}},[e,a,o,n,r])}const Pp=L.createContext({...Hi,scaleX:1,scaleY:1});var Na;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Na||(Na={}));const xI=L.memo(function(e){var r,n,i,s;let{id:a,accessibility:o,autoScroll:l=!0,children:u,sensors:c=fI,collisionDetection:m=TR,measuring:g,modifiers:h,...S}=e;const w=L.useReducer(vI,void 0,gI),[b,v]=w,[N,x]=yR(),[j,D]=L.useState(Na.Uninitialized),G=j===Na.Initialized,{draggable:{active:W,nodes:F,translate:O},droppable:{containers:V}}=b,C=W!=null?F.get(W):null,I=L.useRef({initial:null,translated:null}),Y=L.useMemo(()=>{var Ze;return W!=null?{id:W,data:(Ze=C==null?void 0:C.data)!=null?Ze:pI,rect:I}:null},[W,C]),X=L.useRef(null),[ue,de]=L.useState(null),[ce,K]=L.useState(null),re=Zc(S,Object.values(S)),me=pd("DndDescribedBy",a),he=L.useMemo(()=>V.getEnabled(),[V]),T=wI(g),{droppableRects:z,measureDroppableContainers:J,measuringScheduled:Q}=rI(he,{dragging:G,dependencies:[O.x,O.y],config:T.droppable}),ee=eI(F,W),se=L.useMemo(()=>ce?Jf(ce):null,[ce]),pe=Jt(),ge=nI(ee,T.draggable.measure);bI({activeNode:W!=null?F.get(W):null,config:pe.layoutShiftCompensation,initialRect:ge,measure:T.draggable.measure});const fe=db(ee,T.draggable.measure,ge),Ne=db(ee?ee.parentElement:null),Ae=L.useRef({activatorEvent:null,active:null,activeNode:ee,collisionRect:null,collisions:null,droppableRects:z,draggableNodes:F,draggingNode:null,draggingNodeRect:null,droppableContainers:V,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ce=V.getNodeFor((r=Ae.current.over)==null?void 0:r.id),Re=hI({measure:T.dragOverlay.measure}),U=(n=Re.nodeRef.current)!=null?n:ee,Ee=G?(i=Re.rect)!=null?i:fe:null,ft=!!(Re.nodeRef.current&&Re.rect),et=aI(ft?null:fe),Se=HS(U?An(U):null),We=oI(G?Ce??ee:null),Le=dI(We),Ke=JS(h,{transform:{x:O.x-et.x,y:O.y-et.y,scaleX:1,scaleY:1},activatorEvent:ce,active:Y,activeNodeRect:fe,containerNodeRect:Ne,draggingNodeRect:Ee,over:Ae.current.over,overlayNodeRect:Re.rect,scrollableAncestors:We,scrollableAncestorRects:Le,windowRect:Se}),Je=se?Gl(se,O):null,Lt=lI(We),St=fb(Lt),ot=fb(Lt,[fe]),vt=Gl(Ke,St),pt=Ee?OR(Ee,Ke):null,Ie=Y&&pt?m({active:Y,collisionRect:pt,droppableRects:z,droppableContainers:he,pointerCoordinates:Je}):null,lt=AR(Ie,"id"),[Pe,ar]=L.useState(null),jt=ft?Ke:Gl(Ke,ot),wt=LR(jt,(s=Pe==null?void 0:Pe.rect)!=null?s:null,fe),mt=L.useRef(null),Wt=L.useCallback((Ze,Fe)=>{let{sensor:dt,options:ln}=Fe;if(X.current==null)return;const Ft=F.get(X.current);if(!Ft)return;const dr=Ze.nativeEvent,Sr=new dt({active:X.current,activeNode:Ft,event:dr,options:ln,context:Ae,onAbort(Ht){if(!F.get(Ht))return;const{onDragAbort:hr}=re.current,yr={id:Ht};hr==null||hr(yr),N({type:"onDragAbort",event:yr})},onPending(Ht,Gr,hr,yr){if(!F.get(Ht))return;const{onDragPending:or}=re.current,Yt={id:Ht,constraint:Gr,initialCoordinates:hr,offset:yr};or==null||or(Yt),N({type:"onDragPending",event:Yt})},onStart(Ht){const Gr=X.current;if(Gr==null)return;const hr=F.get(Gr);if(!hr)return;const{onDragStart:yr}=re.current,qt={activatorEvent:dr,active:{id:Gr,data:hr.data,rect:I}};Ta.unstable_batchedUpdates(()=>{yr==null||yr(qt),D(Na.Initializing),v({type:Hr.DragStart,initialCoordinates:Ht,active:Gr}),N({type:"onDragStart",event:qt}),de(mt.current),K(dr)})},onMove(Ht){v({type:Hr.DragMove,coordinates:Ht})},onEnd:Ye(Hr.DragEnd),onCancel:Ye(Hr.DragCancel)});mt.current=Sr;function Ye(Ht){return async function(){const{active:hr,collisions:yr,over:qt,scrollAdjustedTranslate:or}=Ae.current;let Yt=null;if(hr&&or){const{cancelDrop:Mn}=re.current;Yt={activatorEvent:dr,active:hr,collisions:yr,delta:or,over:qt},Ht===Hr.DragEnd&&typeof Mn=="function"&&await Promise.resolve(Mn(Yt))&&(Ht=Hr.DragCancel)}X.current=null,Ta.unstable_batchedUpdates(()=>{v({type:Ht}),D(Na.Uninitialized),ar(null),de(null),K(null),mt.current=null;const Mn=Ht===Hr.DragEnd?"onDragEnd":"onDragCancel";if(Yt){const ni=re.current[Mn];ni==null||ni(Yt),N({type:Mn,event:Yt})}})}}},[F]),Qe=L.useCallback((Ze,Fe)=>(dt,ln)=>{const Ft=dt.nativeEvent,dr=F.get(ln);if(X.current!==null||!dr||Ft.dndKit||Ft.defaultPrevented)return;const Sr={active:dr};Ze(dt,Fe.options,Sr)===!0&&(Ft.dndKit={capturedBy:Fe.sensor},X.current=ln,Wt(dt,Fe))},[F,Wt]),Mt=tI(c,Qe);uI(c),Wi(()=>{fe&&j===Na.Initializing&&D(Na.Initialized)},[fe,j]),L.useEffect(()=>{const{onDragMove:Ze}=re.current,{active:Fe,activatorEvent:dt,collisions:ln,over:Ft}=Ae.current;if(!Fe||!dt)return;const dr={active:Fe,activatorEvent:dt,collisions:ln,delta:{x:vt.x,y:vt.y},over:Ft};Ta.unstable_batchedUpdates(()=>{Ze==null||Ze(dr),N({type:"onDragMove",event:dr})})},[vt.x,vt.y]),L.useEffect(()=>{const{active:Ze,activatorEvent:Fe,collisions:dt,droppableContainers:ln,scrollAdjustedTranslate:Ft}=Ae.current;if(!Ze||X.current==null||!Fe||!Ft)return;const{onDragOver:dr}=re.current,Sr=ln.get(lt),Ye=Sr&&Sr.rect.current?{id:Sr.id,rect:Sr.rect.current,data:Sr.data,disabled:Sr.disabled}:null,Ht={active:Ze,activatorEvent:Fe,collisions:dt,delta:{x:Ft.x,y:Ft.y},over:Ye};Ta.unstable_batchedUpdates(()=>{ar(Ye),dr==null||dr(Ht),N({type:"onDragOver",event:Ht})})},[lt]),Wi(()=>{Ae.current={activatorEvent:ce,active:Y,activeNode:ee,collisionRect:pt,collisions:Ie,droppableRects:z,draggableNodes:F,draggingNode:U,draggingNodeRect:Ee,droppableContainers:V,over:Pe,scrollableAncestors:We,scrollAdjustedTranslate:vt},I.current={initial:Ee,translated:pt}},[Y,ee,Ie,pt,F,U,Ee,z,V,Pe,We,vt]),XR({...pe,delta:O,draggingRect:pt,pointerCoordinates:Je,scrollableAncestors:We,scrollableAncestorRects:Le});const tt=L.useMemo(()=>({active:Y,activeNode:ee,activeNodeRect:fe,activatorEvent:ce,collisions:Ie,containerNodeRect:Ne,dragOverlay:Re,draggableNodes:F,droppableContainers:V,droppableRects:z,over:Pe,measureDroppableContainers:J,scrollableAncestors:We,scrollableAncestorRects:Le,measuringConfiguration:T,measuringScheduled:Q,windowRect:Se}),[Y,ee,fe,ce,Ie,Ne,Re,F,V,z,Pe,J,We,Le,T,Q,Se]),ut=L.useMemo(()=>({activatorEvent:ce,activators:Mt,active:Y,activeNodeRect:fe,ariaDescribedById:{draggable:me},dispatch:v,draggableNodes:F,over:Pe,measureDroppableContainers:J}),[ce,Mt,Y,fe,v,me,F,Pe,J]);return Ct.createElement(PS.Provider,{value:x},Ct.createElement(md.Provider,{value:ut},Ct.createElement(KS.Provider,{value:tt},Ct.createElement(Pp.Provider,{value:wt},u)),Ct.createElement(yI,{disabled:(o==null?void 0:o.restoreFocus)===!1})),Ct.createElement(xR,{...o,hiddenTextDescribedById:me}));function Jt(){const Ze=(ue==null?void 0:ue.autoScrollEnabled)===!1,Fe=typeof l=="object"?l.enabled===!1:l===!1,dt=G&&!Ze&&!Fe;return typeof l=="object"?{...l,enabled:dt}:{enabled:dt}}}),_I=L.createContext(null),mb="button",SI="Draggable";function NI(t){let{id:e,data:r,disabled:n=!1,attributes:i}=t;const s=pd(SI),{activators:a,activatorEvent:o,active:l,activeNodeRect:u,ariaDescribedById:c,draggableNodes:m,over:g}=L.useContext(md),{role:h=mb,roleDescription:S="draggable",tabIndex:w=0}=i??{},b=(l==null?void 0:l.id)===e,v=L.useContext(b?Pp:_I),[N,x]=Vf(),[j,D]=Vf(),G=cI(a,e),W=Zc(r);Wi(()=>(m.set(e,{id:e,key:s,node:N,activatorNode:j,data:W}),()=>{const O=m.get(e);O&&O.key===s&&m.delete(e)}),[m,e]);const F=L.useMemo(()=>({role:h,tabIndex:w,"aria-disabled":n,"aria-pressed":b&&h===mb?!0:void 0,"aria-roledescription":S,"aria-describedby":c.draggable}),[n,h,w,b,S,c.draggable]);return{active:l,activatorEvent:o,activeNodeRect:u,attributes:F,isDragging:b,listeners:n?void 0:G,node:N,over:g,setNodeRef:x,setActivatorNodeRef:D,transform:v}}function YS(){return L.useContext(KS)}const kI="Droppable",jI={timeout:25};function AI(t){let{data:e,disabled:r=!1,id:n,resizeObserverConfig:i}=t;const s=pd(kI),{active:a,dispatch:o,over:l,measureDroppableContainers:u}=L.useContext(md),c=L.useRef({disabled:r}),m=L.useRef(!1),g=L.useRef(null),h=L.useRef(null),{disabled:S,updateMeasurementsFor:w,timeout:b}={...jI,...i},v=Zc(w??n),N=L.useCallback(()=>{if(!m.current){m.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{u(Array.isArray(v.current)?v.current:[v.current]),h.current=null},b)},[b]),x=Lp({callback:N,disabled:S||!a}),j=L.useCallback((F,O)=>{x&&(O&&(x.unobserve(O),m.current=!1),F&&x.observe(F))},[x]),[D,G]=Vf(j),W=Zc(e);return L.useEffect(()=>{!x||!D.current||(x.disconnect(),m.current=!1,x.observe(D.current))},[D,x]),L.useEffect(()=>(o({type:Hr.RegisterDroppable,element:{id:n,key:s,disabled:r,node:D,rect:g,data:W}}),()=>o({type:Hr.UnregisterDroppable,key:s,id:n})),[n]),L.useEffect(()=>{r!==c.current.disabled&&(o({type:Hr.SetDroppableDisabled,id:n,key:s,disabled:r}),c.current.disabled=r)},[n,s,r,o]),{active:a,rect:g,isOver:(l==null?void 0:l.id)===n,node:D,over:l,setNodeRef:G}}function EI(t){let{animation:e,children:r}=t;const[n,i]=L.useState(null),[s,a]=L.useState(null),o=Gf(r);return!r&&!n&&o&&i(o),Wi(()=>{if(!s)return;const l=n==null?void 0:n.key,u=n==null?void 0:n.props.id;if(l==null||u==null){i(null);return}Promise.resolve(e(u,s)).then(()=>{i(null)})},[e,n,s]),Ct.createElement(Ct.Fragment,null,r,n?L.cloneElement(n,{ref:a}):null)}const CI={x:0,y:0,scaleX:1,scaleY:1};function TI(t){let{children:e}=t;return Ct.createElement(md.Provider,{value:GS},Ct.createElement(Pp.Provider,{value:CI},e))}const LI={position:"fixed",touchAction:"none"},PI=t=>Tp(t)?"transform 250ms ease":void 0,OI=L.forwardRef((t,e)=>{let{as:r,activatorEvent:n,adjustScale:i,children:s,className:a,rect:o,style:l,transform:u,transition:c=PI}=t;if(!o)return null;const m=i?u:{...u,scaleX:1,scaleY:1},g={...LI,width:o.width,height:o.height,top:o.top,left:o.left,transform:qa.Transform.toString(m),transformOrigin:i&&n?NR(n,o):void 0,transition:typeof c=="function"?c(n):c,...l};return Ct.createElement(r,{className:a,style:g,ref:e},s)}),RI=t=>e=>{let{active:r,dragOverlay:n}=e;const i={},{styles:s,className:a}=t;if(s!=null&&s.active)for(const[o,l]of Object.entries(s.active))l!==void 0&&(i[o]=r.node.style.getPropertyValue(o),r.node.style.setProperty(o,l));if(s!=null&&s.dragOverlay)for(const[o,l]of Object.entries(s.dragOverlay))l!==void 0&&n.node.style.setProperty(o,l);return a!=null&&a.active&&r.node.classList.add(a.active),a!=null&&a.dragOverlay&&n.node.classList.add(a.dragOverlay),function(){for(const[l,u]of Object.entries(i))r.node.style.setProperty(l,u);a!=null&&a.active&&r.node.classList.remove(a.active)}},II=t=>{let{transform:{initial:e,final:r}}=t;return[{transform:qa.Transform.toString(e)},{transform:qa.Transform.toString(r)}]},DI={duration:250,easing:"ease",keyframes:II,sideEffects:RI({styles:{active:{opacity:"0"}}})};function MI(t){let{config:e,draggableNodes:r,droppableContainers:n,measuringConfiguration:i}=t;return Cp((s,a)=>{if(e===null)return;const o=r.get(s);if(!o)return;const l=o.node.current;if(!l)return;const u=VS(a);if(!u)return;const{transform:c}=An(a).getComputedStyle(a),m=RS(c);if(!m)return;const g=typeof e=="function"?e:FI(e);return zS(l,i.draggable.measure),g({active:{id:s,data:o.data,node:l,rect:i.draggable.measure(l)},draggableNodes:r,dragOverlay:{node:a,rect:i.dragOverlay.measure(u)},droppableContainers:n,measuringConfiguration:i,transform:m})})}function FI(t){const{duration:e,easing:r,sideEffects:n,keyframes:i}={...DI,...t};return s=>{let{active:a,dragOverlay:o,transform:l,...u}=s;if(!e)return;const c={x:o.rect.left-a.rect.left,y:o.rect.top-a.rect.top},m={scaleX:l.scaleX!==1?a.rect.width*l.scaleX/o.rect.width:1,scaleY:l.scaleY!==1?a.rect.height*l.scaleY/o.rect.height:1},g={x:l.x-c.x,y:l.y-c.y,...m},h=i({...u,active:a,dragOverlay:o,transform:{initial:l,final:g}}),[S]=h,w=h[h.length-1];if(JSON.stringify(S)===JSON.stringify(w))return;const b=n==null?void 0:n({active:a,dragOverlay:o,...u}),v=o.node.animate(h,{duration:e,easing:r,fill:"forwards"});return new Promise(N=>{v.onfinish=()=>{b==null||b(),N()}})}}let gb=0;function BI(t){return L.useMemo(()=>{if(t!=null)return gb++,gb},[t])}const UI=Ct.memo(t=>{let{adjustScale:e=!1,children:r,dropAnimation:n,style:i,transition:s,modifiers:a,wrapperElement:o="div",className:l,zIndex:u=999}=t;const{activatorEvent:c,active:m,activeNodeRect:g,containerNodeRect:h,draggableNodes:S,droppableContainers:w,dragOverlay:b,over:v,measuringConfiguration:N,scrollableAncestors:x,scrollableAncestorRects:j,windowRect:D}=YS(),G=L.useContext(Pp),W=BI(m==null?void 0:m.id),F=JS(a,{activatorEvent:c,active:m,activeNodeRect:g,containerNodeRect:h,draggingNodeRect:b.rect,over:v,overlayNodeRect:b.rect,scrollableAncestors:x,scrollableAncestorRects:j,transform:G,windowRect:D}),O=Wv(g),V=MI({config:n,draggableNodes:S,droppableContainers:w,measuringConfiguration:N}),C=O?b.setRef:void 0;return Ct.createElement(TI,null,Ct.createElement(EI,{animation:V},m&&W?Ct.createElement(OI,{key:W,id:m.id,ref:C,as:o,activatorEvent:c,adjustScale:e,className:l,transition:s,rect:O,style:{zIndex:u,...i},transform:F},r):null))});function XS(t,e,r){const n=t.slice();return n.splice(r<0?n.length+r:r,0,n.splice(e,1)[0]),n}function zI(t,e){return t.reduce((r,n,i)=>{const s=e.get(n);return s&&(r[i]=s),r},Array(t.length))}function Dh(t){return t!==null&&t>=0}function $I(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function qI(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const QS=t=>{let{rects:e,activeIndex:r,overIndex:n,index:i}=t;const s=XS(e,n,r),a=e[i],o=s[i];return!o||!a?null:{x:o.left-a.left,y:o.top-a.top,scaleX:o.width/a.width,scaleY:o.height/a.height}},Mh={scaleX:1,scaleY:1},WI=t=>{var e;let{activeIndex:r,activeNodeRect:n,index:i,rects:s,overIndex:a}=t;const o=(e=s[r])!=null?e:n;if(!o)return null;if(i===r){const u=s[a];return u?{x:0,y:r<a?u.top+u.height-(o.top+o.height):u.top-o.top,...Mh}:null}const l=HI(s,i,r);return i>r&&i<=a?{x:0,y:-o.height-l,...Mh}:i<r&&i>=a?{x:0,y:o.height+l,...Mh}:{x:0,y:0,...Mh}};function HI(t,e,r){const n=t[e],i=t[e-1],s=t[e+1];return n?r<e?i?n.top-(i.top+i.height):s?s.top-(n.top+n.height):0:s?s.top-(n.top+n.height):i?n.top-(i.top+i.height):0:0}const ZS="Sortable",eN=Ct.createContext({activeIndex:-1,containerId:ZS,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:QS,disabled:{draggable:!1,droppable:!1}});function VI(t){let{children:e,id:r,items:n,strategy:i=QS,disabled:s=!1}=t;const{active:a,dragOverlay:o,droppableRects:l,over:u,measureDroppableContainers:c}=YS(),m=pd(ZS,r),g=o.rect!==null,h=L.useMemo(()=>n.map(G=>typeof G=="object"&&"id"in G?G.id:G),[n]),S=a!=null,w=a?h.indexOf(a.id):-1,b=u?h.indexOf(u.id):-1,v=L.useRef(h),N=!$I(h,v.current),x=b!==-1&&w===-1||N,j=qI(s);Wi(()=>{N&&S&&c(h)},[N,h,S,c]),L.useEffect(()=>{v.current=h},[h]);const D=L.useMemo(()=>({activeIndex:w,containerId:m,disabled:j,disableTransforms:x,items:h,overIndex:b,useDragOverlay:g,sortedRects:zI(h,l),strategy:i}),[w,m,j.draggable,j.droppable,x,h,b,l,g,i]);return Ct.createElement(eN.Provider,{value:D},e)}const GI=t=>{let{id:e,items:r,activeIndex:n,overIndex:i}=t;return XS(r,n,i).indexOf(e)},KI=t=>{let{containerId:e,isSorting:r,wasDragging:n,index:i,items:s,newIndex:a,previousItems:o,previousContainerId:l,transition:u}=t;return!u||!n||o!==s&&i===a?!1:r?!0:a!==i&&e===l},JI={duration:200,easing:"ease"},tN="transform",YI=qa.Transition.toString({property:tN,duration:0,easing:"linear"}),XI={roleDescription:"sortable"};function QI(t){let{disabled:e,index:r,node:n,rect:i}=t;const[s,a]=L.useState(null),o=L.useRef(r);return Wi(()=>{if(!e&&r!==o.current&&n.current){const l=i.current;if(l){const u=mu(n.current,{ignoreTransform:!0}),c={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(c.x||c.y)&&a(c)}}r!==o.current&&(o.current=r)},[e,r,n,i]),L.useEffect(()=>{s&&a(null)},[s]),s}function rN(t){let{animateLayoutChanges:e=KI,attributes:r,disabled:n,data:i,getNewIndex:s=GI,id:a,strategy:o,resizeObserverConfig:l,transition:u=JI}=t;const{items:c,containerId:m,activeIndex:g,disabled:h,disableTransforms:S,sortedRects:w,overIndex:b,useDragOverlay:v,strategy:N}=L.useContext(eN),x=ZI(n,h),j=c.indexOf(a),D=L.useMemo(()=>({sortable:{containerId:m,index:j,items:c},...i}),[m,i,j,c]),G=L.useMemo(()=>c.slice(c.indexOf(a)),[c,a]),{rect:W,node:F,isOver:O,setNodeRef:V}=AI({id:a,data:D,disabled:x.droppable,resizeObserverConfig:{updateMeasurementsFor:G,...l}}),{active:C,activatorEvent:I,activeNodeRect:Y,attributes:X,setNodeRef:ue,listeners:de,isDragging:ce,over:K,setActivatorNodeRef:re,transform:me}=NI({id:a,data:D,attributes:{...XI,...r},disabled:x.draggable}),he=lR(V,ue),T=!!C,z=T&&!S&&Dh(g)&&Dh(b),J=!v&&ce,Q=J&&z?me:null,se=z?Q??(o??N)({rects:w,activeNodeRect:Y,activeIndex:g,overIndex:b,index:j}):null,pe=Dh(g)&&Dh(b)?s({id:a,items:c,activeIndex:g,overIndex:b}):j,ge=C==null?void 0:C.id,fe=L.useRef({activeId:ge,items:c,newIndex:pe,containerId:m}),Ne=c!==fe.current.items,Ae=e({active:C,containerId:m,isDragging:ce,isSorting:T,id:a,index:j,items:c,newIndex:fe.current.newIndex,previousItems:fe.current.items,previousContainerId:fe.current.containerId,transition:u,wasDragging:fe.current.activeId!=null}),Ce=QI({disabled:!Ae,index:j,node:F,rect:W});return L.useEffect(()=>{T&&fe.current.newIndex!==pe&&(fe.current.newIndex=pe),m!==fe.current.containerId&&(fe.current.containerId=m),c!==fe.current.items&&(fe.current.items=c)},[T,pe,m,c]),L.useEffect(()=>{if(ge===fe.current.activeId)return;if(ge!=null&&fe.current.activeId==null){fe.current.activeId=ge;return}const U=setTimeout(()=>{fe.current.activeId=ge},50);return()=>clearTimeout(U)},[ge]),{active:C,activeIndex:g,attributes:X,data:D,rect:W,index:j,newIndex:pe,items:c,isOver:O,isSorting:T,isDragging:ce,listeners:de,node:F,overIndex:b,over:K,setNodeRef:he,setActivatorNodeRef:re,setDroppableNodeRef:V,setDraggableNodeRef:ue,transform:Ce??se,transition:Re()};function Re(){if(Ce||Ne&&fe.current.newIndex===j)return YI;if(!(J&&!Tp(I)||!u)&&(T||Ae))return qa.Transition.toString({...u,property:tN})}}function ZI(t,e){var r,n;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(r=t==null?void 0:t.draggable)!=null?r:e.draggable,droppable:(n=t==null?void 0:t.droppable)!=null?n:e.droppable}}It.Down,It.Right,It.Up,It.Left;const vb=[{id:"todo",title:"To Do",color:"bg-slate-100 border-slate-200",icon:F4},{id:"in-progress",title:"In Progress",color:"bg-blue-50 border-blue-100",icon:$s},{id:"done",title:"Completed",color:"bg-emerald-50 border-emerald-100",icon:xv}];function eD(){const t=Gi(),{addXP:e}=e3(),{addToast:r}=ld(),[n,i]=L.useState([]),[s,a]=L.useState(null),[o,l]=L.useState(""),u=_R(ib(qv,{activationConstraint:{distance:5}}),ib(WS));L.useEffect(()=>{c()},[]);const c=async()=>{try{const b=(await Tt.getAllTasks()).map(v=>({...v,status:v.status?v.status:v.completed?"done":"todo"}));i(b.sort((v,N)=>N.createdAt.getTime()-v.createdAt.getTime()))}catch(w){console.error("Failed to load tasks",w)}finally{}},m=async w=>{if(w.preventDefault(),!o.trim())return;const b={id:crypto.randomUUID(),text:o.trim(),status:"todo",createdAt:new Date};await Tt.saveTask(b),i([b,...n]),l(""),e(10,"Task Created")},g=async w=>{confirm("Delete this task?")&&(await Tt.deleteTask(w),i(n.filter(b=>b.id!==w)))},h=w=>{a(w.active.id)},S=async w=>{const{active:b,over:v}=w;if(a(null),!v)return;const N=n.find(j=>j.id===b.id);if(!N)return;let x=null;if(vb.some(j=>j.id===v.id))x=v.id;else{const j=n.find(D=>D.id===v.id);j&&(x=j.status)}if(x&&x!==N.status){const j={...N,status:x};i(n.map(D=>D.id===b.id?j:D)),await Tt.saveTask(j),x==="done"&&N.status!=="done"&&(e(50,"Task Completed"),r("Task moved to Completed! +50 XP","success"))}};return f.jsxs("div",{className:"min-h-screen p-6 pb-24 space-y-6",children:[f.jsx($o,{title:"Kanban Board",description:"Manage your tasks efficiently."}),f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("button",{onClick:()=>t(-1),className:"p-2 bg-white rounded-full shadow-sm hover:bg-slate-100 transition-colors",children:f.jsx(yp,{className:"h-6 w-6 text-slate-600"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Task Board"}),f.jsx("p",{className:"text-slate-500 text-xs",children:"Drag and drop to manage workflow"})]})]}),f.jsxs("form",{onSubmit:m,className:"flex gap-2",children:[f.jsx("input",{type:"text",value:o,onChange:w=>l(w.target.value),placeholder:"Add new task...",className:"glass-input px-4 py-2 rounded-xl focus:ring-2 focus:ring-primary-500 w-full md:w-64"}),f.jsx("button",{type:"submit",disabled:!o.trim(),className:"bg-primary-600 text-white p-2 rounded-xl hover:bg-primary-700 transition-colors disabled:opacity-50",children:f.jsx(Uo,{className:"h-6 w-6"})})]})]}),f.jsxs(xI,{sensors:u,collisionDetection:ER,onDragStart:h,onDragEnd:S,children:[f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 h-full items-start",children:vb.map(w=>f.jsx(tD,{column:w,tasks:n.filter(b=>b.status===w.id),onDelete:g},w.id))}),f.jsx(UI,{children:s?f.jsx(nN,{task:n.find(w=>w.id===s),onDelete:()=>{},isOverlay:!0}):null})]})]})}function tD({column:t,tasks:e,onDelete:r}){const{setNodeRef:n}=rN({id:t.id,data:{type:"Column",column:t}});return f.jsxs("div",{ref:n,className:st("bg-slate-50/50 rounded-2xl p-4 min-h-[500px] border-2 border-dashed border-slate-200 transition-colors",t.color),children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4 text-slate-500 font-bold uppercase text-xs tracking-wider",children:[f.jsx(t.icon,{className:"h-4 w-4"}),t.title," ",f.jsx("span",{className:"bg-white/50 px-2 py-0.5 rounded-full text-[10px] ml-auto",children:e.length})]}),f.jsx(VI,{items:e.map(i=>i.id),strategy:WI,children:f.jsxs("div",{className:"space-y-3",children:[e.map(i=>f.jsx(rD,{task:i,onDelete:r},i.id)),e.length===0&&f.jsx("div",{className:"h-24 flex items-center justify-center text-slate-300 text-xs italic",children:"Empty"})]})})]})}function rD({task:t,onDelete:e}){const{attributes:r,listeners:n,setNodeRef:i,transform:s,transition:a,isDragging:o}=rN({id:t.id,data:{type:"Task",task:t}}),l={transform:qa.Transform.toString(s),transition:a};return f.jsx("div",{ref:i,style:l,...r,...n,children:f.jsx(nN,{task:t,onDelete:e,isDragging:o})})}function nN({task:t,onDelete:e,isDragging:r,isOverlay:n}){return f.jsxs("div",{className:st("glass-card p-4 rounded-xl flex items-start gap-3 group bg-white shadow-sm border border-slate-100",r&&"opacity-30",n&&"rotate-2 scale-105 shadow-xl cursor-grabbing ring-2 ring-primary-500 ring-offset-2 z-50"),children:[f.jsx("button",{className:"mt-1 text-slate-300 cursor-grab active:cursor-grabbing",children:f.jsx(tE,{className:"h-4 w-4"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"text-sm font-medium text-slate-700 break-words leading-relaxed",children:t.text}),f.jsx("span",{className:"text-[10px] text-slate-400 mt-2 block",children:new Date(t.createdAt).toLocaleDateString()})]}),f.jsx("button",{onClick:i=>{i.stopPropagation(),e(t.id)},className:"opacity-0 group-hover:opacity-100 p-1.5 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",onPointerDown:i=>i.stopPropagation(),children:f.jsx(zo,{className:"h-4 w-4"})})]})}function nD(){const{user:t}=_i(),[e,r]=L.useState("mark"),[n,i]=L.useState(new Date),[s,a]=L.useState([]),[o,l]=L.useState([]),[u,c]=L.useState([]),m=b=>b.toISOString().split("T")[0],g=b=>b.toLocaleDateString("en-US",{weekday:"long"}),h=async()=>{if(t)try{if(e==="mark"){const b=g(n),v=m(n),[N,x]=await Promise.all([rt.from("timetable_entries").select("*").eq("user_id",t.id).eq("day",b),rt.from("smart_timetable_entries").select("*").eq("user_id",t.id).eq("day",b)]),j=[...N.data||[],...x.data||[]];j.sort((G,W)=>G.start_time.localeCompare(W.start_time)),a(j);const{data:D}=await rt.from("attendance_logs").select("subject_code, status").eq("user_id",t.id).eq("date",v);l(D||[])}else{const[b,v]=await Promise.all([rt.from("timetable_entries").select("subject_name, subject_code").eq("user_id",t.id),rt.from("smart_timetable_entries").select("subject_name, subject_code").eq("user_id",t.id)]),N=new Map;[...b.data||[],...v.data||[]].forEach(D=>{N.has(D.subject_code)||N.set(D.subject_code,D.subject_name)});const{data:x}=await rt.from("attendance_logs").select("subject_code, status").eq("user_id",t.id),j=[];N.forEach((D,G)=>{const W=(x==null?void 0:x.filter(C=>C.subject_code===G))||[],F=W.filter(C=>C.status==="present").length,O=W.filter(C=>C.status==="absent").length,V=F+O;j.push({subject_name:D,subject_code:G,total_classes:V,present:F,absent:O,percentage:V>0?Math.round(F/V*100):0})}),c(j)}}catch(b){console.error("Error fetching data:",b)}finally{}};L.useEffect(()=>{h()},[n,t,e]);const S=async(b,v)=>{if(!t)return;const N=m(n);l(x=>[...x.filter(D=>D.subject_code!==b),{subject_code:b,status:v}]);try{const{error:x}=await rt.from("attendance_logs").upsert({user_id:t.id,date:N,subject_code:b,status:v},{onConflict:"user_id, date, subject_code"});if(x)throw x}catch(x){console.error("Error marking attendance:",x),h()}},w=b=>{const v=new Date(n);v.setDate(n.getDate()+b),i(v)};return f.jsxs("div",{className:"p-6 space-y-6 pb-24",children:[f.jsx("h1",{className:"text-2xl font-bold text-slate-800 mt-4",children:"Attendance"}),f.jsxs("div",{className:"flex p-1 bg-slate-200/50 rounded-xl",children:[f.jsxs("button",{onClick:()=>r("mark"),className:st("flex-1 flex items-center justify-center gap-2 py-2.5 rounded-lg text-sm font-bold transition-all",e==="mark"?"bg-white text-primary-600 shadow-sm":"text-slate-500 hover:text-slate-700"),children:[f.jsx(z4,{className:"h-4 w-4"}),"Mark Attendance"]}),f.jsxs("button",{onClick:()=>r("stats"),className:st("flex-1 flex items-center justify-center gap-2 py-2.5 rounded-lg text-sm font-bold transition-all",e==="stats"?"bg-white text-primary-600 shadow-sm":"text-slate-500 hover:text-slate-700"),children:[f.jsx(D4,{className:"h-4 w-4"}),"Statistics"]})]}),e==="mark"?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"glass-card p-4 rounded-2xl flex items-center justify-between",children:[f.jsx("button",{onClick:()=>w(-1),className:"p-2 hover:bg-white/50 rounded-full transition-colors",children:f.jsx(Q8,{className:"h-5 w-5 text-slate-600"})}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("span",{className:"text-sm font-medium text-slate-500",children:g(n)}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Jc,{className:"h-4 w-4 text-primary-600"}),f.jsx("span",{className:"text-lg font-bold text-slate-800",children:n.toLocaleDateString()})]})]}),f.jsx("button",{onClick:()=>w(1),className:"p-2 hover:bg-white/50 rounded-full transition-colors",children:f.jsx(M4,{className:"h-5 w-5 text-slate-600"})})]}),f.jsx("div",{className:"space-y-4",children:s.length===0?f.jsx("div",{className:"text-center py-10 text-slate-400",children:f.jsx("p",{children:"No classes scheduled for this day."})}):s.map(b=>{const v=o.find(j=>j.subject_code===b.subject_code),N=(v==null?void 0:v.status)==="present",x=(v==null?void 0:v.status)==="absent";return f.jsxs("div",{className:"glass-card p-5 rounded-2xl",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-slate-800 text-lg",children:b.subject_name}),f.jsx("p",{className:"text-sm text-slate-500 font-medium",children:b.subject_code})]}),f.jsx("span",{className:st("text-[10px] px-2 py-1 rounded-full font-bold uppercase tracking-wide",b.type==="theory"?"bg-primary-100 text-primary-600":"bg-pink-100 text-pink-600"),children:b.type})]}),f.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500 mb-6",children:[f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx($s,{className:"h-4 w-4 text-primary-400"}),f.jsxs("span",{className:"font-medium",children:[b.start_time.slice(0,5)," - ",b.end_time.slice(0,5)]})]}),b.room_number&&f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx(Mf,{className:"h-4 w-4 text-primary-400"}),f.jsx("span",{className:"font-medium",children:b.room_number})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("button",{onClick:()=>S(b.subject_code,"present"),className:st("flex items-center justify-center gap-2 py-3 rounded-xl font-bold transition-all",N?"bg-green-500 text-white shadow-lg shadow-green-200 scale-[1.02]":"bg-slate-100 text-slate-500 hover:bg-green-50 hover:text-green-600"),children:[f.jsx(X8,{className:"h-5 w-5"}),"Present"]}),f.jsxs("button",{onClick:()=>S(b.subject_code,"absent"),className:st("flex items-center justify-center gap-2 py-3 rounded-xl font-bold transition-all",x?"bg-red-500 text-white shadow-lg shadow-red-200 scale-[1.02]":"bg-slate-100 text-slate-500 hover:bg-red-50 hover:text-red-600"),children:[f.jsx(ea,{className:"h-5 w-5"}),"Absent"]})]})]},b.id)})})]}):f.jsx("div",{className:"space-y-4",children:u.length===0?f.jsx("div",{className:"text-center py-10 text-slate-400",children:f.jsx("p",{children:"No attendance data recorded yet."})}):u.map(b=>f.jsxs("div",{className:"glass-card p-5 rounded-2xl",children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-slate-800",children:b.subject_name}),f.jsx("p",{className:"text-xs text-slate-500 font-medium",children:b.subject_code})]}),f.jsxs("div",{className:st("text-lg font-bold",b.percentage>=75?"text-green-600":"text-red-600"),children:[b.percentage,"%"]})]}),f.jsx("div",{className:"h-2 w-full bg-slate-100 rounded-full overflow-hidden mb-4",children:f.jsx("div",{className:st("h-full rounded-full transition-all duration-500",b.percentage>=75?"bg-green-500":"bg-red-500"),style:{width:`${b.percentage}%`}})}),f.jsxs("div",{className:"flex justify-between items-center text-sm",children:[f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-xs text-slate-400",children:"Present"}),f.jsx("span",{className:"font-bold text-green-600",children:b.present})]}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-xs text-slate-400",children:"Absent"}),f.jsx("span",{className:"font-bold text-red-600",children:b.absent})]}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-xs text-slate-400",children:"Total"}),f.jsx("span",{className:"font-bold text-slate-700",children:b.total_classes})]})]}),b.percentage<75&&f.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-amber-600 bg-amber-50 px-2 py-1 rounded-lg",children:[f.jsx(J8,{className:"h-3 w-3"}),"Low Attendance"]})]})]},b.subject_code))})]})}const Pm=[{label:"S",value:10,color:"text-purple-500 bg-purple-100 border-purple-200"},{label:"A",value:9,color:"text-blue-500 bg-blue-100 border-blue-200"},{label:"B",value:8,color:"text-green-500 bg-green-100 border-green-200"},{label:"C",value:7,color:"text-yellow-500 bg-yellow-100 border-yellow-200"},{label:"D",value:6,color:"text-orange-500 bg-orange-100 border-orange-200"},{label:"E",value:5,color:"text-red-500 bg-red-100 border-red-200"},{label:"F",value:0,color:"text-slate-500 bg-slate-100 border-slate-200"},{label:"N",value:0,color:"text-slate-400 bg-slate-50 border-slate-200"}];function iD({subjectName:t,credits:e,currentGrade:r,onChange:n,onDelete:i,onEdit:s}){const a=Pm.findIndex(c=>c.label===r),o=c=>{const g=7-parseInt(c.target.value);n(Pm[g].label)},l=7-a,u=Pm[a];return f.jsxs("div",{className:"glass-card p-4 rounded-2xl relative group transition-all duration-300 hover:shadow-lg border border-white/40",children:[f.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:s,className:"text-slate-300 hover:text-primary-400 p-1 transition-colors",children:f.jsx(q4,{className:"h-4 w-4"})}),f.jsx("button",{onClick:i,className:"text-slate-300 hover:text-red-400 p-1 transition-colors",children:""})]}),f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-slate-800",children:t}),f.jsxs("p",{className:"text-xs text-slate-500 font-medium",children:[e," Credits"]})]}),f.jsx("div",{className:st("w-10 h-10 rounded-xl flex items-center justify-center font-bold text-xl transition-all duration-300 shadow-sm border",u.color),children:r})]}),f.jsx("div",{className:"relative h-6 flex items-center",children:f.jsx("input",{type:"range",min:"0",max:"7",step:"1",value:l,onChange:o,className:"w-full h-2 bg-slate-200 rounded-full appearance-none cursor-pointer accent-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-500/50"})}),f.jsxs("div",{className:"flex justify-between mt-2 text-[10px] font-bold text-slate-400 px-1",children:[f.jsx("span",{children:"N"}),f.jsx("span",{children:"E"}),f.jsx("span",{children:"C"}),f.jsx("span",{children:"A"}),f.jsx("span",{children:"S"})]})]})}function sD({gpa:t,totalCredits:e,initialGpa:r}){const[n,i]=L.useState(0),[s,a]=L.useState(!1);L.useEffect(()=>{const g=16.666666666666668,h=(t-n)/60;let S=n;const w=setInterval(()=>{S+=h,h>0&&S>=t||h<0&&S<=t?(i(t),clearInterval(w),t>=9&&a(!0)):i(S)},g);return()=>clearInterval(w)},[t]);const o=c=>c>=9?"text-purple-600":c>=8?"text-blue-600":c>=7?"text-green-600":c>=5?"text-orange-600":"text-red-600",l=c=>c>=9.5?"Absolute Legend! ":c>=9?"Outstanding! ":c>=8.5?"Excellent Work! ":c>=8?"Great Job! ":c>=7?"Good, keep pushing! ":c>=5?"You can do better! ":"Warning Zone! ",u=r?t-r:0;return f.jsxs("div",{className:"glass-card p-6 rounded-3xl text-center relative overflow-hidden transition-all duration-500 hover:shadow-2xl hover:shadow-primary-500/10",children:[s&&f.jsxs("div",{className:"absolute inset-0 pointer-events-none z-0",children:[f.jsx("div",{className:"absolute top-0 left-1/4 w-2 h-2 bg-red-400 rounded-full animate-bounce delay-75"}),f.jsx("div",{className:"absolute top-10 right-1/4 w-2 h-2 bg-blue-400 rounded-full animate-bounce delay-150"})]}),f.jsxs("div",{className:"relative z-10",children:[f.jsx("h2",{className:"text-sm font-bold text-slate-500 uppercase tracking-widest mb-2",children:"Projected CGPA"}),f.jsxs("div",{className:st("text-6xl font-black mb-2 transition-colors duration-500 flex items-center justify-center gap-2",o(n)),children:[n.toFixed(2),t>=9&&f.jsx(Ff,{className:"h-8 w-8 text-yellow-400 animate-pulse"})]}),f.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[r&&Math.abs(u)>.01&&f.jsxs("div",{className:st("flex items-center gap-1 text-xs font-bold px-2 py-1 rounded-full",u>0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:[u>0?f.jsx(H4,{className:"h-3 w-3"}):f.jsx(pE,{className:"h-3 w-3"}),Math.abs(u).toFixed(2)]}),f.jsxs("div",{className:"bg-slate-100 text-slate-600 px-3 py-1 rounded-full text-xs font-bold",children:[e," Credits"]})]}),f.jsx("p",{className:st("font-medium text-lg animate-fade-in",o(t)),children:l(t)})]}),f.jsx("div",{className:st("absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-32 h-32 rounded-full blur-[60px] -z-10 opacity-20 transition-colors duration-700",t>=9?"bg-purple-500":t>=8?"bg-blue-500":t>=5?"bg-orange-500":"bg-red-500")})]})}function aD({isOpen:t,onClose:e,onSuccess:r,initialData:n}){return t?f.jsx(oD,{isOpen:t,onClose:e,onSuccess:r,initialData:n},n?`edit-${n.name}`:"add-new"):null}function oD({onClose:t,onSuccess:e,initialData:r}){const[n,i]=L.useState((r==null?void 0:r.name)||""),[s,a]=L.useState((r==null?void 0:r.credits)||3),[o,l]=L.useState(!1),u=async c=>{c.preventDefault(),l(!0);try{if(!n.trim()||s<0)return;e({name:n,credits:s}),t()}catch(m){console.error("Error saving subject:",m)}finally{l(!1)}};return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/20 backdrop-blur-sm",children:f.jsx("div",{className:"bg-white/90 backdrop-blur-xl rounded-3xl shadow-2xl w-full max-w-md overflow-hidden border border-white/50 animate-in fade-in zoom-in duration-200",children:f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800",children:r?"Edit Subject":"Add New Subject"}),f.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:f.jsx(ea,{className:"h-5 w-5 text-slate-500"})})]}),f.jsxs("form",{onSubmit:u,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Subject Name"}),f.jsx("input",{type:"text",value:n,onChange:c=>i(c.target.value),placeholder:"e.g. Operating Systems",className:"w-full p-3 rounded-xl bg-slate-50 border-none focus:ring-2 focus:ring-primary-500 transition-all font-medium",autoFocus:!0,required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Credits"}),f.jsx("input",{type:"number",value:s,onChange:c=>a(parseInt(c.target.value)||0),min:"1",max:"10",className:"w-full p-3 rounded-xl bg-slate-50 border-none focus:ring-2 focus:ring-primary-500 transition-all font-medium",required:!0})]}),f.jsxs("button",{type:"submit",disabled:o,className:"w-full py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-xl font-bold shadow-lg shadow-primary-200 transition-all flex items-center justify-center gap-2 mt-4 active:scale-95",children:[o?f.jsx(Hs,{className:"h-5 w-5 animate-spin"}):f.jsx(bp,{className:"h-5 w-5"}),r?"Update Subject":"Add Subject"]})]})]})})})}const lD={S:10,A:9,B:8,C:7,D:6,E:5,F:0,N:0};function uD(){const{user:t}=_i(),{addToast:e}=ld(),[r,n]=L.useState([]),[i,s]=L.useState(0),[a,o]=L.useState(0),[l,u]=L.useState(null),[c,m]=L.useState(null),[g,h]=L.useState(!1),[S,w]=L.useState(!1),[b,v]=L.useState(null);L.useEffect(()=>{t&&(async()=>{const{data:V}=await rt.from("profiles").select("cgpa, credits").eq("id",t.id).single();V&&(V.cgpa&&u(V.cgpa),V.credits&&m(V.credits))})()},[t]),L.useEffect(()=>{(async()=>{const V=await Tt.getAllSimulatorSubjects();if(V&&V.length>0){const C=V.map(I=>({...I,grade:I.grade}));n(C)}})()},[]),L.useEffect(()=>{N()},[r,g,l,c]);const N=()=>{let O=0,V=0;if(r.forEach(C=>{const I=lD[C.grade];O+=I*C.credits,V+=C.credits}),g&&l!=null&&c!=null){const I=l*c+O,Y=c+V;s(Y>0?I/Y:0),o(Y)}else s(V>0?O/V:0),o(V)},x=async(O,V)=>{const C=r.map(Y=>Y.id===O?{...Y,grade:V}:Y);n(C);const I=C.find(Y=>Y.id===O);I&&await Tt.saveSimulatorSubject(I)},j=async O=>{if(b){const V={...b,name:O.name,credits:O.credits},C=r.map(I=>I.id===b.id?V:I);n(C),await Tt.saveSimulatorSubject(V),v(null),e("Subject updated successfully","success")}else{const C={id:crypto.randomUUID(),name:O.name,credits:O.credits,grade:"A"};n([...r,C]),await Tt.saveSimulatorSubject(C),e("Subject added successfully","success")}},D=async O=>{n(V=>V.filter(C=>C.id!==O)),await Tt.deleteSimulatorSubject(O),e("Subject deleted","info")},G=O=>{v(O),w(!0)},W=async()=>{await Promise.all(r.map(O=>Tt.deleteSimulatorSubject(O.id))),n([]),e("Simulator reset","info")},F=()=>{v(null),w(!0)};return f.jsxs("div",{className:"pb-24 space-y-8",children:[f.jsx($o,{title:"CGPA Simulator",description:"Predict your future grades with our interactive GPA calculator."}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Simulator"}),f.jsx("p",{className:"text-slate-500",children:"Play with grades to see your future."})]}),f.jsx(sD,{gpa:i,totalCredits:a,initialGpa:g?l||0:void 0}),l!==null&&f.jsx("div",{className:"flex justify-center",children:f.jsxs("div",{className:"bg-white/50 backdrop-blur-sm p-1 rounded-xl flex gap-1 border border-white/40",children:[f.jsx("button",{onClick:()=>h(!1),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${g?"text-slate-500 hover:text-slate-700":"bg-white shadow-sm text-primary-600"}`,children:"Semester Only"}),f.jsx("button",{onClick:()=>h(!0),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${g?"bg-white shadow-sm text-primary-600":"text-slate-500 hover:text-slate-700"}`,children:"Cumulative Effect"})]})}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(O=>f.jsx(iD,{subjectName:O.name,credits:O.credits,currentGrade:O.grade,onChange:V=>x(O.id,V),onDelete:()=>D(O.id),onEdit:()=>G(O)},O.id))}),f.jsxs("div",{className:"flex justify-center gap-4",children:[f.jsxs("button",{onClick:F,className:"flex items-center gap-2 bg-primary-600 text-white px-6 py-3 rounded-full font-bold shadow-lg shadow-primary-500/30 hover:bg-primary-700 transition-all active:scale-95",children:[f.jsx(Uo,{className:"h-5 w-5"}),"Add Subject"]}),f.jsxs("button",{onClick:W,className:"flex items-center gap-2 bg-white text-slate-600 px-6 py-3 rounded-full font-bold shadow-sm hover:bg-slate-50 transition-all",children:[f.jsx(hE,{className:"h-5 w-5"}),"Reset"]})]}),f.jsx(aD,{isOpen:S,onClose:()=>{w(!1),v(null)},onSuccess:j,initialData:b?{name:b.name,credits:b.credits}:void 0})]})}function cD(){const{user:t}=_i(),[e,r]=L.useState(0),[n,i]=L.useState(0),[s,a]=L.useState(9),[o,l]=L.useState(20),[u,c]=L.useState(0),[m,g]=L.useState([{sem:1,sgpa:8.2,isPredicted:!1},{sem:2,sgpa:8.5,isPredicted:!1},{sem:3,sgpa:8.4,isPredicted:!1},{sem:4,sgpa:8.8,isPredicted:!1},{sem:5,sgpa:8.9,isPredicted:!1}]),[h,S]=L.useState(null);L.useEffect(()=>{if(!t)return;(async()=>{try{const{data:j}=await rt.from("profiles").select("cgpa, credits").eq("id",t.id).single();if(j){const D=j.cgpa||0;r(D),i(j.credits||0),g(G=>{const W=[...G];return D>0&&(W[4]={sem:5,sgpa:D,isPredicted:!1}),W})}}catch(j){console.error(j)}finally{}})()},[t]),L.useEffect(()=>{w()},[s,o,e,n]);const w=()=>{const x=n+o,D=(s*x-e*n)/o;c(D>10?10.1:D<0?0:D)},b=()=>{const x=m[m.length-1].sgpa,j=Math.random()*.5-.1,D=Math.min(10,Math.max(0,parseFloat((x+j).toFixed(2))));let G="";D>x?G="Based on your consistent performance and projected 85%+ attendance, our model predicts a slight increase in your next SGPA. Keep up the momentum!":G="Our model detects a potential plateau. Focusing on high-credit subjects could prevent a minor dip. Ensure your attendance stays above 75%.",S({nextSgpa:D,insight:G}),g(W=>[...W,{sem:6,sgpa:D,isPredicted:!0}])},N=(x=>x>=8.5?{label:"First Class with Distinction",color:"text-emerald-500",bg:"bg-emerald-100"}:x>=6.5?{label:"First Class",color:"text-blue-500",bg:"bg-blue-100"}:x>=5.5?{label:"Second Class",color:"text-orange-500",bg:"bg-orange-100"}:{label:"Pass Class",color:"text-slate-500",bg:"bg-slate-100"})(e);return f.jsxs("div",{className:"pb-24 space-y-8 staggered-fade-in",children:[f.jsx($o,{title:"Analytics",description:"Analyze your academic performance."}),f.jsxs("div",{className:"flex flex-col gap-2 mt-4",children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Analytics"}),f.jsx("p",{className:"text-slate-500",children:"Insights to help you graduate with honors."})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsxs("div",{className:"glass-card p-6 rounded-3xl relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:f.jsx(c5,{className:"h-24 w-24 text-primary-500"})}),f.jsx("p",{className:"text-slate-500 text-sm font-medium mb-1",children:"Current CGPA"}),f.jsx("h2",{className:"text-4xl font-bold text-slate-800",children:e}),f.jsxs("div",{className:st("inline-flex items-center gap-2 mt-4 px-3 py-1 rounded-full text-xs font-bold",N.bg,N.color),children:[f.jsx(c5,{className:"h-3 w-3"}),N.label]})]}),f.jsxs("div",{className:"glass-card p-6 rounded-3xl relative overflow-hidden",children:[f.jsx("p",{className:"text-slate-500 text-sm font-medium mb-1",children:"Total Credits"}),f.jsx("h2",{className:"text-4xl font-bold text-slate-800",children:n}),f.jsxs("p",{className:"text-xs text-slate-400 mt-4 flex items-center gap-1",children:[f.jsx(H4,{className:"h-3 w-3"}),"Completed so far"]})]}),f.jsxs("div",{className:"glass-card p-6 rounded-3xl relative overflow-hidden bg-primary-600 text-white",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-500 to-purple-600 opacity-100 -z-10"}),f.jsxs("p",{className:"text-primary-100 text-sm font-medium mb-1 flex items-center gap-2",children:[f.jsx(W4,{className:"h-4 w-4"})," Target Goal"]}),f.jsxs("div",{className:"flex items-end gap-2",children:[f.jsx("h2",{className:"text-4xl font-bold",children:s}),f.jsx("span",{className:"mb-1 text-sm text-primary-200",children:"/ 10.0"})]}),f.jsx("input",{type:"range",min:"5",max:"10",step:"0.1",value:s,onChange:x=>a(parseFloat(x.target.value)),className:"w-full mt-4 h-1 bg-primary-400/50 rounded-lg appearance-none cursor-pointer accent-white"})]})]}),f.jsxs("div",{className:"glass-card p-6 rounded-3xl",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-orange-100 flex items-center justify-center text-orange-600",children:f.jsx(wp,{className:"h-5 w-5"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"font-bold text-slate-800",children:"Target Calculator"}),f.jsx("p",{className:"text-xs text-slate-500",children:"What do you need to score next?"})]})]}),f.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center",children:[f.jsx("div",{className:"flex-1 w-full space-y-4",children:f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block",children:"Remaining Credits"}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("input",{type:"number",value:o,onChange:x=>l(parseInt(x.target.value)||0),className:"glass-input w-24 p-3 rounded-xl text-center font-bold text-lg"}),f.jsxs("span",{className:"text-sm text-slate-400 max-w-[200px]",children:["Approx. ",Math.ceil(o/20)," semesters left."]})]})]})}),f.jsxs("div",{className:"w-full md:w-1/2 bg-slate-50 dark:bg-slate-800/50 rounded-2xl p-6 text-center border-2 border-dashed border-slate-200 dark:border-slate-700",children:[f.jsx("p",{className:"text-slate-500 font-medium mb-2",children:"Required Average SGPA"}),f.jsx("div",{className:st("text-5xl font-bold mb-2 transition-colors duration-300",u>10?"text-red-500":u>9?"text-orange-500":"text-emerald-500"),children:u>10?"> 10.0":u.toFixed(2)}),f.jsx("p",{className:"text-xs text-slate-400 max-w-xs mx-auto",children:u>10?"Impossible without retaking courses to improve previous grades.":`You need to average ${u.toFixed(2)} in your remaining semesters to reach ${s} CGPA.`})]})]})]}),f.jsxs("div",{className:"glass-card p-6 rounded-3xl",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-purple-100 flex items-center justify-center text-purple-600",children:f.jsx(Y8,{className:"h-5 w-5"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"font-bold text-slate-800",children:"AI Performance Predictor"}),f.jsx("p",{className:"text-xs text-slate-500",children:"Based on your attendance & history"})]})]}),!h&&f.jsxs("button",{onClick:b,className:"bg-purple-600 text-white px-4 py-2 rounded-xl text-sm font-bold shadow-lg shadow-purple-200 hover:scale-105 active:scale-95 transition-all flex items-center gap-2",children:[f.jsx(Ff,{className:"h-4 w-4"}),"Auto-Project"]})]}),h&&f.jsxs("div",{className:"mb-6 bg-purple-50 p-4 rounded-xl border border-purple-100 animate-in fade-in slide-in-from-top-4",children:[f.jsxs("h4",{className:"flex items-center gap-2 font-bold text-purple-700 mb-1",children:[f.jsx(Ff,{className:"h-4 w-4"}),"AI Insight"]}),f.jsx("p",{className:"text-sm text-purple-600 leading-relaxed",children:h.insight})]}),f.jsx("div",{className:"h-64 w-full flex items-end justify-between gap-2 px-2 pb-4",children:m.map((x,j)=>f.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[f.jsx("div",{className:"relative w-full flex justify-center items-end h-48 bg-slate-50 rounded-t-xl overflow-hidden group-hover:bg-slate-100 transition-colors",children:f.jsx("div",{className:st("w-full transition-all rounded-t-lg relative",x.isPredicted?"bg-purple-400/80 group-hover:bg-purple-500 pattern-diagonal-lines":"bg-primary-400/80 group-hover:bg-primary-500"),style:{height:`${x.sgpa/10*100}%`},children:f.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-[10px] font-bold px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity z-10 whitespace-nowrap",children:[x.sgpa," ",x.isPredicted&&"(Pred)"]})})}),f.jsxs("span",{className:st("text-xs font-bold",x.isPredicted?"text-purple-500":"text-slate-400"),children:["Sem ",x.sem]})]},j))})]})]})}function dD(t){const[e,r]=L.useState(!1);return L.useEffect(()=>{const n=window.matchMedia(t);n.matches!==e&&r(n.matches);const i=()=>r(n.matches);return n.addEventListener("change",i),()=>n.removeEventListener("change",i)},[e,t]),e}function hD({children:t}){const e=ms(),[r,n]=L.useState(e),[i,s]=L.useState("fadeIn");L.useEffect(()=>{e!==r&&s("fadeOut")},[e,r]);const a=()=>{i==="fadeOut"&&(s("fadeIn"),n(e))};return f.jsx("div",{className:`transition-opacity duration-300 ${i==="fadeIn"?"opacity-100":"opacity-0"}`,onTransitionEnd:a,children:t})}function as({children:t}){const e=ms(),r=dD("(min-width: 768px)"),{signOut:n}=_i(),i=a=>e.pathname===a,s=({to:a,icon:o,label:l})=>f.jsxs(Ms,{to:a,className:st("flex items-center gap-3 p-3 rounded-xl transition-all duration-300",i(a)?"bg-primary-100 text-primary-600 shadow-sm":"text-slate-400 hover:text-primary-400 hover:bg-white/50"),children:[f.jsx(o,{className:"h-6 w-6"}),r&&f.jsx("span",{className:"font-bold text-sm",children:l})]});return f.jsxs("div",{className:"min-h-screen bg-background relative overflow-hidden font-sans",children:[f.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[f.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[500px] h-[500px] bg-primary-300/30 rounded-full blur-3xl animate-blob mix-blend-multiply filter"}),f.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[500px] h-[500px] bg-yellow-300/30 rounded-full blur-3xl animate-blob animation-delay-2000 mix-blend-multiply filter"}),f.jsx("div",{className:"absolute bottom-[-20%] left-[20%] w-[500px] h-[500px] bg-pink-300/30 rounded-full blur-3xl animate-blob animation-delay-4000 mix-blend-multiply filter"})]}),r&&f.jsxs("aside",{className:"fixed left-0 top-0 h-screen w-64 glass border-r border-white/20 z-50 p-6 flex flex-col",children:[f.jsxs("div",{className:"mb-10 flex items-center gap-3 px-2",children:[f.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center text-white font-bold",children:"A"}),f.jsx("span",{className:"text-xl font-bold text-foreground",children:"Attendance"})]}),f.jsxs("nav",{className:"space-y-2 flex-1",children:[f.jsx(s,{to:"/",icon:p5,label:"Dashboard"}),f.jsx(s,{to:"/schedule",icon:Jc,label:"Schedule"}),f.jsx(s,{to:"/simulator",icon:h5,label:"Simulator"}),f.jsx(s,{to:"/analytics",icon:d5,label:"Analytics"}),f.jsx(s,{to:"/attendance",icon:f5,label:"Attendance"}),f.jsx(s,{to:"/profile",icon:$g,label:"Profile"})]}),f.jsxs("button",{onClick:()=>n(),className:"flex items-center gap-3 p-3 rounded-xl text-muted-foreground hover:text-red-500 hover:bg-red-50 transition-all",children:[f.jsx($4,{className:"h-6 w-6"}),f.jsx("span",{className:"font-bold text-sm",children:"Sign Out"})]})]}),f.jsx("div",{className:st("relative z-10 min-h-screen transition-all duration-300",r?"ml-64 p-8":"pb-24 max-w-md mx-auto"),children:f.jsx("div",{className:st("mx-auto",r?"max-w-5xl":""),children:f.jsx(hD,{children:t})})}),!r&&f.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 w-[90%] max-w-[380px] z-50",children:f.jsxs("nav",{className:"glass-nav rounded-2xl px-6 py-4 flex justify-between items-center",children:[f.jsx(Ms,{to:"/",className:st("p-2 rounded-xl transition-all duration-300",i("/")?"bg-primary-100 text-primary-600 scale-110":"text-slate-400 hover:text-primary-400"),children:f.jsx(p5,{className:"h-6 w-6"})}),f.jsx(Ms,{to:"/schedule",className:st("p-2 rounded-xl transition-all duration-300",i("/schedule")?"bg-primary-100 text-primary-600 scale-110":"text-slate-400 hover:text-primary-400"),children:f.jsx(Jc,{className:"h-6 w-6"})}),f.jsx(Ms,{to:"/simulator",className:st("p-2 rounded-xl transition-all duration-300",i("/simulator")?"bg-primary-100 text-primary-600 scale-110":"text-slate-400 hover:text-primary-400"),children:f.jsx(h5,{className:"h-6 w-6"})}),f.jsx(Ms,{to:"/analytics",className:st("p-2 rounded-xl transition-all duration-300",i("/analytics")?"bg-primary-100 text-primary-600 scale-110":"text-slate-400 hover:text-primary-400"),children:f.jsx(d5,{className:"h-6 w-6"})}),f.jsx(Ms,{to:"/attendance",className:st("p-2 rounded-xl transition-all duration-300",i("/attendance")?"bg-primary-100 text-primary-600 scale-110":"text-slate-400 hover:text-primary-400"),children:f.jsx(f5,{className:"h-6 w-6"})}),f.jsx(Ms,{to:"/profile",className:st("p-2 rounded-xl transition-all duration-300",i("/profile")?"bg-primary-100 text-primary-600 scale-110":"text-slate-400 hover:text-primary-400"),children:f.jsx($g,{className:"h-6 w-6"})})]})})]})}function os({children:t}){const{user:e,loading:r}=_i();return r?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:"Loading..."}):e?f.jsx(f.Fragment,{children:t}):f.jsx(vT,{to:"/login"})}function fD(){return f.jsx(o3,{children:f.jsx($T,{children:f.jsx(W8,{children:f.jsx(H8,{children:f.jsx(XE,{children:f.jsx(QE,{children:f.jsxs(wT,{children:[f.jsx(di,{path:"/login",element:f.jsx(QT,{})}),f.jsx(di,{path:"/",element:f.jsx(os,{children:f.jsx(as,{children:f.jsx(SL,{})})})}),f.jsx(di,{path:"/schedule",element:f.jsx(os,{children:f.jsx(as,{children:f.jsx(iL,{})})})}),f.jsx(di,{path:"/attendance",element:f.jsx(os,{children:f.jsx(as,{children:f.jsx(nD,{})})})}),f.jsx(di,{path:"/profile",element:f.jsx(os,{children:f.jsx(as,{children:f.jsx(iR,{})})})}),f.jsx(di,{path:"/developer",element:f.jsx(os,{children:f.jsx(as,{children:f.jsx(sR,{})})})}),f.jsx(di,{path:"/notes",element:f.jsx(os,{children:f.jsx(as,{children:f.jsx(aR,{})})})}),f.jsx(di,{path:"/countdown",element:f.jsx(os,{children:f.jsx(as,{children:f.jsx(oR,{})})})}),f.jsx(di,{path:"/tasks",element:f.jsx(os,{children:f.jsx(as,{children:f.jsx(eD,{})})})}),f.jsx(di,{path:"/simulator",element:f.jsx(os,{children:f.jsx(as,{children:f.jsx(uD,{})})})}),f.jsx(di,{path:"/analytics",element:f.jsx(os,{children:f.jsx(as,{children:f.jsx(cD,{})})})})]})})})})})})})}Rm.createRoot(document.getElementById("root")).render(f.jsx(Ct.StrictMode,{children:f.jsx(fD,{})}));export{zt as _,mD as c,Qf as g};
