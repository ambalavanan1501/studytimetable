@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* === 1. GLOBAL BASE TOKENS (Shared) === */
    --primary: 256 60% 58%;
    /* Default Purple */
    --ring: 256 60% 58%;

    /* Default Aurora (Light) */
    --aurora-1: 238 100% 96%;
    --aurora-2: 220 100% 96%;
    --aurora-3: 280 100% 96%;
    --aurora-4: 180 100% 96%;
  }

  /* === 2. ACCENT COLORS === */
  [data-theme-accent='purple'] {
    --primary: 256 60% 58%;
    --ring: 256 60% 58%;
  }

  [data-theme-accent='blue'] {
    --primary: 221 83% 53%;
    --ring: 221 83% 53%;
  }

  [data-theme-accent='green'] {
    --primary: 158 64% 52%;
    --ring: 158 64% 52%;
  }

  [data-theme-accent='orange'] {
    --primary: 24 95% 53%;
    --ring: 24 95% 53%;
  }

  [data-theme-accent='pink'] {
    --primary: 330 81% 60%;
    --ring: 330 81% 60%;
  }

  /* === 3. VISUAL STYLE MATRIX === */

  /* --- STYLE 1: SPATIAL (Glass, Blur, Deep Depth) --- */
  :root[data-theme-style="spatial"] {
    --bg-base: 210 40% 98%;
    --fg-base: 222 47% 11%;

    --card-bg: 255 255 255;
    --card-opacity: 0.4;
    --card-border: 255 255 255;
    --card-border-opacity: 0.4;
    --card-radius: 2.5rem;
    --card-blur: 40px;
    --card-shadow: 0 20px 40px rgba(0, 0, 0, 0.08), 0 10px 20px rgba(0, 0, 0, 0.05);

    --input-bg: 255 255 255;
    --input-opacity: 0.6;
    --input-radius: 1.5rem;

    --font-heading: 'Outfit', sans-serif;
  }

  /* --- STYLE 2: NEO-BRUTALISM (Solid, Borders, Pop) --- */
  :root[data-theme-style="neo"] {
    --bg-base: 210 40% 98%;
    /* Can be brighter */
    --fg-base: 0 0% 0%;
    /* Pitch Black */

    --card-bg: 255 255 255;
    --card-opacity: 1;
    --card-border: 0 0% 0%;
    --card-border-opacity: 1;
    --card-radius: 0.75rem;
    --card-blur: 0px;
    --card-shadow: 4px 4px 0px 0px rgba(0, 0, 0, 1);

    --input-bg: 255 255 255;
    --input-opacity: 1;
    --input-radius: 0.5rem;

    --font-heading: 'Space Grotesk', sans-serif;
  }

  /* --- STYLE 3: SWISS (Minimal, Grid, Clean) --- */
  :root[data-theme-style="swiss"] {
    --bg-base: 0 0% 100%;
    --fg-base: 0 0% 10%;

    --card-bg: 248 250 252;
    /* Slate 50 */
    --card-opacity: 1;
    --card-border: 226 232 240;
    /* Slate 200 */
    --card-border-opacity: 1;
    --card-radius: 0px;
    /* Sharp or Micro 2px */
    --card-blur: 0px;
    --card-shadow: none;

    --input-bg: 255 255 255;
    --input-opacity: 1;
    --input-radius: 0px;

    --font-heading: 'Inter', sans-serif;
  }


  /* === 4. DARK MODE OVERRIDES === */
  .dark[data-theme-style="spatial"] {
    --bg-base: 222 47% 11%;
    --fg-base: 210 40% 98%;

    --card-bg: 20 20 30;
    --card-opacity: 0.4;
    --card-border: 255 255 255;
    --card-border-opacity: 0.1;

    /* Dark Aurora */
    --aurora-1: 260 50% 10%;
    --aurora-2: 240 50% 12%;
    --aurora-3: 280 50% 10%;
    --aurora-4: 200 50% 12%;
  }

  .dark[data-theme-style="neo"] {
    --bg-base: 20 20 22;
    --fg-base: 255 255 255;

    --card-bg: 30 30 35;
    --card-border: 255 255 255;
    /* White borders in dark neo */
    --card-shadow: 4px 4px 0px 0px rgba(255, 255, 255, 1);
    /* White shadow */

    --aurora-1: 0 0% 10%;
    --aurora-2: 0 0% 10%;
    --aurora-3: 0 0% 10%;
    --aurora-4: 0 0% 10%;
    /* Disable Aurora */
  }

  .dark[data-theme-style="swiss"] {
    --bg-base: 5 5 5;
    --fg-base: 255 255 255;

    --card-bg: 15 15 15;
    --card-border: 40 40 40;

    --aurora-1: 0 0% 0%;
    --aurora-2: 0 0% 0%;
    --aurora-3: 0 0% 0%;
    --aurora-4: 0 0% 0%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    background-color: hsl(var(--bg-base));
    color: hsl(var(--fg-base));
    transition: all 0.5s ease;

    /* Aurora Background (Applied only if variables are set) */
    background-image:
      radial-gradient(at 0% 0%, hsl(var(--aurora-1)) 0px, transparent 50%),
      radial-gradient(at 100% 0%, hsl(var(--aurora-2)) 0px, transparent 50%),
      radial-gradient(at 100% 100%, hsl(var(--aurora-3)) 0px, transparent 50%),
      radial-gradient(at 0% 100%, hsl(var(--aurora-4)) 0px, transparent 50%);
    background-attachment: fixed;
    background-size: 200% 200%;
    animation: aurora 20s ease infinite alternate;
  }
}

/* === 5. COMPONENT CLASSES (Semantic) === */

@layer components {

  /* The main visual surface for content */
  .card-base {
    background-color: rgb(var(--card-bg) / var(--card-opacity));
    backdrop-filter: blur(var(--card-blur));
    border: 1px solid rgb(var(--card-border) / var(--card-border-opacity));
    border-radius: var(--card-radius);
    box-shadow: var(--card-shadow);
    transition: all 0.3s ease;
  }

  .card-base:hover {
    /* Only elevate if it has shadow (Neo/Spatial) */
    /* Neo offset increases */
    /* Spatial glow increases */
  }

  /* Branded Button */
  .btn-primary {
    @apply bg-primary text-white font-bold flex items-center justify-center gap-2 transition-all active:scale-95;
    border-radius: var(--input-radius);
  }

  /* If Neo, add border to button */
  :root[data-theme-style="neo"] .btn-primary {
    border: 2px solid black;
    box-shadow: 3px 3px 0 0 black;
  }

  .dark[data-theme-style="neo"] .btn-primary {
    border: 2px solid white;
    box-shadow: 3px 3px 0 0 white;
    color: black;
    /* Invert text for contrast if needed */
  }

  /* Standard Input */
  .input-base {
    background-color: rgb(var(--input-bg) / var(--input-opacity));
    border-radius: var(--input-radius);
    border: 1px solid rgb(var(--card-border) / var(--card-border-opacity));
    padding: 0.75rem 1rem;
    outline: none;
  }

  :root[data-theme-style="neo"] .input-base {
    border: 2px solid black;
  }
}

/* Animations */
@keyframes aurora {
  0% {
    background-position: 0% 50%;
  }

  50% {
    background-position: 100% 50%;
  }

  100% {
    background-position: 50% 100%;
  }
}

@keyframes float {

  0%,
  100% {
    transform: translateY(0px);
  }

  50% {
    transform: translateY(-10px);
  }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

@keyframes fade-in-up {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }

  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in-up {
  animation: fade-in-up 0.6s ease-out forwards;
}